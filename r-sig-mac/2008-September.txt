From Jason.Ellul at petermac.org  Mon Sep  1 07:52:25 2008
From: Jason.Ellul at petermac.org (Jason Ellul)
Date: Mon, 01 Sep 2008 15:52:25 +1000
Subject: [R-SIG-Mac] R 64 Bit Leopard and X11
Message-ID: <C4E1C039.4E2%Jason.Ellul@petermac.org>

Hi all,
I am using Mathew's method for installing 64 bit R on Leopard
(http://www.matthewckeller.com/html/64_bit_r_on_mac.html). When I try to
plot in an X11 window R keeps crashing. Has anyone else experienced this or
does anyone have any suggestions as to how to fix it?

When I install the standard 32 bit R 2.7.2 from the DMG this error does not
occur.

I guess I could try compiling R from source myself rather using Mathew's
method but before I do that I just wish to find out whether it is a problem
in the Universal nightly builds for Mac OS X, the install method or
something else.

> sessionInfo()
R version 2.7.2 Patched (2008-08-29 r46465)
i386-apple-darwin9.4.0

locale:
en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
> x11()
> plot(1:10)

 *** caught bus error ***
address 0x80, cause 'non-existent physical address'

Traceback:
 1: axis(side = side, at = at, labels = labels, ...)
 2: Axis.default(...)
 3: Axis(...)
 4: localAxis(if (is.null(y)) xy$x else x, side = 1, ...)
 5: plot.default(1:10)
 6: plot(1:10)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: 


Thank you,

-- 

Jason Ellul 
Junior Bioinformatics Analyst
Bioinformatics Research Department
Peter MacCallum Cancer Centre


This email (including any attachments or links) may contain 
confidential and/or legally privileged information and is 
intended only to be read or used by the addressee.  If you 
are not the intended addressee, any use, distribution, 
disclosure or copying of this email is strictly 
prohibited.  
Confidentiality and legal privilege attached to this email 
(including any attachments) are not waived or lost by 
reason of its mistaken delivery to you.
If you have received this email in error, please delete it 
and notify us immediately by telephone or email.  Peter 
MacCallum Cancer Centre provides no guarantee that this 
transmission is free of virus or that it has not been 
intercepted or altered and will not be liable for any delay 
in its receipt.


From timb at metrumrg.com  Mon Sep  1 15:55:53 2008
From: timb at metrumrg.com (Tim Bergsma)
Date: Mon, 1 Sep 2008 09:55:53 -0400
Subject: [R-SIG-Mac] tilde expansion in graphics devices
Message-ID: <ccac61760809010655g7defe0fvf48dbfe914345a0c@mail.gmail.com>

Hi.

Use of tilde in filenames passed to graphics drivers crashes R on Mac
(2.7.1.45970/i386/9.4.0/MacBookPro3,1/2/4).  This is true in the GUI
as well as on the command line.  For example...

png("~/myplot.png")
plot(cos)
dev.off()

...causes a crash.  tiff() has the same problem.  jpeg() does not
crash, but the display of the image seems unreliable.

In Windows, all three issue a warning, though png() warns on
initialization, while tiff() warns on closure.

In both Windows and Mac, setwd("~/") has the expected effect,
suggesting that tilde expansion is supportable in principle.

Apologies if this is a known problem.

Tim Bergsma , PhD.
Metrum Research Group, LLC


From ripley at stats.ox.ac.uk  Mon Sep  1 18:40:35 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 1 Sep 2008 17:40:35 +0100 (BST)
Subject: [R-SIG-Mac] tilde expansion in graphics devices
In-Reply-To: <ccac61760809010655g7defe0fvf48dbfe914345a0c@mail.gmail.com>
References: <ccac61760809010655g7defe0fvf48dbfe914345a0c@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0809011737430.21090@gannet.stats.ox.ac.uk>

On Mon, 1 Sep 2008, Tim Bergsma wrote:

> Hi.
>
> Use of tilde in filenames passed to graphics drivers crashes R on Mac
> (2.7.1.45970/i386/9.4.0/MacBookPro3,1/2/4).  This is true in the GUI
> as well as on the command line.  For example...
>
> png("~/myplot.png")
> plot(cos)
> dev.off()
>
> ...causes a crash.  tiff() has the same problem.  jpeg() does not
> crash, but the display of the image seems unreliable.
>
> In Windows, all three issue a warning, though png() warns on
> initialization, while tiff() warns on closure.

A completely different device, as is the standard Unix one (and that does 
support tilde-expansion).

> In both Windows and Mac, setwd("~/") has the expected effect,
> suggesting that tilde expansion is supportable in principle.

In principle, yes.  By the particular utility software used, not 
necessarily (which is why png and tiff behave differently on Windows).

>
> Apologies if this is a known problem.
>
> Tim Bergsma , PhD.
> Metrum Research Group, LLC
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bibiko at eva.mpg.de  Tue Sep  2 13:16:25 2008
From: bibiko at eva.mpg.de (=?ISO-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Tue, 2 Sep 2008 13:16:25 +0200
Subject: [R-SIG-Mac] sound::setWavPlayer()
In-Reply-To: <09526EAE-247C-442F-ACE6-06ED6F435015@eva.mpg.de>
References: <019E33FA-D42F-46F3-A63A-3F9020BA3DB5@virginia.edu>
	<B4A2979C-19CE-45E2-901A-65A5B235E587@eva.mpg.de>
	<7A609297-FEB6-4C6A-8556-BD25DB3784DA@virginia.edu>
	<5F8E993D-7BCA-4F5B-9ADF-CFF3DFAEEF84@eva.mpg.de>
	<6348DEE6-881C-4D03-AEED-4318A92FAE2C@eva.mpg.de>
	<B47CD06B-879E-4484-AD12-291F11F95D1C@virginia.edu>
	<A4C460DE-8B62-4079-B59D-9E461B097868@eva.mpg.de>
	<BAE6D117-8880-4A84-B2E3-F8D2EB4BC98E@r-project.org>
	<602CCBAB-13A5-4403-894D-2DB9F3D2939F@eva.mpg.de>
	<6D440265-02DE-4E60-92EC-660F2C0C5E41@r-project.org>
	<721A41C7-35EE-4A8B-A3BA-B62BE4EADB9C@eva.mpg.de>
	<4C959225-5ADF-458D-8831-F5AD832E8C5D@eva.mpg.de>
	<4BA5BB22-FEBA-4D41-A9FB-70C5A7540744@r-project.org>
	<09526EAE-247C-442F-ACE6-06ED6F435015@eva.mpg.de>
Message-ID: <90FD7E2A-A7EA-4539-8C3C-27877CFE6272@eva.mpg.de>


On 28.08.2008, at 19:59, Hans-J?rg Bibiko wrote:
> On 28.08.2008, at 19:41, Simon Urbanek wrote:
>>> The only idea I have for now is to use a scripting language to  
>>> write a primitive audio player, and the only language which is  
>>> installed by default on all these platforms is Java. It shouldn't  
>>> be that problem to write such a JFrame jar.
>>>
>> ... But, yes, using Java would be one option except that Java is  
>> quite a heavy requirement for such task ...
> Now I only try to avoid a GUI. It looks different on each OS, thus I  
> try to write a simple command line tool

Well, I tried it out and I came up with a Java command line tool as a  
jar file (size with source code 4171 bytes).
I ran it on Win XP, Vista, Linux SuSe 9.0 and 10.2, Mac Tiger ppc, Mac  
Leopard i386 and it seems to work properly.

The Java tool simply plays back a given linear PCM sound file  
(supported formats: wav, aifc, aiff, au, snd). This tool can only run  
once on a machine, meaning if one invokes it and while playing back a  
sound file one invokes it with an other sound file, the currently  
running sound file will be stopped before the next one will be  
started. This is done by using a simple lock-file mechanism.

If playLinearAudioFile.jar detects a running process it will delete  
one lock file to interrupt the current process. Due to that fact that  
the Java script sends buffer by buffer to the audio stream (to  
minimize CPU and RAM resources) it could take some ticks (depending on  
the buffer size) before the current process will be interrupted.

To stop a running process one invokes playLinearAudioFile.jar without  
any arguments. If there's no running process it outputs the usage  
message.

Furthermore there's an option called '--deleteAfterPlay'. This option  
enables the user to say, please delete the given sound file after play- 
back (useful for playing back temporarily generated sound files).

Of course, as already mentioned Java takes some ticks to start that  
jar script but I've also tested it on slow machines and the time was  
always below 500ms.

I've also tested it with R. It seems to work, even with the system()'s  
argument wait=FALSE. While listing to the sound one can do other stuff  
with R.

To invoke it simply write:

java -jar playLinearAudio.jar SOUND_FILE

The Java script only makes usage of commands and packages which are  
available since Java 1.3.

Unfortunately I couldn't test it on Solaris, AIX, IRIX, ... but if  
Java 1.3 or up is installed it should work.

The source file and the manifest file 'mainClass.txt' are included in  
the jar archive.
To create a jar archive:
jar cmf mainClass.txt playLinearAudioFile.jar *.class *.java  
mainClass.txt


If there's an interest, please check it on other OS. I'd be  
appreciated for any critique.

Cheers,

Hans


-------------- next part --------------
A non-text attachment was scrubbed...
Name: playLinearAudioFile.jar
Type: application/java-archive
Size: 4171 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080902/66ba7e2f/attachment.bin>
-------------- next part --------------


From murdoch at stats.uwo.ca  Wed Sep  3 15:51:47 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 03 Sep 2008 09:51:47 -0400
Subject: [R-SIG-Mac] rgl now hosted on
	https://r-forge.r-project.org/projects/rgl/
Message-ID: <48BE9673.4070300@stats.uwo.ca>

I have now moved rgl to R-forge, which means there will be regular 
automatic builds of the development versions.  I notice that the Mac OS 
build failed with the familiar

ld: warning, duplicate dylib 
/Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
ld: cycle in dylib re-exports with /usr/X11/lib/libGL.dylib
collect2: ld returned 1 exit status
make[1]: *** [aglrgl.so] Error 1
make: *** [aglrgl.so] Error 2
chmod: /srv/R/pkgs/7wj1zq2wb0/rgl/libs/i386/*: No such file or directory
ERROR: compilation failed for package 'rgl'

I will see about fixing this.  Mac OS experts would be welcome additions 
to the project!

Duncan Murdoch


From erich.neuwirth at univie.ac.at  Wed Sep  3 19:19:40 2008
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Wed, 3 Sep 2008 19:19:40 +0200
Subject: [R-SIG-Mac] R CMD install error
Message-ID: <285EAEC7-4B6A-4F13-BDAC-DFDE50187CD3@univie.ac.at>

I am just doing my first steps in building an R package with C code on  
my Mac.
I get the same warning Duncan mentioned in his last message.
ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.4u.sdk/usr/local/ 
lib/libgcc_s.1.dylib
Where can I find information on how to solve this problem?

--
Erich Neuwirth
Didactic Center for Computer Science and Institute for Scientific  
Computing
University of Vienna


From simon.urbanek at r-project.org  Wed Sep  3 20:15:48 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 3 Sep 2008 14:15:48 -0400
Subject: [R-SIG-Mac] R CMD install error
In-Reply-To: <285EAEC7-4B6A-4F13-BDAC-DFDE50187CD3@univie.ac.at>
References: <285EAEC7-4B6A-4F13-BDAC-DFDE50187CD3@univie.ac.at>
Message-ID: <DBEF7B1F-A784-4D36-B6AE-F13D38FFDD38@r-project.org>


On Sep 3, 2008, at 13:19 , Erich Neuwirth wrote:

> I am just doing my first steps in building an R package with C code  
> on my Mac.
> I get the same warning Duncan mentioned in his last message.
> ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.4u.sdk/usr/ 
> local/lib/libgcc_s.1.dylib
> Where can I find information on how to solve this problem?
>

That was not Duncan's problem - his problem is the following error:
ld: cycle in dylib re-exports with /usr/X11/lib/libGL.dylib
which is a bug in OpenGL dylib setup. It can be fixed in the system:
http://r.research.att.com/building.html
or worked around
http://developer.apple.com/qa/qa2007/qa1567.html
Nonetheless I'm not sure you're running into that issue ...

Cheers,
Simon


From souryashrestha at gmail.com  Wed Sep  3 18:57:39 2008
From: souryashrestha at gmail.com (Sourya)
Date: Wed, 3 Sep 2008 09:57:39 -0700 (PDT)
Subject: [R-SIG-Mac] R CMD SHLIB
In-Reply-To: <C8E3C4F6-B43C-478B-B691-806F12C03569@r-project.org>
References: <a79836540808081802x1405a17fp1395b29db12663b@mail.gmail.com> 
	<C8E3C4F6-B43C-478B-B691-806F12C03569@r-project.org>
Message-ID: <5c5070b2-daa2-495e-ae2b-539329707550@m45g2000hsb.googlegroups.com>

That worked - thanks!

On Aug 10, 5:33 pm, Simon Urbanek <simon.urba... at r-project.org> wrote:
> On Aug 8, 2008, at 7:02 PM, Sourya Shrestha wrote:
>
> > Hi,
>
> > I am using osx 10.4.11 with R version 2.7.1. I am trying to create a
> > share lib from a little C code and I am getting some errors, which I
> > cannot make anything out of. The code written is fine, since I am able
> > to compile it on a linux elsewhere. Any help would be appreciated.
>
> > Here's the error --
>
> My guess would be some 3rd party compilers that don't work properly.
> Make sure you're using Xcode 2.4 or higher (2.5 is the current version
> for Tiger) and that you don't have any broken compilers (e.g. from
> HPC) in /usr/local. If in doubt rename (or delete) /usr/local and try
> again.
>
> Cheers,
> Simon
>
>
>
> > ===
> > R CMD SHLIB mckvf.c
>
> > gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> > -mmacosx-version-min=10.4 -std=gnu99
> > -I/Library/Frameworks/R.framework/Resources/include
> > -I/Library/Frameworks/R.framework/Resources/include/i386  -msse3
> > -fPIC  -g -O2 -march=nocona -c mckvf.c -o mckvf.o
> > gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> > -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
> > -Wl,-headerpad_max_install_names -mmacosx-version-min=10.4 -undefined
> > dynamic_lookup -single_module -multiply_defined suppress
> > -L/usr/local/lib -o mckvf.so mckvf.o
> > -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> > -Wl,CoreFoundation
> > /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> > object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
> > load command 4)
> > make: *** [mckvf.so] Error 1
> > ===
>
> > Thanks,
>
> > Sourya
>
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-... at stat.math.ethz.ch
> >https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-... at stat.math.ethz.chhttps://stat.ethz.ch/mailman/listinfo/r-sig-mac


From corinna at otakurama.com  Thu Sep  4 12:16:54 2008
From: corinna at otakurama.com (Corinna Cohn)
Date: Thu, 4 Sep 2008 03:16:54 -0700
Subject: [R-SIG-Mac] Web hosting with R in North America?
In-Reply-To: <mailman.13.1220522405.18385.r-sig-mac@stat.math.ethz.ch>
References: <mailman.13.1220522405.18385.r-sig-mac@stat.math.ethz.ch>
Message-ID: <85EAD6ED-CA78-47DB-A94B-4FA1B8E04118@otakurama.com>

I'm looking for an ISP or web hosting company in North America with  
experience hosting web applications using R on the back end for  
statistical analysis. Does anyone have experience with such a place?


From sdavis2 at mail.nih.gov  Thu Sep  4 13:39:55 2008
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Thu, 4 Sep 2008 07:39:55 -0400
Subject: [R-SIG-Mac] Web hosting with R in North America?
In-Reply-To: <85EAD6ED-CA78-47DB-A94B-4FA1B8E04118@otakurama.com>
References: <mailman.13.1220522405.18385.r-sig-mac@stat.math.ethz.ch>
	<85EAD6ED-CA78-47DB-A94B-4FA1B8E04118@otakurama.com>
Message-ID: <264855a00809040439y5ffc5769ob106a1ab3a51e6ac@mail.gmail.com>

On Thu, Sep 4, 2008 at 6:16 AM, Corinna Cohn <corinna at otakurama.com> wrote:
> I'm looking for an ISP or web hosting company in North America with
> experience hosting web applications using R on the back end for statistical
> analysis. Does anyone have experience with such a place?

You'll probably want to write to R-help for this, but I can nearly
guarantee that the answer is "no".  That said, there are a number of
projects that are attempting to do so, but I would say that most
(all?) are research endeavors with open source roots.

Sean


From simon.urbanek at r-project.org  Thu Sep  4 16:12:10 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 4 Sep 2008 10:12:10 -0400
Subject: [R-SIG-Mac] Web hosting with R in North America?
In-Reply-To: <85EAD6ED-CA78-47DB-A94B-4FA1B8E04118@otakurama.com>
References: <mailman.13.1220522405.18385.r-sig-mac@stat.math.ethz.ch>
	<85EAD6ED-CA78-47DB-A94B-4FA1B8E04118@otakurama.com>
Message-ID: <117D4C4C-EE17-4261-93A5-F5E530C8F312@r-project.org>


On Sep 4, 2008, at 6:16 , Corinna Cohn wrote:

> I'm looking for an ISP or web hosting company in North America with  
> experience hosting web applications using R on the back end for  
> statistical analysis. Does anyone have experience with such a place?
>

[This is OT, so please follow up via PM] Well, I have the experience  
with that you're describing, but I don't know directly of any company  
that would offer such service. I'm using regular hosting ISPs to host  
my servers and manage them myself. Technically, this is not really an  
ISP issue.
It is a quite delicate business, though, because you must prevent  
injection of malicious code that might compromise the server and the  
commonly suggested approaches just don't work due to the fact that you  
can compute on the language in R. It works well in applications where  
you control the code base (e.g. our FastRWeb approach), but I would be  
very cautious about any system that allows user input that is  
evaluated at some point.
I hope it is moderately useful..

Cheers,
Simon


From brant.inman at mac.com  Thu Sep  4 19:37:03 2008
From: brant.inman at mac.com (Brant Inman)
Date: Thu, 04 Sep 2008 13:37:03 -0400
Subject: [R-SIG-Mac] Error with update.packages()
Message-ID: <94C61317-50ED-4474-92DD-B028324CF918@mac.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080904/024cfa5d/attachment.pl>

From ripley at stats.ox.ac.uk  Thu Sep  4 20:59:29 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 Sep 2008 19:59:29 +0100 (BST)
Subject: [R-SIG-Mac] Error with update.packages()
In-Reply-To: <94C61317-50ED-4474-92DD-B028324CF918@mac.com>
References: <94C61317-50ED-4474-92DD-B028324CF918@mac.com>
Message-ID: <alpine.LFD.1.10.0809041958110.8886@gannet.stats.ox.ac.uk>

Try another mirror: this is not the first time we've seen problems at 
www.ibiblio.org.

On Thu, 4 Sep 2008, Brant Inman wrote:

> R-helpers:
>
> I just updated from R 7.0 to R 7.2.2 today.  I am using MAC OS X
> version 10.5.4 on a Macbook to run R.
>
> ----------------------------
>
> > sessionInfo()
> R version 2.7.2 (2008-08-25)
> i386-apple-darwin8.11.1
>
> locale:
> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.7.2
>
> ----------------------------
>
> When I tried to update my packages, I got the following messages:
>
> ----------------------------
>
> > update.packages()
> Amelia :
>  Version 1.1-30 installed in /Library/Frameworks/R.framework/
> Resources/library
>  Version 1.1-33 available at http://www.ibiblio.org/pub/languages/R/
> CRAN
> Update (y/N/c)?  y
> empiricalBayes :
>  Version 2.0 installed in /Library/Frameworks/R.framework/Resources/
> library
>  Version 2.1 available at http://www.ibiblio.org/pub/languages/R/CRAN
> Update (y/N/c)?  y
> Matrix :
>  Version 0.999375-9 installed in /Library/Frameworks/R.framework/
> Resources/library
>  Version 0.999375-11 available at http://www.ibiblio.org/pub/languages/R/CRAN
> Update (y/N/c)?  y
>
> ...<snip, all seems well>....
>
> also installing the dependencies ?sandwich?, ?strucchange?, ?vcd?,
> ?rrcov?, ?spam?
>
> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/sandwich_2.1-0.tgz'
> Content type 'application/x-gzip' length 678518 bytes (662 Kb)
> opened URL
> ==================================================
> downloaded 662 Kb
>
> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/strucchange_1.3-3.tgz'
> Content type 'application/x-gzip' length 777150 bytes (758 Kb)
> opened URL
> ==================================================
> downloaded 758 Kb
>
> ...<snip, the errors begin>....
>
> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/rrcov_0.4-06.tgz'
> Content type 'application/x-gzip' length 365965 bytes (357 Kb)
> opened URL
> ==========================================
> downloaded 304 Kb
>
> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/spam_0.15-0.tgz'
> Error in download.file(url, destfile, method, mode = "wb", ...) :
>   cannot open URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/spam_0.15-0.tgz'
> In addition: Warning messages:
> 1: In download.file(url, destfile, method, mode = "wb", ...) :
>   downloaded length 312279 != reported length 365965
> 2: In download.file(url, destfile, method, mode = "wb", ...) :
>   unable to connect to 'mirrors.ibiblio.org' on port 80.
> Warning in download.packages(p0, destdir = tmpd, available =
> available,  :
>   download of package 'spam' failed
> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/Amelia_1.1-33.tgz'
> Error in download.file(url, destfile, method, mode = "wb", ...) :
>   cannot open URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/Amelia_1.1-33.tgz'
> In addition: Warning message:
> In download.file(url, destfile, method, mode = "wb", ...) :
>   unable to connect to 'mirrors.ibiblio.org' on port 80.
> Warning in download.packages(p0, destdir = tmpd, available =
> available,  :
>   download of package 'Amelia' failed
>
> ...<snip, the errors continue>....
>
> In addition: Warning message:
> In download.file(url, destfile, method, mode = "wb", ...) :
>   unable to connect to 'mirrors.ibiblio.org' on port 80.
> Warning in download.packages(p0, destdir = tmpd, available =
> available,  :
>   download of package 'zoo' failed
>
> gzip: stdin: unexpected end of file
> tar: Unexpected EOF in archive
> tar: Unexpected EOF in archive
> tar: Error is not recoverable: exiting now
> Error in sprintf(gettext(fmt, domain = domain), ...) :
>   argument is missing, with no default
>
> ----------------------------
>
> The first part of the procedure seemed to work, then came page after
> page of error messages.  Can someone tell me what is going on here and
> how I can fix the problem?  I found a similar report on R-help that
> was never resolved and also involved a MAC (http://tolstoy.newcastle.edu.au/R/e4/help/08/06/15556.html
> ).  Could this be a MAC issue?
>
> Thanks very much for your time.
>
> Brant Inman
> 	[[alternative HTML version deleted]]
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From brant.inman at mac.com  Thu Sep  4 21:28:05 2008
From: brant.inman at mac.com (Brant Inman)
Date: Thu, 04 Sep 2008 15:28:05 -0400
Subject: [R-SIG-Mac] Error with update.packages()
In-Reply-To: <alpine.LFD.1.10.0809041958110.8886@gannet.stats.ox.ac.uk>
References: <94C61317-50ED-4474-92DD-B028324CF918@mac.com>
	<alpine.LFD.1.10.0809041958110.8886@gannet.stats.ox.ac.uk>
Message-ID: <A2C86340-EF7A-481C-8C9B-BCB986E7A896@mac.com>

Thank you for your suggestion.  I did as you suggested and switched  
from USA (NC) to USA (IA).

Again, the packages seemed to download OK but this time a single error  
message appeared:

----------

...<snip>...

==================================================
downloaded 168 Kb

trying URL 'http://streaming.stat.iastate.edu/CRAN/bin/macosx/universal/contrib/2.7/zoo_1.5-4.tgz'
Content type 'application/x-gzip' length 749912 bytes (732 Kb)
opened URL
==================================================
downloaded 732 Kb

Error: cannot remove prior installation of package ?fSeries?
 >


----------

This error appears to have stopped the package updating, since when I  
type update.packages() again, the whole list of packages is generated,  
implying that they have not been updated.

Any other suggestions?  Would uninstalling R and then reinstalling it  
help?


Brant

---------


On Sep 4, 2008, at 2:59 PM, Prof Brian Ripley wrote:

> Try another mirror: this is not the first time we've seen problems  
> at www.ibiblio.org.
>
> On Thu, 4 Sep 2008, Brant Inman wrote:
>
>> R-helpers:
>>
>> I just updated from R 7.0 to R 7.2.2 today.  I am using MAC OS X
>> version 10.5.4 on a Macbook to run R.
>>
>> ----------------------------
>>
>> > sessionInfo()
>> R version 2.7.2 (2008-08-25)
>> i386-apple-darwin8.11.1
>>
>> locale:
>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.7.2
>>
>> ----------------------------
>>
>> When I tried to update my packages, I got the following messages:
>>
>> ----------------------------
>>
>> > update.packages()
>> Amelia :
>> Version 1.1-30 installed in /Library/Frameworks/R.framework/
>> Resources/library
>> Version 1.1-33 available at http://www.ibiblio.org/pub/languages/R/
>> CRAN
>> Update (y/N/c)?  y
>> empiricalBayes :
>> Version 2.0 installed in /Library/Frameworks/R.framework/Resources/
>> library
>> Version 2.1 available at http://www.ibiblio.org/pub/languages/R/CRAN
>> Update (y/N/c)?  y
>> Matrix :
>> Version 0.999375-9 installed in /Library/Frameworks/R.framework/
>> Resources/library
>> Version 0.999375-11 available at http://www.ibiblio.org/pub/languages/R/CRAN
>> Update (y/N/c)?  y
>>
>> ...<snip, all seems well>....
>>
>> also installing the dependencies ?sandwich?, ?strucchange?, ?vcd?,
>> ?rrcov?, ?spam?
>>
>> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/sandwich_2.1-0.tgz'
>> Content type 'application/x-gzip' length 678518 bytes (662 Kb)
>> opened URL
>> ==================================================
>> downloaded 662 Kb
>>
>> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/strucchange_1.3-3.tgz'
>> Content type 'application/x-gzip' length 777150 bytes (758 Kb)
>> opened URL
>> ==================================================
>> downloaded 758 Kb
>>
>> ...<snip, the errors begin>....
>>
>> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/rrcov_0.4-06.tgz'
>> Content type 'application/x-gzip' length 365965 bytes (357 Kb)
>> opened URL
>> ==========================================
>> downloaded 304 Kb
>>
>> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/spam_0.15-0.tgz'
>> Error in download.file(url, destfile, method, mode = "wb", ...) :
>>  cannot open URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/spam_0.15-0.tgz'
>> In addition: Warning messages:
>> 1: In download.file(url, destfile, method, mode = "wb", ...) :
>>  downloaded length 312279 != reported length 365965
>> 2: In download.file(url, destfile, method, mode = "wb", ...) :
>>  unable to connect to 'mirrors.ibiblio.org' on port 80.
>> Warning in download.packages(p0, destdir = tmpd, available =
>> available,  :
>>  download of package 'spam' failed
>> trying URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/Amelia_1.1-33.tgz'
>> Error in download.file(url, destfile, method, mode = "wb", ...) :
>>  cannot open URL 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/Amelia_1.1-33.tgz'
>> In addition: Warning message:
>> In download.file(url, destfile, method, mode = "wb", ...) :
>>  unable to connect to 'mirrors.ibiblio.org' on port 80.
>> Warning in download.packages(p0, destdir = tmpd, available =
>> available,  :
>>  download of package 'Amelia' failed
>>
>> ...<snip, the errors continue>....
>>
>> In addition: Warning message:
>> In download.file(url, destfile, method, mode = "wb", ...) :
>>  unable to connect to 'mirrors.ibiblio.org' on port 80.
>> Warning in download.packages(p0, destdir = tmpd, available =
>> available,  :
>>  download of package 'zoo' failed
>>
>> gzip: stdin: unexpected end of file
>> tar: Unexpected EOF in archive
>> tar: Unexpected EOF in archive
>> tar: Error is not recoverable: exiting now
>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>  argument is missing, with no default
>>
>> ----------------------------
>>
>> The first part of the procedure seemed to work, then came page after
>> page of error messages.  Can someone tell me what is going on here  
>> and
>> how I can fix the problem?  I found a similar report on R-help that
>> was never resolved and also involved a MAC (http://tolstoy.newcastle.edu.au/R/e4/help/08/06/15556.html
>> ).  Could this be a MAC issue?
>>
>> Thanks very much for your time.
>>
>> Brant Inman
>> 	[[alternative HTML version deleted]]
>>
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Thu Sep  4 21:41:06 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 Sep 2008 20:41:06 +0100 (BST)
Subject: [R-SIG-Mac] Error with update.packages()
In-Reply-To: <A2C86340-EF7A-481C-8C9B-BCB986E7A896@mac.com>
References: <94C61317-50ED-4474-92DD-B028324CF918@mac.com>
	<alpine.LFD.1.10.0809041958110.8886@gannet.stats.ox.ac.uk>
	<A2C86340-EF7A-481C-8C9B-BCB986E7A896@mac.com>
Message-ID: <alpine.LFD.1.10.0809042039090.9993@gannet.stats.ox.ac.uk>

On Thu, 4 Sep 2008, Brant Inman wrote:

> Thank you for your suggestion.  I did as you suggested and switched from USA 
> (NC) to USA (IA).
>
> Again, the packages seemed to download OK but this time a single error 
> message appeared:

You need to do this from the account you used to install the package in 
the first place.  It's a permissions issue.

>
> ----------
>
> ...<snip>...
>
> ==================================================
> downloaded 168 Kb
>
> trying URL 
> 'http://streaming.stat.iastate.edu/CRAN/bin/macosx/universal/contrib/2.7/zoo_1.5-4.tgz'
> Content type 'application/x-gzip' length 749912 bytes (732 Kb)
> opened URL
> ==================================================
> downloaded 732 Kb
>
> Error: cannot remove prior installation of package ?fSeries?
>> 
>
>
> ----------
>
> This error appears to have stopped the package updating, since when I type 
> update.packages() again, the whole list of packages is generated, implying 
> that they have not been updated.
>
> Any other suggestions?  Would uninstalling R and then reinstalling it help?
>
>
> Brant
>
> ---------
>
>
> On Sep 4, 2008, at 2:59 PM, Prof Brian Ripley wrote:
>
>> Try another mirror: this is not the first time we've seen problems at 
>> www.ibiblio.org.
>> 
>> On Thu, 4 Sep 2008, Brant Inman wrote:
>> 
>>> R-helpers:
>>> 
>>> I just updated from R 7.0 to R 7.2.2 today.  I am using MAC OS X
>>> version 10.5.4 on a Macbook to run R.
>>> 
>>> ----------------------------
>>> 
>>>> sessionInfo()
>>> R version 2.7.2 (2008-08-25)
>>> i386-apple-darwin8.11.1
>>> 
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.7.2
>>> 
>>> ----------------------------
>>> 
>>> When I tried to update my packages, I got the following messages:
>>> 
>>> ----------------------------
>>> 
>>>> update.packages()
>>> Amelia :
>>> Version 1.1-30 installed in /Library/Frameworks/R.framework/
>>> Resources/library
>>> Version 1.1-33 available at http://www.ibiblio.org/pub/languages/R/
>>> CRAN
>>> Update (y/N/c)?  y
>>> empiricalBayes :
>>> Version 2.0 installed in /Library/Frameworks/R.framework/Resources/
>>> library
>>> Version 2.1 available at http://www.ibiblio.org/pub/languages/R/CRAN
>>> Update (y/N/c)?  y
>>> Matrix :
>>> Version 0.999375-9 installed in /Library/Frameworks/R.framework/
>>> Resources/library
>>> Version 0.999375-11 available at 
>>> http://www.ibiblio.org/pub/languages/R/CRAN
>>> Update (y/N/c)?  y
>>> 
>>> ...<snip, all seems well>....
>>> 
>>> also installing the dependencies ?sandwich?, ?strucchange?, ?vcd?,
>>> ?rrcov?, ?spam?
>>> 
>>> trying URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/sandwich_2.1-0.tgz'
>>> Content type 'application/x-gzip' length 678518 bytes (662 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 662 Kb
>>> 
>>> trying URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/strucchange_1.3-3.tgz'
>>> Content type 'application/x-gzip' length 777150 bytes (758 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 758 Kb
>>> 
>>> ...<snip, the errors begin>....
>>> 
>>> trying URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/rrcov_0.4-06.tgz'
>>> Content type 'application/x-gzip' length 365965 bytes (357 Kb)
>>> opened URL
>>> ==========================================
>>> downloaded 304 Kb
>>> 
>>> trying URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/spam_0.15-0.tgz'
>>> Error in download.file(url, destfile, method, mode = "wb", ...) :
>>> cannot open URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/spam_0.15-0.tgz'
>>> In addition: Warning messages:
>>> 1: In download.file(url, destfile, method, mode = "wb", ...) :
>>> downloaded length 312279 != reported length 365965
>>> 2: In download.file(url, destfile, method, mode = "wb", ...) :
>>> unable to connect to 'mirrors.ibiblio.org' on port 80.
>>> Warning in download.packages(p0, destdir = tmpd, available =
>>> available,  :
>>> download of package 'spam' failed
>>> trying URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/Amelia_1.1-33.tgz'
>>> Error in download.file(url, destfile, method, mode = "wb", ...) :
>>> cannot open URL 
>>> 'http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/universal/contrib/2.7/Amelia_1.1-33.tgz'
>>> In addition: Warning message:
>>> In download.file(url, destfile, method, mode = "wb", ...) :
>>> unable to connect to 'mirrors.ibiblio.org' on port 80.
>>> Warning in download.packages(p0, destdir = tmpd, available =
>>> available,  :
>>> download of package 'Amelia' failed
>>> 
>>> ...<snip, the errors continue>....
>>> 
>>> In addition: Warning message:
>>> In download.file(url, destfile, method, mode = "wb", ...) :
>>> unable to connect to 'mirrors.ibiblio.org' on port 80.
>>> Warning in download.packages(p0, destdir = tmpd, available =
>>> available,  :
>>> download of package 'zoo' failed
>>> 
>>> gzip: stdin: unexpected end of file
>>> tar: Unexpected EOF in archive
>>> tar: Unexpected EOF in archive
>>> tar: Error is not recoverable: exiting now
>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>> argument is missing, with no default
>>> 
>>> ----------------------------
>>> 
>>> The first part of the procedure seemed to work, then came page after
>>> page of error messages.  Can someone tell me what is going on here and
>>> how I can fix the problem?  I found a similar report on R-help that
>>> was never resolved and also involved a MAC 
>>> (http://tolstoy.newcastle.edu.au/R/e4/help/08/06/15556.html
>>> ).  Could this be a MAC issue?
>>> 
>>> Thanks very much for your time.
>>> 
>>> Brant Inman
>>> 	[[alternative HTML version deleted]]
>>> 
>>> 
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From christian.hoffmann at wsl.ch  Fri Sep  5 15:59:55 2008
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Fri, 05 Sep 2008 15:59:55 +0200
Subject: [R-SIG-Mac] Tcl/Tk on 2.7.2 and Leopard
Message-ID: <48C13B5B.40902@wsl.ch>

Hi,

I am not a profound Mac oficionado, but under the new Mac OSX 10.5 
Leopard I installed R-2.7.2 out of the box. When I start R in the 
terminal, I can see that it hangs at loading Tcl/Tk. Using >R --vanilla 
is no alternative so far, since my compiled .First seems to interfere. 
How can I start with a simple .First or without it?

Thanks for helping out

Christian

-- 
Dr. Christian W. Hoffmann,
Swiss Federal Research Institute WSL
Zuercherstrasse 111, CH-8903 Birmensdorf, Switzerland 
Tel +41-44-7392-277 (office), -111(exchange), -215  (fax)
christian.hoffmann at wsl.ch,  www.wsl.ch/personal_homepages/hoffmann/
"Jene, die grundlegende Freiheit aufgeben wuerden, um eine geringe voruebergehende Sicherheit zu erwerben, verdienen weder Freiheit noch Sicherheit." - Benjamin Franklin


From simon.urbanek at r-project.org  Fri Sep  5 17:49:22 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 5 Sep 2008 11:49:22 -0400
Subject: [R-SIG-Mac] Tcl/Tk on 2.7.2 and Leopard
In-Reply-To: <48C13B5B.40902@wsl.ch>
References: <48C13B5B.40902@wsl.ch>
Message-ID: <898F4C63-F8B4-4FBD-AC5D-97BDA4C9BF56@r-project.org>

Christian,

On Sep 5, 2008, at 9:59 , Christian Hoffmann wrote:

> I am not a profound Mac oficionado, but under the new Mac OSX 10.5  
> Leopard I installed R-2.7.2 out of the box. When I start R in the  
> terminal, I can see that it hangs at loading Tcl/Tk. Using >R -- 
> vanilla is no alternative so far, since my compiled .First seems to  
> interfere. How can I start with a simple .First or without it?
>

I'm not quite sure I understand the problem. Running R --vanilla in  
Terminal will start a plain R without loading any workspace and thus  
no .First. I'm not quite sure why that's no alternative for you. If  
you don't want to use --vanilla, you can simply start R from a  
different directory or delete your saved workspace (.Rdata).

If that doesn't answer your question, please try to rephrase your  
problem. Note that for Tcl/Tk to work you need installed (and working)  
X11, so make sure that, e.g., xterm works. Also note that Tcl/Tk  
doesn't hang - it can abort if X11 is not started, but it should not  
hang, so you may be seeing something else...

Cheers,
Simon


From dfaden at gmail.com  Fri Sep  5 19:45:49 2008
From: dfaden at gmail.com (David Faden)
Date: Fri, 5 Sep 2008 10:45:49 -0700
Subject: [R-SIG-Mac] tilde paths cause crash in R on Mac
Message-ID: <6730abff0809051045ve49a8fev7d2ff1454b486fc0@mail.gmail.com>

Hi,

Creating a graphics device with a tilde in the file name leads to a
bus error in recent versions of R on the Mac. I'm running Mac OS X
10.5.4. A sample session:

> sessionInfo()
R version 2.7.2 (2008-08-25)
i386-apple-darwin8.11.1

locale:
en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
> png("~/bye.png")
> plot(1:10)
> dev.off()

 *** caught bus error ***
address 0x5, cause 'non-existent physical address'

Traceback:
 1: dev.off()

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Fri Sep  5 10:38:44 dhcp-172-22-124-177.corp.google.com R[819]
<Error>: CGImageDestinationCreate destination parameter is nil\n
Fri Sep  5 10:38:44 dhcp-172-22-124-177.corp.google.com R[819]
<Error>: CGImageDestinationAddImage image destination parameter is
nil\n
Fri Sep  5 10:38:44 dhcp-172-22-124-177.corp.google.com R[819]
<Error>: CGImageDestinationFinalize image destination parameter is
nil\n

...

A solution is to just throw in a call to expand.path:

> png(path.expand("~/bye.png"))
> plot(1:10)
> dev.off()
null device
          1

It seems such a call is implied by the documentation: "Tilde expansion
is performed where supported by the platform."

Thanks.

David


From ripley at stats.ox.ac.uk  Fri Sep  5 20:48:42 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 5 Sep 2008 19:48:42 +0100 (BST)
Subject: [R-SIG-Mac] tilde paths cause crash in R on Mac
In-Reply-To: <6730abff0809051045ve49a8fev7d2ff1454b486fc0@mail.gmail.com>
References: <6730abff0809051045ve49a8fev7d2ff1454b486fc0@mail.gmail.com>
Message-ID: <alpine.LFD.1.10.0809051944480.31739@gannet.stats.ox.ac.uk>

It is not that there is a tilde in the name, but that the filename is 
invalid (nothing said that tilde would be interpreted, and R's help 
usually does when this is the case).

The crash is AFAIK already fixed in 2.7.2 patched (and R-devel does 
interpret tildes on Mac and Windows where it did not previously).

On Fri, 5 Sep 2008, David Faden wrote:

> Hi,
>
> Creating a graphics device with a tilde in the file name leads to a
> bus error in recent versions of R on the Mac. I'm running Mac OS X
> 10.5.4. A sample session:
>
>> sessionInfo()
> R version 2.7.2 (2008-08-25)
> i386-apple-darwin8.11.1
>
> locale:
> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>> png("~/bye.png")
>> plot(1:10)
>> dev.off()
>
> *** caught bus error ***
> address 0x5, cause 'non-existent physical address'
>
> Traceback:
> 1: dev.off()
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Fri Sep  5 10:38:44 dhcp-172-22-124-177.corp.google.com R[819]
> <Error>: CGImageDestinationCreate destination parameter is nil\n
> Fri Sep  5 10:38:44 dhcp-172-22-124-177.corp.google.com R[819]
> <Error>: CGImageDestinationAddImage image destination parameter is
> nil\n
> Fri Sep  5 10:38:44 dhcp-172-22-124-177.corp.google.com R[819]
> <Error>: CGImageDestinationFinalize image destination parameter is
> nil\n
>
> ...
>
> A solution is to just throw in a call to expand.path:
>
>> png(path.expand("~/bye.png"))
>> plot(1:10)
>> dev.off()
> null device
>          1
>
> It seems such a call is implied by the documentation: "Tilde expansion
> is performed where supported by the platform."
>
> Thanks.
>
> David
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dfaden at gmail.com  Fri Sep  5 21:26:36 2008
From: dfaden at gmail.com (David Faden)
Date: Fri, 5 Sep 2008 12:26:36 -0700
Subject: [R-SIG-Mac] tilde paths cause crash in R on Mac
In-Reply-To: <alpine.LFD.1.10.0809051944480.31739@gannet.stats.ox.ac.uk>
References: <6730abff0809051045ve49a8fev7d2ff1454b486fc0@mail.gmail.com>
	<alpine.LFD.1.10.0809051944480.31739@gannet.stats.ox.ac.uk>
Message-ID: <6730abff0809051226l12d55cb1ha1658128cf586db9@mail.gmail.com>

I quoted the section of R help that says the tilde would be expanded
if supported by the platform.

On Fri, Sep 5, 2008 at 11:48 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> It is not that there is a tilde in the name, but that the filename is
> invalid (nothing said that tilde would be interpreted, and R's help usually
> does when this is the case).
>
> The crash is AFAIK already fixed in 2.7.2 patched (and R-devel does
> interpret tildes on Mac and Windows where it did not previously).


From bates at stat.wisc.edu  Sun Sep  7 14:54:32 2008
From: bates at stat.wisc.edu (Douglas Bates)
Date: Sun, 7 Sep 2008 07:54:32 -0500
Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
Message-ID: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>

I would like to install gnucash on a Macbook running OS X 10.5.4.  It
appears that I would need either Fink or Darwinports installed to
install gnucash.  Because my past experiences with Fink have not been
positive I am considering installing Darwinports.  However, I notice
that they want me to override many system libraries with their
versions of the libraries (http://gnucash.darwinports.com/install/).
Am I likely to cause problems with R running on this system if I do
so?


From simon.urbanek at r-project.org  Sun Sep  7 15:38:50 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 7 Sep 2008 09:38:50 -0400
Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
In-Reply-To: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
References: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
Message-ID: <5242A927-3E67-41B3-B47F-4907DD5C22B3@r-project.org>


On Sep 7, 2008, at 8:54 AM, Douglas Bates wrote:

> I would like to install gnucash on a Macbook running OS X 10.5.4.   
> It appears that I would need either Fink or Darwinports installed to  
> install gnucash.  Because my past experiences with Fink have not  
> been positive I am considering installing Darwinports.  However, I  
> notice that they want me to override many system libraries with  
> their versions of the libraries (http://gnucash.darwinports.com/install/ 
> ). Am I likely to cause problems with R running on this system if I  
> do so?
>

As long as you are using CRAN binary you should be fine (also assuming  
that you [or DarwinPorts] won't mess with DYLD_LIBRARY_PATH). Problems  
start when DP installs any compilers and puts them on the PATH. Even  
more problems start if you try to use the R build from DP. Mixing R  
and DP for packages is not a good idea.
In general, make sure you have control over your startup files so you  
can enable/disable DP at will (this also applies to Fink).

Cheers,
Simon


From cskiadas at gmail.com  Sun Sep  7 15:46:46 2008
From: cskiadas at gmail.com (Charilaos Skiadas)
Date: Sun, 7 Sep 2008 09:46:46 -0400
Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
In-Reply-To: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
References: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
Message-ID: <A91CC81F-9486-4B8B-8F92-0F214E532781@gmail.com>

On Sep 7, 2008, at 8:54 AM, Douglas Bates wrote:

> I would like to install gnucash on a Macbook running OS X 10.5.4.  It
> appears that I would need either Fink or Darwinports installed to
> install gnucash.  Because my past experiences with Fink have not been
> positive I am considering installing Darwinports.  However, I notice
> that they want me to override many system libraries with their
> versions of the libraries (http://gnucash.darwinports.com/install/).
> Am I likely to cause problems with R running on this system if I do
> so?


You will probably get differing opinions on the matter. It's probably  
not just a question about R, but also other things like TeX. You are  
not actually overriding system libraries, you are just putting the  
darwinports binaries earlier on the shell path. But I must be missing  
something, can't you just compile directly from the gnucash source?  
It shouldn't be much harder than installing darwinports, so unless  
you need a lot of other darwinports stuff, I see no reason to mess up  
with the system more than you have to.

Btw, I believe it's called MacPorts now.

Haris Skiadas
Department of Mathematics and Computer Science
Hanover College


From kjell.konis at epfl.ch  Sun Sep  7 19:56:51 2008
From: kjell.konis at epfl.ch (Kjell Konis)
Date: Sun, 7 Sep 2008 19:56:51 +0200
Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
In-Reply-To: <A91CC81F-9486-4B8B-8F92-0F214E532781@gmail.com>
References: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
	<A91CC81F-9486-4B8B-8F92-0F214E532781@gmail.com>
Message-ID: <2AC00C7B-824B-4ABA-9552-169A8CA47F2D@epfl.ch>

On Sep 7, 2008, at 3:46 PM, Charilaos Skiadas wrote:

> Btw, I believe it's called MacPorts now.

One caveat: when the name of the DarwinPorts project was changed to  
MacPorts, darwinports.ORG became macports.org. The website in the  
link in the original post

   http://gnucash.darwinports.com/install/

is hosted at darwinports.COM which is independent of the {Darwin,Mac} 
Ports project (and presumably exists to generate some Google Ad Words  
revenue). This time around the MacPorts project also registered the  
MacPorts.com domain and forwards connections to MacPorts.org.


From steve at srevilak.net  Sun Sep  7 21:44:49 2008
From: steve at srevilak.net (Steve Revilak)
Date: Sun, 7 Sep 2008 15:44:49 -0400 (EDT)
Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
In-Reply-To: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
References: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
Message-ID: <alpine.OSX.1.10.0809071521360.286@fchq.ybpny>

> From: Douglas Bates 
> Date: Sun, 7 Sep 2008 07:54:32 -0500
> Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?

> I would like to install gnucash on a Macbook running OS X 10.5.4.  It
> appears that I would need either Fink or Darwinports installed to
> install gnucash.  Because my past experiences with Fink have not been
> positive I am considering installing Darwinports.  However, I notice
> that they want me to override many system libraries with their
> versions of the libraries (http://gnucash.darwinports.com/install/).
> Am I likely to cause problems with R running on this system if I do
> so?

I have around 40 Darwinports packages installed on Mac OS X 10.4.11
(but not gnucash), along with R (CRAN binaries) and a texlive
distribution; I also have a similar arrangement on another machine
running Mac OS X 10.5.4 (albeit with fewer Darwinports packages).  In
general, I've found Darwinports to be very reliable, and I've never
had problems with Darwinports interfering with R or tex (or vice
versa).

If you're truly worried, you can always append /opt/local/bin to your
PATH instead of prepending it.

Some Darwinports packages have a lot of dependencies.  However,
Darwinports seems to install everything in /opt/local, along with
supplying the appropriate library directories during compilation.

I don't see any harm in installing gnucash via Darwinports.  If, later
on, you suspect that Darwinports is causing a conflict with some other
software on your machine, you can easily confirm (or refute) that
suspicion by renaming /opt/local to /opt/local.NO.  Or, just uninstall
it.
For gnucash, installing via a package management system seems like the
safest bet.  IIRC, gnucash depends on a lot of libraries that aren't
part of Mac OS (e.g., gnome).

Steve


From steve at srevilak.net  Sun Sep  7 21:47:38 2008
From: steve at srevilak.net (Steve Revilak)
Date: Sun, 7 Sep 2008 15:47:38 -0400 (EDT)
Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
In-Reply-To: <alpine.OSX.1.10.0809071521360.286@fchq.ybpny>
References: <40e66e0b0809070554lea99cc9vac37883be58d671e@mail.gmail.com>
	<alpine.OSX.1.10.0809071521360.286@fchq.ybpny>
Message-ID: <alpine.OSX.1.10.0809071546361.286@fchq.ybpny>

One small correction, I should have said "MacPorts" instead of
"Darwinports".  (Thanks to Kjell Konis for reminding me of the name
change).


> From: Steve  Revilak <steve at srevilak.net>
> Date: Sun, 7 Sep 2008 15:44:49 -0400 (EDT)
> Subject: Re: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
> Message-ID: <alpine.OSX.1.10.0809071521360.286 at fchq.ybpny>
> To: R-SIG-Mac <r-sig-mac at r-project.org>
> 
>> From: Douglas Bates Date: Sun, 7 Sep 2008 07:54:32 -0500
>> Subject: [R-SIG-Mac] Do Darwinports and R play nice on Tiger?
>
>> I would like to install gnucash on a Macbook running OS X 10.5.4.  It
>> appears that I would need either Fink or Darwinports installed to
>> install gnucash.  Because my past experiences with Fink have not been
>> positive I am considering installing Darwinports.  However, I notice
>> that they want me to override many system libraries with their
>> versions of the libraries (http://gnucash.darwinports.com/install/).
>> Am I likely to cause problems with R running on this system if I do
>> so?
>
> I have around 40 Darwinports packages installed on Mac OS X 10.4.11
> (but not gnucash), along with R (CRAN binaries) and a texlive
> distribution; I also have a similar arrangement on another machine
> running Mac OS X 10.5.4 (albeit with fewer Darwinports packages).  In
> general, I've found Darwinports to be very reliable, and I've never
> had problems with Darwinports interfering with R or tex (or vice
> versa).
>
> If you're truly worried, you can always append /opt/local/bin to your
> PATH instead of prepending it.
>
> Some Darwinports packages have a lot of dependencies.  However,
> Darwinports seems to install everything in /opt/local, along with
> supplying the appropriate library directories during compilation.
>
> I don't see any harm in installing gnucash via Darwinports.  If, later
> on, you suspect that Darwinports is causing a conflict with some other
> software on your machine, you can easily confirm (or refute) that
> suspicion by renaming /opt/local to /opt/local.NO.  Or, just uninstall
> it.
> For gnucash, installing via a package management system seems like the
> safest bet.  IIRC, gnucash depends on a lot of libraries that aren't
> part of Mac OS (e.g., gnome).
>
> Steve
>
>
>
>


From dougwyu at gmail.com  Mon Sep  8 18:38:39 2008
From: dougwyu at gmail.com (dougwyu)
Date: Mon, 8 Sep 2008 17:38:39 +0100
Subject: [R-SIG-Mac] BiodiversityR
Message-ID: <898BFAA0-A879-4FC1-ADC0-4FC764CD60D4@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080908/0c13e717/attachment.pl>

From ssefick at gmail.com  Mon Sep  8 19:37:06 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 8 Sep 2008 13:37:06 -0400
Subject: [R-SIG-Mac] BiodiversityR
In-Reply-To: <898BFAA0-A879-4FC1-ADC0-4FC764CD60D4@gmail.com>
References: <898BFAA0-A879-4FC1-ADC0-4FC764CD60D4@gmail.com>
Message-ID: <c502a9e10809081037x3f21123fke11f68fc5ca077e8@mail.gmail.com>

?BiodiversityGUI

On Mon, Sep 8, 2008 at 12:38 PM, dougwyu <dougwyu at gmail.com> wrote:
> I'm trying to install the package BiodiversityR to run under Rcmdr on
> the mac.  Has anyone done this successfully, so BiodiversityR appears
> on Rcmdr's main menu?  Loading the BiodiversityR package by itself is
> not enough, it appears.
>
> thanks in advance,
> Doug
>
>
>
>
> Dr. Douglas W. Yu
> School of Biological Sciences, University of East Anglia
> Norwich, Norfolk  NR4 7TJ   UK,  44-(0)1603-593-835
> http://www.uea.ac.uk/bio/people/YuD
> http://web.mac.com/dougwyu
> office hours Tues 2:00 to 4:00
>
>  From negation comes
> growth, progress; not unlike a
> referee report.                         Keisuke Hirano: Econometrics
> Haiku
>
>
>        [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From james.milks at wright.edu  Tue Sep  9 15:58:22 2008
From: james.milks at wright.edu (James Milks)
Date: Tue, 09 Sep 2008 09:58:22 -0400
Subject: [R-SIG-Mac] BiodiversityR
In-Reply-To: <mailman.15.1220954404.12858.r-sig-mac@stat.math.ethz.ch>
References: <mailman.15.1220954404.12858.r-sig-mac@stat.math.ethz.ch>
Message-ID: <9EF71909-D147-4701-BAC7-589AB1C40450@wright.edu>

I've found out it takes two steps.  1.  Load the Biodiversity  
package.  2.  Type the command "BiodiversityRGUI()" into the R  
console.  That will launch R commander with Biodiversity in the main  
menu.

Hope this helps.

Jim Milks

Degree Candidate
Environmental Sciences Ph.D. Program
Wright State University
Dayton, Ohio 45431


On Sep 9, 2008, at 6:00 AM, r-sig-mac-request at stat.math.ethz.ch wrote:

>
> Message: 1
> Date: Mon, 8 Sep 2008 17:38:39 +0100
> From: dougwyu <dougwyu at gmail.com>
> Subject: [R-SIG-Mac] BiodiversityR
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID: <898BFAA0-A879-4FC1-ADC0-4FC764CD60D4 at gmail.com>
> Content-Type: text/plain
>
> I'm trying to install the package BiodiversityR to run under Rcmdr on
> the mac.  Has anyone done this successfully, so BiodiversityR appears
> on Rcmdr's main menu?  Loading the BiodiversityR package by itself is
> not enough, it appears.
>
> thanks in advance,
> Doug
>
>
>
>
> Dr. Douglas W. Yu
> School of Biological Sciences, University of East Anglia
> Norwich, Norfolk  NR4 7TJ   UK,  44-(0)1603-593-835
> http://www.uea.ac.uk/bio/people/YuD
> http://web.mac.com/dougwyu
> office hours Tues 2:00 to 4:00
>
> From negation comes
> growth, progress; not unlike a
> referee report.                         Keisuke Hirano: Econometrics
> Haiku
>


From stefan.evert at uos.de  Thu Sep 11 12:41:05 2008
From: stefan.evert at uos.de (Stefan Evert)
Date: Thu, 11 Sep 2008 12:41:05 +0200
Subject: [R-SIG-Mac] [R]  How to install rpy under mac os x?
In-Reply-To: <19418094.post@talk.nabble.com>
References: <19418094.post@talk.nabble.com>
Message-ID: <8B3EFF5D-0396-422E-A885-ED5DDE958682@uos.de>

[This should probably go to R-SIG-Mac, so I'm moving the thread there.]


> I'm tryin' to install Rpy under Mac Os X but I receive the following
> message:

I suppose you're talking about the alpha releases of RPy2 rather than  
the stable 1.0 series?

I have no idea what's going wrong here, but for what it's worth, I  
have no problems building both RPy-1.0.3 and RPy-2.0.0-a3 on my  
system, which seems to have the same setup as you (Mac OS X 10.5.4  
Intel, CRAN R 2.7.2, Apple-supplied Python 2.5.1).

> host46-209-dynamic:rpy usernone$ python setup.py install
> running install
> running build
> running build_py
> running build_ext
> building 'rpy2.rinterface.rinterface' extension
> gcc -arch ppc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -
> fno-strict-aliasing -Wno-long-double -no-cpp-precomp -mno-fused-madd -
> fno-common -dynamic -DNDEBUG -g -O3 -DR_INTERFACE_PTRS=1 -
> DCSTACK_DEFNS=1 -DRIF_HAS_RSIGHAND=1 -I/Library/Frameworks/ 
> R.framework/
> Resources/include -Irpy/rinterface -I/Library/Frameworks/
> Python.framework/Versions/2.5/include/python2.5 -c rpy/rinterface/
> array.c -o build/temp.macosx-10.3-fat-2.5/rpy/rinterface/array.o

I'm getting quite a different gcc call at this point, though:

gcc -fno-strict-aliasing -Wno-long-double -no-cpp-precomp -mno-fused- 
madd -fno-common -dynamic -DNDEBUG -g -Os -Wall -Wstrict-prototypes - 
DMACOSX -I/usr/include/ffi -DENABLE_DTRACE -arch i386 -arch ppc -pipe - 
DR_INTERFACE_PTRS=1 -DCSTACK_DEFNS=1 -DRIF_HAS_RSIGHAND=1 -I/Library/ 
Frameworks/R.framework/Resources/include -Irpy/rinterface -I/System/ 
Library/Frameworks/Python.framework/Versions/2.5/include/python2.5 -c  
rpy/rinterface/array.c -o build/temp.macosx-10.5-i386-2.5/rpy/ 
rinterface/array.o

Actually, this part of your log

>  -o build/temp.macosx-10.3-fat-2.5/rpy/rinterface/array.o

suggests that RPy (or Python) thinks it's compiling on OS X 10.3, and  
it uses

>  -isysroot /Developer/SDKs/MacOSX10.4u.sdk

instead of the proper OS X 10.5 SDK.

Perhaps something is wrong with your configuration (is you XCode up to  
date?) or you're using a non-standard Python binary?




Best regards,
Stefan Evert

[ stefan.evert at uos.de | http://purl.org/stefan.evert ]


From mandoluca at gmail.com  Thu Sep 11 13:16:09 2008
From: mandoluca at gmail.com (Luca Mandolesi)
Date: Thu, 11 Sep 2008 13:16:09 +0200
Subject: [R-SIG-Mac] [R] How to install rpy under mac os x?
In-Reply-To: <8B3EFF5D-0396-422E-A885-ED5DDE958682@uos.de>
References: <19418094.post@talk.nabble.com>
	<8B3EFF5D-0396-422E-A885-ED5DDE958682@uos.de>
Message-ID: <31f1d37d0809110416t67d578ees8c1dac20ea095f51@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080911/2e4bd848/attachment.pl>

From gabraham at csse.unimelb.edu.au  Fri Sep 12 07:48:33 2008
From: gabraham at csse.unimelb.edu.au (Gad Abraham)
Date: Fri, 12 Sep 2008 15:48:33 +1000
Subject: [R-SIG-Mac] R.app appending newline at end of command
Message-ID: <48CA02B1.80104@csse.unimelb.edu.au>

Hi,

Recently, R.app (2.7.2 on Leopard 10.5.4) has begun to append newlines 
at the end of commands, so that if I press the up key, the newline gets 
reproduced again. I've been running 2.7.2 since it came out but this 
behaviour is recent (past couple of days):

 > ls()
character(0)
[press up and enter]
 > ls()
character(0)
 >
[press up and enter]
 > ls()
character(0)
 >
 >
[press up and enter]
 > ls()
character(0)
 >
 >
 >


 > sessionInfo()
R version 2.7.2 (2008-08-25)
i386-apple-darwin8.11.1

locale:
en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


Any idea what could be causing this?

Thanks,
Gad

-- 
Gad Abraham
Dept. CSSE and NICTA
The University of Melbourne
Parkville 3010, Victoria, Australia
email: gabraham at csse.unimelb.edu.au
web: http://www.csse.unimelb.edu.au/~gabraham


From ken.knoblauch at inserm.fr  Fri Sep 12 08:53:13 2008
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 12 Sep 2008 06:53:13 +0000 (UTC)
Subject: [R-SIG-Mac] R.app appending newline at end of command
References: <48CA02B1.80104@csse.unimelb.edu.au>
Message-ID: <loom.20080912T065127-510@post.gmane.org>

Gad Abraham <gabraham <at> csse.unimelb.edu.au> writes:
> Recently, R.app (2.7.2 on Leopard 10.5.4) has begun to append newlines 
> at the end of commands, so that if I press the up key, the newline gets 
> reproduced again. I've been running 2.7.2 since it came out but this 
> behaviour is recent (past couple of days):
>  > ls()
> character(0)
> [press up and enter]
>  > ls()
> character(0)
> [press up and enter]
>  > ls()
> character(0)
>  >
>  >
> [press up and enter]
>  > ls()
> character(0)

> Thanks,
> Gad

Have you checked the R.app preferences.  
I think that you want to have Cleanup history entries
checked under the startup preferences.

Ken
-- 
Ken Knoblauch
Inserm U846
Institut Cellule Souche et Cerveau
D?partement Neurosciences Int?gratives
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr


From gabraham at csse.unimelb.edu.au  Fri Sep 12 09:47:59 2008
From: gabraham at csse.unimelb.edu.au (Gad Abraham)
Date: Fri, 12 Sep 2008 17:47:59 +1000
Subject: [R-SIG-Mac] R.app appending newline at end of command
In-Reply-To: <loom.20080912T065127-510@post.gmane.org>
References: <48CA02B1.80104@csse.unimelb.edu.au>
	<loom.20080912T065127-510@post.gmane.org>
Message-ID: <48CA1EAF.6020209@csse.unimelb.edu.au>

Ken Knoblauch wrote:
> Gad Abraham <gabraham <at> csse.unimelb.edu.au> writes:
>> Recently, R.app (2.7.2 on Leopard 10.5.4) has begun to append newlines 
>> at the end of commands, so that if I press the up key, the newline gets 
>> reproduced again. I've been running 2.7.2 since it came out but this 
>> behaviour is recent (past couple of days):
>>  > ls()
>> character(0)
>> [press up and enter]
>>  > ls()
>> character(0)
>> [press up and enter]
>>  > ls()
>> character(0)
>>  >
>>  >
>> [press up and enter]
>>  > ls()
>> character(0)
> 
>> Thanks,
>> Gad
> 
> Have you checked the R.app preferences.  
> I think that you want to have Cleanup history entries
> checked under the startup preferences.

You're right, that was it.

Thanks,
Gad

-- 
Gad Abraham
Dept. CSSE and NICTA
The University of Melbourne
Parkville 3010, Victoria, Australia
email: gabraham at csse.unimelb.edu.au
web: http://www.csse.unimelb.edu.au/~gabraham


From joseph.franklin at yale.edu  Tue Sep 16 18:25:20 2008
From: joseph.franklin at yale.edu (joseph franklin)
Date: Tue, 16 Sep 2008 12:25:20 -0400
Subject: [R-SIG-Mac] R-devel for Leopard?
Message-ID: <5DD75725-F1B7-48E5-839F-00C94D76427D@yale.edu>

Hi,

This is almost certainly a naive question, but what happened to R- 
devel (2.8.0) for Leopard at http://r.research.att.com/ ?  The nightly  
build appears to be failing.  Is there another location to download  
the developer release for OS10.5?  (It was working fine at http://r.research.att.com/ 
  a few weeks ago).


Thanks,
Joe Franklin


From simon.urbanek at r-project.org  Tue Sep 16 19:38:52 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 16 Sep 2008 13:38:52 -0400
Subject: [R-SIG-Mac] R-devel for Leopard?
In-Reply-To: <5DD75725-F1B7-48E5-839F-00C94D76427D@yale.edu>
References: <5DD75725-F1B7-48E5-839F-00C94D76427D@yale.edu>
Message-ID: <B57F9EDD-5C50-41E0-96C7-804A0DDBC575@r-project.org>

On Sep 16, 2008, at 12:25 , joseph franklin wrote:

> Hi,
>
> This is almost certainly a naive question, but what happened to R- 
> devel (2.8.0) for Leopard at http://r.research.att.com/ ?  The  
> nightly build appears to be failing.

Yes, a HDD failed in the ppc64 (G5) build machine. Hence the builds  
are incomplete and thus don't pass checks. Rosetta doesn't work for 64- 
bit, so we cannot use the main (Xeon) machine for ppc64 builds. In  
fact I have just disabled the ppc64 checks earlier today, so at least  
tri-arch binaries should be available tomorrow. I think we will soon  
drop [binary] ppc64 support altogether given that it's such a pain to  
maintain and has pretty much no benefits.


>  Is there another location to download the developer release for  
> OS10.5?  (It was working fine at http://r.research.att.com/ a few  
> weeks ago).
>

No in the sense that http://R.research.att.com is the canonical source  
of the "official" Mac builds. If the builds are not there, then  
something is wrong and it's being worked on ;).

Cheers,
Simon


From ssefick at gmail.com  Wed Sep 17 00:22:07 2008
From: ssefick at gmail.com (stephen sefick)
Date: Tue, 16 Sep 2008 18:22:07 -0400
Subject: [R-SIG-Mac] Building R 10.3.9
Message-ID: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>

I have an old ibook that is not ready to go out to pasture
256 RAM
933 processor

Can I build R 2.7.2 and up on this computer so that it will work with
install.packages()

or will I have to also build the packages from source
would it be better to set up a dual boot linux on this machine and
what would be the suggestions?  I have been toying around with this
idea for a while and even installed SUSE but it ate up all of my RAM
and was swapping all of the time.  I am happy with my old OS and the
preformance of the computer for things like word processing and
creating graphs with R (no super computation expensive stuff).  I have
access to other computers for major processing intensive thing.  I
just want a "if I want coffee with my work" computer.
thanks much

-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From jari.oksanen at oulu.fi  Wed Sep 17 06:45:02 2008
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Wed, 17 Sep 2008 07:45:02 +0300
Subject: [R-SIG-Mac] Building R 10.3.9
In-Reply-To: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
References: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
Message-ID: <8F6722B4-EEA6-4717-AEF4-E0DCFE928A68@oulu.fi>


On 17 Sep 2008, at 1:22, stephen sefick wrote:

> I have an old ibook that is not ready to go out to pasture
> 256 RAM
> 933 processor
>
> Can I build R 2.7.2 and up on this computer so that it will work with
> install.packages()
>
My old iBook G4 with MacOS 10.3.9 just broke down in spring, but I was  
able to build R (then 2.6.something) from sources following the  
standard instructions, like get the latest XCode (which is not very  
late for that system). However, you cannot build RGui (although they  
claimed back then you could), but you must use R from the Terminal.app  
or Emacs. I also had to use X11 graphics device, because quartz was  
made unusable (that was deliberate like I read in NEWS which told that  
quartz window will always open in the middle of my tiny screen, will  
be on top and cannot be moved to show the terminal where I write). I  
assume that quartz has changed since then like it has in the official  
Mac release, but that probably makes things even more difficult if you  
have OS 10.3.9. However, at least R 2.6.something can be made to work  
in OS 10.3.9. R 2.6.something is quite OK, except that you cannot ask  
help in R-help but they will come shouting to you to install the  
latest version.

I had glorious 384M RAM (which costed a lot), and that was quite  
usable in R, and also worked with double booting Ubuntu. Memory is  
cheaper what it was when you got your iBook, in particular because  
Apple doesn't sell memory to that old machines, and you must buy  
cheaper chips (like Kingston).

cheers, jari oksanen


From simon.urbanek at r-project.org  Wed Sep 17 15:28:24 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Sep 2008 09:28:24 -0400
Subject: [R-SIG-Mac] Building R 10.3.9
In-Reply-To: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
References: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
Message-ID: <67A06F27-5D49-48D8-85B7-3D3C9B8E7082@r-project.org>


On Sep 16, 2008, at 18:22 , stephen sefick wrote:

> I have an old ibook that is not ready to go out to pasture
> 256 RAM
> 933 processor
>
> Can I build R 2.7.2 and up on this computer so that it will work with
> install.packages()
>

For several reasons, no. First (and main) reason is that we simply  
don't build 10.3 binaries anymore (for quite a while), so you have to  
install packages from sources at any rate. Second reason is since R  
2.7.0 we have a completely new Quartz which is built into R which  
requires 10.4 or higher. You can still build R without Quartz support,  
but you'll lose all the Mac goodies (i.e. you'll have to resort to X11).
Alternatively you can stick to R 2.6 which can be built for 10.3 with  
all bells and whistles. Unfortunately I don't have any 10.3 machines  
anymore (it's painful enough to maintain 10.4 for the time being ;)),  
so I cannot provide you with a binary :/

Cheers,
Simon


> or will I have to also build the packages from source
> would it be better to set up a dual boot linux on this machine and
> what would be the suggestions?  I have been toying around with this
> idea for a while and even installed SUSE but it ate up all of my RAM
> and was swapping all of the time.  I am happy with my old OS and the
> preformance of the computer for things like word processing and
> creating graphs with R (no super computation expensive stuff).  I have
> access to other computers for major processing intensive thing.  I
> just want a "if I want coffee with my work" computer.
> thanks much
>
> -- 
> Stephen Sefick
> Research Scientist
> Southeastern Natural Sciences Academy
>
> Let's not spend our time and resources thinking about things that are
> so little or so large that all they really do for us is puff us up and
> make us feel like gods. We are mammals, and have not exhausted the
> annoying little problems of being mammals.
>
> 	-K. Mullis
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Wed Sep 17 15:37:48 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Sep 2008 09:37:48 -0400
Subject: [R-SIG-Mac] Building R 10.3.9
In-Reply-To: <8F6722B4-EEA6-4717-AEF4-E0DCFE928A68@oulu.fi>
References: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
	<8F6722B4-EEA6-4717-AEF4-E0DCFE928A68@oulu.fi>
Message-ID: <801E049C-C54D-4286-ADDF-654A073B8C19@r-project.org>


On Sep 17, 2008, at 0:45 , Jari Oksanen wrote:

>
> On 17 Sep 2008, at 1:22, stephen sefick wrote:
>
>> I have an old ibook that is not ready to go out to pasture
>> 256 RAM
>> 933 processor
>>
>> Can I build R 2.7.2 and up on this computer so that it will work with
>> install.packages()
>>
> My old iBook G4 with MacOS 10.3.9 just broke down in spring, but I  
> was able to build R (then 2.6.something) from sources following the  
> standard instructions, like get the latest XCode (which is not very  
> late for that system). However, you cannot build RGui (although they  
> claimed back then you could),

You could for 2.6 (and I did respond to you at that time how to go  
about it... ;)).


> but you must use R from the Terminal.app or Emacs. I also had to use  
> X11 graphics device, because quartz was made unusable (that was  
> deliberate like I read in NEWS which told that quartz window will  
> always open in the middle of my tiny screen, will be on top and  
> cannot be moved to show the terminal where I write).

Not true, use CarbonEL package (see those ESS threads ...).

Cheers,
Simon


> I assume that quartz has changed since then like it has in the  
> official Mac release, but that probably makes things even more  
> difficult if you have OS 10.3.9. However, at least R 2.6.something  
> can be made to work in OS 10.3.9. R 2.6.something is quite OK,  
> except that you cannot ask help in R-help but they will come  
> shouting to you to install the latest version.
>
> I had glorious 384M RAM (which costed a lot), and that was quite  
> usable in R, and also worked with double booting Ubuntu. Memory is  
> cheaper what it was when you got your iBook, in particular because  
> Apple doesn't sell memory to that old machines, and you must buy  
> cheaper chips (like Kingston).
>
> cheers, jari oksanen
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ssefick at gmail.com  Wed Sep 17 16:36:48 2008
From: ssefick at gmail.com (stephen sefick)
Date: Wed, 17 Sep 2008 10:36:48 -0400
Subject: [R-SIG-Mac] Building R 10.3.9
In-Reply-To: <801E049C-C54D-4286-ADDF-654A073B8C19@r-project.org>
References: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
	<8F6722B4-EEA6-4717-AEF4-E0DCFE928A68@oulu.fi>
	<801E049C-C54D-4286-ADDF-654A073B8C19@r-project.org>
Message-ID: <c502a9e10809170736v2552551i85e6fff552678e6e@mail.gmail.com>

I am not concerned about the mac goodies.  I am comfortable with the
command line and X11 version.  I want to know will R act like R
(getting packages without having to build them from source) if I build
them from source.  Simon, I know you probably answered this, but I am
a little dense.  Are building packages from sources "hard" or just an
option in the install.packages command.  I will be faced with this if
I switch over to Linux  or BSD.  R and I have become co-dependent- I
don't use excel for anything because I can do it easier in R, and this
is why I am going through all of this trouble.
Thanks


Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From jari.oksanen at oulu.fi  Wed Sep 17 16:56:09 2008
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Wed, 17 Sep 2008 17:56:09 +0300
Subject: [R-SIG-Mac] Building R 10.3.9
In-Reply-To: <c502a9e10809170736v2552551i85e6fff552678e6e@mail.gmail.com>
References: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
	<8F6722B4-EEA6-4717-AEF4-E0DCFE928A68@oulu.fi>
	<801E049C-C54D-4286-ADDF-654A073B8C19@r-project.org>
	<c502a9e10809170736v2552551i85e6fff552678e6e@mail.gmail.com>
Message-ID: <1221663369.30324.5.camel@biol102145.oulu.fi>

On Wed, 2008-09-17 at 10:36 -0400, stephen sefick wrote:
> I am not concerned about the mac goodies.  I am comfortable with the
> command line and X11 version.  I want to know will R act like R
> (getting packages without having to build them from source) if I build
> them from source.  Simon, I know you probably answered this, but I am
> a little dense.  Are building packages from sources "hard" or just an
> option in the install.packages command.  I will be faced with this if
> I switch over to Linux  or BSD.  R and I have become co-dependent- I
> don't use excel for anything because I can do it easier in R, and this
> is why I am going through all of this trouble.
> Thanks
> 
Stephen,

Current binaries of packages are only available for a current major
version of R. Only if you have R 2.7.x can you have binaries of
packages. However, setting up a build environment for packages is much
easier than having the build environment for the whole R, and using
source packages will free you form binary repositories. Command
install.packages() can build and install packages from sources
automatically without your manual interference. Little work, but not
much. If you build R from the source, you have all the tools you need to
build the packages, too. If you want to have a current version for G4 &
MacOS 10.3.9 you must build the whole R from sources (but you do not
need RGUI).  G4 & 10.3.9 is that an old system that you cannot rely on
getting binary versions of packages, but you better use source.

cheers, jari oksanen

--

Jari Oksanen <jari.oksanen at oulu.fi>


From simon.urbanek at r-project.org  Wed Sep 17 17:01:28 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Sep 2008 11:01:28 -0400
Subject: [R-SIG-Mac] Building R 10.3.9
In-Reply-To: <c502a9e10809170736v2552551i85e6fff552678e6e@mail.gmail.com>
References: <c502a9e10809161522m2bd7adfbv13f217dbe353afc0@mail.gmail.com>
	<8F6722B4-EEA6-4717-AEF4-E0DCFE928A68@oulu.fi>
	<801E049C-C54D-4286-ADDF-654A073B8C19@r-project.org>
	<c502a9e10809170736v2552551i85e6fff552678e6e@mail.gmail.com>
Message-ID: <D3ED9C8B-2F89-4EE0-851C-D14383978789@r-project.org>


On Sep 17, 2008, at 10:36 , stephen sefick wrote:

> I am not concerned about the mac goodies.  I am comfortable with the  
> command line and X11 version.  I want to know will R act like R  
> (getting packages without having to build them from source) if I  
> build them from source.  Simon, I know you probably answered this,  
> but I am a little dense.  Are building packages from sources "hard"  
> or just an option in the install.packages command.

It's just an option - use type='source' in install.packages. It's a  
bit slower that just installing binaries, but most packages should  
build without problems. There are few packages that are not very  
portable, feel free to ask if you encounter those.

Cheers,
Simon


>  I will be faced with this if
> I switch over to Linux  or BSD.  R and I have become co-dependent- I
> don't use excel for anything because I can do it easier in R, and this
> is why I am going through all of this trouble.
> Thanks
>
>
> Stephen Sefick
> Research Scientist
> Southeastern Natural Sciences Academy
>
> Let's not spend our time and resources thinking about things that are
> so little or so large that all they really do for us is puff us up and
> make us feel like gods. We are mammals, and have not exhausted the
> annoying little problems of being mammals.
>
> 	-K. Mullis
>
>


From davamaillist at gmail.com  Fri Sep 19 01:30:21 2008
From: davamaillist at gmail.com (david dav)
Date: Fri, 19 Sep 2008 01:30:21 +0200
Subject: [R-SIG-Mac] Error in GEE models
Message-ID: <772cb06e0809181630udb4ced5tf96b5089b0e9c59f@mail.gmail.com>

Hi,
I would like to fit a GLM model with GEE on clustered data.
I tried to use gee in the GEE package on a twin data set. All cluster
are of size 2. I removed the missing data first.

> gee(Y ~ X1 + X2,
+     id = IDENTIF,  family = binomial, corstr = "unstructured",
+     data =GP)

I get these results :
Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27
running glm to get initial regression estimate
(Intercept)         X1M  X2Sans AMP      X2Stim
 -2.4791229   0.4250848  -0.1310666  -0.2151235
Error in gee(Y ~ X1 + X2, id = IDENTIF, family = binomial, corstr =
"unstructured",  :
  NA/NaN/Inf dans un appel `a une fonction externe (argument 2)#in a
call to an external function would be the translation
De plus : Warning message:
In gee(Y ~ X1 + X2, id = IDENTIF, family = binomial, corstr = "unstructured",  :
  NAs introduits lors de la conversion automatique

geepack does not work any better when the regression gives results
with SAS version 8 on the same dataset (results are pretty close from
the results of a naive logistic regression).
I tried to change the explanatory variables (X1 alone, X2 alone, other
possible explanatory vairables : no result). I do not find where the
error comes from.

Thank you for your help.
David
Using R2.7.2 and gee version 4.13-13

PS Naive logistic regression give similar results on R and SAS in my case


From stefano.iacus at unimi.it  Fri Sep 19 21:03:09 2008
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri, 19 Sep 2008 21:03:09 +0200
Subject: [R-SIG-Mac] Error in GEE models
In-Reply-To: <772cb06e0809181630udb4ced5tf96b5089b0e9c59f@mail.gmail.com>
References: <772cb06e0809181630udb4ced5tf96b5089b0e9c59f@mail.gmail.com>
Message-ID: <5C07A95A-86FF-4ADE-B0D2-ED02203EC1B4@unimi.it>

Please, use the appropriate list, e.g. r-help and you'll get a useful  
answer with higher probability than here.
There is nothing mac specific in your mails
stefano

On 19/set/08, at 01:30, david dav wrote:

> Hi,
> I would like to fit a GLM model with GEE on clustered data.
> I tried to use gee in the GEE package on a twin data set. All cluster
> are of size 2. I removed the missing data first.
>
>> gee(Y ~ X1 + X2,
> +     id = IDENTIF,  family = binomial, corstr = "unstructured",
> +     data =GP)
>
> I get these results :
> Beginning Cgee S-function, @(#) geeformula.q 4.13 98/01/27
> running glm to get initial regression estimate
> (Intercept)         X1M  X2Sans AMP      X2Stim
> -2.4791229   0.4250848  -0.1310666  -0.2151235
> Error in gee(Y ~ X1 + X2, id = IDENTIF, family = binomial, corstr =
> "unstructured",  :
>  NA/NaN/Inf dans un appel `a une fonction externe (argument 2)#in a
> call to an external function would be the translation
> De plus : Warning message:
> In gee(Y ~ X1 + X2, id = IDENTIF, family = binomial, corstr =  
> "unstructured",  :
>  NAs introduits lors de la conversion automatique
>
> geepack does not work any better when the regression gives results
> with SAS version 8 on the same dataset (results are pretty close from
> the results of a naive logistic regression).
> I tried to change the explanatory variables (X1 alone, X2 alone, other
> possible explanatory vairables : no result). I do not find where the
> error comes from.
>
> Thank you for your help.
> David
> Using R2.7.2 and gee version 4.13-13
>
> PS Naive logistic regression give similar results on R and SAS in my  
> case
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ssefick at gmail.com  Sun Sep 21 21:10:38 2008
From: ssefick at gmail.com (stephen sefick)
Date: Sun, 21 Sep 2008 15:10:38 -0400
Subject: [R-SIG-Mac] Fwd: making binaries for os x 10.3.9
In-Reply-To: <c502a9e10809211209v1dc3e244u9877677380581f42@mail.gmail.com>
References: <c502a9e10809211209v1dc3e244u9877677380581f42@mail.gmail.com>
Message-ID: <c502a9e10809211210r1ffc474clcc061065c1227763@mail.gmail.com>

---------- Forwarded message ----------
From: stephen sefick <ssefick at gmail.com>
Date: Sun, Sep 21, 2008 at 3:09 PM
Subject: making binaries for os x 10.3.9
To: R-help Mailing List <r-help-sig at r-project.org>


I am going to try and build r from source on a 10.3.9 machine.  I
would like to have this for a mobile R platform, and even thought this
will be the first time that I try this, I can share this if I indeed
get it compiled correctly.  I am waithing untill freeBSD ppc port gets
a little bit more coherent until I switch over.  Any thoughts,
suggestions, or comments are welcome.

--
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

       -K. Mullis



-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From ssefick at gmail.com  Sun Sep 21 23:31:42 2008
From: ssefick at gmail.com (stephen sefick)
Date: Sun, 21 Sep 2008 17:31:42 -0400
Subject: [R-SIG-Mac] x11 10.3.9
Message-ID: <c502a9e10809211431k339c6258o10f57ce7fc13292f@mail.gmail.com>

I am trying to compile R 2.7.2 from source and running the ./configure
command ends with

configure: error: --with-x=yes (default) and X11 headers/libs are not available

I have found out that apple X11 is broken but I can not figure out how
to fix it.

thanks

-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From sdavis2 at mail.nih.gov  Mon Sep 22 00:38:18 2008
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Sun, 21 Sep 2008 18:38:18 -0400
Subject: [R-SIG-Mac] x11 10.3.9
In-Reply-To: <c502a9e10809211431k339c6258o10f57ce7fc13292f@mail.gmail.com>
References: <c502a9e10809211431k339c6258o10f57ce7fc13292f@mail.gmail.com>
Message-ID: <264855a00809211538q669b8cf9p8d5c6cda499c04ee@mail.gmail.com>

On Sun, Sep 21, 2008 at 5:31 PM, stephen sefick <ssefick at gmail.com> wrote:
> I am trying to compile R 2.7.2 from source and running the ./configure
> command ends with
>
> configure: error: --with-x=yes (default) and X11 headers/libs are not available
>
> I have found out that apple X11 is broken but I can not figure out how
> to fix it.

Do you have X11 installed?  It should be in Applications/Utilities, if
I recall.  If not, you will need to install it from your original
install disk.  I just can't remember when apple started including X11
in the basic installation.

Sean


From ssefick at gmail.com  Mon Sep 22 00:41:20 2008
From: ssefick at gmail.com (stephen sefick)
Date: Sun, 21 Sep 2008 18:41:20 -0400
Subject: [R-SIG-Mac] x11 10.3.9
In-Reply-To: <264855a00809211538q669b8cf9p8d5c6cda499c04ee@mail.gmail.com>
References: <c502a9e10809211431k339c6258o10f57ce7fc13292f@mail.gmail.com>
	<264855a00809211538q669b8cf9p8d5c6cda499c04ee@mail.gmail.com>
Message-ID: <c502a9e10809211541v175fc8eahd2b3afb88b550b10@mail.gmail.com>

after a day of fooling around with this I had to install X11 SDK
within the Xcode tools.  I am getting close to getting making the file
and I am sure that there will be some sort of hang up,  but you'll
will hear about it. thanks for the help

On Sun, Sep 21, 2008 at 6:38 PM, Sean Davis <sdavis2 at mail.nih.gov> wrote:
> On Sun, Sep 21, 2008 at 5:31 PM, stephen sefick <ssefick at gmail.com> wrote:
>> I am trying to compile R 2.7.2 from source and running the ./configure
>> command ends with
>>
>> configure: error: --with-x=yes (default) and X11 headers/libs are not available
>>
>> I have found out that apple X11 is broken but I can not figure out how
>> to fix it.
>
> Do you have X11 installed?  It should be in Applications/Utilities, if
> I recall.  If not, you will need to install it from your original
> install disk.  I just can't remember when apple started including X11
> in the basic installation.
>
> Sean
>



-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From ssefick at gmail.com  Mon Sep 22 01:12:04 2008
From: ssefick at gmail.com (stephen sefick)
Date: Sun, 21 Sep 2008 19:12:04 -0400
Subject: [R-SIG-Mac] compilation error 10.3.9 (I don't believe that I can
	make this reporducible)
Message-ID: <c502a9e10809211612u2ca004c2t59cbf44876d5600b@mail.gmail.com>

making aqua.d from aqua.c
In file included from
/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:113,
                 from
/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:21,
                 from
/System/Library/Frameworks/ApplicationServices.framework/Headers/ApplicationServices.h:20,
                 from ../../src/include/R_ext/QuartzDevice.h:99,
                 from aqua.c:40:
/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/Debugging.h:285:2:
#else without #if
/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/Debugging.h:287:2:
#endif without #if
/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/Debugging.h:301:1:
missing binary operator before token "enum"
aqua.c:164:1: unterminated #if
make[3]: *** [aqua.d] Error 1
make[2]: *** [R] Error 2
make[1]: *** [R] Error 1
make: *** [R] Error 1


-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From ssefick at gmail.com  Mon Sep 22 06:09:44 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 22 Sep 2008 00:09:44 -0400
Subject: [R-SIG-Mac] 2.7.2 compiled on os x 10.3.9 now how do I get R to run
	by just typing R
Message-ID: <c502a9e10809212109q3db110f4re2d5a89c2f591eb4@mail.gmail.com>

I have compiled R 2.7.2 on mac 10.3.9 and can run it within an xterm
window.  I compiled it with the --without-aqua so I am only using x11.
 I don't have access to the x11 device within the terminal window, but
it does work when running R from within x term.

if I move into this directory:
cd ~
cd /Library/Frameworks/R.framework/Versions/2.7/Resources

and then type
.
/R

R starts up- how do I get it to work from anywhere with just issuing
the command R at the command prompt.  Thanks for your help,


-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis


From anastassia.scheidegger at googlemail.com  Sat Sep 20 23:04:06 2008
From: anastassia.scheidegger at googlemail.com (Anastassia Scheidegger)
Date: Sat, 20 Sep 2008 23:04:06 +0200
Subject: [R-SIG-Mac] R 2.7.2 for Mac OS X released
Message-ID: <6148d0a30809201404j1382fdd4id9d7f84a1d4b37b7@mail.gmail.com>

Dear Simon

For some reason I cannto install R-2.7.2 on my Mac (Mac OS 10.3.9) and
I cannot find
installations for R-2.7.1 either.

The explanations do not help me. I need the programme for the statistic course
at Uni Z?rich.

Hope you can help me!

Thanks a lot and best wishes

Anastassia Scheidegger


From sdavis2 at mail.nih.gov  Mon Sep 22 14:26:48 2008
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 22 Sep 2008 08:26:48 -0400
Subject: [R-SIG-Mac] 2.7.2 compiled on os x 10.3.9 now how do I get R to
	run by just typing R
In-Reply-To: <c502a9e10809212109q3db110f4re2d5a89c2f591eb4@mail.gmail.com>
References: <c502a9e10809212109q3db110f4re2d5a89c2f591eb4@mail.gmail.com>
Message-ID: <264855a00809220526s2c279effr1c711ce66910ccc7@mail.gmail.com>

On Mon, Sep 22, 2008 at 12:09 AM, stephen sefick <ssefick at gmail.com> wrote:
> I have compiled R 2.7.2 on mac 10.3.9 and can run it within an xterm
> window.  I compiled it with the --without-aqua so I am only using x11.
>  I don't have access to the x11 device within the terminal window, but
> it does work when running R from within x term.
>
> if I move into this directory:
> cd ~
> cd /Library/Frameworks/R.framework/Versions/2.7/Resources
>
> and then type
> .
> /R
>
> R starts up- how do I get it to work from anywhere with just issuing
> the command R at the command prompt.  Thanks for your help,

Make a soft link from that R to /usr/bin/R.  As long as /usr/bin is on
your PATH (which you can check by typing echo $PATH), this will work
just fine.  The command for making links on the filesystem is "ln".

Sean


From simon.urbanek at r-project.org  Mon Sep 22 15:40:42 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Sep 2008 09:40:42 -0400
Subject: [R-SIG-Mac] R 2.7.2 for Mac OS X released
In-Reply-To: <6148d0a30809201404j1382fdd4id9d7f84a1d4b37b7@mail.gmail.com>
References: <6148d0a30809201404j1382fdd4id9d7f84a1d4b37b7@mail.gmail.com>
Message-ID: <C724CC99-D919-4AAA-BBEE-6C565EDEC37B@r-project.org>

Anastassia,

On Sep 20, 2008, at 5:04 PM, Anastassia Scheidegger wrote:

> Dear Simon
>
> For some reason I cannto install R-2.7.2 on my Mac (Mac OS 10.3.9) and

unfortunately we don't support 10.3 (Panther) anymore. It is way too  
old (almost 5 years now) and with the introduction of Intel Macs the  
newer systems diverged too much such that it is not possible to use  
the same code on new systems and Panther. Therefore you'll have to  
upgrade at least to 10.4 to use R binaries (it's faster so if you have  
a G4 it's a good idea to do so).

Alternatively you can compile R yourself (which is what Stephen is  
reporting about here), but R starting with 2.7 Aqua/Quartz is no  
longer supported on 10.3 even in the sources, so you can only use the  
X11 interface. Also you'll need to compile packages from sources (use  
type='source' in install.packages).

Finally, the last R binary supporting OS X 10.3 was R-2.2.1 which is  
still available from CRAN. It is very old, so it will lack many new  
features and bugfixes.


> I cannot find
> installations for R-2.7.1 either.
>

See the "old" directory on the CRAN page.

Cheers,
Simon


> The explanations do not help me. I need the programme for the  
> statistic course
> at Uni Z?rich.
>
> Hope you can help me!
>
> Thanks a lot and best wishes
>
> Anastassia Scheidegger
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ssefick at gmail.com  Mon Sep 22 22:27:53 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 22 Sep 2008 16:27:53 -0400
Subject: [R-SIG-Mac] R 2.7.2 for Mac OS X released
In-Reply-To: <6148d0a30809221254n3e9e98a3r96087b7158ebd4a9@mail.gmail.com>
References: <6148d0a30809201404j1382fdd4id9d7f84a1d4b37b7@mail.gmail.com>
	<C724CC99-D919-4AAA-BBEE-6C565EDEC37B@r-project.org>
	<6148d0a30809221254n3e9e98a3r96087b7158ebd4a9@mail.gmail.com>
Message-ID: <c502a9e10809221327g3df65a24q649a086c2195b200@mail.gmail.com>

it will work, but you will have to build it from source, which took me
all day yesterday.  I don't know what I am doing, admittedly.  It is
easier to use the binaries if you can afford the upgrade.

On Mon, Sep 22, 2008 at 3:54 PM, Anastassia Scheidegger
<anastassia.scheidegger at googlemail.com> wrote:
> Dear  Jari & Simon
>
> Thanx a lot for your very prompt answers. So if I get you correctly,
> there is no way
> to install R 2.7.2 on Mac OS 10.3.9.
>
> I'll try to uptgrade to 10.4 then, and hope that R-2.7.2 is
> going to work.
>
> Cheers, Anastassia
>
>
>
>
>
> 2008/9/22 Simon Urbanek <simon.urbanek at r-project.org>:
>> Anastassia,
>>
>> On Sep 20, 2008, at 5:04 PM, Anastassia Scheidegger wrote:
>>
>>> Dear Simon
>>>
>>> For some reason I cannto install R-2.7.2 on my Mac (Mac OS 10.3.9) and
>>
>> unfortunately we don't support 10.3 (Panther) anymore. It is way too old
>> (almost 5 years now) and with the introduction of Intel Macs the newer
>> systems diverged too much such that it is not possible to use the same code
>> on new systems and Panther. Therefore you'll have to upgrade at least to
>> 10.4 to use R binaries (it's faster so if you have a G4 it's a good idea to
>> do so).
>>
>> Alternatively you can compile R yourself (which is what Stephen is reporting
>> about here), but R starting with 2.7 Aqua/Quartz is no longer supported on
>> 10.3 even in the sources, so you can only use the X11 interface. Also you'll
>> need to compile packages from sources (use type='source' in
>> install.packages).
>>
>> Finally, the last R binary supporting OS X 10.3 was R-2.2.1 which is still
>> available from CRAN. It is very old, so it will lack many new features and
>> bugfixes.
>>
>>
>>> I cannot find
>>> installations for R-2.7.1 either.
>>>
>>
>> See the "old" directory on the CRAN page.
>>
>> Cheers,
>> Simon
>>
>>
>>> The explanations do not help me. I need the programme for the statistic
>>> course
>>> at Uni Z?rich.
>>>
>>> Hope you can help me!
>>>
>>> Thanks a lot and best wishes
>>>
>>> Anastassia Scheidegger
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>>
>



-- 
Stephen Sefick
Research Scientist
Southeastern Natural Sciences Academy

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods. We are mammals, and have not exhausted the
annoying little problems of being mammals.

	-K. Mullis

From john.maindonald at anu.edu.au  Tue Sep 23 06:20:19 2008
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 23 Sep 2008 14:20:19 +1000
Subject: [R-SIG-Mac] Problems with packages that require Gtk2
Message-ID: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>

Has anyone been able to get packages that rely on Gtk2 to run under  
Leopard?

I have experimented with the playwith package, as depending on a small  
number of packages additional to Gtk2.   I can pretty consistently  
generate a bus error by attaching playwith, then printing a lattice  
object.  Note that I have not run any functions from the playwith  
package.

The same may happen if I attach all the packages on which playwith  
depends (but not playwith itself), but the bus error does not appear  
with the same consistency.

Here is a transcript on a session:

[Previously saved workspace restored]

 > options(STERM='iESS', editor='emacsclient')
 > library(lattice)
 > library(playwith)
Loading required package: latticeExtra
Loading required package: RColorBrewer
Loading required package: grid
Loading required package: gWidgets
Loading required package: gWidgetsRGtk2
Loading required package: RGtk2
Loading required package: cairoDevice
 > sessionInfo()
R version 2.7.2 (2008-08-25)
i386-apple-darwin8.11.1

locale:
C

attached base packages:
[1] grid      stats     graphics  grDevices utils     datasets  methods
[8] base

other attached packages:
[1] playwith_0.9-11      cairoDevice_2.8      gWidgetsRGtk2_0.0-36
[4] RGtk2_2.12.5-3       gWidgets_0.0-28      latticeExtra_0.5-1
[7] RColorBrewer_1.0-2   lattice_0.17-13

loaded via a namespace (and not attached):
[1] gridBase_0.4-3 tools_2.7.2
Warning message:
'DESCRIPTION' file has 'Encoding' field and re-encoding is not possible
 > gph <- xyplot(weight ~ height, data=women)
 > print(gph)

  *** caught bus error ***
address 0xa8, cause 'non-existent physical address'

Traceback:
  1: .Call(L_newpage)
  2: grid.newpage()
  3: printFunction(x, ...)
  4: print.trellis(gph)
  5: print(gph)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: 1
aborting ...

Process R bus error at Tue Sep 23 14:01:23 2008

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


From anastassia.scheidegger at googlemail.com  Mon Sep 22 21:54:52 2008
From: anastassia.scheidegger at googlemail.com (Anastassia Scheidegger)
Date: Mon, 22 Sep 2008 21:54:52 +0200
Subject: [R-SIG-Mac] R 2.7.2 for Mac OS X released
In-Reply-To: <C724CC99-D919-4AAA-BBEE-6C565EDEC37B@r-project.org>
References: <6148d0a30809201404j1382fdd4id9d7f84a1d4b37b7@mail.gmail.com>
	<C724CC99-D919-4AAA-BBEE-6C565EDEC37B@r-project.org>
Message-ID: <6148d0a30809221254n3e9e98a3r96087b7158ebd4a9@mail.gmail.com>

Dear  Jari & Simon

Thanx a lot for your very prompt answers. So if I get you correctly,
there is no way
to install R 2.7.2 on Mac OS 10.3.9.

I'll try to uptgrade to 10.4 then, and hope that R-2.7.2 is
going to work.

Cheers, Anastassia





2008/9/22 Simon Urbanek <simon.urbanek at r-project.org>:
> Anastassia,
>
> On Sep 20, 2008, at 5:04 PM, Anastassia Scheidegger wrote:
>
>> Dear Simon
>>
>> For some reason I cannto install R-2.7.2 on my Mac (Mac OS 10.3.9) and
>
> unfortunately we don't support 10.3 (Panther) anymore. It is way too old
> (almost 5 years now) and with the introduction of Intel Macs the newer
> systems diverged too much such that it is not possible to use the same code
> on new systems and Panther. Therefore you'll have to upgrade at least to
> 10.4 to use R binaries (it's faster so if you have a G4 it's a good idea to
> do so).
>
> Alternatively you can compile R yourself (which is what Stephen is reporting
> about here), but R starting with 2.7 Aqua/Quartz is no longer supported on
> 10.3 even in the sources, so you can only use the X11 interface. Also you'll
> need to compile packages from sources (use type='source' in
> install.packages).
>
> Finally, the last R binary supporting OS X 10.3 was R-2.2.1 which is still
> available from CRAN. It is very old, so it will lack many new features and
> bugfixes.
>
>
>> I cannot find
>> installations for R-2.7.1 either.
>>
>
> See the "old" directory on the CRAN page.
>
> Cheers,
> Simon
>
>
>> The explanations do not help me. I need the programme for the statistic
>> course
>> at Uni Z?rich.
>>
>> Hope you can help me!
>>
>> Thanks a lot and best wishes
>>
>> Anastassia Scheidegger
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>


From simon.urbanek at r-project.org  Tue Sep 23 15:32:43 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 23 Sep 2008 09:32:43 -0400
Subject: [R-SIG-Mac] Problems with packages that require Gtk2
In-Reply-To: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>
References: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>
Message-ID: <2B8F909A-DA71-42A4-9F96-B2C561BE1A5C@r-project.org>


On Sep 23, 2008, at 0:20 , John Maindonald wrote:

> Has anyone been able to get packages that rely on Gtk2 to run under  
> Leopard?
>

Yes, I see no problem with Gtk2.


> I have experimented with the playwith package, as depending on a  
> small number of packages additional to Gtk2.   I can pretty  
> consistently generate a bus error by attaching playwith, then  
> printing a lattice object.  Note that I have not run any functions  
> from the playwith package.
>
> The same may happen if I attach all the packages on which playwith  
> depends (but not playwith itself), but the bus error does not appear  
> with the same consistency.
>

The problem appears to be in Michael's carioDevice, it crashes because  
its cairo context is NULL. I suspect it may not have a good error  
handling. I'm not sure what causes the problem, you may try to contact  
Michael. Neither the built-in R cairo device nor the Cairo package  
have any problems, so I don't think it's a problem on the cairo side...

Cheers,
Simon


> Here is a transcript on a session:
>
> [Previously saved workspace restored]
>
> > options(STERM='iESS', editor='emacsclient')
> > library(lattice)
> > library(playwith)
> Loading required package: latticeExtra
> Loading required package: RColorBrewer
> Loading required package: grid
> Loading required package: gWidgets
> Loading required package: gWidgetsRGtk2
> Loading required package: RGtk2
> Loading required package: cairoDevice
> > sessionInfo()
> R version 2.7.2 (2008-08-25)
> i386-apple-darwin8.11.1
>
> locale:
> C
>
> attached base packages:
> [1] grid      stats     graphics  grDevices utils     datasets   
> methods
> [8] base
>
> other attached packages:
> [1] playwith_0.9-11      cairoDevice_2.8      gWidgetsRGtk2_0.0-36
> [4] RGtk2_2.12.5-3       gWidgets_0.0-28      latticeExtra_0.5-1
> [7] RColorBrewer_1.0-2   lattice_0.17-13
>
> loaded via a namespace (and not attached):
> [1] gridBase_0.4-3 tools_2.7.2
> Warning message:
> 'DESCRIPTION' file has 'Encoding' field and re-encoding is not  
> possible
> > gph <- xyplot(weight ~ height, data=women)
> > print(gph)
>
> *** caught bus error ***
> address 0xa8, cause 'non-existent physical address'
>
> Traceback:
> 1: .Call(L_newpage)
> 2: grid.newpage()
> 3: printFunction(x, ...)
> 4: print.trellis(gph)
> 5: print(gph)
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection: 1
> aborting ...
>
> Process R bus error at Tue Sep 23 14:01:23 2008
>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From John.Maindonald at anu.edu.au  Wed Sep 24 13:12:53 2008
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Wed, 24 Sep 2008 21:12:53 +1000
Subject: [R-SIG-Mac] Problems with packages that require Gtk2
In-Reply-To: <2B8F909A-DA71-42A4-9F96-B2C561BE1A5C@r-project.org>
References: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>
	<2B8F909A-DA71-42A4-9F96-B2C561BE1A5C@r-project.org>
Message-ID: <8DF3DE25-2C6E-492D-BC21-1CF1D9C9180C@anu.edu.au>

I've had a brief exchange of emails, to which Simon is privy, with  
Michael Lawrence.

"From what I've heard, people who compile the entire toolchain, i.e.  
do not use Simon's GTK+, cairo, etc binaries, do not have a problem  
with cairoDevice on the Mac. ... In the past, the seg faults were  
occuring in the font handling code, whenever rotated text was drawn.  
Of course, this is probably just a sign of memory corruption  
elsewhere, but my guess is that's related to the Pango/Cairo  
interaction."

Has anyone had success going this route (compiling the entire  
toolchain)?  If one does go this route, how should it be done?   
Install MacPorts and follow the instructions on the MacPorts web  
page?  I found detailed instructions on a web page that is designed to  
make it possible to reproduce a problem with fonts:
http://trac.macports.org/ticket/15626


John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 23/09/2008, at 11:32 PM, Simon Urbanek wrote:

>
> On Sep 23, 2008, at 0:20 , John Maindonald wrote:
>
>> Has anyone been able to get packages that rely on Gtk2 to run under  
>> Leopard?
>>
>
> Yes, I see no problem with Gtk2.
>
>
>> I have experimented with the playwith package, as depending on a  
>> small number of packages additional to Gtk2.   I can pretty  
>> consistently generate a bus error by attaching playwith, then  
>> printing a lattice object.  Note that I have not run any functions  
>> from the playwith package.
>>
>> The same may happen if I attach all the packages on which playwith  
>> depends (but not playwith itself), but the bus error does not  
>> appear with the same consistency.
>>
>
> The problem appears to be in Michael's carioDevice, it crashes  
> because its cairo context is NULL. I suspect it may not have a good  
> error handling. I'm not sure what causes the problem, you may try to  
> contact Michael. Neither the built-in R cairo device nor the Cairo  
> package have any problems, so I don't think it's a problem on the  
> cairo side...
>
> Cheers,
> Simon
>
>
>> Here is a transcript on a session:
>>
>> [Previously saved workspace restored]
>>
>> > options(STERM='iESS', editor='emacsclient')
>> > library(lattice)
>> > library(playwith)
>> Loading required package: latticeExtra
>> Loading required package: RColorBrewer
>> Loading required package: grid
>> Loading required package: gWidgets
>> Loading required package: gWidgetsRGtk2
>> Loading required package: RGtk2
>> Loading required package: cairoDevice
>> > sessionInfo()
>> R version 2.7.2 (2008-08-25)
>> i386-apple-darwin8.11.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] grid      stats     graphics  grDevices utils     datasets   
>> methods
>> [8] base
>>
>> other attached packages:
>> [1] playwith_0.9-11      cairoDevice_2.8      gWidgetsRGtk2_0.0-36
>> [4] RGtk2_2.12.5-3       gWidgets_0.0-28      latticeExtra_0.5-1
>> [7] RColorBrewer_1.0-2   lattice_0.17-13
>>
>> loaded via a namespace (and not attached):
>> [1] gridBase_0.4-3 tools_2.7.2
>> Warning message:
>> 'DESCRIPTION' file has 'Encoding' field and re-encoding is not  
>> possible
>> > gph <- xyplot(weight ~ height, data=women)
>> > print(gph)
>>
>> *** caught bus error ***
>> address 0xa8, cause 'non-existent physical address'
>>
>> Traceback:
>> 1: .Call(L_newpage)
>> 2: grid.newpage()
>> 3: printFunction(x, ...)
>> 4: print.trellis(gph)
>> 5: print(gph)
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection: 1
>> aborting ...
>>
>> Process R bus error at Tue Sep 23 14:01:23 2008
>>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Sep 24 15:53:36 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 24 Sep 2008 09:53:36 -0400
Subject: [R-SIG-Mac] Problems with packages that require Gtk2
In-Reply-To: <8DF3DE25-2C6E-492D-BC21-1CF1D9C9180C@anu.edu.au>
References: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>
	<2B8F909A-DA71-42A4-9F96-B2C561BE1A5C@r-project.org>
	<8DF3DE25-2C6E-492D-BC21-1CF1D9C9180C@anu.edu.au>
Message-ID: <43ABACFD-4D4A-4FCD-AF05-94D1959D67E9@r-project.org>


On Sep 24, 2008, at 7:12 , John Maindonald wrote:

> I've had a brief exchange of emails, to which Simon is privy, with  
> Michael Lawrence.
>
> "From what I've heard, people who compile the entire toolchain, i.e.  
> do not use Simon's GTK+, cairo, etc binaries, do not have a problem  
> with cairoDevice on the Mac. ... In the past, the seg faults were  
> occuring in the font handling code, whenever rotated text was drawn.  
> Of course, this is probably just a sign of memory corruption  
> elsewhere, but my guess is that's related to the Pango/Cairo  
> interaction."
>
> Has anyone had success going this route (compiling the entire  
> toolchain)?  If one does go this route, how should it be done?   
> Install MacPorts and follow the instructions on the MacPorts web  
> page?  I found detailed instructions on a web page that is designed  
> to make it possible to reproduce a problem with fonts:
> http://trac.macports.org/ticket/15626
>

I have script that can build RGtk2 quite nicely in a separate  
framework. I plan to make this the default binary for R 2.8, but for  
compatibility's sake we cannot switch for 2.7. I can make the binary  
and/or the script available for those interested. (It started as way  
to test the bleeding edge of the native Gtk for OS X, but tests on  
ggobi show that it's not quite there yet - but that's another story).

Cheers,
Simon

PS: I don't quite agree with Michael's analysis since cairoDevices  
blows up even before any drawing is done, it has nothing to do with  
rotated text:

#0  _cairo_surface_show_page (surface=0x0) at ../../../cairo-1.4.14/ 
src/cairo-surface.c:1541
#1  0x0116c66a in cairo_show_page (cr=0xe02800) at ../../../ 
cairo-1.4.14/src/cairo.c:2139
#2  0x011694bf in initDevice (dd=0x668c20) at cairoDevice.c:114
#3  0x0116960f in Cairo_NewPage (gc=0xbfffeb1c, dd=0x61f860) at  
cairoDevice.c:660
#4  0x0038e16a in Rf_GNewPlot (recording=TRUE) at ../../../../R-2.7- 
branch/src/main/graphics.c:1809

(gdb) p cd
$2 = (CairoDesc *) 0x61cc70
(gdb) p *cd
$3 = {
   window = 0x32ac020,
   drawing = 0x17fb050,
   pixmap = 0x32af080,
   cr = 0xe02800,
   surface = 0x0,
   filename = 0x0,
   width = 525,
   height = 525,
   event = 0x0,
   locator = 0x0
}


> On 23/09/2008, at 11:32 PM, Simon Urbanek wrote:
>
>>
>> On Sep 23, 2008, at 0:20 , John Maindonald wrote:
>>
>>> Has anyone been able to get packages that rely on Gtk2 to run  
>>> under Leopard?
>>>
>>
>> Yes, I see no problem with Gtk2.
>>
>>
>>> I have experimented with the playwith package, as depending on a  
>>> small number of packages additional to Gtk2.   I can pretty  
>>> consistently generate a bus error by attaching playwith, then  
>>> printing a lattice object.  Note that I have not run any functions  
>>> from the playwith package.
>>>
>>> The same may happen if I attach all the packages on which playwith  
>>> depends (but not playwith itself), but the bus error does not  
>>> appear with the same consistency.
>>>
>>
>> The problem appears to be in Michael's carioDevice, it crashes  
>> because its cairo context is NULL. I suspect it may not have a good  
>> error handling. I'm not sure what causes the problem, you may try  
>> to contact Michael. Neither the built-in R cairo device nor the  
>> Cairo package have any problems, so I don't think it's a problem on  
>> the cairo side...
>>
>> Cheers,
>> Simon
>>
>>
>>> Here is a transcript on a session:
>>>
>>> [Previously saved workspace restored]
>>>
>>> > options(STERM='iESS', editor='emacsclient')
>>> > library(lattice)
>>> > library(playwith)
>>> Loading required package: latticeExtra
>>> Loading required package: RColorBrewer
>>> Loading required package: grid
>>> Loading required package: gWidgets
>>> Loading required package: gWidgetsRGtk2
>>> Loading required package: RGtk2
>>> Loading required package: cairoDevice
>>> > sessionInfo()
>>> R version 2.7.2 (2008-08-25)
>>> i386-apple-darwin8.11.1
>>>
>>> locale:
>>> C
>>>
>>> attached base packages:
>>> [1] grid      stats     graphics  grDevices utils     datasets   
>>> methods
>>> [8] base
>>>
>>> other attached packages:
>>> [1] playwith_0.9-11      cairoDevice_2.8      gWidgetsRGtk2_0.0-36
>>> [4] RGtk2_2.12.5-3       gWidgets_0.0-28      latticeExtra_0.5-1
>>> [7] RColorBrewer_1.0-2   lattice_0.17-13
>>>
>>> loaded via a namespace (and not attached):
>>> [1] gridBase_0.4-3 tools_2.7.2
>>> Warning message:
>>> 'DESCRIPTION' file has 'Encoding' field and re-encoding is not  
>>> possible
>>> > gph <- xyplot(weight ~ height, data=women)
>>> > print(gph)
>>>
>>> *** caught bus error ***
>>> address 0xa8, cause 'non-existent physical address'
>>>
>>> Traceback:
>>> 1: .Call(L_newpage)
>>> 2: grid.newpage()
>>> 3: printFunction(x, ...)
>>> 4: print.trellis(gph)
>>> 5: print(gph)
>>>
>>> Possible actions:
>>> 1: abort (with core dump, if enabled)
>>> 2: normal R exit
>>> 3: exit R without saving workspace
>>> 4: exit R saving workspace
>>> Selection: 1
>>> aborting ...
>>>
>>> Process R bus error at Tue Sep 23 14:01:23 2008
>>>
>>> John Maindonald             email: john.maindonald at anu.edu.au
>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>> Centre for Mathematics & Its Applications, Room 1194,
>>> John Dedman Mathematical Sciences Building (Building 27)
>>> Australian National University, Canberra ACT 0200.
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From mflawren at fhcrc.org  Wed Sep 24 16:13:00 2008
From: mflawren at fhcrc.org (Michael Lawrence)
Date: Wed, 24 Sep 2008 07:13:00 -0700
Subject: [R-SIG-Mac] Problems with packages that require Gtk2
In-Reply-To: <43ABACFD-4D4A-4FCD-AF05-94D1959D67E9@r-project.org>
References: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>
	<2B8F909A-DA71-42A4-9F96-B2C561BE1A5C@r-project.org>
	<8DF3DE25-2C6E-492D-BC21-1CF1D9C9180C@anu.edu.au>
	<43ABACFD-4D4A-4FCD-AF05-94D1959D67E9@r-project.org>
Message-ID: <509e0620809240713r1ab2e665u78f52484a39e160c@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080924/4c0024ab/attachment.pl>

From John.Maindonald at anu.edu.au  Thu Sep 25 04:32:14 2008
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Thu, 25 Sep 2008 12:32:14 +1000
Subject: [R-SIG-Mac] Problems with packages that require Gtk2
In-Reply-To: <509e0620809240713r1ab2e665u78f52484a39e160c@mail.gmail.com>
References: <B4B64701-9F7D-48AF-A8E3-6E34321FC4F4@anu.edu.au>
	<2B8F909A-DA71-42A4-9F96-B2C561BE1A5C@r-project.org>
	<8DF3DE25-2C6E-492D-BC21-1CF1D9C9180C@anu.edu.au>
	<43ABACFD-4D4A-4FCD-AF05-94D1959D67E9@r-project.org>
	<509e0620809240713r1ab2e665u78f52484a39e160c@mail.gmail.com>
Message-ID: <D967ECFC-6F48-4FDE-890F-B861C3E94DCA@anu.edu.au>

Thanks, Michael and Simon.  My main concern was to discover
where we are at.  It will be great if this can be resolved for 2.8
Cheers
John.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 25/09/2008, at 12:13 AM, Michael Lawrence wrote:

> On Wed, Sep 24, 2008 at 6:53 AM, Simon Urbanek
> <simon.urbanek at r-project.org>wrote:
>
>>
>> On Sep 24, 2008, at 7:12 , John Maindonald wrote:
>>
>> I've had a brief exchange of emails, to which Simon is privy, with  
>> Michael
>>> Lawrence.
>>>
>>> "From what I've heard, people who compile the entire toolchain,  
>>> i.e. do
>>> not use Simon's GTK+, cairo, etc binaries, do not have a problem  
>>> with
>>> cairoDevice on the Mac. ... In the past, the seg faults were  
>>> occuring in the
>>> font handling code, whenever rotated text was drawn. Of course,  
>>> this is
>>> probably just a sign of memory corruption elsewhere, but my guess  
>>> is that's
>>> related to the Pango/Cairo interaction."
>>>
>>> Has anyone had success going this route (compiling the entire  
>>> toolchain)?
>>> If one does go this route, how should it be done?  Install  
>>> MacPorts and
>>> follow the instructions on the MacPorts web page?  I found detailed
>>> instructions on a web page that is designed to make it possible to  
>>> reproduce
>>> a problem with fonts:
>>> http://trac.macports.org/ticket/15626
>>>
>>>
>> I have script that can build RGtk2 quite nicely in a separate  
>> framework. I
>> plan to make this the default binary for R 2.8, but for  
>> compatibility's sake
>> we cannot switch for 2.7. I can make the binary and/or the script  
>> available
>> for those interested. (It started as way to test the bleeding edge  
>> of the
>> native Gtk for OS X, but tests on ggobi show that it's not quite  
>> there yet -
>> but that's another story).
>>
>> Cheers,
>> Simon
>>
>> PS: I don't quite agree with Michael's analysis since cairoDevices  
>> blows up
>> even before any drawing is done, it has nothing to do with rotated  
>> text:
>>
>
> Well there are different bugs on different systems, I guess. This  
> one seems
> seems easier to understand. Somehow the Cairo context doesn't have a
> surface. I will try to find a Mac at my work today or tomorrow and  
> take a
> look at this. Question: is this using the Quartz backend of GDK or the
> stable X11 one?
>
>
>>
>> #0  _cairo_surface_show_page (surface=0x0) at
>> ../../../cairo-1.4.14/src/cairo-surface.c:1541
>> #1  0x0116c66a in cairo_show_page (cr=0xe02800) at
>> ../../../cairo-1.4.14/src/cairo.c:2139
>> #2  0x011694bf in initDevice (dd=0x668c20) at cairoDevice.c:114
>> #3  0x0116960f in Cairo_NewPage (gc=0xbfffeb1c, dd=0x61f860) at
>> cairoDevice.c:660
>> #4  0x0038e16a in Rf_GNewPlot (recording=TRUE) at
>> ../../../../R-2.7-branch/src/main/graphics.c:1809
>>
>> (gdb) p cd
>> $2 = (CairoDesc *) 0x61cc70
>> (gdb) p *cd
>> $3 = {
>> window = 0x32ac020,
>> drawing = 0x17fb050,
>> pixmap = 0x32af080,
>> cr = 0xe02800,
>> surface = 0x0,
>
>
> By the way, having a NULL surface here is normal if the drawing is
> on-screen. I let GDK handle the surface in that case.
>
>
>>
>> filename = 0x0,
>> width = 525,
>> height = 525,
>> event = 0x0,
>> locator = 0x0
>>
>> }
>>
>>
>> On 23/09/2008, at 11:32 PM, Simon Urbanek wrote:
>>>
>>>
>>>> On Sep 23, 2008, at 0:20 , John Maindonald wrote:
>>>>
>>>> Has anyone been able to get packages that rely on Gtk2 to run under
>>>>> Leopard?
>>>>>
>>>>>
>>>> Yes, I see no problem with Gtk2.
>>>>
>>>>
>>>> I have experimented with the playwith package, as depending on a  
>>>> small
>>>>> number of packages additional to Gtk2.   I can pretty  
>>>>> consistently generate
>>>>> a bus error by attaching playwith, then printing a lattice  
>>>>> object.  Note
>>>>> that I have not run any functions from the playwith package.
>>>>>
>>>>> The same may happen if I attach all the packages on which playwith
>>>>> depends (but not playwith itself), but the bus error does not  
>>>>> appear with
>>>>> the same consistency.
>>>>>
>>>>>
>>>> The problem appears to be in Michael's carioDevice, it crashes  
>>>> because
>>>> its cairo context is NULL. I suspect it may not have a good error  
>>>> handling.
>>>> I'm not sure what causes the problem, you may try to contact  
>>>> Michael.
>>>> Neither the built-in R cairo device nor the Cairo package have  
>>>> any problems,
>>>> so I don't think it's a problem on the cairo side...
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>> Here is a transcript on a session:
>>>>>
>>>>> [Previously saved workspace restored]
>>>>>
>>>>>> options(STERM='iESS', editor='emacsclient')
>>>>>> library(lattice)
>>>>>> library(playwith)
>>>>> Loading required package: latticeExtra
>>>>> Loading required package: RColorBrewer
>>>>> Loading required package: grid
>>>>> Loading required package: gWidgets
>>>>> Loading required package: gWidgetsRGtk2
>>>>> Loading required package: RGtk2
>>>>> Loading required package: cairoDevice
>>>>>> sessionInfo()
>>>>> R version 2.7.2 (2008-08-25)
>>>>> i386-apple-darwin8.11.1
>>>>>
>>>>> locale:
>>>>> C
>>>>>
>>>>> attached base packages:
>>>>> [1] grid      stats     graphics  grDevices utils     datasets   
>>>>> methods
>>>>> [8] base
>>>>>
>>>>> other attached packages:
>>>>> [1] playwith_0.9-11      cairoDevice_2.8      gWidgetsRGtk2_0.0-36
>>>>> [4] RGtk2_2.12.5-3       gWidgets_0.0-28      latticeExtra_0.5-1
>>>>> [7] RColorBrewer_1.0-2   lattice_0.17-13
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] gridBase_0.4-3 tools_2.7.2
>>>>> Warning message:
>>>>> 'DESCRIPTION' file has 'Encoding' field and re-encoding is not  
>>>>> possible
>>>>>> gph <- xyplot(weight ~ height, data=women)
>>>>>> print(gph)
>>>>>
>>>>> *** caught bus error ***
>>>>> address 0xa8, cause 'non-existent physical address'
>>>>>
>>>>> Traceback:
>>>>> 1: .Call(L_newpage)
>>>>> 2: grid.newpage()
>>>>> 3: printFunction(x, ...)
>>>>> 4: print.trellis(gph)
>>>>> 5: print(gph)
>>>>>
>>>>> Possible actions:
>>>>> 1: abort (with core dump, if enabled)
>>>>> 2: normal R exit
>>>>> 3: exit R without saving workspace
>>>>> 4: exit R saving workspace
>>>>> Selection: 1
>>>>> aborting ...
>>>>>
>>>>> Process R bus error at Tue Sep 23 14:01:23 2008
>>>>>
>>>>> John Maindonald             email: john.maindonald at anu.edu.au
>>>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>>>> Centre for Mathematics & Its Applications, Room 1194,
>>>>> John Dedman Mathematical Sciences Building (Building 27)
>>>>> Australian National University, Canberra ACT 0200.
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>>
>>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From foylong at gmail.com  Fri Sep 26 12:57:12 2008
From: foylong at gmail.com (=?ISO-8859-1?Q?F=E1n_L=F3ng?=)
Date: Fri, 26 Sep 2008 18:57:12 +0800
Subject: [R-SIG-Mac] Build package failed on MacOS Leopard
Message-ID: <e936a3d0809260357u202f5d4i8e126000243c3528@mail.gmail.com>

Hi there,

When I build my R package with below command on leopard, MacOS 10.5,
it reports that the ppc architecture library file is missing. I was
wondering how can I build this package only with i386 arch, and don't
build the ppc architecture.

Below is my build command and build result:

----------------
R CMD build ?binary my_package_src_dir
R_ARCH=/i386 R CMD INSTALL --with-package-versions my_package_tarball

---------------
* Installing *source* package 'mypackage' ...
** libs
** arch - i386
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
-mmacosx-version-min=10.4
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/i386 -DDARWIN
-msse3    -fPIC  -g -O2 -march=nocona -c RInvokeApp.cpp -o
RInvokeApp.o
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
-mmacosx-version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names
-mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
-multiply_defined suppress -L/usr/local/lib -o mypackage.so
RInvokeApp.o   -F/Library/Frameworks/R.framework/.. -framework R
-Wl,-framework -Wl,CoreFoundation
ld: warning, duplicate dylib
/Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
** arch - ppc
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
-mmacosx-version-min=10.4
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc -DDARWIN
-I/usr/local/include    -fPIC  -g -O2 -c RInvoke.cpp -o RInvoke.o
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
-mmacosx-version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names
-mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
-multiply_defined suppress -L/usr/local/lib -o .so RInvoke.o
-F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
-Wl,CoreFoundation
ld: warning in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.10.4.dylib,
missing required architecture ppc in file
ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib,
missing required architecture ppc in file
collect2: ld returned 1 exit status
make: *** [.so] Error 1
chmod: /var/folders/B3/B3WXtjTxEN4bWH6AxrGJNU+++TI/-Tmp-/Rinst629842306//libs/ppc/*:
No such file or directory
ERROR: compilation failed for package 'mypackage'
** Removing '/var/folders/B3/B3WXtjTxEN4bWH6AxrGJNU+++TI/-Tmp-/Rinst629842306/mypackage'
 ERROR	
* installation failed


Thank you in advance!


From simon.urbanek at r-project.org  Fri Sep 26 15:36:58 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 26 Sep 2008 09:36:58 -0400
Subject: [R-SIG-Mac] Build package failed on MacOS Leopard
In-Reply-To: <e936a3d0809260357u202f5d4i8e126000243c3528@mail.gmail.com>
References: <e936a3d0809260357u202f5d4i8e126000243c3528@mail.gmail.com>
Message-ID: <548114FF-49A8-4D48-B92F-585346A32B71@r-project.org>


On Sep 26, 2008, at 6:57 , F?n L?ng wrote:

> Hi there,
>
> When I build my R package with below command on leopard, MacOS 10.5,
> it reports that the ppc architecture library file is missing.

First, note that you have a problem with the compilers you're using.  
They are not compatible with R. It is strongly discouraged to use 3rd  
party compilers, because they usually don't work. Use Apple compilers  
plus our Fortran build (see http://r.research.att.com/tools/ for  
details). The offending file (/usr/local/lib/libgcc_s.10.4.dylib) is  
from some 3rd party gcc installation.


> I was wondering how can I build this package only with i386 arch,  
> and don't build the ppc architecture.
>

Unfortunately there is no flag to disable multi-arch builds. The only  
way is to remove the architectures you're not using from R, most  
easily from bin/exec (i.e. look in
/Library/Frameworks/R.framework/Resources/bin/exec
and remove any architectures you don't want to use).

However, as stated before the problem is in your tools, not in the ppc  
architecture.

Cheers,
Simon


> Below is my build command and build result:
>
> ----------------
> R CMD build ?binary my_package_src_dir
> R_ARCH=/i386 R CMD INSTALL --with-package-versions my_package_tarball
>
> ---------------
> * Installing *source* package 'mypackage' ...
> ** libs
> ** arch - i386
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386 -DDARWIN
> -msse3    -fPIC  -g -O2 -march=nocona -c RInvokeApp.cpp -o
> RInvokeApp.o
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names
> -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
> -multiply_defined suppress -L/usr/local/lib -o mypackage.so
> RInvokeApp.o   -F/Library/Frameworks/R.framework/.. -framework R
> -Wl,-framework -Wl,CoreFoundation
> ld: warning, duplicate dylib
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
> ** arch - ppc
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/ppc -DDARWIN
> -I/usr/local/include    -fPIC  -g -O2 -c RInvoke.cpp -o RInvoke.o
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names
> -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
> -multiply_defined suppress -L/usr/local/lib -o .so RInvoke.o
> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> -Wl,CoreFoundation
> ld: warning in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/ 
> libgcc_s.10.4.dylib,
> missing required architecture ppc in file
> ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib,
> missing required architecture ppc in file
> collect2: ld returned 1 exit status
> make: *** [.so] Error 1
> chmod: /var/folders/B3/B3WXtjTxEN4bWH6AxrGJNU+++TI/-Tmp-/ 
> Rinst629842306//libs/ppc/*:
> No such file or directory
> ERROR: compilation failed for package 'mypackage'
> ** Removing '/var/folders/B3/B3WXtjTxEN4bWH6AxrGJNU+++TI/-Tmp-/ 
> Rinst629842306/mypackage'
> ERROR	
> * installation failed
>
>
> Thank you in advance!
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From km_newman at hotmail.com  Sat Sep 27 22:41:38 2008
From: km_newman at hotmail.com (Kurt Newman)
Date: Sat, 27 Sep 2008 16:41:38 -0400
Subject: [R-SIG-Mac] 64 bit Mac GUI
Message-ID: <COL102-W7F9E6833A71F4F02FB7AA88460@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080927/081ccf01/attachment.pl>

From simon.urbanek at r-project.org  Sun Sep 28 17:08:20 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 28 Sep 2008 11:08:20 -0400
Subject: [R-SIG-Mac] 64 bit Mac GUI
In-Reply-To: <COL102-W7F9E6833A71F4F02FB7AA88460@phx.gbl>
References: <COL102-W7F9E6833A71F4F02FB7AA88460@phx.gbl>
Message-ID: <3234BAE7-0206-4EC1-886F-5E69E308EB87@r-project.org>

On Sep 27, 2008, at 4:41 PM, Kurt Newman wrote:

> Hello,I have used Matthew's method to install 64 bit R on Leopard (http://www.matthewckeller.com/html/64_bit_r_on_mac.html 
> ) and from the command line in the terminal program both 32 bit  
> (command "R") and 64 bit (command "R --arch=x86_64") R seem to  
> work.  My question concerns the R GUI.  The page http://r.research.att.com/building.html 
>  indicates that "Leopard supports 64-bit throughout, including in  
> the R GUI".  The GUI downloaded from http://r.research.att.com/  
> opens 32 bit R, but I have not been able to get the GUI to open 64  
> bit R.  Please tell me what I am missing.  Does the GUI need to be  
> recompiled, is there a configuration that needs to be set, or have I  
> misunderstood the statement "64-bit throughout, including in the R  
> GUI".R is installed on a Mac Pro with Quad-Core Intel Xeon  
> processors and Mac OS X 10.5.4 operating system. Thank you,Kurt Newman
> 	[[alternative HTML version deleted]]


First a warning - please don't follow all "Matthew's instructions"  
unless you really know what you're doing. They are slightly misleading  
and most of the them are not necessary (and some are outright  
dangerous). If you think the instructions on http:// 
r.research.att.com/ are not sufficient, please say so!

As for the GUI, you have to compile 64-bit version of the GUI once you  
have 64-bit R installed. You can do so as follow (paste in the  
Terminal, you must have Xcode installed):

svn co https://svn.r-project.org/R-packages/trunk/Mac-GUI
# svn may ask you to accept ETH certificate here if run for the first  
time
cd Mac-GUI
xcodebuild -configuration Deployment64
open build/Deployment64

The last command will open the directory containing the newly built  
GUI in the Finder, so you can do whatever you please with it (replace  
the 32-bit, rename, copy to Applications, ...)

As for installing Leopard R, the simplest way is to paste this in the  
Terminal:

curl -s http://r.research.att.com/R-2.8-branch-leopard- 
universal.tar.gz \
| sudo tar fvxz - -C /

You don't need extra library paths for 64-bit packages, but you want  
to use type='source' in install.packages for 64-bit (as the site says).

Cheers,
Simon


From simon.urbanek at r-project.org  Sun Sep 28 21:36:51 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 28 Sep 2008 15:36:51 -0400
Subject: [R-SIG-Mac] 64 bit Mac GUI
In-Reply-To: <COL102-W56C7B6E49D6321F478646588410@phx.gbl>
References: <COL102-W7F9E6833A71F4F02FB7AA88460@phx.gbl>
	<3234BAE7-0206-4EC1-886F-5E69E308EB87@r-project.org>
	<COL102-W56C7B6E49D6321F478646588410@phx.gbl>
Message-ID: <02F4B61A-0353-4383-B9DE-E397A0566A29@r-project.org>

Kurt,

thanks for the report. That is indeed a bug the the GUI (some older  
code was not 64-bit safe). I have fixed it in SVN, so either re-run  
the commands I sent or you can simply update your SVN copy in the Mac- 
GUI directory by running
svn up
# and re-build
xcodebuild -configuration Deployment64

Thanks,
Simon

PS: When you are using the Package Installer, make sure you select  
"CRAN (sources)"!

On Sep 28, 2008, at 2:27 PM, Kurt Newman wrote:

>
>
>
>
> > CC: r-sig-mac at stat.math.ethz.ch
> > From: simon.urbanek at r-project.org
> > To: km_newman at hotmail.com
> > Subject: Re: [R-SIG-Mac] 64 bit Mac GUI
> > Date: Sun, 28 Sep 2008 11:08:20 -0400
> >
> > On Sep 27, 2008, at 4:41 PM, Kurt Newman wrote:
> >
> >> Hello,I have used Matthew's method to install 64 bit R on Leopard  
> (http://www.matthewckeller.com/html/64_bit_r_on_mac.html
> >> ) and from the command line in the terminal program both 32 bit
> >> (command "R") and 64 bit (command "R --arch=x86_64") R seem to
> >> work. My question concerns the R GUI. The page http://r.research.att.com/building.html
> >> indicates that "Leopard supports 64-bit throughout, including in
> >> the R GUI". The GUI downloaded from http://r.research.att.com/
> >> opens 32 bit R, but I have not been able to get the GUI to open 64
> >> bit R. Please tell me what I am missing. Does the GUI need to be
> >> recompiled, is there a configuration that needs to be set, or  
> have I
> >> misunderstood the statement "64-bit throughout, including in the R
> >> GUI".R is installed on a Mac Pro with Quad-Core Intel Xeon
> >> processors and Mac OS X 10.5.4 operating system. Thank you,Kurt  
> Newman
> >> [[alternative HTML version deleted]]
> >
> >
> > First a warning - please don't follow all "Matthew's instructions"
> > unless you really know what you're doing. They are slightly  
> misleading
> > and most of the them are not necessary (and some are outright
> > dangerous). If you think the instructions on http://
> > r.research.att.com/ are not sufficient, please say so!
> >
> > As for the GUI, you have to compile 64-bit version of the GUI once  
> you
> > have 64-bit R installed. You can do so as follow (paste in the
> > Terminal, you must have Xcode installed):
> >
> > svn co https://svn.r-project.org/R-packages/trunk/Mac-GUI
> > # svn may ask you to accept ETH certificate here if run for the  
> first
> > time
> > cd Mac-GUI
> > xcodebuild -configuration Deployment64
> > open build/Deployment64
> >
> > The last command will open the directory containing the newly built
> > GUI in the Finder, so you can do whatever you please with it  
> (replace
> > the 32-bit, rename, copy to Applications, ...)
> >
> > As for installing Leopard R, the simplest way is to paste this in  
> the
> > Terminal:
> >
> > curl -s http://r.research.att.com/R-2.8-branch-leopard-
> > universal.tar.gz \
> > | sudo tar fvxz - -C /
> >
> > You don't need extra library paths for 64-bit packages, but you want
> > to use type='source' in install.packages for 64-bit (as the site  
> says).
> >
> > Cheers,
> > Simon
> >
>
> Simon,
>
> Thank you very much for your response!!  The instructions on http://r.research.att.com 
>  are probably very clear to individuals with more appropriate  
> experience than I have.  My knowledge of unix barely extends beyond  
> what I had to know to run SAS (vi editor) and manipulate files.  I  
> have been struggling with getting 64 bit R to run.  The information  
> in your response above worked perfectly and 64 bit R, including the  
> GUI, appears to be functional.  The R Console displays the the  
> expected pointer size and some elementary miscellaneous R code (not  
> shown) ran without error.
>
> R version 2.8.0 alpha (2008-09-26 r46576)
> Copyright (C) 2008 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> ...
> > .Machine$sizeof.pointer
> [1] 8
>
> I have used 32 bit R to work through various tutorial exercises and  
> become able to start using R instead of SAS.  The conversion to 64  
> bit R is necessary to use additional memory for my "real" work.   
> Your Mac GUI is VERY IMPRESSIVE!!!  It is a tremendous product!!
>
> I have a question about packages.  When I click on "Packages & Data"  
> on the GUI menu bar, select "Package Installer", select "CRAN  
> (sources)", select "Get List", select a CRAN Mirror site then click  
> on OK the following error appears in the R Console
>
>  *** caught segfault ***
> address 0x217b629cf, cause 'memory not mapped'
>
> Traceback:
>  1: select.list(choices, multiple = FALSE, title = title)
>  2: menu(m[, 1], graphics, "CRAN mirror")
>  3: chooseCRANmirror()
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> >
> Selection:
>
> Please tell me if I have missed something about using the 64 bit GUI  
> "Packages & Data" feature.
>
> Thank you,
> Kurt
>
>


From km_newman at hotmail.com  Sun Sep 28 20:27:05 2008
From: km_newman at hotmail.com (Kurt Newman)
Date: Sun, 28 Sep 2008 14:27:05 -0400
Subject: [R-SIG-Mac] 64 bit Mac GUI
In-Reply-To: <3234BAE7-0206-4EC1-886F-5E69E308EB87@r-project.org>
References: <COL102-W7F9E6833A71F4F02FB7AA88460@phx.gbl>
	<3234BAE7-0206-4EC1-886F-5E69E308EB87@r-project.org>
Message-ID: <COL102-W56C7B6E49D6321F478646588410@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080928/1b4d34bd/attachment.pl>

From kjell.konis at epfl.ch  Mon Sep 29 18:00:00 2008
From: kjell.konis at epfl.ch (Kjell Konis)
Date: Mon, 29 Sep 2008 18:00:00 +0200
Subject: [R-SIG-Mac] Makevars.mac
Message-ID: <7BF6FE7B-7C21-4D47-86D6-8EA821D4AFCF@epfl.ch>

I have a package that needs to link against a different set of  
libraries on OS X than on other *NIXes. I looked from things like  
Makevars.{mac,darwin,osx} in the Writing R Extensions manual but  
didn't find anything. Is it possible to do this short of writing a  
configure script?

Thanks,
Kjell


From oh.dongh at gmail.com  Mon Sep 29 16:49:16 2008
From: oh.dongh at gmail.com (Donghyun Oh)
Date: Mon, 29 Sep 2008 16:49:16 +0200
Subject: [R-SIG-Mac]  X11 problem after migration to Leopard
Message-ID: <28EBECC8-31ED-41AD-95D3-C0CD6D886C8E@gmail.com>

Hi,

You can solve local problem by adding the following lines in ~/.Rprofile

.First <- function() {
   cat("\n   Welcome to R!\n\n")
   Sys.setlocale(category = "LC_ALL", locale = "en_US.UTF-8")
}
.Last <- function()  cat("\n   Goodbye!\n\n")


HTH.

Best,
Dong-hyun Oh


From simon.urbanek at r-project.org  Tue Sep 30 15:42:01 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 30 Sep 2008 09:42:01 -0400
Subject: [R-SIG-Mac] Makevars.mac
In-Reply-To: <7BF6FE7B-7C21-4D47-86D6-8EA821D4AFCF@epfl.ch>
References: <7BF6FE7B-7C21-4D47-86D6-8EA821D4AFCF@epfl.ch>
Message-ID: <182212FA-4302-4109-8980-11FD98E22EAD@r-project.org>


On Sep 29, 2008, at 12:00 , Kjell Konis wrote:

> I have a package that needs to link against a different set of  
> libraries on OS X than on other *NIXes. I looked from things like  
> Makevars.{mac,darwin,osx} in the Writing R Extensions manual but  
> didn't find anything. Is it possible to do this short of writing a  
> configure script?
>

No.

Whether adding Mac-specific Makevars would be beneficial is debatable...

Cheers,
Simon


