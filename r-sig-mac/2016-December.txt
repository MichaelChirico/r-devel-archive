From simon.urbanek at r-project.org  Wed Dec  7 15:52:02 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 7 Dec 2016 09:52:02 -0500
Subject: [R-SIG-Mac] Bug: R-gui triggers dedicated GPU
In-Reply-To: <60BBE6DD-CFC7-41F8-A901-F078A932453C@uzh.ch>
References: <60BBE6DD-CFC7-41F8-A901-F078A932453C@uzh.ch>
Message-ID: <2E90C72D-442C-4079-98A1-55C4D0C82978@r-project.org>

Taras,
thanks, now added to r7297.
Simon


> On Nov 28, 2016, at 3:23 AM, Taras Zakharko <taras.zakharko at uzh.ch> wrote:
> 
> Dear all, 
> 
> the recent versions of R-gui trigger the usage of the dedicated GPU, which unnecessarily drains the battery. The fix is very simple: set the 	NSSupportsAutomaticGraphicsSwitching to true in the Info.plist. Also: https://developer.apple.com/library/content/qa/qa1734/_index.html <https://developer.apple.com/library/content/qa/qa1734/_index.html>
> 
> Would be nice if this got fixed in a future release! 
> 
> Best, Taras
> 
> 
> Taras Zakharko
> 
> taras.zakharko at uzh.ch
> IT Officer/Software Development
> ---------------------------------------------
> Department of Comparative Linguistics
> University of Zurich 
> Plattenstrasse 54, CH-8032 Zurich
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From karl.thomaseth at gmail.com  Fri Dec  2 17:34:38 2016
From: karl.thomaseth at gmail.com (Karl Thomaseth)
Date: Fri, 2 Dec 2016 17:34:38 +0100
Subject: [R-SIG-Mac] R.app crashes at startup on MacOS Sierra
Message-ID: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>

Hello all,

I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
I removed also all .RData and .Rapp.history from my system with
sudo find / -name ?.RData? -delete
sudo find / -name ?.Rapp*? -delete
If I start R directly from the Dock, everything works fine.

Thank you

Karl Thomaseth








R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]


 *** caught segfault ***
address 0x7f8bf2637f8, cause 'memory not mapped'

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
> 
Selection: 

=======================================
> sessionInfo()
R version 3.3.2 (2016-10-31)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: macOS Sierra 10.12.1

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> 









-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161202/2c8af399/attachment-0002.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: R_2016-12-02-170202_Karls-MacBook-Pro.crash
Type: application/octet-stream
Size: 74939 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161202/2c8af399/attachment-0001.obj>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161202/2c8af399/attachment-0003.html>

From andreas.j.schroeder at gmail.com  Thu Dec  8 10:34:20 2016
From: andreas.j.schroeder at gmail.com (=?utf-8?Q?Andreas_Schr=C3=B6der?=)
Date: Thu, 8 Dec 2016 10:34:20 +0100
Subject: [R-SIG-Mac] Problem running TOBIT for R 3.2 at SPSS 24 Interface
 MAC Sierra 10.12.1
Message-ID: <6051E2FF-8753-4E05-9725-B6AEB07421DC@gmail.com>

Dear R-SIG-Mac members, 

This is my first post and I would like to thank you first of all for helping out fellow users of R!

I am currently doing my master thesis and struggle with making the TOBIT regression run on my SPSS 24, operated with Mac (OS Sierra 10.12.1). 

I use SPSS 24 and have the installer plugin-in for R successfully  installed. I installed the correct R version 3.2 and also XQuartz but if I try to execute the TOBIT regression (I can choose it in my SPSS menu now) I get constantly dialogues showing that certain packages would be missing (CAR, AED etc.). (Pic 1). Apparently, those packages have been added later to R (higher r version than the one mandated by my spss 24 version). I downloaded the versions R 3.2.5 that is referred to in the first picture but once I try installing it, I get displayed another error message by SPSS that the version of R was incorrect. Also manually installing the AER package on R 3.2. did not work for me because I do not know where to find and executable file within the AER package. (Pic 3)


I already spent yesterday and partly the day before to find my mistake but I couldn?t resolve the issue.
I am glad to receive any kind of input!

Best, 

Andreas

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161208/21dce3e4/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Dialogue after Tobit.png
Type: image/png
Size: 20216 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161208/21dce3e4/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Error Message.png
Type: image/png
Size: 38745 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161208/21dce3e4/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: AER installation.png
Type: image/png
Size: 36115 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161208/21dce3e4/attachment-0005.png>

From Rainer at krugs.de  Thu Dec  8 11:45:50 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Thu, 08 Dec 2016 11:45:50 +0100
Subject: [R-SIG-Mac] CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com> (Karl
	Thomaseth's message of "Fri, 2 Dec 2016 17:34:38 +0100")
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
Message-ID: <m2fulyaech.fsf@krugs.de>

Karl Thomaseth <karl.thomaseth at gmail.com> writes:

> Hello all,
>
> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
> I removed also all .RData and .Rapp.history from my system with
> sudo find / -name ?.RData? -delete
> sudo find / -name ?.Rapp*? -delete
> If I start R directly from the Dock, everything works fine.

First attempt: Nope - works. Then I realized it opened in emacs...

OK.

Opening a .R file via clicking on it actually results in the crash as
well. The file is opened, but R crashes.


How did you install R? I installed via homebrew (And no, I don't expect
any help here for my case).

But I might add: maybe related - but R crashes in the GUI if I use
e.g. a non-existing function - maybe related?

,----
| > version
|                _                           
| platform       x86_64-apple-darwin16.1.0   
| arch           x86_64                      
| os             darwin16.1.0                
| system         x86_64, darwin16.1.0        
| status                                     
| major          3                           
| minor          3.2                         
| year           2016                        
| month          10                          
| day            31                          
| svn rev        71607                       
| language       R                           
| version.string R version 3.3.2 (2016-10-31)
| nickname       Sincere Pumpkin Patch       
| > version()
| Error: could not find function "version"
| 
|  *** caught segfault ***
| address 0x18, cause 'memory not mapped'
| 
| Possible actions:
| 1: abort (with core dump, if enabled)
| 2: normal R exit
| 3: exit R without saving workspace
| 4: exit R saving workspace
| Selection: 
`----

Cheers,

Rainer

>
> Thank you
>
> Karl Thomaseth
>
>
>
> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
> Copyright (C) 2016 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
> Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>
> *** caught segfault ***
> address 0x7f8bf2637f8, cause 'memory not mapped'
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>> 
> Selection: 
>
> =======================================
>> sessionInfo()
> R version 3.3.2 (2016-10-31)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: macOS Sierra 10.12.1
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats graphics grDevices utils datasets methods base 
>> 
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161208/7c72d348/attachment.bin>

From timothy.c.bates at gmail.com  Thu Dec  8 13:45:39 2016
From: timothy.c.bates at gmail.com (Tim Bates)
Date: Thu, 8 Dec 2016 13:45:39 +0100
Subject: [R-SIG-Mac] FYI: "trying to draw a very large combo box" app warning
Message-ID: <537F3D50-5B67-44B5-8B61-E5F10AD90173@gmail.com>

Just got this warning from mac os

2016-12-08 13:43:40.610 R[36622:21934550] This application is trying to draw a very large combo box, 43 points tall.  Vertically resizable combo boxes are not supported, but it happens that 10.4 and previous drew something that looked kind of sort of okay.  The art in 10.5 does not break up in a way that supports that drawing.  This application should be revised to stop using large combo boxes.  This warning will appear once per app launch.


R version: R version 3.3.2 (2016-10-31)
Platform: x86_64-apple-darwin13.4.0 
MacOS: 10.12.1


From simon.urbanek at r-project.org  Thu Dec  8 15:01:10 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Dec 2016 09:01:10 -0500
Subject: [R-SIG-Mac] Problem running TOBIT for R 3.2 at SPSS 24
 Interface MAC Sierra 10.12.1
In-Reply-To: <6051E2FF-8753-4E05-9725-B6AEB07421DC@gmail.com>
References: <6051E2FF-8753-4E05-9725-B6AEB07421DC@gmail.com>
Message-ID: <CF22E7B0-46F9-400E-9291-254391F3B0BA@r-project.org>

Andreas,

since this is a SPSS issue please contact their support. From the errors it seems you didn't install all necessary packages (it tells you that you din't install pbkrtest), but since we don't know what SPSS requires you'll have to take it up with them.

Cheers,
Simon



> On Dec 8, 2016, at 4:34 AM, Andreas Schr?der <andreas.j.schroeder at gmail.com> wrote:
> 
> Dear R-SIG-Mac members, 
> 
> This is my first post and I would like to thank you first of all for helping out fellow users of R!
> 
> I am currently doing my master thesis and struggle with making the TOBIT regression run on my SPSS 24, operated with Mac (OS Sierra 10.12.1). 
> 
> I use SPSS 24 and have the installer plugin-in for R successfully  installed. I installed the correct R version 3.2 and also XQuartz but if I try to execute the TOBIT regression (I can choose it in my SPSS menu now) I get constantly dialogues showing that certain packages would be missing (CAR, AED etc.). (Pic 1). Apparently, those packages have been added later to R (higher r version than the one mandated by my spss 24 version). I downloaded the versions R 3.2.5 that is referred to in the first picture but once I try installing it, I get displayed another error message by SPSS that the version of R was incorrect. Also manually installing the AER package on R 3.2. did not work for me because I do not know where to find and executable file within the AER package. (Pic 3)
> 
> 
> I already spent yesterday and partly the day before to find my mistake but I couldn?t resolve the issue.
> I am glad to receive any kind of input!
> 
> Best, 
> 
> Andreas
> 
> <Dialogue after Tobit.png><Error Message.png><AER installation.png>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Dec  8 15:06:05 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Dec 2016 09:06:05 -0500
Subject: [R-SIG-Mac] Problems with lzma headers file compiling R 3.3.1
 under mac os x 10.7.5
In-Reply-To: <f5992355-ce79-450b-a050-b10b1cbac79e@googlegroups.com>
References: <3AF705E0-3F46-403E-AC78-E910A6C3D1C9@email.it>
	<f5992355-ce79-450b-a050-b10b1cbac79e@googlegroups.com>
Message-ID: <D71A7115-B815-4F0A-9FC6-989D2EAC8C8A@r-project.org>

I strongly recommend using the supported library binaries from http://r.research.att.com/libs/ (see the R-admin manual C.3 section) since macports are notoriously problematic when mixing with "native" applications.

Cheers,
Simon


> On Nov 17, 2016, at 7:40 AM, saransh sawhney <saransh.sawhney21 at gmail.com> wrote:
> 
> Hey Vittorio how did you solve lama library issue?
> 
> On Sunday, August 28, 2016 at 10:17:11 PM UTC+5:30, Vittorio De Martino wrote:
> I'm trying for the first time to compile R 3.3.1 on my old macbook with 10.7.5. 
> Among other things I have already successfully installed the xz port (which includes lzma) from the macports collection (xz-devel is now included in xz). 
> When as root user I launch  './configure'  the configure process stops with the following error: 
> 
> $ ./configure 
> ........... 
> ........... 
> checking if bzip2 version >= 1.0.6... yes 
> checking whether bzip2 support suffices... no 
> checking for lzma_version_number in -llzma... no 
> configure: error: "liblzma library and headers are required" 
> 
> I'm getting stuck here. Please help 
> Ciao 
> Vittorio 
> 
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Dec  8 15:28:32 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Dec 2016 09:28:32 -0500
Subject: [R-SIG-Mac] CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <m2fulyaech.fsf@krugs.de>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
Message-ID: <A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>

Karl,

unfortunately I cannot reproduce it on 10.12.1. How exactly can you trigger it? I have tried dragging a file on the R icon and open -a /Applications/R.app test.R and neither crashed on me. Does it depend on the R file opened or its location?

Rainer,
it seems that your build is broken - I have seen crashes on error in builds that don't compile longjmp correctly so errors blow up the event loop - which seems to be the case in your build. How did you build it?

Cheers,
Simon



> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
> 
> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
> 
>> Hello all,
>> 
>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>> I removed also all .RData and .Rapp.history from my system with
>> sudo find / -name ?.RData? -delete
>> sudo find / -name ?.Rapp*? -delete
>> If I start R directly from the Dock, everything works fine.
> 
> First attempt: Nope - works. Then I realized it opened in emacs...
> 
> OK.
> 
> Opening a .R file via clicking on it actually results in the crash as
> well. The file is opened, but R crashes.
> 
> 
> How did you install R? I installed via homebrew (And no, I don't expect
> any help here for my case).
> 
> But I might add: maybe related - but R crashes in the GUI if I use
> e.g. a non-existing function - maybe related?
> 
> ,----
> | > version
> |                _                           
> | platform       x86_64-apple-darwin16.1.0   
> | arch           x86_64                      
> | os             darwin16.1.0                
> | system         x86_64, darwin16.1.0        
> | status                                     
> | major          3                           
> | minor          3.2                         
> | year           2016                        
> | month          10                          
> | day            31                          
> | svn rev        71607                       
> | language       R                           
> | version.string R version 3.3.2 (2016-10-31)
> | nickname       Sincere Pumpkin Patch       
> | > version()
> | Error: could not find function "version"
> | 
> |  *** caught segfault ***
> | address 0x18, cause 'memory not mapped'
> | 
> | Possible actions:
> | 1: abort (with core dump, if enabled)
> | 2: normal R exit
> | 3: exit R without saving workspace
> | 4: exit R saving workspace
> | Selection: 
> `----
> 
> Cheers,
> 
> Rainer
> 
>> 
>> Thank you
>> 
>> Karl Thomaseth
>> 
>> 
>> 
>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>> Copyright (C) 2016 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>> 
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>> 
>> Natural language support but running in an English locale
>> 
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>> 
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>> 
>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>> 
>> *** caught segfault ***
>> address 0x7f8bf2637f8, cause 'memory not mapped'
>> 
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>> 
>> Selection: 
>> 
>> =======================================
>>> sessionInfo()
>> R version 3.3.2 (2016-10-31)
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>> Running under: macOS Sierra 10.12.1
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats graphics grDevices utils datasets methods base 
>>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pdalgd at gmail.com  Thu Dec  8 16:10:58 2016
From: pdalgd at gmail.com (Peter Dalgaard)
Date: Thu, 8 Dec 2016 16:10:58 +0100
Subject: [R-SIG-Mac] Problem running TOBIT for R 3.2 at SPSS 24
 Interface MAC Sierra 10.12.1
In-Reply-To: <6051E2FF-8753-4E05-9725-B6AEB07421DC@gmail.com>
References: <6051E2FF-8753-4E05-9725-B6AEB07421DC@gmail.com>
Message-ID: <E59686A7-46AD-47F2-912F-34475864A494@gmail.com>

It really should be SPSS's responsibility to track these issues. They are sponging off our work, precariously close to overstepping the license conditions, creating new problems, then expecting us to come and fix them.

As for the concrete issue, you seem to be bitten by what was a major annoyance in the 3.2 series: pbkrtest requiring R >= 3.2.3 and hence all packages depending on it (like car) doing so as well. 

If SPSS hardcodes the R version, you are up the proverbial creek... You might get away with hacking the DESCRIPTION file for pbkrtest to make it install (not work, but you likely won't use it anyway) under 3.2.0. Of course, if it breaks you can keep both pieces.

I'd probably be more inclined to save out the data set, fire up an appropriate version of R (or RStudio), do

library(foreign)
d <- read.spss("myfile.sav", to.data.frame=TRUE)
library(AER)
....

and so forth.

You may need to study the R syntax a little. Achim and Christian wrote an inexpensive book called "Applied Econometrics with R"....

-pd

> On 8 Dec 2016, at 10:34 , Andreas Schr?der <andreas.j.schroeder at gmail.com> wrote:
> 
> Dear R-SIG-Mac members, 
> 
> This is my first post and I would like to thank you first of all for helping out fellow users of R!
> 
> I am currently doing my master thesis and struggle with making the TOBIT regression run on my SPSS 24, operated with Mac (OS Sierra 10.12.1). 
> 
> I use SPSS 24 and have the installer plugin-in for R successfully  installed. I installed the correct R version 3.2 and also XQuartz but if I try to execute the TOBIT regression (I can choose it in my SPSS menu now) I get constantly dialogues showing that certain packages would be missing (CAR, AED etc.). (Pic 1). Apparently, those packages have been added later to R (higher r version than the one mandated by my spss 24 version). I downloaded the versions R 3.2.5 that is referred to in the first picture but once I try installing it, I get displayed another error message by SPSS that the version of R was incorrect. Also manually installing the AER package on R 3.2. did not work for me because I do not know where to find and executable file within the AER package. (Pic 3)
> 
> 
> I already spent yesterday and partly the day before to find my mistake but I couldn?t resolve the issue.
> I am glad to receive any kind of input!
> 
> Best, 
> 
> Andreas
> 
> <Dialogue after Tobit.png><Error Message.png><AER installation.png>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From mick.jordan at oracle.com  Thu Dec  8 16:54:25 2016
From: mick.jordan at oracle.com (Mick Jordan)
Date: Thu, 8 Dec 2016 07:54:25 -0800
Subject: [R-SIG-Mac] Problems with lzma headers file compiling R 3.3.1
 under mac os x 10.7.5
In-Reply-To: <D71A7115-B815-4F0A-9FC6-989D2EAC8C8A@r-project.org>
References: <3AF705E0-3F46-403E-AC78-E910A6C3D1C9@email.it>
	<f5992355-ce79-450b-a050-b10b1cbac79e@googlegroups.com>
	<D71A7115-B815-4F0A-9FC6-989D2EAC8C8A@r-project.org>
Message-ID: <51b5297c-d098-0e1e-6de6-fa0710aa9a4b@oracle.com>

On 12/8/16 6:06 AM, Simon Urbanek wrote:
> I strongly recommend using the supported library binaries from http://r.research.att.com/libs/ (see the R-admin manual C.3 section) since macports are notoriously problematic when mixing with "native" applications.
We had similar problems building GNU R on a variety of machines (outside 
our control, i.e. no root access) that were using Brew and/or Macports 
for installing third party libraries, (and similar problems on some 
Linux systems actually). The way we solve it is to add  the location 
where the package manager installs headers to CFLAGS/CPPFLAGS/CXXFLAGS 
and the library location to LDFLAGS. E,g for Macports:

PKG_INCLUDE_FLAGS_OVERRIDE=-I/opt/local/include
PKG_LDFLAGS_OVERRIDE=-L/opt/local/lib
./configure CFLAGS=$PKG_INCLUDE_FLAGS_OVERRIDE etc.

Mick


From brandon.hurr at gmail.com  Thu Dec  8 17:30:13 2016
From: brandon.hurr at gmail.com (Brandon Hurr)
Date: Thu, 8 Dec 2016 08:30:13 -0800
Subject: [R-SIG-Mac] CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
Message-ID: <CAG2OMvt+np_NZbADp7a35j00ebo4T2u_xLnN-=q7OK+=jLX8Og@mail.gmail.com>

Simon,

I have been experiencing this error for quite some time. If I load a r
script by double clicking it, it happens nearly 100% of the time. If I
load R itself first then it doesn't happen. If I clear the "recent"
files area it doesn't happen until I fill it again. The file opened
seems irrelevant, as does the location of the file (admittedly, all in
user space or external drives).

Despite the dire warning, if I hit escape I can continue working
nearly indefinitely without issue (my script save rate increases to
compensate for risk).

This was reported by CW on Nov 4th (perhaps others before), email
entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
worked a little bit with Kevin Ushey offline to get to the bottom of
it further and I thought he pinned it down or at least got closer to
the cause.

"
After playing around with R.app for a bit, I was able to get myself
into a state where R.app was either dying or hanging on startup. I did
the following:

   1. Open R.app,
   2. Open a new R document (using the icon in the top menu bar --
'Create a new, empty document in the editor' ),
   3. Write and execute some code -- in my case, 'x <- 1; print(x)',
executed with Cmd + Enter,
   4. (optionally) Repeat steps 2 and 3, creating new documents and
executing more code,
   5. Focus a different application,
   6. Attempt to open an R document (using the menu bar again --
'Source script or load data in R',
   7. Observe that R.app is now hanging.

Note that if you run these repro steps, you may see R segfault / die
on startup (although in some cases all was fine). Note that step 5 is
necessary (IIUC) to force R.app to attempt to save the application
state.

It looks like R.app stores session state in the folder

    ~/Library/Saved Application State/org.R-project.R.savedState

My hypothesis at this point is that this saved state is somehow
getting corrupted. Removing that folder seems to resolve any startup
crashes I see.

As for the 'Open File' dialog hang, here's what I believe are the
relevant bits of an lldb stack trace I see:

 * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
    frame #1: 0x00007fffce390f6a
libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
    frame #2: 0x00007fffc573faee
FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
    frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
inputContext] + 29
    frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
currentInputContext] + 145
    frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
setActiveFirstResponderChanged] + 37
    frame #6: 0x00007fffb6e7a1d9
AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
    frame #7: 0x00007fffb90cdec7
CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
+ 23
    frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
    frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
    frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
    frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
runMode:beforeDate:] + 277
    frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
setStatusLineText:](self=0x00006180001e7c00,
_cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
RDocumentWinCtrl.m:465
    frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
notification=@"NSWindowDidResizeNotification") + 77 at
RDocumentWinCtrl.m:431

with context from frame 12:

frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
setStatusLineText:](self=0x00006180001e7c00,
_cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
RDocumentWinCtrl.m:465
   462          [statusLine setStringValue:text];
   463          [statusLine setNeedsDisplay:YES];
   464          // Run NSDefaultRunLoopMode to allow to update status line
-> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
   466
beforeDate:[NSDate distantPast]];
   467
   468  }

Hopefully this helps...

Best,
Kevin
"

B

On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Karl,
>
> unfortunately I cannot reproduce it on 10.12.1. How exactly can you trigger it? I have tried dragging a file on the R icon and open -a /Applications/R.app test.R and neither crashed on me. Does it depend on the R file opened or its location?
>
> Rainer,
> it seems that your build is broken - I have seen crashes on error in builds that don't compile longjmp correctly so errors blow up the event loop - which seems to be the case in your build. How did you build it?
>
> Cheers,
> Simon
>
>
>
>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>
>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>
>>> Hello all,
>>>
>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>> I removed also all .RData and .Rapp.history from my system with
>>> sudo find / -name ?.RData? -delete
>>> sudo find / -name ?.Rapp*? -delete
>>> If I start R directly from the Dock, everything works fine.
>>
>> First attempt: Nope - works. Then I realized it opened in emacs...
>>
>> OK.
>>
>> Opening a .R file via clicking on it actually results in the crash as
>> well. The file is opened, but R crashes.
>>
>>
>> How did you install R? I installed via homebrew (And no, I don't expect
>> any help here for my case).
>>
>> But I might add: maybe related - but R crashes in the GUI if I use
>> e.g. a non-existing function - maybe related?
>>
>> ,----
>> | > version
>> |                _
>> | platform       x86_64-apple-darwin16.1.0
>> | arch           x86_64
>> | os             darwin16.1.0
>> | system         x86_64, darwin16.1.0
>> | status
>> | major          3
>> | minor          3.2
>> | year           2016
>> | month          10
>> | day            31
>> | svn rev        71607
>> | language       R
>> | version.string R version 3.3.2 (2016-10-31)
>> | nickname       Sincere Pumpkin Patch
>> | > version()
>> | Error: could not find function "version"
>> |
>> |  *** caught segfault ***
>> | address 0x18, cause 'memory not mapped'
>> |
>> | Possible actions:
>> | 1: abort (with core dump, if enabled)
>> | 2: normal R exit
>> | 3: exit R without saving workspace
>> | 4: exit R saving workspace
>> | Selection:
>> `----
>>
>> Cheers,
>>
>> Rainer
>>
>>>
>>> Thank you
>>>
>>> Karl Thomaseth
>>>
>>>
>>>
>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>>
>>> Natural language support but running in an English locale
>>>
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>>
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>>
>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>
>>> *** caught segfault ***
>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>
>>> Possible actions:
>>> 1: abort (with core dump, if enabled)
>>> 2: normal R exit
>>> 3: exit R without saving workspace
>>> 4: exit R saving workspace
>>>>
>>> Selection:
>>>
>>> =======================================
>>>> sessionInfo()
>>> R version 3.3.2 (2016-10-31)
>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>> Running under: macOS Sierra 10.12.1
>>>
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats graphics grDevices utils datasets methods base
>>>>
>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> --
>> Rainer M. Krug
>> email: Rainer<at>krugs<dot>de
>> PGP: 0x0F52F982
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Rainer at krugs.de  Thu Dec  8 17:51:14 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Thu, 08 Dec 2016 17:51:14 +0100
Subject: [R-SIG-Mac] R.app crashes with non existing object - WAS:
	CONFIRMED - R.app crashes at startup on MacOS Sierra,
	Re:  CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org> (Simon
	Urbanek's message of "Thu, 8 Dec 2016 09:28:32 -0500, Thu, 8 Dec 2016
	08:30:13 -0800")
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
Message-ID: <m2k2baicu5.fsf_-_@krugs.de>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> Karl,
>
> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
> trigger it? I have tried dragging a file on the R icon and open -a
> /Applications/R.app test.R and neither crashed on me. Does it depend
> on the R file opened or its location?
>
> Rainer,
> it seems that your build is broken - I have seen crashes on error in
> builds that don't compile longjmp correctly so errors blow up the
> event loop - which seems to be the case in your build. How did you
> build it?

I installed via homebrew and I used the bottled version, i.e. the
pre-compiled one. At the moment I am installing from source and see how
that one works ... done ... Same problem. I assume it is one of the dependencies?
Any suggestions?

Rainer



>
> Cheers,
> Simon
>
>
>
>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>> 
>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>> 
>>> Hello all,
>>> 
>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>> I removed also all .RData and .Rapp.history from my system with
>>> sudo find / -name ?.RData? -delete
>>> sudo find / -name ?.Rapp*? -delete
>>> If I start R directly from the Dock, everything works fine.
>> 
>> First attempt: Nope - works. Then I realized it opened in emacs...
>> 
>> OK.
>> 
>> Opening a .R file via clicking on it actually results in the crash as
>> well. The file is opened, but R crashes.
>> 
>> 
>> How did you install R? I installed via homebrew (And no, I don't expect
>> any help here for my case).
>> 
>> But I might add: maybe related - but R crashes in the GUI if I use
>> e.g. a non-existing function - maybe related?
>> 
>> ,----
>> | > version
>> |                _                           
>> | platform       x86_64-apple-darwin16.1.0   
>> | arch           x86_64                      
>> | os             darwin16.1.0                
>> | system         x86_64, darwin16.1.0        
>> | status                                     
>> | major          3                           
>> | minor          3.2                         
>> | year           2016                        
>> | month          10                          
>> | day            31                          
>> | svn rev        71607                       
>> | language       R                           
>> | version.string R version 3.3.2 (2016-10-31)
>> | nickname       Sincere Pumpkin Patch       
>> | > version()
>> | Error: could not find function "version"
>> | 
>> |  *** caught segfault ***
>> | address 0x18, cause 'memory not mapped'
>> | 
>> | Possible actions:
>> | 1: abort (with core dump, if enabled)
>> | 2: normal R exit
>> | 3: exit R without saving workspace
>> | 4: exit R saving workspace
>> | Selection: 
>> `----
>> 
>> Cheers,
>> 
>> Rainer
>> 
>>> 
>>> Thank you
>>> 
>>> Karl Thomaseth
>>> 
>>> 
>>> 
>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>> 
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>> 
>>> Natural language support but running in an English locale
>>> 
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>> 
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>> 
>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>> 
>>> *** caught segfault ***
>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>> 
>>> Possible actions:
>>> 1: abort (with core dump, if enabled)
>>> 2: normal R exit
>>> 3: exit R without saving workspace
>>> 4: exit R saving workspace
>>>> 
>>> Selection: 
>>> 
>>> =======================================
>>>> sessionInfo()
>>> R version 3.3.2 (2016-10-31)
>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>> Running under: macOS Sierra 10.12.1
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats graphics grDevices utils datasets methods base 
>>>> 
>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> -- 
>> Rainer M. Krug
>> email: Rainer<at>krugs<dot>de
>> PGP: 0x0F52F982
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

Brandon Hurr <brandon.hurr at gmail.com> writes:

> Simon,
>
> I have been experiencing this error for quite some time. If I load a r
> script by double clicking it, it happens nearly 100% of the time. If I
> load R itself first then it doesn't happen. If I clear the "recent"
> files area it doesn't happen until I fill it again. The file opened
> seems irrelevant, as does the location of the file (admittedly, all in
> user space or external drives).
>
> Despite the dire warning, if I hit escape I can continue working
> nearly indefinitely without issue (my script save rate increases to
> compensate for risk).
>
> This was reported by CW on Nov 4th (perhaps others before), email
> entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
> worked a little bit with Kevin Ushey offline to get to the bottom of
> it further and I thought he pinned it down or at least got closer to
> the cause.
>
> "
> After playing around with R.app for a bit, I was able to get myself
> into a state where R.app was either dying or hanging on startup. I did
> the following:
>
>    1. Open R.app,
>    2. Open a new R document (using the icon in the top menu bar --
> 'Create a new, empty document in the editor' ),
>    3. Write and execute some code -- in my case, 'x <- 1; print(x)',
> executed with Cmd + Enter,
>    4. (optionally) Repeat steps 2 and 3, creating new documents and
> executing more code,
>    5. Focus a different application,
>    6. Attempt to open an R document (using the menu bar again --
> 'Source script or load data in R',
>    7. Observe that R.app is now hanging.
>
> Note that if you run these repro steps, you may see R segfault / die
> on startup (although in some cases all was fine). Note that step 5 is
> necessary (IIUC) to force R.app to attempt to save the application
> state.
>
> It looks like R.app stores session state in the folder
>
>     ~/Library/Saved Application State/org.R-project.R.savedState
>
> My hypothesis at this point is that this saved state is somehow
> getting corrupted. Removing that folder seems to resolve any startup
> crashes I see.
>
> As for the 'Open File' dialog hang, here's what I believe are the
> relevant bits of an lldb stack trace I see:
>
>  * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
>     frame #1: 0x00007fffce390f6a
> libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
>     frame #2: 0x00007fffc573faee
> FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
>     frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
> inputContext] + 29
>     frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
> currentInputContext] + 145
>     frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
> setActiveFirstResponderChanged] + 37
>     frame #6: 0x00007fffb6e7a1d9
> AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
>     frame #7: 0x00007fffb90cdec7
> CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
> + 23
>     frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
>     frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
>     frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
>     frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
> runMode:beforeDate:] + 277
>     frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
> setStatusLineText:](self=0x00006180001e7c00,
> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
> RDocumentWinCtrl.m:465
>     frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
> RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
> notification=@"NSWindowDidResizeNotification") + 77 at
> RDocumentWinCtrl.m:431
>
> with context from frame 12:
>
> frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
> setStatusLineText:](self=0x00006180001e7c00,
> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
> RDocumentWinCtrl.m:465
>    462          [statusLine setStringValue:text];
>    463          [statusLine setNeedsDisplay:YES];
>    464          // Run NSDefaultRunLoopMode to allow to update status line
> -> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
>    466
> beforeDate:[NSDate distantPast]];
>    467
>    468  }
>
> Hopefully this helps...
>
> Best,
> Kevin
> "
>
> B
>
> On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Karl,
>>
>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>> trigger it? I have tried dragging a file on the R icon and open -a
>> /Applications/R.app test.R and neither crashed on me. Does it depend
>> on the R file opened or its location?
>>
>> Rainer,
>> it seems that your build is broken - I have seen crashes on error in
>> builds that don't compile longjmp correctly so errors blow up the
>> event loop - which seems to be the case in your build. How did you
>> build it?
>>
>> Cheers,
>> Simon
>>
>>
>>
>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>
>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>
>>>> Hello all,
>>>>
>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>> I removed also all .RData and .Rapp.history from my system with
>>>> sudo find / -name ?.RData? -delete
>>>> sudo find / -name ?.Rapp*? -delete
>>>> If I start R directly from the Dock, everything works fine.
>>>
>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>
>>> OK.
>>>
>>> Opening a .R file via clicking on it actually results in the crash as
>>> well. The file is opened, but R crashes.
>>>
>>>
>>> How did you install R? I installed via homebrew (And no, I don't expect
>>> any help here for my case).
>>>
>>> But I might add: maybe related - but R crashes in the GUI if I use
>>> e.g. a non-existing function - maybe related?
>>>
>>> ,----
>>> | > version
>>> |                _
>>> | platform       x86_64-apple-darwin16.1.0
>>> | arch           x86_64
>>> | os             darwin16.1.0
>>> | system         x86_64, darwin16.1.0
>>> | status
>>> | major          3
>>> | minor          3.2
>>> | year           2016
>>> | month          10
>>> | day            31
>>> | svn rev        71607
>>> | language       R
>>> | version.string R version 3.3.2 (2016-10-31)
>>> | nickname       Sincere Pumpkin Patch
>>> | > version()
>>> | Error: could not find function "version"
>>> |
>>> |  *** caught segfault ***
>>> | address 0x18, cause 'memory not mapped'
>>> |
>>> | Possible actions:
>>> | 1: abort (with core dump, if enabled)
>>> | 2: normal R exit
>>> | 3: exit R without saving workspace
>>> | 4: exit R saving workspace
>>> | Selection:
>>> `----
>>>
>>> Cheers,
>>>
>>> Rainer
>>>
>>>>
>>>> Thank you
>>>>
>>>> Karl Thomaseth
>>>>
>>>>
>>>>
>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>
>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>> You are welcome to redistribute it under certain conditions.
>>>> Type 'license()' or 'licence()' for distribution details.
>>>>
>>>> Natural language support but running in an English locale
>>>>
>>>> R is a collaborative project with many contributors.
>>>> Type 'contributors()' for more information and
>>>> 'citation()' on how to cite R or R packages in publications.
>>>>
>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>> 'help.start()' for an HTML browser interface to help.
>>>> Type 'q()' to quit R.
>>>>
>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>
>>>> *** caught segfault ***
>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>
>>>> Possible actions:
>>>> 1: abort (with core dump, if enabled)
>>>> 2: normal R exit
>>>> 3: exit R without saving workspace
>>>> 4: exit R saving workspace
>>>>>
>>>> Selection:
>>>>
>>>> =======================================
>>>>> sessionInfo()
>>>> R version 3.3.2 (2016-10-31)
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>> Running under: macOS Sierra 10.12.1
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats graphics grDevices utils datasets methods base
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> --
>>> Rainer M. Krug
>>> email: Rainer<at>krugs<dot>de
>>> PGP: 0x0F52F982
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161208/3b54d6c5/attachment-0001.bin>

From tmrsg11 at gmail.com  Thu Dec  8 20:43:07 2016
From: tmrsg11 at gmail.com (C W)
Date: Thu, 8 Dec 2016 14:43:07 -0500
Subject: [R-SIG-Mac] R crashes using Command + D shortcut
Message-ID: <CAE2FW2=kzdr9JVv1KHpV1PmgNURvkVA3BQask1L50e_V=oCxpQ@mail.gmail.com>

Dear R list,

I finally can't stand this anymore.  I generally use Command + D to change
directory.

A scenario would be:

1) I start R, change directory to deskopt (no problem)

2) Type a few lines of code...

3) try to change directory again, CRASH!

I just don't get it, why?  If it is something like memory allocation, I can
understand, but it's a keyboard shortcut.  This has been happening for the
past year.  So, it is not a specific OS X update, or specific R update.

> sessionInfo()
R version 3.3.2 (2016-10-31)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: macOS Sierra 10.12.1

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods
[7] base

Thanks!

	[[alternative HTML version deleted]]


From simon.urbanek at r-project.org  Thu Dec  8 22:10:19 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Dec 2016 16:10:19 -0500
Subject: [R-SIG-Mac] CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <CAG2OMvt+np_NZbADp7a35j00ebo4T2u_xLnN-=q7OK+=jLX8Og@mail.gmail.com>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<CAG2OMvt+np_NZbADp7a35j00ebo4T2u_xLnN-=q7OK+=jLX8Og@mail.gmail.com>
Message-ID: <1583D686-C141-458E-B7FB-04474B76394E@r-project.org>

Brandon,

AFAICS your report is entirely unrelated to the problem reported by Karl - it's an entirely different location and cause. I may be able to look into it, we just should make sure we're not mixing unrelated reports.

Thanks,
Simon



> On Dec 8, 2016, at 11:30 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> 
> Simon,
> 
> I have been experiencing this error for quite some time. If I load a r
> script by double clicking it, it happens nearly 100% of the time. If I
> load R itself first then it doesn't happen. If I clear the "recent"
> files area it doesn't happen until I fill it again. The file opened
> seems irrelevant, as does the location of the file (admittedly, all in
> user space or external drives).
> 
> Despite the dire warning, if I hit escape I can continue working
> nearly indefinitely without issue (my script save rate increases to
> compensate for risk).
> 
> This was reported by CW on Nov 4th (perhaps others before), email
> entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
> worked a little bit with Kevin Ushey offline to get to the bottom of
> it further and I thought he pinned it down or at least got closer to
> the cause.
> 
> "
> After playing around with R.app for a bit, I was able to get myself
> into a state where R.app was either dying or hanging on startup. I did
> the following:
> 
>   1. Open R.app,
>   2. Open a new R document (using the icon in the top menu bar --
> 'Create a new, empty document in the editor' ),
>   3. Write and execute some code -- in my case, 'x <- 1; print(x)',
> executed with Cmd + Enter,
>   4. (optionally) Repeat steps 2 and 3, creating new documents and
> executing more code,
>   5. Focus a different application,
>   6. Attempt to open an R document (using the menu bar again --
> 'Source script or load data in R',
>   7. Observe that R.app is now hanging.
> 
> Note that if you run these repro steps, you may see R segfault / die
> on startup (although in some cases all was fine). Note that step 5 is
> necessary (IIUC) to force R.app to attempt to save the application
> state.
> 
> It looks like R.app stores session state in the folder
> 
>    ~/Library/Saved Application State/org.R-project.R.savedState
> 
> My hypothesis at this point is that this saved state is somehow
> getting corrupted. Removing that folder seems to resolve any startup
> crashes I see.
> 
> As for the 'Open File' dialog hang, here's what I believe are the
> relevant bits of an lldb stack trace I see:
> 
> * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
>    frame #1: 0x00007fffce390f6a
> libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
>    frame #2: 0x00007fffc573faee
> FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
>    frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
> inputContext] + 29
>    frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
> currentInputContext] + 145
>    frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
> setActiveFirstResponderChanged] + 37
>    frame #6: 0x00007fffb6e7a1d9
> AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
>    frame #7: 0x00007fffb90cdec7
> CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
> + 23
>    frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
>    frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
>    frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
>    frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
> runMode:beforeDate:] + 277
>    frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
> setStatusLineText:](self=0x00006180001e7c00,
> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
> RDocumentWinCtrl.m:465
>    frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
> RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
> notification=@"NSWindowDidResizeNotification") + 77 at
> RDocumentWinCtrl.m:431
> 
> with context from frame 12:
> 
> frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
> setStatusLineText:](self=0x00006180001e7c00,
> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
> RDocumentWinCtrl.m:465
>   462          [statusLine setStringValue:text];
>   463          [statusLine setNeedsDisplay:YES];
>   464          // Run NSDefaultRunLoopMode to allow to update status line
> -> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
>   466
> beforeDate:[NSDate distantPast]];
>   467
>   468  }
> 
> Hopefully this helps...
> 
> Best,
> Kevin
> "
> 
> B
> 
> On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Karl,
>> 
>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you trigger it? I have tried dragging a file on the R icon and open -a /Applications/R.app test.R and neither crashed on me. Does it depend on the R file opened or its location?
>> 
>> Rainer,
>> it seems that your build is broken - I have seen crashes on error in builds that don't compile longjmp correctly so errors blow up the event loop - which seems to be the case in your build. How did you build it?
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>> 
>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>> 
>>>> Hello all,
>>>> 
>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>> I removed also all .RData and .Rapp.history from my system with
>>>> sudo find / -name ?.RData? -delete
>>>> sudo find / -name ?.Rapp*? -delete
>>>> If I start R directly from the Dock, everything works fine.
>>> 
>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>> 
>>> OK.
>>> 
>>> Opening a .R file via clicking on it actually results in the crash as
>>> well. The file is opened, but R crashes.
>>> 
>>> 
>>> How did you install R? I installed via homebrew (And no, I don't expect
>>> any help here for my case).
>>> 
>>> But I might add: maybe related - but R crashes in the GUI if I use
>>> e.g. a non-existing function - maybe related?
>>> 
>>> ,----
>>> | > version
>>> |                _
>>> | platform       x86_64-apple-darwin16.1.0
>>> | arch           x86_64
>>> | os             darwin16.1.0
>>> | system         x86_64, darwin16.1.0
>>> | status
>>> | major          3
>>> | minor          3.2
>>> | year           2016
>>> | month          10
>>> | day            31
>>> | svn rev        71607
>>> | language       R
>>> | version.string R version 3.3.2 (2016-10-31)
>>> | nickname       Sincere Pumpkin Patch
>>> | > version()
>>> | Error: could not find function "version"
>>> |
>>> |  *** caught segfault ***
>>> | address 0x18, cause 'memory not mapped'
>>> |
>>> | Possible actions:
>>> | 1: abort (with core dump, if enabled)
>>> | 2: normal R exit
>>> | 3: exit R without saving workspace
>>> | 4: exit R saving workspace
>>> | Selection:
>>> `----
>>> 
>>> Cheers,
>>> 
>>> Rainer
>>> 
>>>> 
>>>> Thank you
>>>> 
>>>> Karl Thomaseth
>>>> 
>>>> 
>>>> 
>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>> 
>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>> You are welcome to redistribute it under certain conditions.
>>>> Type 'license()' or 'licence()' for distribution details.
>>>> 
>>>> Natural language support but running in an English locale
>>>> 
>>>> R is a collaborative project with many contributors.
>>>> Type 'contributors()' for more information and
>>>> 'citation()' on how to cite R or R packages in publications.
>>>> 
>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>> 'help.start()' for an HTML browser interface to help.
>>>> Type 'q()' to quit R.
>>>> 
>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>> 
>>>> *** caught segfault ***
>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>> 
>>>> Possible actions:
>>>> 1: abort (with core dump, if enabled)
>>>> 2: normal R exit
>>>> 3: exit R without saving workspace
>>>> 4: exit R saving workspace
>>>>> 
>>>> Selection:
>>>> 
>>>> =======================================
>>>>> sessionInfo()
>>>> R version 3.3.2 (2016-10-31)
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>> Running under: macOS Sierra 10.12.1
>>>> 
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats graphics grDevices utils datasets methods base
>>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> --
>>> Rainer M. Krug
>>> email: Rainer<at>krugs<dot>de
>>> PGP: 0x0F52F982
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Thu Dec  8 22:13:01 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Dec 2016 16:13:01 -0500
Subject: [R-SIG-Mac] R.app crashes with non existing object - WAS:
	CONFIRMED - R.app crashes at startup on MacOS Sierra,
	Re:  CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <m2k2baicu5.fsf_-_@krugs.de>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<m2k2baicu5.fsf_-_@krugs.de>
Message-ID: <BA222DE3-56C9-4F21-BD06-76175DCCA061@r-project.org>


> On Dec 8, 2016, at 11:51 AM, Rainer M Krug <Rainer at krugs.de> wrote:
> 
> Simon Urbanek <simon.urbanek at r-project.org> writes:
> 
>> Karl,
>> 
>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>> trigger it? I have tried dragging a file on the R icon and open -a
>> /Applications/R.app test.R and neither crashed on me. Does it depend
>> on the R file opened or its location?
>> 
>> Rainer,
>> it seems that your build is broken - I have seen crashes on error in
>> builds that don't compile longjmp correctly so errors blow up the
>> event loop - which seems to be the case in your build. How did you
>> build it?
> 
> I installed via homebrew and I used the bottled version, i.e. the
> pre-compiled one. At the moment I am installing from source and see how
> that one works ... done ... Same problem. I assume it is one of the dependencies?
> Any suggestions?
> 

Since that is not our binary I fear you'll have to take it up with whoever does the homebrew recipe for it. I can only vouch for the CRAN binary, you're on your own with 3rd party binaries - they often have issues that are not under our control.

Cheers,
Simon




> Rainer
> 
> 
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>> 
>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>> 
>>>> Hello all,
>>>> 
>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>> I removed also all .RData and .Rapp.history from my system with
>>>> sudo find / -name ?.RData? -delete
>>>> sudo find / -name ?.Rapp*? -delete
>>>> If I start R directly from the Dock, everything works fine.
>>> 
>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>> 
>>> OK.
>>> 
>>> Opening a .R file via clicking on it actually results in the crash as
>>> well. The file is opened, but R crashes.
>>> 
>>> 
>>> How did you install R? I installed via homebrew (And no, I don't expect
>>> any help here for my case).
>>> 
>>> But I might add: maybe related - but R crashes in the GUI if I use
>>> e.g. a non-existing function - maybe related?
>>> 
>>> ,----
>>> | > version
>>> |                _                           
>>> | platform       x86_64-apple-darwin16.1.0   
>>> | arch           x86_64                      
>>> | os             darwin16.1.0                
>>> | system         x86_64, darwin16.1.0        
>>> | status                                     
>>> | major          3                           
>>> | minor          3.2                         
>>> | year           2016                        
>>> | month          10                          
>>> | day            31                          
>>> | svn rev        71607                       
>>> | language       R                           
>>> | version.string R version 3.3.2 (2016-10-31)
>>> | nickname       Sincere Pumpkin Patch       
>>> | > version()
>>> | Error: could not find function "version"
>>> | 
>>> |  *** caught segfault ***
>>> | address 0x18, cause 'memory not mapped'
>>> | 
>>> | Possible actions:
>>> | 1: abort (with core dump, if enabled)
>>> | 2: normal R exit
>>> | 3: exit R without saving workspace
>>> | 4: exit R saving workspace
>>> | Selection: 
>>> `----
>>> 
>>> Cheers,
>>> 
>>> Rainer
>>> 
>>>> 
>>>> Thank you
>>>> 
>>>> Karl Thomaseth
>>>> 
>>>> 
>>>> 
>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>> 
>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>> You are welcome to redistribute it under certain conditions.
>>>> Type 'license()' or 'licence()' for distribution details.
>>>> 
>>>> Natural language support but running in an English locale
>>>> 
>>>> R is a collaborative project with many contributors.
>>>> Type 'contributors()' for more information and
>>>> 'citation()' on how to cite R or R packages in publications.
>>>> 
>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>> 'help.start()' for an HTML browser interface to help.
>>>> Type 'q()' to quit R.
>>>> 
>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>> 
>>>> *** caught segfault ***
>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>> 
>>>> Possible actions:
>>>> 1: abort (with core dump, if enabled)
>>>> 2: normal R exit
>>>> 3: exit R without saving workspace
>>>> 4: exit R saving workspace
>>>>> 
>>>> Selection: 
>>>> 
>>>> =======================================
>>>>> sessionInfo()
>>>> R version 3.3.2 (2016-10-31)
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>> Running under: macOS Sierra 10.12.1
>>>> 
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats graphics grDevices utils datasets methods base 
>>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> -- 
>>> Rainer M. Krug
>>> email: Rainer<at>krugs<dot>de
>>> PGP: 0x0F52F982
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> Brandon Hurr <brandon.hurr at gmail.com> writes:
> 
>> Simon,
>> 
>> I have been experiencing this error for quite some time. If I load a r
>> script by double clicking it, it happens nearly 100% of the time. If I
>> load R itself first then it doesn't happen. If I clear the "recent"
>> files area it doesn't happen until I fill it again. The file opened
>> seems irrelevant, as does the location of the file (admittedly, all in
>> user space or external drives).
>> 
>> Despite the dire warning, if I hit escape I can continue working
>> nearly indefinitely without issue (my script save rate increases to
>> compensate for risk).
>> 
>> This was reported by CW on Nov 4th (perhaps others before), email
>> entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
>> worked a little bit with Kevin Ushey offline to get to the bottom of
>> it further and I thought he pinned it down or at least got closer to
>> the cause.
>> 
>> "
>> After playing around with R.app for a bit, I was able to get myself
>> into a state where R.app was either dying or hanging on startup. I did
>> the following:
>> 
>>   1. Open R.app,
>>   2. Open a new R document (using the icon in the top menu bar --
>> 'Create a new, empty document in the editor' ),
>>   3. Write and execute some code -- in my case, 'x <- 1; print(x)',
>> executed with Cmd + Enter,
>>   4. (optionally) Repeat steps 2 and 3, creating new documents and
>> executing more code,
>>   5. Focus a different application,
>>   6. Attempt to open an R document (using the menu bar again --
>> 'Source script or load data in R',
>>   7. Observe that R.app is now hanging.
>> 
>> Note that if you run these repro steps, you may see R segfault / die
>> on startup (although in some cases all was fine). Note that step 5 is
>> necessary (IIUC) to force R.app to attempt to save the application
>> state.
>> 
>> It looks like R.app stores session state in the folder
>> 
>>    ~/Library/Saved Application State/org.R-project.R.savedState
>> 
>> My hypothesis at this point is that this saved state is somehow
>> getting corrupted. Removing that folder seems to resolve any startup
>> crashes I see.
>> 
>> As for the 'Open File' dialog hang, here's what I believe are the
>> relevant bits of an lldb stack trace I see:
>> 
>> * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
>>    frame #1: 0x00007fffce390f6a
>> libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
>>    frame #2: 0x00007fffc573faee
>> FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
>>    frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
>> inputContext] + 29
>>    frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
>> currentInputContext] + 145
>>    frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
>> setActiveFirstResponderChanged] + 37
>>    frame #6: 0x00007fffb6e7a1d9
>> AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
>>    frame #7: 0x00007fffb90cdec7
>> CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
>> + 23
>>    frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
>>    frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
>>    frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
>>    frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
>> runMode:beforeDate:] + 277
>>    frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>> setStatusLineText:](self=0x00006180001e7c00,
>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>> RDocumentWinCtrl.m:465
>>    frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
>> RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
>> notification=@"NSWindowDidResizeNotification") + 77 at
>> RDocumentWinCtrl.m:431
>> 
>> with context from frame 12:
>> 
>> frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>> setStatusLineText:](self=0x00006180001e7c00,
>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>> RDocumentWinCtrl.m:465
>>   462          [statusLine setStringValue:text];
>>   463          [statusLine setNeedsDisplay:YES];
>>   464          // Run NSDefaultRunLoopMode to allow to update status line
>> -> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
>>   466
>> beforeDate:[NSDate distantPast]];
>>   467
>>   468  }
>> 
>> Hopefully this helps...
>> 
>> Best,
>> Kevin
>> "
>> 
>> B
>> 
>> On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> Karl,
>>> 
>>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>>> trigger it? I have tried dragging a file on the R icon and open -a
>>> /Applications/R.app test.R and neither crashed on me. Does it depend
>>> on the R file opened or its location?
>>> 
>>> Rainer,
>>> it seems that your build is broken - I have seen crashes on error in
>>> builds that don't compile longjmp correctly so errors blow up the
>>> event loop - which seems to be the case in your build. How did you
>>> build it?
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>> 
>>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>> 
>>>>> Hello all,
>>>>> 
>>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>>> I removed also all .RData and .Rapp.history from my system with
>>>>> sudo find / -name ?.RData? -delete
>>>>> sudo find / -name ?.Rapp*? -delete
>>>>> If I start R directly from the Dock, everything works fine.
>>>> 
>>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>> 
>>>> OK.
>>>> 
>>>> Opening a .R file via clicking on it actually results in the crash as
>>>> well. The file is opened, but R crashes.
>>>> 
>>>> 
>>>> How did you install R? I installed via homebrew (And no, I don't expect
>>>> any help here for my case).
>>>> 
>>>> But I might add: maybe related - but R crashes in the GUI if I use
>>>> e.g. a non-existing function - maybe related?
>>>> 
>>>> ,----
>>>> | > version
>>>> |                _
>>>> | platform       x86_64-apple-darwin16.1.0
>>>> | arch           x86_64
>>>> | os             darwin16.1.0
>>>> | system         x86_64, darwin16.1.0
>>>> | status
>>>> | major          3
>>>> | minor          3.2
>>>> | year           2016
>>>> | month          10
>>>> | day            31
>>>> | svn rev        71607
>>>> | language       R
>>>> | version.string R version 3.3.2 (2016-10-31)
>>>> | nickname       Sincere Pumpkin Patch
>>>> | > version()
>>>> | Error: could not find function "version"
>>>> |
>>>> |  *** caught segfault ***
>>>> | address 0x18, cause 'memory not mapped'
>>>> |
>>>> | Possible actions:
>>>> | 1: abort (with core dump, if enabled)
>>>> | 2: normal R exit
>>>> | 3: exit R without saving workspace
>>>> | 4: exit R saving workspace
>>>> | Selection:
>>>> `----
>>>> 
>>>> Cheers,
>>>> 
>>>> Rainer
>>>> 
>>>>> 
>>>>> Thank you
>>>>> 
>>>>> Karl Thomaseth
>>>>> 
>>>>> 
>>>>> 
>>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>> 
>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>> You are welcome to redistribute it under certain conditions.
>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>> 
>>>>> Natural language support but running in an English locale
>>>>> 
>>>>> R is a collaborative project with many contributors.
>>>>> Type 'contributors()' for more information and
>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>> 
>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>> 'help.start()' for an HTML browser interface to help.
>>>>> Type 'q()' to quit R.
>>>>> 
>>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>> 
>>>>> *** caught segfault ***
>>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>> 
>>>>> Possible actions:
>>>>> 1: abort (with core dump, if enabled)
>>>>> 2: normal R exit
>>>>> 3: exit R without saving workspace
>>>>> 4: exit R saving workspace
>>>>>> 
>>>>> Selection:
>>>>> 
>>>>> =======================================
>>>>>> sessionInfo()
>>>>> R version 3.3.2 (2016-10-31)
>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>> Running under: macOS Sierra 10.12.1
>>>>> 
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>> 
>>>>> attached base packages:
>>>>> [1] stats graphics grDevices utils datasets methods base
>>>>>> 
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> --
>>>> Rainer M. Krug
>>>> email: Rainer<at>krugs<dot>de
>>>> PGP: 0x0F52F982
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982


From brandon.hurr at gmail.com  Thu Dec  8 22:13:35 2016
From: brandon.hurr at gmail.com (Brandon Hurr)
Date: Thu, 8 Dec 2016 13:13:35 -0800
Subject: [R-SIG-Mac] CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <1583D686-C141-458E-B7FB-04474B76394E@r-project.org>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<CAG2OMvt+np_NZbADp7a35j00ebo4T2u_xLnN-=q7OK+=jLX8Og@mail.gmail.com>
	<1583D686-C141-458E-B7FB-04474B76394E@r-project.org>
Message-ID: <CAG2OMvtJko64YXZR4G87hMFqqU53FEoh-yu9K9ipK10uDHJc_w@mail.gmail.com>

Simon,

"> I regret to bother you, but since I upgraded to MacOS Sierra more
than a month ago, I am experiencing
> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
> I removed also all .RData and .Rapp.history from my system with
> sudo find / -name ?.RData? -delete
> sudo find / -name ?.Rapp*? -delete
> If I start R directly from the Dock, everything works fine."

This sounds exactly the same to me, but if I've misunderstood some
subtleties then apologies for the noise.

Brandon

On Thu, Dec 8, 2016 at 1:10 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Brandon,
>
> AFAICS your report is entirely unrelated to the problem reported by Karl - it's an entirely different location and cause. I may be able to look into it, we just should make sure we're not mixing unrelated reports.
>
> Thanks,
> Simon
>
>
>
>> On Dec 8, 2016, at 11:30 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>
>> Simon,
>>
>> I have been experiencing this error for quite some time. If I load a r
>> script by double clicking it, it happens nearly 100% of the time. If I
>> load R itself first then it doesn't happen. If I clear the "recent"
>> files area it doesn't happen until I fill it again. The file opened
>> seems irrelevant, as does the location of the file (admittedly, all in
>> user space or external drives).
>>
>> Despite the dire warning, if I hit escape I can continue working
>> nearly indefinitely without issue (my script save rate increases to
>> compensate for risk).
>>
>> This was reported by CW on Nov 4th (perhaps others before), email
>> entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
>> worked a little bit with Kevin Ushey offline to get to the bottom of
>> it further and I thought he pinned it down or at least got closer to
>> the cause.
>>
>> "
>> After playing around with R.app for a bit, I was able to get myself
>> into a state where R.app was either dying or hanging on startup. I did
>> the following:
>>
>>   1. Open R.app,
>>   2. Open a new R document (using the icon in the top menu bar --
>> 'Create a new, empty document in the editor' ),
>>   3. Write and execute some code -- in my case, 'x <- 1; print(x)',
>> executed with Cmd + Enter,
>>   4. (optionally) Repeat steps 2 and 3, creating new documents and
>> executing more code,
>>   5. Focus a different application,
>>   6. Attempt to open an R document (using the menu bar again --
>> 'Source script or load data in R',
>>   7. Observe that R.app is now hanging.
>>
>> Note that if you run these repro steps, you may see R segfault / die
>> on startup (although in some cases all was fine). Note that step 5 is
>> necessary (IIUC) to force R.app to attempt to save the application
>> state.
>>
>> It looks like R.app stores session state in the folder
>>
>>    ~/Library/Saved Application State/org.R-project.R.savedState
>>
>> My hypothesis at this point is that this saved state is somehow
>> getting corrupted. Removing that folder seems to resolve any startup
>> crashes I see.
>>
>> As for the 'Open File' dialog hang, here's what I believe are the
>> relevant bits of an lldb stack trace I see:
>>
>> * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
>>    frame #1: 0x00007fffce390f6a
>> libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
>>    frame #2: 0x00007fffc573faee
>> FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
>>    frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
>> inputContext] + 29
>>    frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
>> currentInputContext] + 145
>>    frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
>> setActiveFirstResponderChanged] + 37
>>    frame #6: 0x00007fffb6e7a1d9
>> AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
>>    frame #7: 0x00007fffb90cdec7
>> CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
>> + 23
>>    frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
>>    frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
>>    frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
>>    frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
>> runMode:beforeDate:] + 277
>>    frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>> setStatusLineText:](self=0x00006180001e7c00,
>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>> RDocumentWinCtrl.m:465
>>    frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
>> RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
>> notification=@"NSWindowDidResizeNotification") + 77 at
>> RDocumentWinCtrl.m:431
>>
>> with context from frame 12:
>>
>> frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>> setStatusLineText:](self=0x00006180001e7c00,
>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>> RDocumentWinCtrl.m:465
>>   462          [statusLine setStringValue:text];
>>   463          [statusLine setNeedsDisplay:YES];
>>   464          // Run NSDefaultRunLoopMode to allow to update status line
>> -> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
>>   466
>> beforeDate:[NSDate distantPast]];
>>   467
>>   468  }
>>
>> Hopefully this helps...
>>
>> Best,
>> Kevin
>> "
>>
>> B
>>
>> On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> Karl,
>>>
>>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you trigger it? I have tried dragging a file on the R icon and open -a /Applications/R.app test.R and neither crashed on me. Does it depend on the R file opened or its location?
>>>
>>> Rainer,
>>> it seems that your build is broken - I have seen crashes on error in builds that don't compile longjmp correctly so errors blow up the event loop - which seems to be the case in your build. How did you build it?
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>>
>>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>>
>>>>> Hello all,
>>>>>
>>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>>> I removed also all .RData and .Rapp.history from my system with
>>>>> sudo find / -name ?.RData? -delete
>>>>> sudo find / -name ?.Rapp*? -delete
>>>>> If I start R directly from the Dock, everything works fine.
>>>>
>>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>>
>>>> OK.
>>>>
>>>> Opening a .R file via clicking on it actually results in the crash as
>>>> well. The file is opened, but R crashes.
>>>>
>>>>
>>>> How did you install R? I installed via homebrew (And no, I don't expect
>>>> any help here for my case).
>>>>
>>>> But I might add: maybe related - but R crashes in the GUI if I use
>>>> e.g. a non-existing function - maybe related?
>>>>
>>>> ,----
>>>> | > version
>>>> |                _
>>>> | platform       x86_64-apple-darwin16.1.0
>>>> | arch           x86_64
>>>> | os             darwin16.1.0
>>>> | system         x86_64, darwin16.1.0
>>>> | status
>>>> | major          3
>>>> | minor          3.2
>>>> | year           2016
>>>> | month          10
>>>> | day            31
>>>> | svn rev        71607
>>>> | language       R
>>>> | version.string R version 3.3.2 (2016-10-31)
>>>> | nickname       Sincere Pumpkin Patch
>>>> | > version()
>>>> | Error: could not find function "version"
>>>> |
>>>> |  *** caught segfault ***
>>>> | address 0x18, cause 'memory not mapped'
>>>> |
>>>> | Possible actions:
>>>> | 1: abort (with core dump, if enabled)
>>>> | 2: normal R exit
>>>> | 3: exit R without saving workspace
>>>> | 4: exit R saving workspace
>>>> | Selection:
>>>> `----
>>>>
>>>> Cheers,
>>>>
>>>> Rainer
>>>>
>>>>>
>>>>> Thank you
>>>>>
>>>>> Karl Thomaseth
>>>>>
>>>>>
>>>>>
>>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>
>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>> You are welcome to redistribute it under certain conditions.
>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>>
>>>>> Natural language support but running in an English locale
>>>>>
>>>>> R is a collaborative project with many contributors.
>>>>> Type 'contributors()' for more information and
>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>>
>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>> 'help.start()' for an HTML browser interface to help.
>>>>> Type 'q()' to quit R.
>>>>>
>>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>>
>>>>> *** caught segfault ***
>>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>>
>>>>> Possible actions:
>>>>> 1: abort (with core dump, if enabled)
>>>>> 2: normal R exit
>>>>> 3: exit R without saving workspace
>>>>> 4: exit R saving workspace
>>>>>>
>>>>> Selection:
>>>>>
>>>>> =======================================
>>>>>> sessionInfo()
>>>>> R version 3.3.2 (2016-10-31)
>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>> Running under: macOS Sierra 10.12.1
>>>>>
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats graphics grDevices utils datasets methods base
>>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> --
>>>> Rainer M. Krug
>>>> email: Rainer<at>krugs<dot>de
>>>> PGP: 0x0F52F982
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From Rainer at krugs.de  Fri Dec  9 09:24:59 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 09 Dec 2016 09:24:59 +0100
Subject: [R-SIG-Mac] R.app crashes with non existing object - WAS:
	CONFIRMED - R.app crashes at startup on MacOS Sierra,
	Re:  CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <BA222DE3-56C9-4F21-BD06-76175DCCA061@r-project.org> (Simon
	Urbanek's message of "Thu, 8 Dec 2016 16:13:01 -0500")
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<m2k2baicu5.fsf_-_@krugs.de>
	<BA222DE3-56C9-4F21-BD06-76175DCCA061@r-project.org>
Message-ID: <m2a8c5ik6c.fsf@krugs.de>

Simon Urbanek <simon.urbanek at r-project.org> writes:

>> On Dec 8, 2016, at 11:51 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>> 
>> Simon Urbanek <simon.urbanek at r-project.org> writes:
>> 
>>> Karl,
>>> 
>>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>>> trigger it? I have tried dragging a file on the R icon and open -a
>>> /Applications/R.app test.R and neither crashed on me. Does it depend
>>> on the R file opened or its location?
>>> 
>>> Rainer,
>>> it seems that your build is broken - I have seen crashes on error in
>>> builds that don't compile longjmp correctly so errors blow up the
>>> event loop - which seems to be the case in your build. How did you
>>> build it?
>> 
>> I installed via homebrew and I used the bottled version, i.e. the
>> pre-compiled one. At the moment I am installing from source and see how
>> that one works ... done ... Same problem. I assume it is one of the dependencies?
>> Any suggestions?
>> 
>
> Since that is not our binary I fear you'll have to take it up with
> whoever does the homebrew recipe for it. I can only vouch for the CRAN
> binary, you're on your own with 3rd party binaries - they often have
> issues that are not under our control.

That's why I said initially that I don't expect any help on this :).

But it also occurs when I install from source via homebrew. Can you give
me any hint on how I can debug this (when I have time)?

Thanks,

Rainer


>
> Cheers,
> Simon
>
>
>
>
>> Rainer
>> 
>> 
>> 
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>> 
>>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>> 
>>>>> Hello all,
>>>>> 
>>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>>> I removed also all .RData and .Rapp.history from my system with
>>>>> sudo find / -name ?.RData? -delete
>>>>> sudo find / -name ?.Rapp*? -delete
>>>>> If I start R directly from the Dock, everything works fine.
>>>> 
>>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>> 
>>>> OK.
>>>> 
>>>> Opening a .R file via clicking on it actually results in the crash as
>>>> well. The file is opened, but R crashes.
>>>> 
>>>> 
>>>> How did you install R? I installed via homebrew (And no, I don't expect
>>>> any help here for my case).
>>>> 
>>>> But I might add: maybe related - but R crashes in the GUI if I use
>>>> e.g. a non-existing function - maybe related?
>>>> 
>>>> ,----
>>>> | > version
>>>> |                _                           
>>>> | platform       x86_64-apple-darwin16.1.0   
>>>> | arch           x86_64                      
>>>> | os             darwin16.1.0                
>>>> | system         x86_64, darwin16.1.0        
>>>> | status                                     
>>>> | major          3                           
>>>> | minor          3.2                         
>>>> | year           2016                        
>>>> | month          10                          
>>>> | day            31                          
>>>> | svn rev        71607                       
>>>> | language       R                           
>>>> | version.string R version 3.3.2 (2016-10-31)
>>>> | nickname       Sincere Pumpkin Patch       
>>>> | > version()
>>>> | Error: could not find function "version"
>>>> | 
>>>> |  *** caught segfault ***
>>>> | address 0x18, cause 'memory not mapped'
>>>> | 
>>>> | Possible actions:
>>>> | 1: abort (with core dump, if enabled)
>>>> | 2: normal R exit
>>>> | 3: exit R without saving workspace
>>>> | 4: exit R saving workspace
>>>> | Selection: 
>>>> `----
>>>> 
>>>> Cheers,
>>>> 
>>>> Rainer
>>>> 
>>>>> 
>>>>> Thank you
>>>>> 
>>>>> Karl Thomaseth
>>>>> 
>>>>> 
>>>>> 
>>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>> 
>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>> You are welcome to redistribute it under certain conditions.
>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>> 
>>>>> Natural language support but running in an English locale
>>>>> 
>>>>> R is a collaborative project with many contributors.
>>>>> Type 'contributors()' for more information and
>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>> 
>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>> 'help.start()' for an HTML browser interface to help.
>>>>> Type 'q()' to quit R.
>>>>> 
>>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>> 
>>>>> *** caught segfault ***
>>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>> 
>>>>> Possible actions:
>>>>> 1: abort (with core dump, if enabled)
>>>>> 2: normal R exit
>>>>> 3: exit R without saving workspace
>>>>> 4: exit R saving workspace
>>>>>> 
>>>>> Selection: 
>>>>> 
>>>>> =======================================
>>>>>> sessionInfo()
>>>>> R version 3.3.2 (2016-10-31)
>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>> Running under: macOS Sierra 10.12.1
>>>>> 
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>> 
>>>>> attached base packages:
>>>>> [1] stats graphics grDevices utils datasets methods base 
>>>>>> 
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> -- 
>>>> Rainer M. Krug
>>>> email: Rainer<at>krugs<dot>de
>>>> PGP: 0x0F52F982
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> Brandon Hurr <brandon.hurr at gmail.com> writes:
>> 
>>> Simon,
>>> 
>>> I have been experiencing this error for quite some time. If I load a r
>>> script by double clicking it, it happens nearly 100% of the time. If I
>>> load R itself first then it doesn't happen. If I clear the "recent"
>>> files area it doesn't happen until I fill it again. The file opened
>>> seems irrelevant, as does the location of the file (admittedly, all in
>>> user space or external drives).
>>> 
>>> Despite the dire warning, if I hit escape I can continue working
>>> nearly indefinitely without issue (my script save rate increases to
>>> compensate for risk).
>>> 
>>> This was reported by CW on Nov 4th (perhaps others before), email
>>> entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
>>> worked a little bit with Kevin Ushey offline to get to the bottom of
>>> it further and I thought he pinned it down or at least got closer to
>>> the cause.
>>> 
>>> "
>>> After playing around with R.app for a bit, I was able to get myself
>>> into a state where R.app was either dying or hanging on startup. I did
>>> the following:
>>> 
>>>   1. Open R.app,
>>>   2. Open a new R document (using the icon in the top menu bar --
>>> 'Create a new, empty document in the editor' ),
>>>   3. Write and execute some code -- in my case, 'x <- 1; print(x)',
>>> executed with Cmd + Enter,
>>>   4. (optionally) Repeat steps 2 and 3, creating new documents and
>>> executing more code,
>>>   5. Focus a different application,
>>>   6. Attempt to open an R document (using the menu bar again --
>>> 'Source script or load data in R',
>>>   7. Observe that R.app is now hanging.
>>> 
>>> Note that if you run these repro steps, you may see R segfault / die
>>> on startup (although in some cases all was fine). Note that step 5 is
>>> necessary (IIUC) to force R.app to attempt to save the application
>>> state.
>>> 
>>> It looks like R.app stores session state in the folder
>>> 
>>>    ~/Library/Saved Application State/org.R-project.R.savedState
>>> 
>>> My hypothesis at this point is that this saved state is somehow
>>> getting corrupted. Removing that folder seems to resolve any startup
>>> crashes I see.
>>> 
>>> As for the 'Open File' dialog hang, here's what I believe are the
>>> relevant bits of an lldb stack trace I see:
>>> 
>>> * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
>>>    frame #1: 0x00007fffce390f6a
>>> libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
>>>    frame #2: 0x00007fffc573faee
>>> FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
>>>    frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
>>> inputContext] + 29
>>>    frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
>>> currentInputContext] + 145
>>>    frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
>>> setActiveFirstResponderChanged] + 37
>>>    frame #6: 0x00007fffb6e7a1d9
>>> AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
>>>    frame #7: 0x00007fffb90cdec7
>>> CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
>>> + 23
>>>    frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
>>>    frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
>>>    frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
>>>    frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
>>> runMode:beforeDate:] + 277
>>>    frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>>> setStatusLineText:](self=0x00006180001e7c00,
>>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>>> RDocumentWinCtrl.m:465
>>>    frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
>>> RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
>>> notification=@"NSWindowDidResizeNotification") + 77 at
>>> RDocumentWinCtrl.m:431
>>> 
>>> with context from frame 12:
>>> 
>>> frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>>> setStatusLineText:](self=0x00006180001e7c00,
>>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>>> RDocumentWinCtrl.m:465
>>>   462          [statusLine setStringValue:text];
>>>   463          [statusLine setNeedsDisplay:YES];
>>>   464          // Run NSDefaultRunLoopMode to allow to update status line
>>> -> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
>>>   466
>>> beforeDate:[NSDate distantPast]];
>>>   467
>>>   468  }
>>> 
>>> Hopefully this helps...
>>> 
>>> Best,
>>> Kevin
>>> "
>>> 
>>> B
>>> 
>>> On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>> Karl,
>>>> 
>>>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>>>> trigger it? I have tried dragging a file on the R icon and open -a
>>>> /Applications/R.app test.R and neither crashed on me. Does it depend
>>>> on the R file opened or its location?
>>>> 
>>>> Rainer,
>>>> it seems that your build is broken - I have seen crashes on error in
>>>> builds that don't compile longjmp correctly so errors blow up the
>>>> event loop - which seems to be the case in your build. How did you
>>>> build it?
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>>> 
>>>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>>> 
>>>>>> Hello all,
>>>>>> 
>>>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>>>> I removed also all .RData and .Rapp.history from my system with
>>>>>> sudo find / -name ?.RData? -delete
>>>>>> sudo find / -name ?.Rapp*? -delete
>>>>>> If I start R directly from the Dock, everything works fine.
>>>>> 
>>>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>>> 
>>>>> OK.
>>>>> 
>>>>> Opening a .R file via clicking on it actually results in the crash as
>>>>> well. The file is opened, but R crashes.
>>>>> 
>>>>> 
>>>>> How did you install R? I installed via homebrew (And no, I don't expect
>>>>> any help here for my case).
>>>>> 
>>>>> But I might add: maybe related - but R crashes in the GUI if I use
>>>>> e.g. a non-existing function - maybe related?
>>>>> 
>>>>> ,----
>>>>> | > version
>>>>> |                _
>>>>> | platform       x86_64-apple-darwin16.1.0
>>>>> | arch           x86_64
>>>>> | os             darwin16.1.0
>>>>> | system         x86_64, darwin16.1.0
>>>>> | status
>>>>> | major          3
>>>>> | minor          3.2
>>>>> | year           2016
>>>>> | month          10
>>>>> | day            31
>>>>> | svn rev        71607
>>>>> | language       R
>>>>> | version.string R version 3.3.2 (2016-10-31)
>>>>> | nickname       Sincere Pumpkin Patch
>>>>> | > version()
>>>>> | Error: could not find function "version"
>>>>> |
>>>>> |  *** caught segfault ***
>>>>> | address 0x18, cause 'memory not mapped'
>>>>> |
>>>>> | Possible actions:
>>>>> | 1: abort (with core dump, if enabled)
>>>>> | 2: normal R exit
>>>>> | 3: exit R without saving workspace
>>>>> | 4: exit R saving workspace
>>>>> | Selection:
>>>>> `----
>>>>> 
>>>>> Cheers,
>>>>> 
>>>>> Rainer
>>>>> 
>>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> Karl Thomaseth
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>> 
>>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>>> You are welcome to redistribute it under certain conditions.
>>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>>> 
>>>>>> Natural language support but running in an English locale
>>>>>> 
>>>>>> R is a collaborative project with many contributors.
>>>>>> Type 'contributors()' for more information and
>>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>>> 
>>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>>> 'help.start()' for an HTML browser interface to help.
>>>>>> Type 'q()' to quit R.
>>>>>> 
>>>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>>> 
>>>>>> *** caught segfault ***
>>>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>>> 
>>>>>> Possible actions:
>>>>>> 1: abort (with core dump, if enabled)
>>>>>> 2: normal R exit
>>>>>> 3: exit R without saving workspace
>>>>>> 4: exit R saving workspace
>>>>>>> 
>>>>>> Selection:
>>>>>> 
>>>>>> =======================================
>>>>>>> sessionInfo()
>>>>>> R version 3.3.2 (2016-10-31)
>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>> Running under: macOS Sierra 10.12.1
>>>>>> 
>>>>>> locale:
>>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>> 
>>>>>> attached base packages:
>>>>>> [1] stats graphics grDevices utils datasets methods base
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> --
>>>>> Rainer M. Krug
>>>>> email: Rainer<at>krugs<dot>de
>>>>> PGP: 0x0F52F982
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> -- 
>> Rainer M. Krug
>> email: Rainer<at>krugs<dot>de
>> PGP: 0x0F52F982
>

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161209/54500c2f/attachment-0001.bin>

From Rainer at krugs.de  Fri Dec  9 09:28:05 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 9 Dec 2016 09:28:05 +0100
Subject: [R-SIG-Mac] R crashes using Command + D shortcut
In-Reply-To: <CAE2FW2=kzdr9JVv1KHpV1PmgNURvkVA3BQask1L50e_V=oCxpQ@mail.gmail.com>
	(C. W.'s message of "Thu, 8 Dec 2016 14:43:07 -0500")
References: <CAE2FW2=kzdr9JVv1KHpV1PmgNURvkVA3BQask1L50e_V=oCxpQ@mail.gmail.com>
Message-ID: <m260mtik16.fsf@krugs.de>

C W <tmrsg11 at gmail.com> writes:

> Dear R list,
>
> I finally can't stand this anymore.  I generally use Command + D to change
> directory.
>
> A scenario would be:
>
> 1) I start R, change directory to deskopt (no problem)
>
> 2) Type a few lines of code...
>
> 3) try to change directory again, CRASH!

This is working for me.

,----
| 
| > version
|                _                           
| platform       x86_64-apple-darwin16.1.0   
| arch           x86_64                      
| os             darwin16.1.0                
| system         x86_64, darwin16.1.0        
| status                                     
| major          3                           
| minor          3.2                         
| year           2016                        
| month          10                          
| day            31                          
| svn rev        71607                       
| language       R                           
| version.string R version 3.3.2 (2016-10-31)
| nickname       Sincere Pumpkin Patch       
`----

,----
| R.app GUI 1.68
`----

homebrew install

Cheers,

Rainer

>
> I just don't get it, why?  If it is something like memory allocation, I can
> understand, but it's a keyboard shortcut.  This has been happening for the
> past year.  So, it is not a specific OS X update, or specific R update.
>
>> sessionInfo()
> R version 3.3.2 (2016-10-31)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: macOS Sierra 10.12.1
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods
> [7] base
>
> Thanks!
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161209/a2dfa209/attachment.bin>

From tmrsg11 at gmail.com  Fri Dec  9 17:39:02 2016
From: tmrsg11 at gmail.com (C W)
Date: Fri, 9 Dec 2016 11:39:02 -0500
Subject: [R-SIG-Mac] R crashes using Command + D shortcut
In-Reply-To: <m260mtik16.fsf@krugs.de>
References: <CAE2FW2=kzdr9JVv1KHpV1PmgNURvkVA3BQask1L50e_V=oCxpQ@mail.gmail.com>
	<m260mtik16.fsf@krugs.de>
Message-ID: <CAE2FW2=w83EWhCj-2E+OyEJtCXhT1d3ffRAh3NWkMwDa16y4pg@mail.gmail.com>

While you reported,
> platform       x86_64-apple-darwin16.1.0

I have,
> Platform: x86_64-apple-darwin13.4.0 (64-bit)

Perhaps that is a difference?  Anyways, the previous few releases did not
fix the issue.  I am just curious if it an R problem or OS X problem.

On Fri, Dec 9, 2016 at 3:28 AM, Rainer M Krug <Rainer at krugs.de> wrote:

> C W <tmrsg11 at gmail.com> writes:
>
> > Dear R list,
> >
> > I finally can't stand this anymore.  I generally use Command + D to
> change
> > directory.
> >
> > A scenario would be:
> >
> > 1) I start R, change directory to deskopt (no problem)
> >
> > 2) Type a few lines of code...
> >
> > 3) try to change directory again, CRASH!
>
> This is working for me.
>
> ,----
> |
> | > version
> |                _
> | platform       x86_64-apple-darwin16.1.0
> | arch           x86_64
> | os             darwin16.1.0
> | system         x86_64, darwin16.1.0
> | status
> | major          3
> | minor          3.2
> | year           2016
> | month          10
> | day            31
> | svn rev        71607
> | language       R
> | version.string R version 3.3.2 (2016-10-31)
> | nickname       Sincere Pumpkin Patch
> `----
>
> ,----
> | R.app GUI 1.68
> `----
>
> homebrew install
>
> Cheers,
>
> Rainer
>
> >
> > I just don't get it, why?  If it is something like memory allocation, I
> can
> > understand, but it's a keyboard shortcut.  This has been happening for
> the
> > past year.  So, it is not a specific OS X update, or specific R update.
> >
> >> sessionInfo()
> > R version 3.3.2 (2016-10-31)
> > Platform: x86_64-apple-darwin13.4.0 (64-bit)
> > Running under: macOS Sierra 10.12.1
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods
> > [7] base
> >
> > Thanks!
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982
>

	[[alternative HTML version deleted]]


From Rainer at krugs.de  Fri Dec  9 17:56:16 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 9 Dec 2016 17:56:16 +0100
Subject: [R-SIG-Mac] R crashes using Command + D shortcut
In-Reply-To: <CAE2FW2=w83EWhCj-2E+OyEJtCXhT1d3ffRAh3NWkMwDa16y4pg@mail.gmail.com>
	(C. W.'s message of "Fri, 9 Dec 2016 11:39:02 -0500")
References: <CAE2FW2=kzdr9JVv1KHpV1PmgNURvkVA3BQask1L50e_V=oCxpQ@mail.gmail.com>
	<m260mtik16.fsf@krugs.de>
	<CAE2FW2=w83EWhCj-2E+OyEJtCXhT1d3ffRAh3NWkMwDa16y4pg@mail.gmail.com>
Message-ID: <m2r35hyrbj.fsf@krugs.de>

C W <tmrsg11 at gmail.com> writes:

> While you reported,
>> platform x86_64-apple-darwin16.1.0
>
> I have,
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)

Looking at https://gist.github.com/yamaya/2924292 this seems to indicate
Xcode 6.0.1 ... Did you compilre yourself? Which OS Version? Which Xcod
Version?

Rainer

>
> Perhaps that is a difference? Anyways, the previous few releases did not fix the issue. I am just curious if it an R problem or OS X problem.
>
> On Fri, Dec 9, 2016 at 3:28 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>
>  C W <tmrsg11 at gmail.com> writes:
>
>  > Dear R list,
>  >
>  > I finally can't stand this anymore. I generally use Command + D to change
>  > directory.
>  >
>  > A scenario would be:
>  >
>  > 1) I start R, change directory to deskopt (no problem)
>  >
>  > 2) Type a few lines of code...
>  >
>  > 3) try to change directory again, CRASH!
>
>  This is working for me.
>
>  ,----
>  |
>  | > version
>  | _
>  | platform x86_64-apple-darwin16.1.0
>  | arch x86_64
>  | os darwin16.1.0
>  | system x86_64, darwin16.1.0
>  | status
>  | major 3
>  | minor 3.2
>  | year 2016
>  | month 10
>  | day 31
>  | svn rev 71607
>  | language R
>  | version.string R version 3.3.2 (2016-10-31)
>  | nickname Sincere Pumpkin Patch
>  `----
>
>  ,----
>  | R.app GUI 1.68
>  `----
>
>  homebrew install
>
>  Cheers,
>
>  Rainer
>
>  >
>  > I just don't get it, why? If it is something like memory allocation, I can
>  > understand, but it's a keyboard shortcut. This has been happening for the
>  > past year. So, it is not a specific OS X update, or specific R update.
>  >
>  >> sessionInfo()
>  > R version 3.3.2 (2016-10-31)
>  > Platform: x86_64-apple-darwin13.4.0 (64-bit)
>  > Running under: macOS Sierra 10.12.1
>  >
>  > locale:
>  > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>  >
>  > attached base packages:
>  > [1] stats graphics grDevices utils datasets methods
>  > [7] base
>  >
>  > Thanks!
>  >
>  > [[alternative HTML version deleted]]
>  >
>  > _______________________________________________
>  > R-SIG-Mac mailing list
>  > R-SIG-Mac at r-project.org
>  > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>  --
>  Rainer M. Krug
>  email: Rainer<at>krugs<dot>de
>  PGP: 0x0F52F982
>
>

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161209/5e17f43b/attachment.bin>

From tmrsg11 at gmail.com  Fri Dec  9 18:04:07 2016
From: tmrsg11 at gmail.com (C W)
Date: Fri, 9 Dec 2016 12:04:07 -0500
Subject: [R-SIG-Mac] R crashes using Command + D shortcut
In-Reply-To: <m2r35hyrbj.fsf@krugs.de>
References: <CAE2FW2=kzdr9JVv1KHpV1PmgNURvkVA3BQask1L50e_V=oCxpQ@mail.gmail.com>
	<m260mtik16.fsf@krugs.de>
	<CAE2FW2=w83EWhCj-2E+OyEJtCXhT1d3ffRAh3NWkMwDa16y4pg@mail.gmail.com>
	<m2r35hyrbj.fsf@krugs.de>
Message-ID: <CAE2FW2n_+xW8Orv5Qq2cJDTPje13tx9+LawT0_PBhfQps+Bjnw@mail.gmail.com>

I did not compile myself.  I downloaded from CRAN.  All systems look
up-to-date to me.

I currently have,

1) Xcode Version 8.1 (8B62)
2) macOS Sierra 10.12.1



On Fri, Dec 9, 2016 at 11:56 AM, Rainer M Krug <Rainer at krugs.de> wrote:

> C W <tmrsg11 at gmail.com> writes:
>
> > While you reported,
> >> platform x86_64-apple-darwin16.1.0
> >
> > I have,
> >> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>
> Looking at https://gist.github.com/yamaya/2924292 this seems to indicate
> Xcode 6.0.1 ... Did you compilre yourself? Which OS Version? Which Xcod
> Version?
>
> Rainer
>
> >
> > Perhaps that is a difference? Anyways, the previous few releases did not
> fix the issue. I am just curious if it an R problem or OS X problem.
> >
> > On Fri, Dec 9, 2016 at 3:28 AM, Rainer M Krug <Rainer at krugs.de> wrote:
> >
> >  C W <tmrsg11 at gmail.com> writes:
> >
> >  > Dear R list,
> >  >
> >  > I finally can't stand this anymore. I generally use Command + D to
> change
> >  > directory.
> >  >
> >  > A scenario would be:
> >  >
> >  > 1) I start R, change directory to deskopt (no problem)
> >  >
> >  > 2) Type a few lines of code...
> >  >
> >  > 3) try to change directory again, CRASH!
> >
> >  This is working for me.
> >
> >  ,----
> >  |
> >  | > version
> >  | _
> >  | platform x86_64-apple-darwin16.1.0
> >  | arch x86_64
> >  | os darwin16.1.0
> >  | system x86_64, darwin16.1.0
> >  | status
> >  | major 3
> >  | minor 3.2
> >  | year 2016
> >  | month 10
> >  | day 31
> >  | svn rev 71607
> >  | language R
> >  | version.string R version 3.3.2 (2016-10-31)
> >  | nickname Sincere Pumpkin Patch
> >  `----
> >
> >  ,----
> >  | R.app GUI 1.68
> >  `----
> >
> >  homebrew install
> >
> >  Cheers,
> >
> >  Rainer
> >
> >  >
> >  > I just don't get it, why? If it is something like memory allocation,
> I can
> >  > understand, but it's a keyboard shortcut. This has been happening for
> the
> >  > past year. So, it is not a specific OS X update, or specific R update.
> >  >
> >  >> sessionInfo()
> >  > R version 3.3.2 (2016-10-31)
> >  > Platform: x86_64-apple-darwin13.4.0 (64-bit)
> >  > Running under: macOS Sierra 10.12.1
> >  >
> >  > locale:
> >  > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >  >
> >  > attached base packages:
> >  > [1] stats graphics grDevices utils datasets methods
> >  > [7] base
> >  >
> >  > Thanks!
> >  >
> >  > [[alternative HTML version deleted]]
> >  >
> >  > _______________________________________________
> >  > R-SIG-Mac mailing list
> >  > R-SIG-Mac at r-project.org
> >  > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >  --
> >  Rainer M. Krug
> >  email: Rainer<at>krugs<dot>de
> >  PGP: 0x0F52F982
> >
> >
>
> --
> Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation
> Biology, UCT), Dipl. Phys. (Germany)
>
> Centre of Excellence for Invasion Biology
> Stellenbosch University
> South Africa
>
> Tel :       +33 - (0)9 53 10 27 44
> Cell:       +33 - (0)6 85 62 59 98
> Fax :       +33 - (0)9 58 10 27 44
>
> Fax (D):    +49 - (0)3 21 21 25 22 44
>
> email:      Rainer at krugs.de
>
> Skype:      RMkrug
>
> PGP: 0x0F52F982
>

	[[alternative HTML version deleted]]


From karl.thomaseth at gmail.com  Sat Dec 10 11:07:43 2016
From: karl.thomaseth at gmail.com (Karl Thomaseth)
Date: Sat, 10 Dec 2016 11:07:43 +0100
Subject: [R-SIG-Mac] R.app crashes with non existing object - WAS:
 CONFIRMED - R.app crashes at startup on MacOS Sierra,
 Re:  CONFIRMED - R.app crashes at startup on MacOS Sierra
In-Reply-To: <m2a8c5ik6c.fsf@krugs.de>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
	<m2fulyaech.fsf@krugs.de>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<A95776B1-33EA-40AB-8359-76A858DFE5F2@r-project.org>
	<m2k2baicu5.fsf_-_@krugs.de>
	<BA222DE3-56C9-4F21-BD06-76175DCCA061@r-project.org>
	<m2a8c5ik6c.fsf@krugs.de>
Message-ID: <95D2EC42-8EA6-4596-A6A5-468025D4F732@gmail.com>

One possible problem seems to be with Sierra, because R crashes with the following line written on the Console:

R[788]: BUG in libdispatch client: kevent[EVFILT_MACHPORT] monitored resource vanished before the source cancel handler was invoked

which is an old known problem

Cheers,

Karl



> On 9 Dec 2016, at 09:24, Rainer M Krug <Rainer at krugs.de> wrote:
> 
> Simon Urbanek <simon.urbanek at r-project.org <mailto:simon.urbanek at r-project.org>> writes:
> 
>>> On Dec 8, 2016, at 11:51 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>> 
>>> Simon Urbanek <simon.urbanek at r-project.org> writes:
>>> 
>>>> Karl,
>>>> 
>>>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>>>> trigger it? I have tried dragging a file on the R icon and open -a
>>>> /Applications/R.app test.R and neither crashed on me. Does it depend
>>>> on the R file opened or its location?
>>>> 
>>>> Rainer,
>>>> it seems that your build is broken - I have seen crashes on error in
>>>> builds that don't compile longjmp correctly so errors blow up the
>>>> event loop - which seems to be the case in your build. How did you
>>>> build it?
>>> 
>>> I installed via homebrew and I used the bottled version, i.e. the
>>> pre-compiled one. At the moment I am installing from source and see how
>>> that one works ... done ... Same problem. I assume it is one of the dependencies?
>>> Any suggestions?
>>> 
>> 
>> Since that is not our binary I fear you'll have to take it up with
>> whoever does the homebrew recipe for it. I can only vouch for the CRAN
>> binary, you're on your own with 3rd party binaries - they often have
>> issues that are not under our control.
> 
> That's why I said initially that I don't expect any help on this :).
> 
> But it also occurs when I install from source via homebrew. Can you give
> me any hint on how I can debug this (when I have time)?
> 
> Thanks,
> 
> Rainer
> 
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>> 
>>> Rainer
>>> 
>>> 
>>> 
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>>> 
>>>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>>> 
>>>>>> Hello all,
>>>>>> 
>>>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>>>> I removed also all .RData and .Rapp.history from my system with
>>>>>> sudo find / -name ?.RData? -delete
>>>>>> sudo find / -name ?.Rapp*? -delete
>>>>>> If I start R directly from the Dock, everything works fine.
>>>>> 
>>>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>>> 
>>>>> OK.
>>>>> 
>>>>> Opening a .R file via clicking on it actually results in the crash as
>>>>> well. The file is opened, but R crashes.
>>>>> 
>>>>> 
>>>>> How did you install R? I installed via homebrew (And no, I don't expect
>>>>> any help here for my case).
>>>>> 
>>>>> But I might add: maybe related - but R crashes in the GUI if I use
>>>>> e.g. a non-existing function - maybe related?
>>>>> 
>>>>> ,----
>>>>> | > version
>>>>> |                _                           
>>>>> | platform       x86_64-apple-darwin16.1.0   
>>>>> | arch           x86_64                      
>>>>> | os             darwin16.1.0                
>>>>> | system         x86_64, darwin16.1.0        
>>>>> | status                                     
>>>>> | major          3                           
>>>>> | minor          3.2                         
>>>>> | year           2016                        
>>>>> | month          10                          
>>>>> | day            31                          
>>>>> | svn rev        71607                       
>>>>> | language       R                           
>>>>> | version.string R version 3.3.2 (2016-10-31)
>>>>> | nickname       Sincere Pumpkin Patch       
>>>>> | > version()
>>>>> | Error: could not find function "version"
>>>>> | 
>>>>> |  *** caught segfault ***
>>>>> | address 0x18, cause 'memory not mapped'
>>>>> | 
>>>>> | Possible actions:
>>>>> | 1: abort (with core dump, if enabled)
>>>>> | 2: normal R exit
>>>>> | 3: exit R without saving workspace
>>>>> | 4: exit R saving workspace
>>>>> | Selection: 
>>>>> `----
>>>>> 
>>>>> Cheers,
>>>>> 
>>>>> Rainer
>>>>> 
>>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> Karl Thomaseth
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>> 
>>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>>> You are welcome to redistribute it under certain conditions.
>>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>>> 
>>>>>> Natural language support but running in an English locale
>>>>>> 
>>>>>> R is a collaborative project with many contributors.
>>>>>> Type 'contributors()' for more information and
>>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>>> 
>>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>>> 'help.start()' for an HTML browser interface to help.
>>>>>> Type 'q()' to quit R.
>>>>>> 
>>>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>>> 
>>>>>> *** caught segfault ***
>>>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>>> 
>>>>>> Possible actions:
>>>>>> 1: abort (with core dump, if enabled)
>>>>>> 2: normal R exit
>>>>>> 3: exit R without saving workspace
>>>>>> 4: exit R saving workspace
>>>>>>> 
>>>>>> Selection: 
>>>>>> 
>>>>>> =======================================
>>>>>>> sessionInfo()
>>>>>> R version 3.3.2 (2016-10-31)
>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>> Running under: macOS Sierra 10.12.1
>>>>>> 
>>>>>> locale:
>>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>> 
>>>>>> attached base packages:
>>>>>> [1] stats graphics grDevices utils datasets methods base 
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> -- 
>>>>> Rainer M. Krug
>>>>> email: Rainer<at>krugs<dot>de
>>>>> PGP: 0x0F52F982
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> Brandon Hurr <brandon.hurr at gmail.com> writes:
>>> 
>>>> Simon,
>>>> 
>>>> I have been experiencing this error for quite some time. If I load a r
>>>> script by double clicking it, it happens nearly 100% of the time. If I
>>>> load R itself first then it doesn't happen. If I clear the "recent"
>>>> files area it doesn't happen until I fill it again. The file opened
>>>> seems irrelevant, as does the location of the file (admittedly, all in
>>>> user space or external drives).
>>>> 
>>>> Despite the dire warning, if I hit escape I can continue working
>>>> nearly indefinitely without issue (my script save rate increases to
>>>> compensate for risk).
>>>> 
>>>> This was reported by CW on Nov 4th (perhaps others before), email
>>>> entitled: "[R-SIG-Mac] R segfault at startup, causing R crash". I
>>>> worked a little bit with Kevin Ushey offline to get to the bottom of
>>>> it further and I thought he pinned it down or at least got closer to
>>>> the cause.
>>>> 
>>>> "
>>>> After playing around with R.app for a bit, I was able to get myself
>>>> into a state where R.app was either dying or hanging on startup. I did
>>>> the following:
>>>> 
>>>>  1. Open R.app,
>>>>  2. Open a new R document (using the icon in the top menu bar --
>>>> 'Create a new, empty document in the editor' ),
>>>>  3. Write and execute some code -- in my case, 'x <- 1; print(x)',
>>>> executed with Cmd + Enter,
>>>>  4. (optionally) Repeat steps 2 and 3, creating new documents and
>>>> executing more code,
>>>>  5. Focus a different application,
>>>>  6. Attempt to open an R document (using the menu bar again --
>>>> 'Source script or load data in R',
>>>>  7. Observe that R.app is now hanging.
>>>> 
>>>> Note that if you run these repro steps, you may see R segfault / die
>>>> on startup (although in some cases all was fine). Note that step 5 is
>>>> necessary (IIUC) to force R.app to attempt to save the application
>>>> state.
>>>> 
>>>> It looks like R.app stores session state in the folder
>>>> 
>>>>   ~/Library/Saved Application State/org.R-project.R.savedState
>>>> 
>>>> My hypothesis at this point is that this saved state is somehow
>>>> getting corrupted. Removing that folder seems to resolve any startup
>>>> crashes I see.
>>>> 
>>>> As for the 'Open File' dialog hang, here's what I believe are the
>>>> relevant bits of an lldb stack trace I see:
>>>> 
>>>> * frame #0: 0x00007fffce2a7cba libsystem_kernel.dylib`__psynch_mutexwait + 10
>>>>   frame #1: 0x00007fffce390f6a
>>>> libsystem_pthread.dylib`_pthread_mutex_lock_wait + 100
>>>>   frame #2: 0x00007fffc573faee
>>>> FinderKit`+[FI_TFloatingInputWindowController singleton] + 34
>>>>   frame #3: 0x00007fffc57edd5b FinderKit`-[FI_TBrowserTableView
>>>> inputContext] + 29
>>>>   frame #4: 0x00007fffb6d397dc AppKit`+[NSTextInputContext
>>>> currentInputContext] + 145
>>>>   frame #5: 0x00007fffb6e7a272 AppKit`+[_NSAutomaticFocusRing
>>>> setActiveFirstResponderChanged] + 37
>>>>   frame #6: 0x00007fffb6e7a1d9
>>>> AppKit`___NSPostActiveFirstResponderChanged_block_invoke + 29
>>>>   frame #7: 0x00007fffb90cdec7
>>>> CoreFoundation`__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__
>>>> + 23
>>>>   frame #8: 0x00007fffb90cde37 CoreFoundation`__CFRunLoopDoObservers + 391
>>>>   frame #9: 0x00007fffb90aead9 CoreFoundation`__CFRunLoopRun + 873
>>>>   frame #10: 0x00007fffb90ae514 CoreFoundation`CFRunLoopRunSpecific + 420
>>>>   frame #11: 0x00007fffbaaabcb2 Foundation`-[NSRunLoop(NSRunLoop)
>>>> runMode:beforeDate:] + 277
>>>>   frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>>>> setStatusLineText:](self=0x00006180001e7c00,
>>>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>>>> RDocumentWinCtrl.m:465
>>>>   frame #13: 0x000000010b21f03d R`-[RDocumentWinCtrl
>>>> RDocumentDidResize:](self=0x00006180001e7c00,_cmd="RDocumentDidResize:",
>>>> notification=@"NSWindowDidResizeNotification") + 77 at
>>>> RDocumentWinCtrl.m:431
>>>> 
>>>> with context from frame 12:
>>>> 
>>>> frame #12: 0x000000010b21f43e R`-[RDocumentWinCtrl
>>>> setStatusLineText:](self=0x00006180001e7c00,
>>>> _cmd="setStatusLineText:", text=@"print(x, ...)") + 910 at
>>>> RDocumentWinCtrl.m:465
>>>>  462          [statusLine setStringValue:text];
>>>>  463          [statusLine setNeedsDisplay:YES];
>>>>  464          // Run NSDefaultRunLoopMode to allow to update status line
>>>> -> 465          [[NSRunLoop currentRunLoop] runMode:NSDefaultRunLoopMode
>>>>  466
>>>> beforeDate:[NSDate distantPast]];
>>>>  467
>>>>  468  }
>>>> 
>>>> Hopefully this helps...
>>>> 
>>>> Best,
>>>> Kevin
>>>> "
>>>> 
>>>> B
>>>> 
>>>> On Thu, Dec 8, 2016 at 6:28 AM, Simon Urbanek
>>>> <simon.urbanek at r-project.org> wrote:
>>>>> Karl,
>>>>> 
>>>>> unfortunately I cannot reproduce it on 10.12.1. How exactly can you
>>>>> trigger it? I have tried dragging a file on the R icon and open -a
>>>>> /Applications/R.app test.R and neither crashed on me. Does it depend
>>>>> on the R file opened or its location?
>>>>> 
>>>>> Rainer,
>>>>> it seems that your build is broken - I have seen crashes on error in
>>>>> builds that don't compile longjmp correctly so errors blow up the
>>>>> event loop - which seems to be the case in your build. How did you
>>>>> build it?
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>> 
>>>>>> On Dec 8, 2016, at 5:45 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>>>> 
>>>>>> Karl Thomaseth <karl.thomaseth at gmail.com> writes:
>>>>>> 
>>>>>>> Hello all,
>>>>>>> 
>>>>>>> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
>>>>>>> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
>>>>>>> I removed also all .RData and .Rapp.history from my system with
>>>>>>> sudo find / -name ?.RData? -delete
>>>>>>> sudo find / -name ?.Rapp*? -delete
>>>>>>> If I start R directly from the Dock, everything works fine.
>>>>>> 
>>>>>> First attempt: Nope - works. Then I realized it opened in emacs...
>>>>>> 
>>>>>> OK.
>>>>>> 
>>>>>> Opening a .R file via clicking on it actually results in the crash as
>>>>>> well. The file is opened, but R crashes.
>>>>>> 
>>>>>> 
>>>>>> How did you install R? I installed via homebrew (And no, I don't expect
>>>>>> any help here for my case).
>>>>>> 
>>>>>> But I might add: maybe related - but R crashes in the GUI if I use
>>>>>> e.g. a non-existing function - maybe related?
>>>>>> 
>>>>>> ,----
>>>>>> | > version
>>>>>> |                _
>>>>>> | platform       x86_64-apple-darwin16.1.0
>>>>>> | arch           x86_64
>>>>>> | os             darwin16.1.0
>>>>>> | system         x86_64, darwin16.1.0
>>>>>> | status
>>>>>> | major          3
>>>>>> | minor          3.2
>>>>>> | year           2016
>>>>>> | month          10
>>>>>> | day            31
>>>>>> | svn rev        71607
>>>>>> | language       R
>>>>>> | version.string R version 3.3.2 (2016-10-31)
>>>>>> | nickname       Sincere Pumpkin Patch
>>>>>> | > version()
>>>>>> | Error: could not find function "version"
>>>>>> |
>>>>>> |  *** caught segfault ***
>>>>>> | address 0x18, cause 'memory not mapped'
>>>>>> |
>>>>>> | Possible actions:
>>>>>> | 1: abort (with core dump, if enabled)
>>>>>> | 2: normal R exit
>>>>>> | 3: exit R without saving workspace
>>>>>> | 4: exit R saving workspace
>>>>>> | Selection:
>>>>>> `----
>>>>>> 
>>>>>> Cheers,
>>>>>> 
>>>>>> Rainer
>>>>>> 
>>>>>>> 
>>>>>>> Thank you
>>>>>>> 
>>>>>>> Karl Thomaseth
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
>>>>>>> Copyright (C) 2016 The R Foundation for Statistical Computing
>>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>>> 
>>>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>>>> You are welcome to redistribute it under certain conditions.
>>>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>>>> 
>>>>>>> Natural language support but running in an English locale
>>>>>>> 
>>>>>>> R is a collaborative project with many contributors.
>>>>>>> Type 'contributors()' for more information and
>>>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>>>> 
>>>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>>>> 'help.start()' for an HTML browser interface to help.
>>>>>>> Type 'q()' to quit R.
>>>>>>> 
>>>>>>> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
>>>>>>> 
>>>>>>> *** caught segfault ***
>>>>>>> address 0x7f8bf2637f8, cause 'memory not mapped'
>>>>>>> 
>>>>>>> Possible actions:
>>>>>>> 1: abort (with core dump, if enabled)
>>>>>>> 2: normal R exit
>>>>>>> 3: exit R without saving workspace
>>>>>>> 4: exit R saving workspace
>>>>>>>> 
>>>>>>> Selection:
>>>>>>> 
>>>>>>> =======================================
>>>>>>>> sessionInfo()
>>>>>>> R version 3.3.2 (2016-10-31)
>>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>>> Running under: macOS Sierra 10.12.1
>>>>>>> 
>>>>>>> locale:
>>>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>>> 
>>>>>>> attached base packages:
>>>>>>> [1] stats graphics grDevices utils datasets methods base
>>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>> 
>>>>>> --
>>>>>> Rainer M. Krug
>>>>>> email: Rainer<at>krugs<dot>de
>>>>>> PGP: 0x0F52F982
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> -- 
>>> Rainer M. Krug
>>> email: Rainer<at>krugs<dot>de
>>> PGP: 0x0F52F982
>> 
> 
> -- 
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982


	[[alternative HTML version deleted]]


From hpages at fredhutch.org  Mon Dec 12 22:45:33 2016
From: hpages at fredhutch.org (=?UTF-8?B?SGVydsOpIFBhZ8Oocw==?=)
Date: Mon, 12 Dec 2016 13:45:33 -0800
Subject: [R-SIG-Mac] R-devel binaries on R for Mac OS X Developer's Page are
 lagging 6 weeks behind
Message-ID: <0852e753-a74b-907b-6dfc-0f12d9d2c8cb@fredhutch.org>

Hi,

I noticed that the latest R-devel binaries available at
"R for Mac OS X Developer's Page" are for R r71594 (from
2016-10-26):

   https://r.research.att.com/#nightly

I tried both, the tarball (R-devel-mavericks-sa-x86_64.tar.gz)
and .pkg (R-devel-mavericks.pkg).

Thanks,
H.

-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fredhutch.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From leroy at icmpe.cnrs.fr  Thu Dec 15 09:30:08 2016
From: leroy at icmpe.cnrs.fr (Eric Leroy)
Date: Thu, 15 Dec 2016 09:30:08 +0100
Subject: [R-SIG-Mac] Rcmdr and macOS Sierra
Message-ID: <033cfdae-aa04-ee13-26a7-d95058dee822@icmpe.cnrs.fr>

Hi,
Since I installed the last version of R.app and macOS sierra, I am not 
able to launch R Commander. I type library(Rcmdr), I see some messages 
and the window of R commander never appears. It is the same with 
Rstudio. The only way I was able to launch Rcmdr is from XQuartz from 
xterm via R and then library(Rcmdr).
Do you have the same problem and an idea to fix it?
Best regards,
-- 

*Eric Leroy*

/Responsable de la plateforme microscopie ?lectronique/

ICMPE - UMR 7182 - CNRS - UPEC

2/8, rue Henri Dunant

94320 Thiais

T?l : 01.49.78.12.09

Fax : 01.49.78.12.03

courriel : eric.leroy at icmpe.cnrs.fr <mailto:eric.leroy at icmpe.cnrs.fr>

Page Web : : http://www.icmpe.cnrs.fr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161215/456b8861/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: leroy.vcf
Type: text/x-vcard
Size: 391 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161215/456b8861/attachment-0001.vcf>

From jfox at mcmaster.ca  Thu Dec 15 16:14:16 2016
From: jfox at mcmaster.ca (Fox, John)
Date: Thu, 15 Dec 2016 15:14:16 +0000
Subject: [R-SIG-Mac] Rcmdr and macOS Sierra
In-Reply-To: <033cfdae-aa04-ee13-26a7-d95058dee822@icmpe.cnrs.fr>
References: <033cfdae-aa04-ee13-26a7-d95058dee822@icmpe.cnrs.fr>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8365A9226@FHSDB2D11-2.csu.mcmaster.ca>

Dear Eric,

I'm also running Mac OS Sierra with the current Mac version of R 3.3.2, the current version of XQuartz, and all R packages up-to-date. The Rcmdr works perfectly fine for me. 

Here are my session and system info:

------------ snip -----------

> Sys.info()
sysname 
"Darwin" 
release 
"16.1.0" 
version
"Darwin Kernel Version 16.1.0: Thu Oct 13 21:26:57 PDT 2016; root:xnu-3789.21.3~60/RELEASE_X86_64" 
nodename 
"Johns-MBP" 
machine 
"x86_64" 
login 
"johnfox" 
user 
"johnfox" 
effective_user 
"johnfox" 

> sessionInfo()
R version 3.3.2 (2016-10-31)
Platform: x86_64-apple-darwin13.4.0 (64-bit) Running under: macOS Sierra 10.12.1

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] Rcmdr_2.3-1     RcmdrMisc_1.0-5 sandwich_2.3-4  car_2.1-4      

loaded via a namespace (and not attached):
 [1] zoo_1.7-13          lattice_0.20-34     tcltk_3.3.2         colorspace_1.3-2   
 [5] htmltools_0.3.5     mgcv_1.8-16         relimp_1.0-5        survival_2.40-1    
 [9] e1071_1.6-7         nloptr_1.0.4        foreign_0.8-67      RColorBrewer_1.1-2 
[13] readxl_0.1.1        plyr_1.8.4          stringr_1.1.0       MatrixModels_0.4-1 
[17] munsell_0.4.3       gtable_0.2.0        latticeExtra_0.6-28 knitr_1.15.1       
[21] SparseM_1.74        quantreg_5.29       pbkrtest_0.4-6      parallel_3.3.2     
[25] class_7.3-14        htmlTable_1.7       Rcpp_0.12.8         acepack_1.4.1      
[29] openssl_0.9.5       scales_0.4.1        tcltk2_1.2-11       base64_2.0         
[33] Hmisc_4.0-1         abind_1.4-5         lme4_1.1-12         gridExtra_2.2.1    
[37] ggplot2_2.2.0       digest_0.6.10       stringi_1.1.2       grid_3.3.2         
[41] tools_3.3.2         magrittr_1.5        lazyeval_0.2.0      tibble_1.2         
[45] Formula_1.2-1       cluster_2.0.5       MASS_7.3-45         Matrix_1.2-7.1     
[49] data.table_1.10.0   assertthat_0.1      minqa_1.2.4         rpart_4.1-10       
[53] nnet_7.3-12         nlme_3.1-128       

------------ snip ------------------


And here's a guess: Perhaps you didn't restart your Mac (or alternatively log out of and back into your account) before starting R.app.

I hope this helps,
 John

--------------------------------------
John Fox, Professor
McMaster University
Hamilton, Ontario, Canada
Web: socserv.mcmaster.ca/jfox



> -----Original Message-----
> From: R-SIG-Mac [mailto:r-sig-mac-bounces at r-project.org] On Behalf Of
> Eric Leroy
> Sent: Thursday, December 15, 2016 3:30 AM
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] Rcmdr and macOS Sierra
> 
> Hi,
> Since I installed the last version of R.app and macOS sierra, I am not
> able to launch R Commander. I type library(Rcmdr), I see some messages
> and the window of R commander never appears. It is the same with
> Rstudio. The only way I was able to launch Rcmdr is from XQuartz from
> xterm via R and then library(Rcmdr).
> Do you have the same problem and an idea to fix it?
> Best regards,
> 
> --
> 
> 
> Eric Leroy
> 
> Responsable de la plateforme microscopie ?lectronique
> 
> ICMPE - UMR 7182 - CNRS - UPEC
> 
> 2/8, rue Henri Dunant
> 
> 94320 Thiais
> 
> T?l : 01.49.78.12.09
> 
> Fax : 01.49.78.12.03
> 
> courriel : eric.leroy at icmpe.cnrs.fr <mailto:eric.leroy at icmpe.cnrs.fr>
> 
> Page Web : : http://www.icmpe.cnrs.fr


From cstrato at aon.at  Fri Dec 16 12:44:38 2016
From: cstrato at aon.at (cstrato)
Date: Fri, 16 Dec 2016 12:44:38 +0100
Subject: [R-SIG-Mac] Does R CMD check create invisible files?
Message-ID: <203bf7c5-c810-c438-e1b8-ef406a3c6a45@aon.at>

Dear all,

On my Mac running Yosemite I zip my package:

    $ tar czf xps_1.35.1.tar.gz xps

The directoy 'xps' does not contain any hidden files!

However, when I run:

    $ R CMD check xps_1.35.1.tar.gz

I get:
...
* checking for hidden files and directories ... NOTE
Found the following hidden files and directories:
   .BBSoptions
   ._.BBSoptions
   ._ACKNOWLEDGMENT
   ._DESCRIPTION
...
etc

When I unzip my package using:

    $ tar xvfz xps_1.35.1.tar.gz xps

there are still no hidden files!


However, the src directory created by R CMD check, i.e.

CS-iMac:CRAN cstrato$ cd xps.Rcheck/00_pkg_src/xps/
CS-iMac:xps cstrato$ ls -al
total 504
drwxr-xr-x   40 cstrato  staff   1360 Dec 16 10:30 .
drwxr-xr-x    4 cstrato  staff    136 Dec 16 10:29 ..
-rw-r--r--    1 cstrato  staff     26 Sep 30 23:33 .BBSoptions
-rw-r--r--    1 cstrato  staff    181 Sep 30 23:33 ._.BBSoptions
-rw-r--r--    1 cstrato  staff    181 Sep 30 23:33 ._ACKNOWLEDGMENT
-rw-r--r--    1 cstrato  staff    181 Dec 16 10:20 ._DESCRIPTION
-rw-r--r--    1 cstrato  staff    181 Dec 16 10:26 ._NAMESPACE

does indeed contain hidden files from all my files!


Can anybody explain this behavior and tell me how to avoid this behavior?


Here are my infos:

 > Sys.info()
sysname
"Darwin"
release
"14.5.0"
version
"Darwin Kernel Version 14.5.0: Sun Sep 25 22:07:15 PDT 2016; 
root:xnu-2782.50.9~1/RELEASE_X86_64"
nodename
"CS-iMac.local"
machine
"x86_64"
login
"_spotlight"
user
"cstrato"
effective_user
"cstrato"

 > sessionInfo()
R version 3.3.2 (2016-10-31)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X Yosemite 10.10.5

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


Thank you in advance
Best regards,
Christian
_._._._._._._._._._._._._._._._._._
C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
V.i.e.n.n.a           A.u.s.t.r.i.a
e.m.a.i.l:        cstrato at aon.at
_._._._._._._._._._._._._._._._._._


From kasperdanielhansen at gmail.com  Fri Dec 16 15:38:59 2016
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Fri, 16 Dec 2016 09:38:59 -0500
Subject: [R-SIG-Mac] Does R CMD check create invisible files?
In-Reply-To: <203bf7c5-c810-c438-e1b8-ef406a3c6a45@aon.at>
References: <203bf7c5-c810-c438-e1b8-ef406a3c6a45@aon.at>
Message-ID: <CAC2h7uustZtpa4u0awhwB28dgg+hah3sT_QFK8==oBMBNNMmqw@mail.gmail.com>

I am using a mac and I have never seen these files.  My best bet is that it
is hidden files from your text editor, and that - for example -
._DESCRIPTION is an autosave of DESCRIPTION.  Emacs does that, but would
name it DESCRIPTION~.  So I would like into your editor.  R removes certain
files automatically (like the Emacs autosave) when it runs R CMD build, but
it seems you need to start using .Rbuildignore.

Best,
Kasper

On Fri, Dec 16, 2016 at 6:44 AM, cstrato <cstrato at aon.at> wrote:

> Dear all,
>
> On my Mac running Yosemite I zip my package:
>
>    $ tar czf xps_1.35.1.tar.gz xps
>
> The directoy 'xps' does not contain any hidden files!
>
> However, when I run:
>
>    $ R CMD check xps_1.35.1.tar.gz
>
> I get:
> ...
> * checking for hidden files and directories ... NOTE
> Found the following hidden files and directories:
>   .BBSoptions
>   ._.BBSoptions
>   ._ACKNOWLEDGMENT
>   ._DESCRIPTION
> ...
> etc
>
> When I unzip my package using:
>
>    $ tar xvfz xps_1.35.1.tar.gz xps
>
> there are still no hidden files!
>
>
> However, the src directory created by R CMD check, i.e.
>
> CS-iMac:CRAN cstrato$ cd xps.Rcheck/00_pkg_src/xps/
> CS-iMac:xps cstrato$ ls -al
> total 504
> drwxr-xr-x   40 cstrato  staff   1360 Dec 16 10:30 .
> drwxr-xr-x    4 cstrato  staff    136 Dec 16 10:29 ..
> -rw-r--r--    1 cstrato  staff     26 Sep 30 23:33 .BBSoptions
> -rw-r--r--    1 cstrato  staff    181 Sep 30 23:33 ._.BBSoptions
> -rw-r--r--    1 cstrato  staff    181 Sep 30 23:33 ._ACKNOWLEDGMENT
> -rw-r--r--    1 cstrato  staff    181 Dec 16 10:20 ._DESCRIPTION
> -rw-r--r--    1 cstrato  staff    181 Dec 16 10:26 ._NAMESPACE
>
> does indeed contain hidden files from all my files!
>
>
> Can anybody explain this behavior and tell me how to avoid this behavior?
>
>
> Here are my infos:
>
> > Sys.info()
> sysname
> "Darwin"
> release
> "14.5.0"
> version
> "Darwin Kernel Version 14.5.0: Sun Sep 25 22:07:15 PDT 2016;
> root:xnu-2782.50.9~1/RELEASE_X86_64"
> nodename
> "CS-iMac.local"
> machine
> "x86_64"
> login
> "_spotlight"
> user
> "cstrato"
> effective_user
> "cstrato"
>
> > sessionInfo()
> R version 3.3.2 (2016-10-31)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X Yosemite 10.10.5
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>
> Thank you in advance
> Best regards,
> Christian
> _._._._._._._._._._._._._._._._._._
> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
> V.i.e.n.n.a           A.u.s.t.r.i.a
> e.m.a.i.l:        cstrato at aon.at
> _._._._._._._._._._._._._._._._._._
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From rsparapa at mcw.edu  Fri Dec 16 16:21:58 2016
From: rsparapa at mcw.edu (Sparapani, Rodney)
Date: Fri, 16 Dec 2016 15:21:58 +0000
Subject: [R-SIG-Mac]  Does R CMD check create invisible files?
In-Reply-To: <<203bf7c5-c810-c438-e1b8-ef406a3c6a45@aon.at>>
Message-ID: <019DE686-69B3-4E81-ACA3-4F751050E914@contoso.com>

This was covered on r-devel last year; see
https://stat.ethz.ch/pipermail/r-devel/2015-September/071813.html

--
Rodney Sparapani, PhD
Assistant Professor of Biostatistics
Medical College of Wisconsin, Milwaukee

From cstrato at aon.at  Fri Dec 16 19:04:43 2016
From: cstrato at aon.at (cstrato)
Date: Fri, 16 Dec 2016 19:04:43 +0100
Subject: [R-SIG-Mac] Does R CMD check create invisible files?
In-Reply-To: <019DE686-69B3-4E81-ACA3-4F751050E914@contoso.com>
References: <019DE686-69B3-4E81-ACA3-4F751050E914@contoso.com>
Message-ID: <951823d1-63a8-7b21-af4b-3e7492de0a92@aon.at>

Dear Kasper, dear Rodney,

Thank you for your replies:
I am shocked :-)
What you may not have realized, the link that you have sent me, was my 
question from last year; I completely forgot, so I apologize.

Best regards,
Christian


On 12/16/16 16:21, Sparapani, Rodney wrote:
> This was covered on r-devel last year; see
> https://stat.ethz.ch/pipermail/r-devel/2015-September/071813.html
>
> --
> Rodney Sparapani, PhD
> Assistant Professor of Biostatistics
> Medical College of Wisconsin, Milwaukee
>


From ripley at stats.ox.ac.uk  Fri Dec 16 17:08:14 2016
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Dec 2016 16:08:14 +0000
Subject: [R-SIG-Mac] Does R CMD check create invisible files?
In-Reply-To: <203bf7c5-c810-c438-e1b8-ef406a3c6a45@aon.at>
References: <203bf7c5-c810-c438-e1b8-ef406a3c6a45@aon.at>
Message-ID: <f99f001c-bf51-af6c-b65c-bf2379110d3a@stats.ox.ac.uk>

On 16/12/2016 11:44, cstrato wrote:
> Dear all,
>
> On my Mac running Yosemite I zip my package:
>
>    $ tar czf xps_1.35.1.tar.gz xps
>
> The directoy 'xps' does not contain any hidden files!
>
> However, when I run:
>
>    $ R CMD check xps_1.35.1.tar.gz
>
> I get:
> ...
> * checking for hidden files and directories ... NOTE
> Found the following hidden files and directories:
>   .BBSoptions
>   ._.BBSoptions
>   ._ACKNOWLEDGMENT
>   ._DESCRIPTION
> ...
> etc
>
> When I unzip my package using:
>
>    $ tar xvfz xps_1.35.1.tar.gz xps
>
> there are still no hidden files!
>
>
> However, the src directory created by R CMD check, i.e.
>
> CS-iMac:CRAN cstrato$ cd xps.Rcheck/00_pkg_src/xps/
> CS-iMac:xps cstrato$ ls -al
> total 504
> drwxr-xr-x   40 cstrato  staff   1360 Dec 16 10:30 .
> drwxr-xr-x    4 cstrato  staff    136 Dec 16 10:29 ..
> -rw-r--r--    1 cstrato  staff     26 Sep 30 23:33 .BBSoptions
> -rw-r--r--    1 cstrato  staff    181 Sep 30 23:33 ._.BBSoptions
> -rw-r--r--    1 cstrato  staff    181 Sep 30 23:33 ._ACKNOWLEDGMENT
> -rw-r--r--    1 cstrato  staff    181 Dec 16 10:20 ._DESCRIPTION
> -rw-r--r--    1 cstrato  staff    181 Dec 16 10:26 ._NAMESPACE
>
> does indeed contain hidden files from all my files!
>
>
> Can anybody explain this behavior and tell me how to avoid this behavior?

Those are fork files: the OS X tar differs from POSIX by treating Apple 
forks in a non-POSIX-standard way, and *by default* R CMD check does not 
use the OS's tar command (as ?check explains).

Do read and follow the documentation: use R CMD build not your OS's tar 
to 'zip' (your incorrect terminology) a package. (Or read the source 
code for tar() and note that it sets various environment variables on OS X.)

fortunes::fortune(14) really does apply.

>
> Here are my infos:
>
>> Sys.info()
> sysname
> "Darwin"
> release
> "14.5.0"
> version
> "Darwin Kernel Version 14.5.0: Sun Sep 25 22:07:15 PDT 2016;
> root:xnu-2782.50.9~1/RELEASE_X86_64"
> nodename
> "CS-iMac.local"
> machine
> "x86_64"
> login
> "_spotlight"
> user
> "cstrato"
> effective_user
> "cstrato"
>
>> sessionInfo()
> R version 3.3.2 (2016-10-31)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X Yosemite 10.10.5
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>
> Thank you in advance
> Best regards,
> Christian
> _._._._._._._._._._._._._._._._._._
> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
> V.i.e.n.n.a           A.u.s.t.r.i.a
> e.m.a.i.l:        cstrato at aon.at
> _._._._._._._._._._._._._._._._._._


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From cstrato at aon.at  Sat Dec 17 13:24:06 2016
From: cstrato at aon.at (cstrato)
Date: Sat, 17 Dec 2016 13:24:06 +0100
Subject: [R-SIG-Mac] Does R CMD check create invisible files?
In-Reply-To: <f99f001c-bf51-af6c-b65c-bf2379110d3a@stats.ox.ac.uk>
References: <f99f001c-bf51-af6c-b65c-bf2379110d3a@stats.ox.ac.uk>
Message-ID: <f90645b7-117e-0a85-4a34-0fc3ceb4166d@aon.at>

Dear Prof. Ripley,

Thank you for your explanations and comments.

Best regards,
Christian


From a.beckerman at sheffield.ac.uk  Mon Dec 19 09:08:37 2016
From: a.beckerman at sheffield.ac.uk (Andrew P Beckerman)
Date: Mon, 19 Dec 2016 08:08:37 +0000
Subject: [R-SIG-Mac] Changing focus triggers errors and sometimes abort
Message-ID: <60c50e95-f733-4dba-b41b-bc766af2e26c@Spark>

Hi

MacOS 10.12.1 and still 10.12.2, Macbook 12?, R 3.3.2, XQuartz installed (2.7.11)

I am routinely getting the following two errors in the console while using the R editor and changing focus to a finder or safari window and back. ?It is often associated with opening a script via File -> Open.

This seems to have been reported as part of the '[R-SIG-Mac] CONFIRMED - R.app crashes at startup on MacOS Sierra? thread, but here are the errors specifically noting deprecated functions and other issues. ?Sometimes, just the errors are reported. ?Sometime they come with the 4 choices associated with aborting?. it does not appear to me to be related to having XQuartz open or not.

These are not happening with RStudio, so I am guessing something is going on with Sierra the built in R editor?

2016-12-14 13:36:38.995 R[41536:2551260] *** WARNING: Method convertPointFromBase: in class NSView is deprecated on 10.7 and later. It should not be used in new applications.

2016-12-14 13:38:34.744 R[41536:2551260] IMKInputSession presentFunctionRowItemTextInputViewWithEndpoint:completionHandler: : *NO* NSRemoteViewController to client, NSError=Error Domain=NSCocoaErrorDomain Code=4099 "The connection from pid 0 was invalidated from this process." UserInfo={NSDebugDescription=The connection from pid 0 was invalidated from this process.}, com.apple.inputmethod.EmojiFunctionRowItem

--
Dr. Andrew Beckerman
University of Sheffield [+44 (0)114 222 0026]
Editor-in-Chief: Ecology and Evolution
http://www.beckslab.staff.shef.ac.uk
@beckerhopper
http://www.r4all.org [Getting Started with R]
@GSwithR

	[[alternative HTML version deleted]]


From jkunkel1 at une.edu  Mon Dec 19 15:29:41 2016
From: jkunkel1 at une.edu (Joseph Kunkel)
Date: Mon, 19 Dec 2016 14:29:41 +0000
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit does not resolve.
Message-ID: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>

Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 

I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3

With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.

Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.

'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.

Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.

*** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.

Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.

Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?

I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.

Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?

Joe Kunkel

-?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
Joseph G. Kunkel, Research Professor
112A Marine Science Center
University of New England
Biddeford ME 04005
http://www.bio.umass.edu/biology/kunkel/


From andreas.j.schroeder at gmail.com  Thu Dec 22 00:08:51 2016
From: andreas.j.schroeder at gmail.com (=?utf-8?Q?Andreas_Schr=C3=B6der?=)
Date: Thu, 22 Dec 2016 00:08:51 +0100
Subject: [R-SIG-Mac] Recurring problem to run R with SPSS 24
Message-ID: <5F3FA566-555A-4EA6-846A-877FE43ADB6B@gmail.com>

Dear all, 

my last post about the non-compatibility of R essentials with SPSS 24 could not be resolved and an employee of IBM suggested to install spss 22 which runs with R 2.15.  I purchased this ?older licence? today. 

So far so good, but already the installation of the required R 2.15.(2) does not work because apparently the installer does not recognise Sierra 10.12.2 as a newer built than OS X 10.  Any suggestions? Google search yields solutions that involve programming to my understanding which I am not capable of.


I am very frustrated right now because I feel simply cheated by IBM. Did anyone experience the same issue?

I did all installations exactly as suggested by the IBM manuals and simply want to run a Tobit-Regression.

Thank you for every input.

Best, 

Andreas 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161222/4a2058ec/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screen Shot 2016-12-22 at 00.08.33.png
Type: image/png
Size: 40491 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20161222/4a2058ec/attachment-0001.png>

From ken at kjbeath.com.au  Thu Dec 22 00:31:36 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Thu, 22 Dec 2016 10:31:36 +1100
Subject: [R-SIG-Mac] Recurring problem to run R with SPSS 24
In-Reply-To: <5F3FA566-555A-4EA6-846A-877FE43ADB6B@gmail.com>
References: <5F3FA566-555A-4EA6-846A-877FE43ADB6B@gmail.com>
Message-ID: <CFAC20D3-2BD7-4F34-A74B-65A9892E6B07@kjbeath.com.au>

I would be surprised if anyone on this mailing list runs R analyses through SPSS. What SPSS and SAS have done is to say, well people want to do analyses that are available in R that we can?t be bothered implementing, so we will give them an interface, and it seems not a very good one.

It should not take long to learn how to read in the data in R, produce the analysis and output the results. Try this http://www.ats.ucla.edu/stat/r/dae/tobit.htm

Ken


> On 22 Dec. 2016, at 10:08 am, Andreas Schr?der <andreas.j.schroeder at gmail.com> wrote:
> 
> Dear all, 
> 
> my last post about the non-compatibility of R essentials with SPSS 24 could not be resolved and an employee of IBM suggested to install spss 22 which runs with R 2.15.  I purchased this ?older licence? today. 
> 
> So far so good, but already the installation of the required R 2.15.(2) does not work because apparently the installer does not recognise Sierra 10.12.2 as a newer built than OS X 10.  Any suggestions? Google search yields solutions that involve programming to my understanding which I am not capable of.
> 
> 
> I am very frustrated right now because I feel simply cheated by IBM. Did anyone experience the same issue?
> 
> I did all installations exactly as suggested by the IBM manuals and simply want to run a Tobit-Regression.
> 
> Thank you for every input.
> 
> Best, 
> 
> Andreas 
> <Screen Shot 2016-12-22 at 00.08.33.png>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bogaso.christofer at gmail.com  Sun Dec 25 23:37:59 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Mon, 26 Dec 2016 04:07:59 +0530
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
Message-ID: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>

Hi again,

I posted this in general R thread, however it is suggested this group
since I am using MAC OS 10.7.5.

I was following the instruction available in
"http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
to download data from Internet contained in a zip file from the
address :

https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip

However when I tried to follow the instruction I am facing below error :

> temp <- tempfile()
> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
 :
  unsupported URL scheme

Can someone here please tell me what went wrong in above?

Highly appreciate your feedback.

Thanks for your time.


From pdalgd at gmail.com  Mon Dec 26 00:40:46 2016
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 26 Dec 2016 00:40:46 +0100
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
Message-ID: <157DA6CD-4B9C-4209-957E-C0DF983DBEB6@gmail.com>

Which R version is this?

-pd

> On 25 Dec 2016, at 23:37 , Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi again,
> 
> I posted this in general R thread, however it is suggested this group
> since I am using MAC OS 10.7.5.
> 
> I was following the instruction available in
> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
> to download data from Internet contained in a zip file from the
> address :
> 
> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
> 
> However when I tried to follow the instruction I am facing below error :
> 
>> temp <- tempfile()
>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
> :
>  unsupported URL scheme
> 
> Can someone here please tell me what went wrong in above?
> 
> Highly appreciate your feedback.
> 
> Thanks for your time.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From csardi.gabor at gmail.com  Mon Dec 26 00:46:01 2016
From: csardi.gabor at gmail.com (=?UTF-8?B?R8OhYm9yIENzw6FyZGk=?=)
Date: Sun, 25 Dec 2016 23:46:01 +0000
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
Message-ID: <CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>

Your R build does not support HTTPS.

I suggest that you use the curl package if you can. HTTP support in
base R is very limited currently.

Gabor



On Sun, Dec 25, 2016 at 10:37 PM, Christofer Bogaso
<bogaso.christofer at gmail.com> wrote:
> Hi again,
>
> I posted this in general R thread, however it is suggested this group
> since I am using MAC OS 10.7.5.
>
> I was following the instruction available in
> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
> to download data from Internet contained in a zip file from the
> address :
>
> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
>
> However when I tried to follow the instruction I am facing below error :
>
>> temp <- tempfile()
>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
>  :
>   unsupported URL scheme
>
> Can someone here please tell me what went wrong in above?
>
> Highly appreciate your feedback.
>
> Thanks for your time.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Mon Dec 26 02:48:53 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 25 Dec 2016 17:48:53 -0800
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
	<CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
Message-ID: <37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>


> On Dec 25, 2016, at 3:46 PM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
> 
> Your R build does not support HTTPS.
> 
> I suggest that you use the curl package if you can. HTTP support in
> base R is very limited currently.

I generally use the downloader package. It sets up the call to download.file so that it succeeds with https URLs.


 install.packages("downloader", dependencies=TRUE)
trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/mavericks/contrib/3.3/downloader_0.4.tgz'
Content type 'application/x-gzip' length 19459 bytes (19 KB)
==================================================
downloaded 19 KB


The downloaded binary packages are in
	/var/folders/68/vh2f8kzn09j8954r6q9100yh0000gn/T//Rtmpq8DVG4/downloaded_packages
> library(downloader)
> help(pac=downloader)
starting httpd help server ... done
> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")

# Requires both a source and destination file name.

trying URL 'https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip'
Content type 'application/octet-stream' length 1228 bytes
==================================================
downloaded 1228 bytes

-- 
David.
> 
> Gabor
> 
> 
> 
> On Sun, Dec 25, 2016 at 10:37 PM, Christofer Bogaso
> <bogaso.christofer at gmail.com> wrote:
>> Hi again,
>> 
>> I posted this in general R thread, however it is suggested this group
>> since I am using MAC OS 10.7.5.
>> 
>> I was following the instruction available in
>> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
>> to download data from Internet contained in a zip file from the
>> address :
>> 
>> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
>> 
>> However when I tried to follow the instruction I am facing below error :
>> 
>>> temp <- tempfile()
>>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
>> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
>> :
>>  unsupported URL scheme
>> 
>> Can someone here please tell me what went wrong in above?
>> 
>> Highly appreciate your feedback.
>> 
>> Thanks for your time.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bogaso.christofer at gmail.com  Mon Dec 26 12:19:48 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Mon, 26 Dec 2016 16:49:48 +0530
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
	<CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
	<37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>
Message-ID: <CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>

Hi David et al,

Thanks for showing the pointers. With your approach, I see the
"temp.zip" file in my working folder.

However still I could not extract the data within it. I tried using
unzip() function, however not really going through :

> unzip("temp.zip")
Warning message:
In unzip("temp.zip") : error 1 in extracting from zip file

When I try to access the link
"https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip"
manually, then download the zip file and then unzip it, I get a file
called "NAV_File_23122016.out". Which next I open in excel and get all
the data.

I was just trying to perform similar task, however through R, so that
I can load data automatically directly from Web.

Any Idea please. I am using below version of R (I know this is quite
old version, however I am not currently in a position to upgrade my
Macbook)

> R.Version()
$platform
[1] "x86_64-apple-darwin10.8.0"

$arch
[1] "x86_64"

$os
[1] "darwin10.8.0"

$system
[1] "x86_64, darwin10.8.0"

$status
[1] ""

$major
[1] "3"

$minor
[1] "2.1"

$year
[1] "2015"

$month
[1] "06"

$day
[1] "18"

$`svn rev`
[1] "68531"

$language
[1] "R"

$version.string
[1] "R version 3.2.1 (2015-06-18)"

$nickname
[1] "World-Famous Astronaut"

On Mon, Dec 26, 2016 at 7:18 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>
>> On Dec 25, 2016, at 3:46 PM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
>>
>> Your R build does not support HTTPS.
>>
>> I suggest that you use the curl package if you can. HTTP support in
>> base R is very limited currently.
>
> I generally use the downloader package. It sets up the call to download.file so that it succeeds with https URLs.
>
>
>  install.packages("downloader", dependencies=TRUE)
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/mavericks/contrib/3.3/downloader_0.4.tgz'
> Content type 'application/x-gzip' length 19459 bytes (19 KB)
> ==================================================
> downloaded 19 KB
>
>
> The downloaded binary packages are in
>         /var/folders/68/vh2f8kzn09j8954r6q9100yh0000gn/T//Rtmpq8DVG4/downloaded_packages
>> library(downloader)
>> help(pac=downloader)
> starting httpd help server ... done
>> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")
>
> # Requires both a source and destination file name.
>
> trying URL 'https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip'
> Content type 'application/octet-stream' length 1228 bytes
> ==================================================
> downloaded 1228 bytes
>
> --
> David.
>>
>> Gabor
>>
>>
>>
>> On Sun, Dec 25, 2016 at 10:37 PM, Christofer Bogaso
>> <bogaso.christofer at gmail.com> wrote:
>>> Hi again,
>>>
>>> I posted this in general R thread, however it is suggested this group
>>> since I am using MAC OS 10.7.5.
>>>
>>> I was following the instruction available in
>>> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
>>> to download data from Internet contained in a zip file from the
>>> address :
>>>
>>> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
>>>
>>> However when I tried to follow the instruction I am facing below error :
>>>
>>>> temp <- tempfile()
>>>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
>>> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
>>> :
>>>  unsupported URL scheme
>>>
>>> Can someone here please tell me what went wrong in above?
>>>
>>> Highly appreciate your feedback.
>>>
>>> Thanks for your time.
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From pdalgd at gmail.com  Mon Dec 26 13:21:57 2016
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 26 Dec 2016 13:21:57 +0100
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
	<CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
	<37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>
	<CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>
Message-ID: <5B84866E-78E7-43D9-9107-6195090B7E87@gmail.com>

Things happened with HTTPS in 3.2.2, so upgrade... 

With 3.3.2 on Mavericks, I see

> temp <- tempfile()
> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
trying URL 'https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip'
Content type 'application/octet-stream' length 1228 bytes
==================================================
downloaded 1228 bytes

-pd

> On 26 Dec 2016, at 12:19 , Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> $version.string
> [1] "R version 3.2.1 (2015-06-18)"

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From dwinsemius at comcast.net  Mon Dec 26 18:40:20 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 26 Dec 2016 09:40:20 -0800
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
	<CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
	<37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>
	<CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>
Message-ID: <E97D9597-152C-404D-A4EB-9C6907D60797@comcast.net>


> On Dec 26, 2016, at 3:19 AM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi David et al,
> 
> Thanks for showing the pointers. With your approach, I see the
> "temp.zip" file in my working folder.
> 
> However still I could not extract the data within it. I tried using
> unzip() function, however not really going through :
> 
>> unzip("temp.zip")
> Warning message:
> In unzip("temp.zip") : error 1 in extracting from zip file

I didn't try to use R to unzip it. Just using my system facilities worked fine.

I'm not able to reproduce:

> ?unzip
> dat <- unzip("~/temp.zip")
> str(dat)
 chr "./NAV_File_23122016.out"
> dat_in <- read.table(dat)
Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  : 
  line 1 did not have 17 elements
> dat_in <- read.csv(dat, header=FALSE)
> str(dat_in)
'data.frame':	75 obs. of  6 variables:
 $ V1: Factor w/ 1 level "12/23/2016": 1 1 1 1 1 1 1 1 1 1 ...
 $ V2: Factor w/ 7 levels "PFM001","PFM002",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ V3: Factor w/ 7 levels "HDFC PENSION MANAGEMENT COMPANY LIMITED",..: 6 6 6 6 6 6 6 6 6 6 ...
 $ V4: Factor w/ 75 levels "SM001001","SM001002",..: 5 7 8 11 12 13 1 2 3 4 ...
 $ V5: Factor w/ 75 levels "HDFC PENSION MANAGEMENT COMPANY LIMITED SCHEME A - TIER I",..: 62 59 63 37 56 57 54 55 60 58 ...
 $ V6: num  21.7 21.1 20.8 11.7 10.1 ...


-- 
David.
> 
> When I try to access the link
> "https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip"
> manually, then download the zip file and then unzip it, I get a file
> called "NAV_File_23122016.out". Which next I open in excel and get all
> the data.
> 
> I was just trying to perform similar task, however through R, so that
> I can load data automatically directly from Web.
> 
> Any Idea please. I am using below version of R (I know this is quite
> old version, however I am not currently in a position to upgrade my
> Macbook)
> 
>> R.Version()
> $platform
> [1] "x86_64-apple-darwin10.8.0"
> 
> $arch
> [1] "x86_64"
> 
> $os
> [1] "darwin10.8.0"
> 
> $system
> [1] "x86_64, darwin10.8.0"
> 
> $status
> [1] ""
> 
> $major
> [1] "3"
> 
> $minor
> [1] "2.1"
> 
> $year
> [1] "2015"
> 
> $month
> [1] "06"
> 
> $day
> [1] "18"
> 
> $`svn rev`
> [1] "68531"
> 
> $language
> [1] "R"
> 
> $version.string
> [1] "R version 3.2.1 (2015-06-18)"
> 
> $nickname
> [1] "World-Famous Astronaut"
> 
> On Mon, Dec 26, 2016 at 7:18 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>>> On Dec 25, 2016, at 3:46 PM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
>>> 
>>> Your R build does not support HTTPS.
>>> 
>>> I suggest that you use the curl package if you can. HTTP support in
>>> base R is very limited currently.
>> 
>> I generally use the downloader package. It sets up the call to download.file so that it succeeds with https URLs.
>> 
>> 
>> install.packages("downloader", dependencies=TRUE)
>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/mavericks/contrib/3.3/downloader_0.4.tgz'
>> Content type 'application/x-gzip' length 19459 bytes (19 KB)
>> ==================================================
>> downloaded 19 KB
>> 
>> 
>> The downloaded binary packages are in
>>        /var/folders/68/vh2f8kzn09j8954r6q9100yh0000gn/T//Rtmpq8DVG4/downloaded_packages
>>> library(downloader)
>>> help(pac=downloader)
>> starting httpd help server ... done
>>> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")
>> 
>> # Requires both a source and destination file name.
>> 
>> trying URL 'https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip'
>> Content type 'application/octet-stream' length 1228 bytes
>> ==================================================
>> downloaded 1228 bytes
>> 
>> --
>> David.
>>> 
>>> Gabor
>>> 
>>> 
>>> 
>>> On Sun, Dec 25, 2016 at 10:37 PM, Christofer Bogaso
>>> <bogaso.christofer at gmail.com> wrote:
>>>> Hi again,
>>>> 
>>>> I posted this in general R thread, however it is suggested this group
>>>> since I am using MAC OS 10.7.5.
>>>> 
>>>> I was following the instruction available in
>>>> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
>>>> to download data from Internet contained in a zip file from the
>>>> address :
>>>> 
>>>> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
>>>> 
>>>> However when I tried to follow the instruction I am facing below error :
>>>> 
>>>>> temp <- tempfile()
>>>>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
>>>> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
>>>> :
>>>> unsupported URL scheme
>>>> 
>>>> Can someone here please tell me what went wrong in above?
>>>> 
>>>> Highly appreciate your feedback.
>>>> 
>>>> Thanks for your time.
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 


From bogaso.christofer at gmail.com  Mon Dec 26 19:37:44 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Tue, 27 Dec 2016 00:07:44 +0530
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <E97D9597-152C-404D-A4EB-9C6907D60797@comcast.net>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
	<CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
	<37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>
	<CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>
	<E97D9597-152C-404D-A4EB-9C6907D60797@comcast.net>
Message-ID: <CA+dpOJnJF+ehPGDBBJBMrEs8iy56-uW4L51upJCrHaY4UHL8+w@mail.gmail.com>

Thanks David for your detailing. However still it not working for me :

> library(downloader)
> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")
100   996  100   996    0     0    917      0  0:00:01  0:00:01
--:--:--  2028 0      0      0 --:--:-- --:--:-- --:--:--     0
> dat <- unzip("~/temp.zip")
Warning message:
In unzip("~/temp.zip") : error 1 in extracting from zip file
> str(dat)
 chr(0)

Do I need to install something to get it worked?

However,

as a workaround can you please suggest if below data can be downloaded
directly into R? Since my only expectation is to get Data
automatically, if below works then I can still happily live with that

http://www.utimf.com/UTI-MF-Microsites/retirement/pdf/Scheme_1_NAV_since_inception.pdf

Thanks again

On Mon, Dec 26, 2016 at 11:10 PM, David Winsemius
<dwinsemius at comcast.net> wrote:
>
>> On Dec 26, 2016, at 3:19 AM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>
>> Hi David et al,
>>
>> Thanks for showing the pointers. With your approach, I see the
>> "temp.zip" file in my working folder.
>>
>> However still I could not extract the data within it. I tried using
>> unzip() function, however not really going through :
>>
>>> unzip("temp.zip")
>> Warning message:
>> In unzip("temp.zip") : error 1 in extracting from zip file
>
> I didn't try to use R to unzip it. Just using my system facilities worked fine.
>
> I'm not able to reproduce:
>
>> ?unzip
>> dat <- unzip("~/temp.zip")
>> str(dat)
>  chr "./NAV_File_23122016.out"
>> dat_in <- read.table(dat)
> Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
>   line 1 did not have 17 elements
>> dat_in <- read.csv(dat, header=FALSE)
>> str(dat_in)
> 'data.frame':   75 obs. of  6 variables:
>  $ V1: Factor w/ 1 level "12/23/2016": 1 1 1 1 1 1 1 1 1 1 ...
>  $ V2: Factor w/ 7 levels "PFM001","PFM002",..: 1 1 1 1 1 1 1 1 1 1 ...
>  $ V3: Factor w/ 7 levels "HDFC PENSION MANAGEMENT COMPANY LIMITED",..: 6 6 6 6 6 6 6 6 6 6 ...
>  $ V4: Factor w/ 75 levels "SM001001","SM001002",..: 5 7 8 11 12 13 1 2 3 4 ...
>  $ V5: Factor w/ 75 levels "HDFC PENSION MANAGEMENT COMPANY LIMITED SCHEME A - TIER I",..: 62 59 63 37 56 57 54 55 60 58 ...
>  $ V6: num  21.7 21.1 20.8 11.7 10.1 ...
>
>
> --
> David.
>>
>> When I try to access the link
>> "https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip"
>> manually, then download the zip file and then unzip it, I get a file
>> called "NAV_File_23122016.out". Which next I open in excel and get all
>> the data.
>>
>> I was just trying to perform similar task, however through R, so that
>> I can load data automatically directly from Web.
>>
>> Any Idea please. I am using below version of R (I know this is quite
>> old version, however I am not currently in a position to upgrade my
>> Macbook)
>>
>>> R.Version()
>> $platform
>> [1] "x86_64-apple-darwin10.8.0"
>>
>> $arch
>> [1] "x86_64"
>>
>> $os
>> [1] "darwin10.8.0"
>>
>> $system
>> [1] "x86_64, darwin10.8.0"
>>
>> $status
>> [1] ""
>>
>> $major
>> [1] "3"
>>
>> $minor
>> [1] "2.1"
>>
>> $year
>> [1] "2015"
>>
>> $month
>> [1] "06"
>>
>> $day
>> [1] "18"
>>
>> $`svn rev`
>> [1] "68531"
>>
>> $language
>> [1] "R"
>>
>> $version.string
>> [1] "R version 3.2.1 (2015-06-18)"
>>
>> $nickname
>> [1] "World-Famous Astronaut"
>>
>> On Mon, Dec 26, 2016 at 7:18 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>>>
>>>> On Dec 25, 2016, at 3:46 PM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
>>>>
>>>> Your R build does not support HTTPS.
>>>>
>>>> I suggest that you use the curl package if you can. HTTP support in
>>>> base R is very limited currently.
>>>
>>> I generally use the downloader package. It sets up the call to download.file so that it succeeds with https URLs.
>>>
>>>
>>> install.packages("downloader", dependencies=TRUE)
>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/mavericks/contrib/3.3/downloader_0.4.tgz'
>>> Content type 'application/x-gzip' length 19459 bytes (19 KB)
>>> ==================================================
>>> downloaded 19 KB
>>>
>>>
>>> The downloaded binary packages are in
>>>        /var/folders/68/vh2f8kzn09j8954r6q9100yh0000gn/T//Rtmpq8DVG4/downloaded_packages
>>>> library(downloader)
>>>> help(pac=downloader)
>>> starting httpd help server ... done
>>>> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")
>>>
>>> # Requires both a source and destination file name.
>>>
>>> trying URL 'https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip'
>>> Content type 'application/octet-stream' length 1228 bytes
>>> ==================================================
>>> downloaded 1228 bytes
>>>
>>> --
>>> David.
>>>>
>>>> Gabor
>>>>
>>>>
>>>>
>>>> On Sun, Dec 25, 2016 at 10:37 PM, Christofer Bogaso
>>>> <bogaso.christofer at gmail.com> wrote:
>>>>> Hi again,
>>>>>
>>>>> I posted this in general R thread, however it is suggested this group
>>>>> since I am using MAC OS 10.7.5.
>>>>>
>>>>> I was following the instruction available in
>>>>> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
>>>>> to download data from Internet contained in a zip file from the
>>>>> address :
>>>>>
>>>>> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
>>>>>
>>>>> However when I tried to follow the instruction I am facing below error :
>>>>>
>>>>>> temp <- tempfile()
>>>>>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
>>>>> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
>>>>> :
>>>>> unsupported URL scheme
>>>>>
>>>>> Can someone here please tell me what went wrong in above?
>>>>>
>>>>> Highly appreciate your feedback.
>>>>>
>>>>> Thanks for your time.
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>


From bogaso.christofer at gmail.com  Tue Dec 27 19:05:18 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Tue, 27 Dec 2016 23:35:18 +0530
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion 10.7.5
Message-ID: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>

Hi,

I am trying to install "pdftools" package in R from source, however
could not succeeded due to following error.

Source file is downloaded from
https://cran.r-project.org/web/packages/pdftools/index.html

Appreciate for any pointer how to install it properly.

I am using R version 3.2.1 (2015-06-18)

The loading error :

tar: Failed to set default locale
During startup - Warning messages:
1: Setting LC_CTYPE failed, using "C"
2: Setting LC_TIME failed, using "C"
3: Setting LC_MESSAGES failed, using "C"
4: Setting LC_MONETARY failed, using "C"
* installing *source* package 'pdftools' ...
** package 'pdftools' successfully unpacked and MD5 sums checked
Found pkg-config cflags and libs!
Using PKG_CFLAGS=-I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
-I/usr/local/Cellar/poppler/0.50.0/include/poppler
Using PKG_LIBS=-L/usr/local/Cellar/poppler/0.50.0/lib -lpoppler-cpp
** libs
llvm-g++-4.2 -arch x86_64
-I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
-I/usr/local/Cellar/poppler/0.50.0/include/poppler
-I/usr/local/include
-I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
  -fPIC  -mtune=core2 -g -O2  -c RcppExports.cpp -o RcppExports.o
llvm-g++-4.2 -arch x86_64
-I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
-I/usr/local/Cellar/poppler/0.50.0/include/poppler
-I/usr/local/include
-I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
  -fPIC  -mtune=core2 -g -O2  -c bindings.cpp -o bindings.o
llvm-g++-4.2 -arch x86_64
-I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
-I/usr/local/Cellar/poppler/0.50.0/include/poppler
-I/usr/local/include
-I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
  -fPIC  -mtune=core2 -g -O2  -c init.cpp -o init.o
llvm-g++-4.2 -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names
-undefined dynamic_lookup -single_module -multiply_defined suppress
-L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib
-L/usr/local/lib -o pdftools.so RcppExports.o bindings.o init.o
-L/usr/local/Cellar/poppler/0.50.0/lib -lpoppler-cpp
-F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
-Wl,CoreFoundation
installing to /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs
** R
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
During startup - Warning messages:
1: Setting LC_CTYPE failed, using "C"
2: Setting LC_TIME failed, using "C"
3: Setting LC_MESSAGES failed, using "C"
4: Setting LC_MONETARY failed, using "C"
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared object
'/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so':
  dlopen(/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so,
6): Symbol not found: __ZN7poppler14version_stringEv
  Referenced from:
/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
  Expected in: flat namespace
 in /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
Error: loading failed
Execution halted
ERROR: loading failed
* removing '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools'
* restoring previous
'/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools'


From jeroen.ooms at stat.ucla.edu  Tue Dec 27 19:23:06 2016
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Tue, 27 Dec 2016 19:23:06 +0100
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion
	10.7.5
In-Reply-To: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
References: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
Message-ID: <CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>

How did you install libpoppler? Such errors typically appear when you
link to a shared library which was built with another (incompatible)
compiler than the one you use for compiling R packages.

Note that Mac lion 10.7.5 has been deprecated for 2 over two years;
upgrading your OS is highly recommended.



On Tue, Dec 27, 2016 at 7:05 PM, Christofer Bogaso
<bogaso.christofer at gmail.com> wrote:
> Hi,
>
> I am trying to install "pdftools" package in R from source, however
> could not succeeded due to following error.
>
> Source file is downloaded from
> https://cran.r-project.org/web/packages/pdftools/index.html
>
> Appreciate for any pointer how to install it properly.
>
> I am using R version 3.2.1 (2015-06-18)
>
> The loading error :
>
> tar: Failed to set default locale
> During startup - Warning messages:
> 1: Setting LC_CTYPE failed, using "C"
> 2: Setting LC_TIME failed, using "C"
> 3: Setting LC_MESSAGES failed, using "C"
> 4: Setting LC_MONETARY failed, using "C"
> * installing *source* package 'pdftools' ...
> ** package 'pdftools' successfully unpacked and MD5 sums checked
> Found pkg-config cflags and libs!
> Using PKG_CFLAGS=-I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
> Using PKG_LIBS=-L/usr/local/Cellar/poppler/0.50.0/lib -lpoppler-cpp
> ** libs
> llvm-g++-4.2 -arch x86_64
> -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
> -I/usr/local/include
> -I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
>   -fPIC  -mtune=core2 -g -O2  -c RcppExports.cpp -o RcppExports.o
> llvm-g++-4.2 -arch x86_64
> -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
> -I/usr/local/include
> -I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
>   -fPIC  -mtune=core2 -g -O2  -c bindings.cpp -o bindings.o
> llvm-g++-4.2 -arch x86_64
> -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
> -I/usr/local/include
> -I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
>   -fPIC  -mtune=core2 -g -O2  -c init.cpp -o init.o
> llvm-g++-4.2 -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names
> -undefined dynamic_lookup -single_module -multiply_defined suppress
> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib
> -L/usr/local/lib -o pdftools.so RcppExports.o bindings.o init.o
> -L/usr/local/Cellar/poppler/0.50.0/lib -lpoppler-cpp
> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> -Wl,CoreFoundation
> installing to /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs
> ** R
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> During startup - Warning messages:
> 1: Setting LC_CTYPE failed, using "C"
> 2: Setting LC_TIME failed, using "C"
> 3: Setting LC_MESSAGES failed, using "C"
> 4: Setting LC_MONETARY failed, using "C"
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>   unable to load shared object
> '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so':
>   dlopen(/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so,
> 6): Symbol not found: __ZN7poppler14version_stringEv
>   Referenced from:
> /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
>   Expected in: flat namespace
>  in /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools'
> * restoring previous
> '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools'
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bogaso.christofer at gmail.com  Tue Dec 27 19:27:34 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Tue, 27 Dec 2016 23:57:34 +0530
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion
	10.7.5
In-Reply-To: <CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>
References: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
	<CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>
Message-ID: <CA+dpOJ=FCiB5EpRXEpKXwWW1yPq6oLm3y8o_cVTCKd0swykEcg@mail.gmail.com>

Hi,

I have installed poppler as instructed in below site. However, not
libpoppler. Let me know if I need to install libpoppler as well, in
that case appreciate any pointer how should I install.

I know my Mac version is old now, right now I am not in a position to
get the most recent version.

Thanks,

http://macappstore.org/poppler/

On Tue, Dec 27, 2016 at 11:53 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:
> How did you install libpoppler? Such errors typically appear when you
> link to a shared library which was built with another (incompatible)
> compiler than the one you use for compiling R packages.
>
> Note that Mac lion 10.7.5 has been deprecated for 2 over two years;
> upgrading your OS is highly recommended.
>
>
>
> On Tue, Dec 27, 2016 at 7:05 PM, Christofer Bogaso
> <bogaso.christofer at gmail.com> wrote:
>> Hi,
>>
>> I am trying to install "pdftools" package in R from source, however
>> could not succeeded due to following error.
>>
>> Source file is downloaded from
>> https://cran.r-project.org/web/packages/pdftools/index.html
>>
>> Appreciate for any pointer how to install it properly.
>>
>> I am using R version 3.2.1 (2015-06-18)
>>
>> The loading error :
>>
>> tar: Failed to set default locale
>> During startup - Warning messages:
>> 1: Setting LC_CTYPE failed, using "C"
>> 2: Setting LC_TIME failed, using "C"
>> 3: Setting LC_MESSAGES failed, using "C"
>> 4: Setting LC_MONETARY failed, using "C"
>> * installing *source* package 'pdftools' ...
>> ** package 'pdftools' successfully unpacked and MD5 sums checked
>> Found pkg-config cflags and libs!
>> Using PKG_CFLAGS=-I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
>> Using PKG_LIBS=-L/usr/local/Cellar/poppler/0.50.0/lib -lpoppler-cpp
>> ** libs
>> llvm-g++-4.2 -arch x86_64
>> -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
>> -I/usr/local/include
>> -I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
>>   -fPIC  -mtune=core2 -g -O2  -c RcppExports.cpp -o RcppExports.o
>> llvm-g++-4.2 -arch x86_64
>> -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
>> -I/usr/local/include
>> -I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
>>   -fPIC  -mtune=core2 -g -O2  -c bindings.cpp -o bindings.o
>> llvm-g++-4.2 -arch x86_64
>> -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler/cpp
>> -I/usr/local/Cellar/poppler/0.50.0/include/poppler
>> -I/usr/local/include
>> -I"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/Rcpp/include"
>>   -fPIC  -mtune=core2 -g -O2  -c init.cpp -o init.o
>> llvm-g++-4.2 -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names
>> -undefined dynamic_lookup -single_module -multiply_defined suppress
>> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib
>> -L/usr/local/lib -o pdftools.so RcppExports.o bindings.o init.o
>> -L/usr/local/Cellar/poppler/0.50.0/lib -lpoppler-cpp
>> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
>> -Wl,CoreFoundation
>> installing to /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs
>> ** R
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices
>> ** testing if installed package can be loaded
>> During startup - Warning messages:
>> 1: Setting LC_CTYPE failed, using "C"
>> 2: Setting LC_TIME failed, using "C"
>> 3: Setting LC_MESSAGES failed, using "C"
>> 4: Setting LC_MONETARY failed, using "C"
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>   unable to load shared object
>> '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so':
>>   dlopen(/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so,
>> 6): Symbol not found: __ZN7poppler14version_stringEv
>>   Referenced from:
>> /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
>>   Expected in: flat namespace
>>  in /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
>> Error: loading failed
>> Execution halted
>> ERROR: loading failed
>> * removing '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools'
>> * restoring previous
>> '/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools'
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jeroen.ooms at stat.ucla.edu  Tue Dec 27 20:05:21 2016
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Tue, 27 Dec 2016 20:05:21 +0100
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion
	10.7.5
In-Reply-To: <CA+dpOJ=FCiB5EpRXEpKXwWW1yPq6oLm3y8o_cVTCKd0swykEcg@mail.gmail.com>
References: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
	<CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>
	<CA+dpOJ=FCiB5EpRXEpKXwWW1yPq6oLm3y8o_cVTCKd0swykEcg@mail.gmail.com>
Message-ID: <CABFfbXuSv_M0=VwASA2J2ZcM_1yjLyp1dVo+dqtryoxGA0ygRA@mail.gmail.com>

On Tue, Dec 27, 2016 at 7:27 PM, Christofer Bogaso
<bogaso.christofer at gmail.com> wrote:
>
> I have installed poppler as instructed in below site. However, not
> libpoppler. Let me know if I need to install libpoppler as well, in
> that case appreciate any pointer how should I install.

No that's the same thing. It's difficult for me to debug this since
you're using such an old version of OSX and R. Chances are poppler
simply doesn't work on such an old system.

But one thing you could try is manually installing the mavericks
binary package. Download this file to your system:

   https://cran.r-project.org/bin/macosx/mavericks/contrib/3.2/pdftools_1.0.tgz

And then install it in R using:

  install.packages('~/Downloads/pdftools_1.0.tgz', repos = NULL)

If you're lucky it works :)


From bogaso.christofer at gmail.com  Tue Dec 27 20:09:20 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Wed, 28 Dec 2016 00:39:20 +0530
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion
	10.7.5
In-Reply-To: <CABFfbXuSv_M0=VwASA2J2ZcM_1yjLyp1dVo+dqtryoxGA0ygRA@mail.gmail.com>
References: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
	<CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>
	<CA+dpOJ=FCiB5EpRXEpKXwWW1yPq6oLm3y8o_cVTCKd0swykEcg@mail.gmail.com>
	<CABFfbXuSv_M0=VwASA2J2ZcM_1yjLyp1dVo+dqtryoxGA0ygRA@mail.gmail.com>
Message-ID: <CA+dpOJnBL3gmkz_vHXPBj-j6yo1b76eZ13PnbzwComt8M71vrg@mail.gmail.com>

It giving below error  :(

> install.packages('/Users/ARR/pdftools_1.0.tgz', repos = NULL)
tar: Failed to set default locale

On Wed, Dec 28, 2016 at 12:35 AM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:
> On Tue, Dec 27, 2016 at 7:27 PM, Christofer Bogaso
> <bogaso.christofer at gmail.com> wrote:
>>
>> I have installed poppler as instructed in below site. However, not
>> libpoppler. Let me know if I need to install libpoppler as well, in
>> that case appreciate any pointer how should I install.
>
> No that's the same thing. It's difficult for me to debug this since
> you're using such an old version of OSX and R. Chances are poppler
> simply doesn't work on such an old system.
>
> But one thing you could try is manually installing the mavericks
> binary package. Download this file to your system:
>
>    https://cran.r-project.org/bin/macosx/mavericks/contrib/3.2/pdftools_1.0.tgz
>
> And then install it in R using:
>
>   install.packages('~/Downloads/pdftools_1.0.tgz', repos = NULL)
>
> If you're lucky it works :)


From jeroen.ooms at stat.ucla.edu  Tue Dec 27 20:21:17 2016
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Tue, 27 Dec 2016 20:21:17 +0100
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion
	10.7.5
In-Reply-To: <CA+dpOJnBL3gmkz_vHXPBj-j6yo1b76eZ13PnbzwComt8M71vrg@mail.gmail.com>
References: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
	<CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>
	<CA+dpOJ=FCiB5EpRXEpKXwWW1yPq6oLm3y8o_cVTCKd0swykEcg@mail.gmail.com>
	<CABFfbXuSv_M0=VwASA2J2ZcM_1yjLyp1dVo+dqtryoxGA0ygRA@mail.gmail.com>
	<CA+dpOJnBL3gmkz_vHXPBj-j6yo1b76eZ13PnbzwComt8M71vrg@mail.gmail.com>
Message-ID: <CABFfbXuZesZ3byHqP3DfAyPVZ5hrJVaqXUNhyS7btzLDe1_BEA@mail.gmail.com>

On Tue, Dec 27, 2016 at 8:09 PM, Christofer Bogaso
<bogaso.christofer at gmail.com> wrote:
> It giving below error  :(
>
>> install.packages('/Users/ARR/pdftools_1.0.tgz', repos = NULL)
> tar: Failed to set default locale

I think that is an unrelated problem on your system. See:

 http://stackoverflow.com/questions/3907719/how-to-fix-tar-failed-to-set-default-locale-error

But if you didn't get any other error the installation might have
succeeded? Try loading the package:

  library(pdftools)

If that works you might be OK.


From bogaso.christofer at gmail.com  Tue Dec 27 20:30:53 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Wed, 28 Dec 2016 01:00:53 +0530
Subject: [R-SIG-Mac] Could not install Package:pdftools in Mac lion
	10.7.5
In-Reply-To: <CABFfbXuZesZ3byHqP3DfAyPVZ5hrJVaqXUNhyS7btzLDe1_BEA@mail.gmail.com>
References: <CA+dpOJm27H3jPZQRt=qO6HaDVFwUQ=KYFtTYGSsg=DEFp59_1A@mail.gmail.com>
	<CABFfbXv644wcXYyp5LgvcDAS6iFh6+_PHB9DvVnrYer_PwAKZQ@mail.gmail.com>
	<CA+dpOJ=FCiB5EpRXEpKXwWW1yPq6oLm3y8o_cVTCKd0swykEcg@mail.gmail.com>
	<CABFfbXuSv_M0=VwASA2J2ZcM_1yjLyp1dVo+dqtryoxGA0ygRA@mail.gmail.com>
	<CA+dpOJnBL3gmkz_vHXPBj-j6yo1b76eZ13PnbzwComt8M71vrg@mail.gmail.com>
	<CABFfbXuZesZ3byHqP3DfAyPVZ5hrJVaqXUNhyS7btzLDe1_BEA@mail.gmail.com>
Message-ID: <CA+dpOJ=yZksdG0BrYLhoCU1nOAkjxgaNiSc8QZAynhBiPvwgbA@mail.gmail.com>

I fix one problem and another problem pops up. After fixing default
locale, I am getting below error when I try loading pdftools :

> install.packages('/Users/ARR/pdftools_1.0.tgz', repos = NULL)
> library(pdftools)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared object
'/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so':
  dlopen(/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so,
6): Symbol not found: ___exp10
  Referenced from:
/Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
  Expected in: /usr/lib/libSystem.B.dylib
 in /Library/Frameworks/R.framework/Versions/3.2/Resources/library/pdftools/libs/pdftools.so
In addition: Warning message:
package ?pdftools? was built under R version 3.2.5
Error: package or namespace load failed for ?pdftools?

On Wed, Dec 28, 2016 at 12:51 AM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:
> On Tue, Dec 27, 2016 at 8:09 PM, Christofer Bogaso
> <bogaso.christofer at gmail.com> wrote:
>> It giving below error  :(
>>
>>> install.packages('/Users/ARR/pdftools_1.0.tgz', repos = NULL)
>> tar: Failed to set default locale
>
> I think that is an unrelated problem on your system. See:
>
>  http://stackoverflow.com/questions/3907719/how-to-fix-tar-failed-to-set-default-locale-error
>
> But if you didn't get any other error the installation might have
> succeeded? Try loading the package:
>
>   library(pdftools)
>
> If that works you might be OK.


From david.w.watson at nasa.gov  Tue Dec 27 20:19:05 2016
From: david.w.watson at nasa.gov (Watson, David W. (MSFC-ES62))
Date: Tue, 27 Dec 2016 19:19:05 +0000
Subject: [R-SIG-Mac] R patched version for Mac
Message-ID: <A1E9774F-C40F-4140-AD92-986732EBE69B@nasa.gov>

I have been trying to download the ?patched? version of 3.3.2 for Mac from CRAN, but the version that gets delivered is actually the October Release Candidate version,
(R version 3.3.2 RC (2016-10-26 r71594). It has been doing this since 3.3.2 has been released. Is there a real patched version somewhere?

David Watson
NASA - MSFC
Mail Code ES62
Phone 256-544-1300
FAX   256-544-2964
david.w.watson at nasa.gov<mailto:david.w.watson at nasa.gov>


	[[alternative HTML version deleted]]


From ripley at stats.ox.ac.uk  Wed Dec 28 11:59:47 2016
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 28 Dec 2016 10:59:47 +0000
Subject: [R-SIG-Mac] R patched version for Mac
In-Reply-To: <A1E9774F-C40F-4140-AD92-986732EBE69B@nasa.gov>
References: <A1E9774F-C40F-4140-AD92-986732EBE69B@nasa.gov>
Message-ID: <790b9c2c-b387-f005-be8a-ab106de086d6@stats.ox.ac.uk>

On 27/12/2016 19:19, Watson, David W. (MSFC-ES62) wrote:
> I have been trying to download the ?patched? version of 3.3.2 for Mac from CRAN,

What makes you think there is a patched version on CRAN?  Did you follow 
the link on https://cran.r-project.org/bin/macosx/
to 
http://r.research.att.com/mavericks/R-3.3-branch/R-3.3-branch-mavericks.pkg? 
  That is Simon Urbanek's site, so you need to ask him.

  but the version that gets delivered is actually the October Release 
Candidate version,
> (R version 3.3.2 RC (2016-10-26 r71594). It has been doing this since 3.3.2 has been released. Is there a real patched version somewhere?
>
> David Watson
> NASA - MSFC
> Mail Code ES62
> Phone 256-544-1300
> FAX   256-544-2964
> david.w.watson at nasa.gov<mailto:david.w.watson at nasa.gov>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From simon.urbanek at r-project.org  Wed Dec 28 17:29:54 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Dec 2016 11:29:54 -0500
Subject: [R-SIG-Mac] R patched version for Mac
In-Reply-To: <9F215F8D-A268-4E38-9A63-6866CC4656CC@cbs.dk>
References: <A1E9774F-C40F-4140-AD92-986732EBE69B@nasa.gov>
	<790b9c2c-b387-f005-be8a-ab106de086d6@stats.ox.ac.uk>
	<9F215F8D-A268-4E38-9A63-6866CC4656CC@cbs.dk>
Message-ID: <76ACCF90-0BA1-494E-AB08-7680BFC626DB@r-project.org>

Thanks, I'll have a look today (I have been off the grid recently).


> On Dec 28, 2016, at 7:10 AM, Peter Dalgaard <pd.mes at cbs.dk> wrote:
> 
> Simon,
> 
> I seem to recall someone already poked you on this matter, but I can't find a record of it, so maybe not...
> 
> The symptoms are pretty clear, the log indicates a successful recent build, but apparently the packages have not been built since Oct 27, so R-3.3-branch-mavericks.pkg contains the version from the and is actually older than the current release. (I checked the contents with pkgutils, and it is not just a labeling issue; the Payload files are time-stamped Oct 27 05:15)
> 
> -pd
> 
>> On 28 Dec 2016, at 11:59 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>> On 27/12/2016 19:19, Watson, David W. (MSFC-ES62) wrote:
>>> I have been trying to download the ?patched? version of 3.3.2 for Mac from CRAN,
>> 
>> What makes you think there is a patched version on CRAN?  Did you follow the link on https://cran.r-project.org/bin/macosx/
>> to http://r.research.att.com/mavericks/R-3.3-branch/R-3.3-branch-mavericks.pkg?  That is Simon Urbanek's site, so you need to ask him.
>> 
>> but the version that gets delivered is actually the October Release Candidate version,
>>> (R version 3.3.2 RC (2016-10-26 r71594). It has been doing this since 3.3.2 has been released. Is there a real patched version somewhere?
>>> 
>>> David Watson
>>> NASA - MSFC
>>> Mail Code ES62
>>> Phone 256-544-1300
>>> FAX   256-544-2964
>>> david.w.watson at nasa.gov<mailto:david.w.watson at nasa.gov>
>> 
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Emeritus Professor of Applied Statistics, University of Oxford
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From bogaso.christofer at gmail.com  Thu Dec 29 20:34:59 2016
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Fri, 30 Dec 2016 01:04:59 +0530
Subject: [R-SIG-Mac] Download data from Internet contained in a Zip file
In-Reply-To: <CF46547F-E409-45B2-89EA-073CFE36A443@comcast.net>
References: <CA+dpOJ=G1=ih8pSiKeBZxTBu0w=D=vY+GJbTwKZ00YcysgU32g@mail.gmail.com>
	<CABtg=KmrHTDQ0V0CTqU6nUMPJyVJA-GvKqxXG7A3gQ8URtwGfA@mail.gmail.com>
	<37739E36-0428-45F0-8DED-C77DCC1C1BB5@comcast.net>
	<CA+dpOJmzJmCspOzcqS3S+MeRozzxeuO3WmCcPsVsH76MAy-1CA@mail.gmail.com>
	<E97D9597-152C-404D-A4EB-9C6907D60797@comcast.net>
	<CA+dpOJnJF+ehPGDBBJBMrEs8iy56-uW4L51upJCrHaY4UHL8+w@mail.gmail.com>
	<CF46547F-E409-45B2-89EA-073CFE36A443@comcast.net>
Message-ID: <CA+dpOJ=iVTqhvapuBuPErZ490_WkkwiR2UeofA+H36DSHhPrrw@mail.gmail.com>

Hi David,

Above problem to my system appears like due to use of older R version.
I have secured a new Mac from my friend, rerun your suggestions with R
version 3.3.2 (2016-10-31)

Your instruction works perfectly fine there. Thanks,

On Tue, Dec 27, 2016 at 8:54 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>
>> On Dec 26, 2016, at 10:37 AM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>
>> Thanks David for your detailing. However still it not working for me :
>>
>>> library(downloader)
>>> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")
>> 100   996  100   996    0     0    917      0  0:00:01  0:00:01
>> --:--:--  2028 0      0      0 --:--:-- --:--:-- --:--:--     0
>>> dat <- unzip("~/temp.zip")
>> Warning message:
>> In unzip("~/temp.zip") : error 1 in extracting from zip file
>>> str(dat)
>> chr(0)
>>
>> Do I need to install something to get it worked?
>
> I don't know. You haven't provided enough information (for me anyway). I knew that my working  directory was set to my user-HOME, Which was where I was asking `unzip` to look. I don't know where you zip file is because you didn't say where you working directory was. "Error 1" Is what I get get for a non-existent file.
>
> --
> David.
>
>>
>> However,
>>
>> as a workaround can you please suggest if below data can be downloaded
>> directly into R? Since my only expectation is to get Data
>> automatically, if below works then I can still happily live with that
>>
>> http://www.utimf.com/UTI-MF-Microsites/retirement/pdf/Scheme_1_NAV_since_inception.pdf
>>
>> Thanks again
>>
>> On Mon, Dec 26, 2016 at 11:10 PM, David Winsemius
>> <dwinsemius at comcast.net> wrote:
>>>
>>>> On Dec 26, 2016, at 3:19 AM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>>>
>>>> Hi David et al,
>>>>
>>>> Thanks for showing the pointers. With your approach, I see the
>>>> "temp.zip" file in my working folder.
>>>>
>>>> However still I could not extract the data within it. I tried using
>>>> unzip() function, however not really going through :
>>>>
>>>>> unzip("temp.zip")
>>>> Warning message:
>>>> In unzip("temp.zip") : error 1 in extracting from zip file
>>>
>>> I didn't try to use R to unzip it. Just using my system facilities worked fine.
>>>
>>> I'm not able to reproduce:
>>>
>>>> ?unzip
>>>> dat <- unzip("~/temp.zip")
>>>> str(dat)
>>> chr "./NAV_File_23122016.out"
>>>> dat_in <- read.table(dat)
>>> Error in scan(file = file, what = what, sep = sep, quote = quote, dec = dec,  :
>>>  line 1 did not have 17 elements
>>>> dat_in <- read.csv(dat, header=FALSE)
>>>> str(dat_in)
>>> 'data.frame':   75 obs. of  6 variables:
>>> $ V1: Factor w/ 1 level "12/23/2016": 1 1 1 1 1 1 1 1 1 1 ...
>>> $ V2: Factor w/ 7 levels "PFM001","PFM002",..: 1 1 1 1 1 1 1 1 1 1 ...
>>> $ V3: Factor w/ 7 levels "HDFC PENSION MANAGEMENT COMPANY LIMITED",..: 6 6 6 6 6 6 6 6 6 6 ...
>>> $ V4: Factor w/ 75 levels "SM001001","SM001002",..: 5 7 8 11 12 13 1 2 3 4 ...
>>> $ V5: Factor w/ 75 levels "HDFC PENSION MANAGEMENT COMPANY LIMITED SCHEME A - TIER I",..: 62 59 63 37 56 57 54 55 60 58 ...
>>> $ V6: num  21.7 21.1 20.8 11.7 10.1 ...
>>>
>>>
>>> --
>>> David.
>>>>
>>>> When I try to access the link
>>>> "https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip"
>>>> manually, then download the zip file and then unzip it, I get a file
>>>> called "NAV_File_23122016.out". Which next I open in excel and get all
>>>> the data.
>>>>
>>>> I was just trying to perform similar task, however through R, so that
>>>> I can load data automatically directly from Web.
>>>>
>>>> Any Idea please. I am using below version of R (I know this is quite
>>>> old version, however I am not currently in a position to upgrade my
>>>> Macbook)
>>>>
>>>>> R.Version()
>>>> $platform
>>>> [1] "x86_64-apple-darwin10.8.0"
>>>>
>>>> $arch
>>>> [1] "x86_64"
>>>>
>>>> $os
>>>> [1] "darwin10.8.0"
>>>>
>>>> $system
>>>> [1] "x86_64, darwin10.8.0"
>>>>
>>>> $status
>>>> [1] ""
>>>>
>>>> $major
>>>> [1] "3"
>>>>
>>>> $minor
>>>> [1] "2.1"
>>>>
>>>> $year
>>>> [1] "2015"
>>>>
>>>> $month
>>>> [1] "06"
>>>>
>>>> $day
>>>> [1] "18"
>>>>
>>>> $`svn rev`
>>>> [1] "68531"
>>>>
>>>> $language
>>>> [1] "R"
>>>>
>>>> $version.string
>>>> [1] "R version 3.2.1 (2015-06-18)"
>>>>
>>>> $nickname
>>>> [1] "World-Famous Astronaut"
>>>>
>>>> On Mon, Dec 26, 2016 at 7:18 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>>>>>
>>>>>> On Dec 25, 2016, at 3:46 PM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
>>>>>>
>>>>>> Your R build does not support HTTPS.
>>>>>>
>>>>>> I suggest that you use the curl package if you can. HTTP support in
>>>>>> base R is very limited currently.
>>>>>
>>>>> I generally use the downloader package. It sets up the call to download.file so that it succeeds with https URLs.
>>>>>
>>>>>
>>>>> install.packages("downloader", dependencies=TRUE)
>>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/mavericks/contrib/3.3/downloader_0.4.tgz'
>>>>> Content type 'application/x-gzip' length 19459 bytes (19 KB)
>>>>> ==================================================
>>>>> downloaded 19 KB
>>>>>
>>>>>
>>>>> The downloaded binary packages are in
>>>>>       /var/folders/68/vh2f8kzn09j8954r6q9100yh0000gn/T//Rtmpq8DVG4/downloaded_packages
>>>>>> library(downloader)
>>>>>> help(pac=downloader)
>>>>> starting httpd help server ... done
>>>>>> download("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip","temp.zip")
>>>>>
>>>>> # Requires both a source and destination file name.
>>>>>
>>>>> trying URL 'https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip'
>>>>> Content type 'application/octet-stream' length 1228 bytes
>>>>> ==================================================
>>>>> downloaded 1228 bytes
>>>>>
>>>>> --
>>>>> David.
>>>>>>
>>>>>> Gabor
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Sun, Dec 25, 2016 at 10:37 PM, Christofer Bogaso
>>>>>> <bogaso.christofer at gmail.com> wrote:
>>>>>>> Hi again,
>>>>>>>
>>>>>>> I posted this in general R thread, however it is suggested this group
>>>>>>> since I am using MAC OS 10.7.5.
>>>>>>>
>>>>>>> I was following the instruction available in
>>>>>>> "http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data"
>>>>>>> to download data from Internet contained in a zip file from the
>>>>>>> address :
>>>>>>>
>>>>>>> https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip
>>>>>>>
>>>>>>> However when I tried to follow the instruction I am facing below error :
>>>>>>>
>>>>>>>> temp <- tempfile()
>>>>>>>> download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",temp)
>>>>>>> Error in download.file("https://npscra.nsdl.co.in/download.php?path=download/&filename=NAV_File_23122016.zip",
>>>>>>> :
>>>>>>> unsupported URL scheme
>>>>>>>
>>>>>>> Can someone here please tell me what went wrong in above?
>>>>>>>
>>>>>>> Highly appreciate your feedback.
>>>>>>>
>>>>>>> Thanks for your time.
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>
>


From jkunkel1 at une.edu  Fri Dec 30 01:46:55 2016
From: jkunkel1 at une.edu (Joseph Kunkel)
Date: Fri, 30 Dec 2016 00:46:55 +0000
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit does not resolve.
In-Reply-To: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
References: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
Message-ID: <DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>

Dear R-Sig-Mac,

I have not received any response to my request for help in unlocking my R-gui from its infinite loop.

To restate it simply.

1) I was running the newest version of R as of Dec 19th including the latest R-gui.
2) I needed to force-quit R with three R-scripts open.
3) On rebooting the R-gui the three scripts are reopened and the R-console is in its active mode without me being able to get its attention or close it without another force quit.
This is an infinite loop that I have not been able to break.

I can run R from a terminal window without the conveniences of the gui but as I have proceded from Dec 19 I have discovered that some of the conveniences of the R-gui are truly valuable and I would like to get back to a state where I can use the R-gui.

Is there anyone back from the Holidays yet who can tell me the minimum I need to do to break the infinite loop?

Re installing R from CRAN did not work.  There is some log that I need to erase to stop the system from recreating the problem each time I reboot R.

Joe

> On Dec 19, 2016, at 9:29 AM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
> 
> Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 
> 
> I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3
> 
> With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.
> 
> Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.
> 
> 'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.
> 
> Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.
> 
> *** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.
> 
> Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.
> 
> Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?
> 
> I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.
> 
> Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?
> 
> Joe Kunkel
> 
> -?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
> Joseph G. Kunkel, Research Professor
> 112A Marine Science Center
> University of New England
> Biddeford ME 04005
> http://www.bio.umass.edu/biology/kunkel/
> 


From hanson at depauw.edu  Fri Dec 30 01:56:18 2016
From: hanson at depauw.edu (Bryan Hanson)
Date: Thu, 29 Dec 2016 19:56:18 -0500
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit does not resolve.
In-Reply-To: <DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>
References: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
	<DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>
Message-ID: <39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>

Take a look at section 10.3 and 10.11 in https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Miscellaneous-questions

I also remove .Rhistory routinely (in addition to the files listed in 10.11) when having trouble.

If you need assistance finding these files throughout your system using terminal, let us know.

Another alternative is to get R devel at http://r.research.att.com/ That version of the GUI appears to have some fixes.

Bryan

> On Dec 29, 2016, at 7:46 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
> 
> Dear R-Sig-Mac,
> 
> I have not received any response to my request for help in unlocking my R-gui from its infinite loop.
> 
> To restate it simply.
> 
> 1) I was running the newest version of R as of Dec 19th including the latest R-gui.
> 2) I needed to force-quit R with three R-scripts open.
> 3) On rebooting the R-gui the three scripts are reopened and the R-console is in its active mode without me being able to get its attention or close it without another force quit.
> This is an infinite loop that I have not been able to break.
> 
> I can run R from a terminal window without the conveniences of the gui but as I have proceded from Dec 19 I have discovered that some of the conveniences of the R-gui are truly valuable and I would like to get back to a state where I can use the R-gui.
> 
> Is there anyone back from the Holidays yet who can tell me the minimum I need to do to break the infinite loop?
> 
> Re installing R from CRAN did not work.  There is some log that I need to erase to stop the system from recreating the problem each time I reboot R.
> 
> Joe
> 
>> On Dec 19, 2016, at 9:29 AM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>> 
>> Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 
>> 
>> I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3
>> 
>> With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.
>> 
>> Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.
>> 
>> 'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.
>> 
>> Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.
>> 
>> *** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.
>> 
>> Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.
>> 
>> Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?
>> 
>> I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.
>> 
>> Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?
>> 
>> Joe Kunkel
>> 
>> -?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
>> Joseph G. Kunkel, Research Professor
>> 112A Marine Science Center
>> University of New England
>> Biddeford ME 04005
>> http://www.bio.umass.edu/biology/kunkel/
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From btupper at bigelow.org  Fri Dec 30 02:01:45 2016
From: btupper at bigelow.org (Ben Tupper)
Date: Thu, 29 Dec 2016 20:01:45 -0500
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit does not resolve.
In-Reply-To: <39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>
References: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
	<DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>
	<39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>
Message-ID: <108E1D3A-83CC-4EAA-9494-D4AE32FD28E6@bigelow.org>

Hi,

You can also invoke R.app in 'vanilla' mode which may help with debugging.  More here...

https://stat.ethz.ch/pipermail/r-sig-mac/2013-February/009979.html

Cheers from way up north in Portland,
Ben

> On Dec 29, 2016, at 7:56 PM, Bryan Hanson <hanson at depauw.edu> wrote:
> 
> Take a look at section 10.3 and 10.11 in https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Miscellaneous-questions
> 
> I also remove .Rhistory routinely (in addition to the files listed in 10.11) when having trouble.
> 
> If you need assistance finding these files throughout your system using terminal, let us know.
> 
> Another alternative is to get R devel at http://r.research.att.com/ That version of the GUI appears to have some fixes.
> 
> Bryan
> 
>> On Dec 29, 2016, at 7:46 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>> 
>> Dear R-Sig-Mac,
>> 
>> I have not received any response to my request for help in unlocking my R-gui from its infinite loop.
>> 
>> To restate it simply.
>> 
>> 1) I was running the newest version of R as of Dec 19th including the latest R-gui.
>> 2) I needed to force-quit R with three R-scripts open.
>> 3) On rebooting the R-gui the three scripts are reopened and the R-console is in its active mode without me being able to get its attention or close it without another force quit.
>> This is an infinite loop that I have not been able to break.
>> 
>> I can run R from a terminal window without the conveniences of the gui but as I have proceded from Dec 19 I have discovered that some of the conveniences of the R-gui are truly valuable and I would like to get back to a state where I can use the R-gui.
>> 
>> Is there anyone back from the Holidays yet who can tell me the minimum I need to do to break the infinite loop?
>> 
>> Re installing R from CRAN did not work.  There is some log that I need to erase to stop the system from recreating the problem each time I reboot R.
>> 
>> Joe
>> 
>>> On Dec 19, 2016, at 9:29 AM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>>> 
>>> Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 
>>> 
>>> I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3
>>> 
>>> With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.
>>> 
>>> Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.
>>> 
>>> 'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.
>>> 
>>> Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.
>>> 
>>> *** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.
>>> 
>>> Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.
>>> 
>>> Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?
>>> 
>>> I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.
>>> 
>>> Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?
>>> 
>>> Joe Kunkel
>>> 
>>> -?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
>>> Joseph G. Kunkel, Research Professor
>>> 112A Marine Science Center
>>> University of New England
>>> Biddeford ME 04005
>>> http://www.bio.umass.edu/biology/kunkel/
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



Ben Tupper
Bigelow Laboratory for Ocean Sciences
60 Bigelow Drive, P.O. Box 380
East Boothbay, Maine 04544
http://www.bigelow.org


From jkunkel1 at une.edu  Fri Dec 30 05:10:15 2016
From: jkunkel1 at une.edu (Joseph Kunkel)
Date: Fri, 30 Dec 2016 04:10:15 +0000
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit does not resolve.
In-Reply-To: <39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>
References: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
	<DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>
	<39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>
Message-ID: <0BB7FADF-6F0C-45BA-B558-7CA01BF29099@une.edu>

Bryan,  Following the directions in section 10.11 I removed every .RData and .Rhistory in my entire tree with no satisfaction.

Finally, after removing every .Rapp.history ... R failed again but I was able to exit R ungracefully using option 1. 

 On rebooting, R-gui reopened with all the 3 prior R-scripts also opened but the R-console was not frozen and after closing the R-scripts I q() R and on reopening I had a normal R-gui and no R-scripts opened.

I had known about the .Rhistory and .Rdata files but they were not the problem.  The .Rapp.history was the culprit but trying to be logical and just removing it from the most obvious directories did not work.  I had to remove every single one.  

Perhaps a clue?  I was unable to remove two of the  ?.Rapp.history' files using their file paths in a rm statement.  Looking closely at the path there was a gramatically-poor directory in both failed removes.
One failure had ?/text file/? which had an illegal space in the directory name and the other failure had another illegal character in a path component /1&2/.   After I removed those two  ?.Rapp.history? files I was able to break the loop.

Thanks for the URL with directions that included the solution!

In addition I will redouble my conscious use of good unix path names!  OS X allows navigating through paths that may be easier to read but are traps for unix command syntax.

Joe


> On Dec 29, 2016, at 7:56 PM, Bryan Hanson <hanson at depauw.edu> wrote:
> 
> Take a look at section 10.3 and 10.11 in https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Miscellaneous-questions
> 
> I also remove .Rhistory routinely (in addition to the files listed in 10.11) when having trouble.
> 
> If you need assistance finding these files throughout your system using terminal, let us know.
> 
> Another alternative is to get R devel at http://r.research.att.com/ That version of the GUI appears to have some fixes.
> 
> Bryan
> 
>> On Dec 29, 2016, at 7:46 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>> 
>> Dear R-Sig-Mac,
>> 
>> I have not received any response to my request for help in unlocking my R-gui from its infinite loop.
>> 
>> To restate it simply.
>> 
>> 1) I was running the newest version of R as of Dec 19th including the latest R-gui.
>> 2) I needed to force-quit R with three R-scripts open.
>> 3) On rebooting the R-gui the three scripts are reopened and the R-console is in its active mode without me being able to get its attention or close it without another force quit.
>> This is an infinite loop that I have not been able to break.
>> 
>> I can run R from a terminal window without the conveniences of the gui but as I have proceded from Dec 19 I have discovered that some of the conveniences of the R-gui are truly valuable and I would like to get back to a state where I can use the R-gui.
>> 
>> Is there anyone back from the Holidays yet who can tell me the minimum I need to do to break the infinite loop?
>> 
>> Re installing R from CRAN did not work.  There is some log that I need to erase to stop the system from recreating the problem each time I reboot R.
>> 
>> Joe
>> 
>>> On Dec 19, 2016, at 9:29 AM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>>> 
>>> Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 
>>> 
>>> I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3
>>> 
>>> With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.
>>> 
>>> Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.
>>> 
>>> 'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.
>>> 
>>> Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.
>>> 
>>> *** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.
>>> 
>>> Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.
>>> 
>>> Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?
>>> 
>>> I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.
>>> 
>>> Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?
>>> 
>>> Joe Kunkel
>>> 
>>> -?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
>>> Joseph G. Kunkel, Research Professor
>>> 112A Marine Science Center
>>> University of New England
>>> Biddeford ME 04005
>>> http://www.bio.umass.edu/biology/kunkel/
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From hanson at depauw.edu  Fri Dec 30 13:41:21 2016
From: hanson at depauw.edu (Bryan Hanson)
Date: Fri, 30 Dec 2016 07:41:21 -0500
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit does not resolve.
In-Reply-To: <0BB7FADF-6F0C-45BA-B558-7CA01BF29099@une.edu>
References: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
	<DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>
	<39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>
	<0BB7FADF-6F0C-45BA-B558-7CA01BF29099@une.edu>
Message-ID: <0A0BA49B-7C2F-4A44-9662-A754E900BF61@depauw.edu>

Excellent Joe.  If you have further problems, there have also been discussions here in the past two months about the recent files list and an R.app plist which can be removed manually, forcing the app to write a fresh copy.  Bryan

> On Dec 29, 2016, at 11:10 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
> 
> Bryan,  Following the directions in section 10.11 I removed every .RData and .Rhistory in my entire tree with no satisfaction.
> 
> Finally, after removing every .Rapp.history ... R failed again but I was able to exit R ungracefully using option 1. 
> 
> On rebooting, R-gui reopened with all the 3 prior R-scripts also opened but the R-console was not frozen and after closing the R-scripts I q() R and on reopening I had a normal R-gui and no R-scripts opened.
> 
> I had known about the .Rhistory and .Rdata files but they were not the problem.  The .Rapp.history was the culprit but trying to be logical and just removing it from the most obvious directories did not work.  I had to remove every single one.  
> 
> Perhaps a clue?  I was unable to remove two of the  ?.Rapp.history' files using their file paths in a rm statement.  Looking closely at the path there was a gramatically-poor directory in both failed removes.
> One failure had ?/text file/? which had an illegal space in the directory name and the other failure had another illegal character in a path component /1&2/.   After I removed those two  ?.Rapp.history? files I was able to break the loop.
> 
> Thanks for the URL with directions that included the solution!
> 
> In addition I will redouble my conscious use of good unix path names!  OS X allows navigating through paths that may be easier to read but are traps for unix command syntax.
> 
> Joe
> 
> 
>> On Dec 29, 2016, at 7:56 PM, Bryan Hanson <hanson at depauw.edu> wrote:
>> 
>> Take a look at section 10.3 and 10.11 in https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Miscellaneous-questions
>> 
>> I also remove .Rhistory routinely (in addition to the files listed in 10.11) when having trouble.
>> 
>> If you need assistance finding these files throughout your system using terminal, let us know.
>> 
>> Another alternative is to get R devel at http://r.research.att.com/ That version of the GUI appears to have some fixes.
>> 
>> Bryan
>> 
>>> On Dec 29, 2016, at 7:46 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>>> 
>>> Dear R-Sig-Mac,
>>> 
>>> I have not received any response to my request for help in unlocking my R-gui from its infinite loop.
>>> 
>>> To restate it simply.
>>> 
>>> 1) I was running the newest version of R as of Dec 19th including the latest R-gui.
>>> 2) I needed to force-quit R with three R-scripts open.
>>> 3) On rebooting the R-gui the three scripts are reopened and the R-console is in its active mode without me being able to get its attention or close it without another force quit.
>>> This is an infinite loop that I have not been able to break.
>>> 
>>> I can run R from a terminal window without the conveniences of the gui but as I have proceded from Dec 19 I have discovered that some of the conveniences of the R-gui are truly valuable and I would like to get back to a state where I can use the R-gui.
>>> 
>>> Is there anyone back from the Holidays yet who can tell me the minimum I need to do to break the infinite loop?
>>> 
>>> Re installing R from CRAN did not work.  There is some log that I need to erase to stop the system from recreating the problem each time I reboot R.
>>> 
>>> Joe
>>> 
>>>> On Dec 19, 2016, at 9:29 AM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>>>> 
>>>> Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 
>>>> 
>>>> I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3
>>>> 
>>>> With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.
>>>> 
>>>> Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.
>>>> 
>>>> 'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.
>>>> 
>>>> Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.
>>>> 
>>>> *** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.
>>>> 
>>>> Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.
>>>> 
>>>> Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?
>>>> 
>>>> I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.
>>>> 
>>>> Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?
>>>> 
>>>> Joe Kunkel
>>>> 
>>>> -?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
>>>> Joseph G. Kunkel, Research Professor
>>>> 112A Marine Science Center
>>>> University of New England
>>>> Biddeford ME 04005
>>>> http://www.bio.umass.edu/biology/kunkel/
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 


From jkunkel1 at une.edu  Fri Dec 30 15:42:19 2016
From: jkunkel1 at une.edu (Joseph Kunkel)
Date: Fri, 30 Dec 2016 14:42:19 +0000
Subject: [R-SIG-Mac] Totally frozen Gui and Forced Quit ... resolved.
In-Reply-To: <0A0BA49B-7C2F-4A44-9662-A754E900BF61@depauw.edu>
References: <7204A631-FDE1-45B2-B706-F45418969430@une.edu>
	<DCD47B84-3C93-46D7-A53B-568B0CD7DAF3@une.edu>
	<39D95DA7-B15F-41C4-97F0-2DF331FA6AC4@depauw.edu>
	<0BB7FADF-6F0C-45BA-B558-7CA01BF29099@une.edu>
	<0A0BA49B-7C2F-4A44-9662-A754E900BF61@depauw.edu>
Message-ID: <36689EFF-81B3-4462-AA40-5DE55422C7AA@une.edu>

Bryan,   aha!  ? Exactly what I was fishing for in my turmoil ? "an R.app plist?.  I look forward to that option since the ?Open Recent? button is nice when it works but cursed when it does not.  Such a plist, I can see, has many ramifications to get right.  Thanks again for reviving my productivity.  I love the terminal mode for its independence and capacity but the GUI is essential for script development and fast turnaround.

Joe

> On Dec 30, 2016, at 7:41 AM, Bryan Hanson <hanson at depauw.edu> wrote:
> 
> Excellent Joe.  If you have further problems, there have also been discussions here in the past two months about the recent files list and an R.app plist which can be removed manually, forcing the app to write a fresh copy.  Bryan
> 
>> On Dec 29, 2016, at 11:10 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>> 
>> Bryan,  Following the directions in section 10.11 I removed every .RData and .Rhistory in my entire tree with no satisfaction.
>> 
>> Finally, after removing every .Rapp.history ... R failed again but I was able to exit R ungracefully using option 1. 
>> 
>> On rebooting, R-gui reopened with all the 3 prior R-scripts also opened but the R-console was not frozen and after closing the R-scripts I q() R and on reopening I had a normal R-gui and no R-scripts opened.
>> 
>> I had known about the .Rhistory and .Rdata files but they were not the problem.  The .Rapp.history was the culprit but trying to be logical and just removing it from the most obvious directories did not work.  I had to remove every single one.  
>> 
>> Perhaps a clue?  I was unable to remove two of the  ?.Rapp.history' files using their file paths in a rm statement.  Looking closely at the path there was a gramatically-poor directory in both failed removes.
>> One failure had ?/text file/? which had an illegal space in the directory name and the other failure had another illegal character in a path component /1&2/.   After I removed those two  ?.Rapp.history? files I was able to break the loop.
>> 
>> Thanks for the URL with directions that included the solution!
>> 
>> In addition I will redouble my conscious use of good unix path names!  OS X allows navigating through paths that may be easier to read but are traps for unix command syntax.
>> 
>> Joe
>> 
>> 
>>> On Dec 29, 2016, at 7:56 PM, Bryan Hanson <hanson at depauw.edu> wrote:
>>> 
>>> Take a look at section 10.3 and 10.11 in https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Miscellaneous-questions
>>> 
>>> I also remove .Rhistory routinely (in addition to the files listed in 10.11) when having trouble.
>>> 
>>> If you need assistance finding these files throughout your system using terminal, let us know.
>>> 
>>> Another alternative is to get R devel at http://r.research.att.com/ That version of the GUI appears to have some fixes.
>>> 
>>> Bryan
>>> 
>>>> On Dec 29, 2016, at 7:46 PM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>>>> 
>>>> Dear R-Sig-Mac,
>>>> 
>>>> I have not received any response to my request for help in unlocking my R-gui from its infinite loop.
>>>> 
>>>> To restate it simply.
>>>> 
>>>> 1) I was running the newest version of R as of Dec 19th including the latest R-gui.
>>>> 2) I needed to force-quit R with three R-scripts open.
>>>> 3) On rebooting the R-gui the three scripts are reopened and the R-console is in its active mode without me being able to get its attention or close it without another force quit.
>>>> This is an infinite loop that I have not been able to break.
>>>> 
>>>> I can run R from a terminal window without the conveniences of the gui but as I have proceded from Dec 19 I have discovered that some of the conveniences of the R-gui are truly valuable and I would like to get back to a state where I can use the R-gui.
>>>> 
>>>> Is there anyone back from the Holidays yet who can tell me the minimum I need to do to break the infinite loop?
>>>> 
>>>> Re installing R from CRAN did not work.  There is some log that I need to erase to stop the system from recreating the problem each time I reboot R.
>>>> 
>>>> Joe
>>>> 
>>>>> On Dec 19, 2016, at 9:29 AM, Joseph Kunkel <jkunkel1 at une.edu> wrote:
>>>>> 
>>>>> Using the R Gui a ?new' unsolvable situation has arisen.  I have been using R almost daily since 2002 acording to my records.  This is the first time I have not been able to rectify an R crash. 
>>>>> 
>>>>> I am running R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch?  on Mac Os Sierra Ver 10.12.1 MacBook Pro early 2013 2.7 GHh Intel Core i7, 16 GB 1600 MHz DDR3
>>>>> 
>>>>> With three R-scripts in their editor windows and one R-script actually invoked I needed to force a quit using the Activity Monitor.
>>>>> 
>>>>> Then, when the R Gui was re-invoked all the previous Gui windows opened (as with previous experiences),  but this time R was still in process with activity monitor showing R as non-responsive and rainbow wheel spinning whenever a Gui window is hovered.
>>>>> 
>>>>> 'Activity monitor' or ?Dock' force quit does not resolve the above issue.  Each time R Gui is reinvoked all windows are restored to the R (Non Responding) state.  Activity monitor shows 2/3 of a core CPU devoted to R with ~125 Mb of memory devoted to R.
>>>>> 
>>>>> Previously the R Gui R-script windows could be closed and when R was closed and reopened ?normal? R-Gui opening could be invoked.
>>>>> 
>>>>> *** I have deleted R.app from the Applications Folder and reinstalled R version 3.3.2 (2016-10-31) ? ?Sincere Pumpkin Patch? but seemingly the residual logs extant at the last ?force quit? still exist and invoking the R-gui re-establishes the R (Non Responding) state.
>>>>> 
>>>>> Terminal R and RStudio still work but I would rather use the R Gui, which had been working well for me in the latest versions.
>>>>> 
>>>>> Can I identify 'the residual logs? of the R-gui and erase or reset them to a 'fresh start? state?
>>>>> 
>>>>> I do not know where to go from this impasse other than using one of my other lower grade computers or wiping my computer and reinstalling the Mac Os.
>>>>> 
>>>>> Is there a link to directions for a more serious cleaning of R files and logs before I reinstall R?  I would guess that the R link in the R.app Contents directory might invoke more deeply embedded R files that need to be scrubbed/reset?
>>>>> 
>>>>> Joe Kunkel
>>>>> 
>>>>> -?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
>>>>> Joseph G. Kunkel, Research Professor
>>>>> 112A Marine Science Center
>>>>> University of New England
>>>>> Biddeford ME 04005
>>>>> http://www.bio.umass.edu/biology/kunkel/
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 


From napierala at gmx.net  Fri Dec 30 17:44:35 2016
From: napierala at gmx.net (Christoph Napierala)
Date: Fri, 30 Dec 2016 17:44:35 +0100
Subject: [R-SIG-Mac] R Console (R.app) crashes - on Mac OS - caught segfault
 * address 0x18, cause 'memory not mapped'
Message-ID: <bb0b7340-d92b-6e56-c5f0-43aa6ac31bdd@gmx.net>

Dear All

macOS Sierra - V 10.12.2
R 3.3.2 GUI 1.68 Mavericks build (7288)

I encountered an issue with the R console crashing after having saved 
the image. Normally I work with R-Studio which still runs "perfectly".
The following report was generated after having deleted R and R-Studio 
and cleaned libraries. The following message was generated:

> Blockquote
  *** caught segfault ***
address 0x18, cause 'memory not mapped'

    Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

2016-12-30 14:57:47.245 R[1475:47927] -[_CUIInternalLinkRendition 
setRuleThickness:]: unrecognized selector sent to instance 0x7ffeb66745d0

2016-12-30 14:57:47.247 R[1475:47927] *** RController: caught ObjC 
exception while processing system events. Update to the latest GUI 
version and consider reporting this properly (see FAQ) if it persists 
and is not known.

*** reason: -[_CUIInternalLinkRendition setRuleThickness:]: unrecognized 
selector sent to instance 0x7ffeb66745d0

*** name: NSInvalidArgumentException, info: (null)

*** Version: R 3.3.2 (71607) R.app R 3.3.2 GUI 1.68 Mavericks build
Consider saving your work soon in case this develops into a problem.

And then I am offered to select one of the above options and the crash 
reproduces.

Thanks for any support.


From dwinsemius at comcast.net  Fri Dec 30 19:59:34 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 30 Dec 2016 10:59:34 -0800
Subject: [R-SIG-Mac] R Console (R.app) crashes - on Mac OS - caught
	segfault * address 0x18, cause 'memory not mapped'
In-Reply-To: <bb0b7340-d92b-6e56-c5f0-43aa6ac31bdd@gmx.net>
References: <bb0b7340-d92b-6e56-c5f0-43aa6ac31bdd@gmx.net>
Message-ID: <8D96C726-96A6-4CFA-A6C6-6DBC9863FC3F@comcast.net>


> On Dec 30, 2016, at 8:44 AM, Christoph Napierala <napierala at gmx.net> wrote:
> 
> Dear All
> 
> macOS Sierra - V 10.12.2
> R 3.3.2 GUI 1.68 Mavericks build (7288)
> 
> I encountered an issue with the R console crashing after having saved the image. Normally I work with R-Studio which still runs "perfectly".
> The following report was generated after having deleted R and R-Studio and cleaned libraries. The following message was generated:
> 
>> Blockquote
> *** caught segfault ***
> address 0x18, cause 'memory not mapped'
> 
>   Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> 
> 2016-12-30 14:57:47.245 R[1475:47927] -[_CUIInternalLinkRendition setRuleThickness:]: unrecognized selector sent to instance 0x7ffeb66745d0
> 
> 2016-12-30 14:57:47.247 R[1475:47927] *** RController: caught ObjC exception while processing system events. Update to the latest GUI version and consider reporting this properly (see FAQ) if it persists and is not known.

The latest GUI version at http://r.research.att.com/ is:

R-GUI-7299-3.3-mavericks-Debug.dmg


> 
> *** reason: -[_CUIInternalLinkRendition setRuleThickness:]: unrecognized selector sent to instance 0x7ffeb66745d0
> 
> *** name: NSInvalidArgumentException, info: (null)
> 
> *** Version: R 3.3.2 (71607) R.app R 3.3.2 GUI 1.68 Mavericks build
> Consider saving your work soon in case this develops into a problem.

You should probably reinstall the whole bundle since your version of R is not uptodate either:

R-3.3-branch
3.3.2 Patched
(2016/12/28, r71859)

The installer bundles at either of these sites should be the same:

http://r.research.att.com/mavericks/R-3.3-branch/R-3.3-branch-mavericks.pkg
https://cloud.r-project.org/bin/macosx/R-3.3.2.pkg



> 
> And then I am offered to select one of the above options and the crash reproduces.
> 
> Thanks for any support.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From napierala at gmx.net  Fri Dec 30 23:15:27 2016
From: napierala at gmx.net (Christoph Napierala)
Date: Fri, 30 Dec 2016 23:15:27 +0100
Subject: [R-SIG-Mac] R Console (R.app) crashes - on Mac OS - caught
 segfault * address 0x18, cause 'memory not mapped'
In-Reply-To: <8D96C726-96A6-4CFA-A6C6-6DBC9863FC3F@comcast.net>
References: <bb0b7340-d92b-6e56-c5f0-43aa6ac31bdd@gmx.net>
	<8D96C726-96A6-4CFA-A6C6-6DBC9863FC3F@comcast.net>
Message-ID: <36a638f2-a417-c22c-7d37-755f86c3c585@gmx.net>

On 30.12.16 19:59, David Winsemius wrote:
>> On Dec 30, 2016, at 8:44 AM, Christoph Napierala <napierala at gmx.net> wrote:
>>
>> Dear All
>>
>> macOS Sierra - V 10.12.2
>> R 3.3.2 GUI 1.68 Mavericks build (7288)
>>
>> I encountered an issue with the R console crashing after having saved the image. Normally I work with R-Studio which still runs "perfectly".
>> The following report was generated after having deleted R and R-Studio and cleaned libraries. The following message was generated:
>>
>>> Blockquote
>> *** caught segfault ***
>> address 0x18, cause 'memory not mapped'
>>
>>    Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>> 2016-12-30 14:57:47.245 R[1475:47927] -[_CUIInternalLinkRendition setRuleThickness:]: unrecognized selector sent to instance 0x7ffeb66745d0
>>
>> 2016-12-30 14:57:47.247 R[1475:47927] *** RController: caught ObjC exception while processing system events. Update to the latest GUI version and consider reporting this properly (see FAQ) if it persists and is not known.
> The latest GUI version at http://r.research.att.com/ is:
>
> R-GUI-7299-3.3-mavericks-Debug.dmg
I tried but while installing I definitely do not get the current version?
>
>
>> *** reason: -[_CUIInternalLinkRendition setRuleThickness:]: unrecognized selector sent to instance 0x7ffeb66745d0
>>
>> *** name: NSInvalidArgumentException, info: (null)
>>
>> *** Version: R 3.3.2 (71607) R.app R 3.3.2 GUI 1.68 Mavericks build
>> Consider saving your work soon in case this develops into a problem.
> You should probably reinstall the whole bundle since your version of R is not uptodate either:
>
> R-3.3-branch
> 3.3.2 Patched
> (2016/12/28, r71859)
>
> The installer bundles at either of these sites should be the same:
>
> http://r.research.att.com/mavericks/R-3.3-branch/R-3.3-branch-mavericks.pkg
> https://cloud.r-project.org/bin/macosx/R-3.3.2.pkg
>
I tried but while installing I definitely do not get the current version?
AND I do get German as language in the R I have downloaded and 
re-installed? Something is really odd.
>
>> And then I am offered to select one of the above options and the crash reproduces.
>>
>> Thanks for any support.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> David Winsemius
> Alameda, CA, USA
>
>


From tobias.verbeke at openanalytics.eu  Sat Dec 31 10:09:43 2016
From: tobias.verbeke at openanalytics.eu (Tobias Verbeke)
Date: Sat, 31 Dec 2016 10:09:43 +0100
Subject: [R-SIG-Mac] deprecated --with-system-zlib in conf.mavericks-x86_64
Message-ID: <2107377955.4945899.1483175383033.JavaMail.zimbra@openanalytics.eu>

L.S.

Could it be 

https://svn.r-project.org/R-dev-web/trunk/QA/Simon/R-build/conf.mavericks-x86_64

includes a deprecated argument --with-system-zlib ?

When building R 3.3.2 from source on Mac OS X 10.9.5 with these configure options I get

configure: WARNING: unrecognized options: --with-system-zlib

Best,
Tobias


From jorgefrancod at icloud.com  Thu Dec  8 22:03:30 2016
From: jorgefrancod at icloud.com (Jorge Franco)
Date: Thu, 08 Dec 2016 21:03:30 -0000
Subject: [R-SIG-Mac] R.app crashes at startup on MacOS Sierra
In-Reply-To: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
References: <DC51C06D-30FD-47A9-9954-30ACC3E9D10B@gmail.com>
Message-ID: <E7A1849D-8BB7-4E85-8D0B-1BE2603FA639@icloud.com>

I am obtaining exactly the same error in MacBookPro, Sierra 10.12.1, R 3.3.2. Just aft installing Sierra.
Regards,
JFranco

---------------------
Jorge Franco D.
Profesor Titular,
Departamento de Biometr?a, Estad?stica y Computaci?n
Facultad de Agronom?a, UDELAR
Ruta 3, Km. 363, Paysand?
URUGUAY
nuevo telefono: +598 99123946




> On Dec 2, 2016, at 10:34 AM, Karl Thomaseth <karl.thomaseth at gmail.com <mailto:karl.thomaseth at gmail.com>> wrote:
> 
> Hello all,
> 
> I regret to bother you, but since I upgraded to MacOS Sierra more than a month ago, I am experiencing
> that whenever I open any ?file.R?, which launches automatically R.app GUI the GUI crashes (see info below),
> I removed also all .RData and .Rapp.history from my system with
> sudo find / -name ?.RData? -delete
> sudo find / -name ?.Rapp*? -delete
> If I start R directly from the Dock, everything works fine.
> 
> Thank you
> 
> Karl Thomaseth
> 
> 
> 
> 
> <R_2016-12-02-170202_Karls-MacBook-Pro.crash>
> 
> 
> 
> 
> R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
> Copyright (C) 2016 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>   Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
> [R.app GUI 1.68 (7288) x86_64-apple-darwin13.4.0]
> 
> 
>  *** caught segfault ***
> address 0x7f8bf2637f8, cause 'memory not mapped'
> 
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> > 
> Selection: 
> 
> =======================================
> > sessionInfo()
> R version 3.3.2 (2016-10-31)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: macOS Sierra 10.12.1
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> > 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From phil.cannata at oracle.com  Wed Dec 14 01:59:32 2016
From: phil.cannata at oracle.com (Philip Cannata)
Date: Wed, 14 Dec 2016 00:59:32 -0000
Subject: [R-SIG-Mac] ggviz stats?
Message-ID: <91307819-ac3a-62bf-83f6-47c3c180d018@oracle.com>

What's the status of ggviz, I've tried installing it on my Mac, however, 
I get the following:

    install.packages("ggviz")
    Warning in install.packages :
       package ?ggviz? is not available (for R version 3.3.1)

thanks

phil

	[[alternative HTML version deleted]]


From pd.mes at cbs.dk  Wed Dec 28 13:10:07 2016
From: pd.mes at cbs.dk (Peter Dalgaard)
Date: Wed, 28 Dec 2016 12:10:07 +0000
Subject: [R-SIG-Mac] R patched version for Mac
In-Reply-To: <790b9c2c-b387-f005-be8a-ab106de086d6@stats.ox.ac.uk>
References: <A1E9774F-C40F-4140-AD92-986732EBE69B@nasa.gov>
	<790b9c2c-b387-f005-be8a-ab106de086d6@stats.ox.ac.uk>
Message-ID: <9F215F8D-A268-4E38-9A63-6866CC4656CC@cbs.dk>

Simon,

I seem to recall someone already poked you on this matter, but I can't find a record of it, so maybe not...

The symptoms are pretty clear, the log indicates a successful recent build, but apparently the packages have not been built since Oct 27, so R-3.3-branch-mavericks.pkg contains the version from the and is actually older than the current release. (I checked the contents with pkgutils, and it is not just a labeling issue; the Payload files are time-stamped Oct 27 05:15)

-pd

> On 28 Dec 2016, at 11:59 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> On 27/12/2016 19:19, Watson, David W. (MSFC-ES62) wrote:
>> I have been trying to download the ?patched? version of 3.3.2 for Mac from CRAN,
> 
> What makes you think there is a patched version on CRAN?  Did you follow the link on https://cran.r-project.org/bin/macosx/
> to http://r.research.att.com/mavericks/R-3.3-branch/R-3.3-branch-mavericks.pkg?  That is Simon Urbanek's site, so you need to ask him.
> 
> but the version that gets delivered is actually the October Release Candidate version,
>> (R version 3.3.2 RC (2016-10-26 r71594). It has been doing this since 3.3.2 has been released. Is there a real patched version somewhere?
>> 
>> David Watson
>> NASA - MSFC
>> Mail Code ES62
>> Phone 256-544-1300
>> FAX   256-544-2964
>> david.w.watson at nasa.gov<mailto:david.w.watson at nasa.gov>
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


