From @|mon@urb@nek @end|ng |rom R-project@org  Fri May  1 03:10:26 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Fri, 1 May 2020 13:10:26 +1200
Subject: [R-SIG-Mac] OpenMP on CRAN (Simon Urbanek)
In-Reply-To: <7ACC027E-8374-4B50-8EDA-7C07657DB280@pitt.edu>
References: <CAJdZCv0SSeUzKqC_KBmC5RjTWKpb5w_25-QFfzo1FBQhZqeUdQ@mail.gmail.com>
 <28AC4935-D222-4A6E-967F-66AC06CD1E04@pitt.edu>
 <CAJXgQP3tbo89E7jaF-DTyfLsd56a58Hx6eQr9AJCPjfzTgrW3A@mail.gmail.com>
 <CAJdZCv2R9iz7fpHiRD1j=tPF61m+tP=Ju-pf2rCdUs7bqBafQw@mail.gmail.com>
 <7ACC027E-8374-4B50-8EDA-7C07657DB280@pitt.edu>
Message-ID: <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>

I have now created a page about this:

http://mac.r-project.org/openmp

which also provides libomp binaries for all recent versions of Xcode (and more).

Important note: this is about Xcode - it is NOT about using Homebrew tools nor the custom compilers we used before R 4.0.0. Both of the latter are not suitable for use with R 4.0.0 binaries.

Please give it a shot. Thanks for those participating in the discussion.

Cheers,
Simon



> On 1/05/2020, at 2:23 AM, Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
> 
> Hi Kevin et al.,
> 
> The setup you suggested did not work for me, but I was able to get OpenMP to work on Mac (10.13) with R v4.0 packages.  Here's what I did:
> 
> (1) After installing Homebrew, ran
> brew install libomp
> # Note it is also possible to install from OpenMP Source code: https://releases.llvm.org/download.html#10.0.0
> (2) Determined the install path with
> brew --prefix libomp
> # In my case /usr/local/opt/libomp
> (3) Added lines to ~/.R/Makevars
> CC=/usr/local/clang4/bin/clang -fopenmp -I/usr/local/opt/libomp/include
> LDFLAGS=-L/usr/local/opt/libomp/lib
> 
> I imagine the process is similar for C++ code by setting CXX.  Now parallelization for C code with OpenMP is working again on Mac.
> 
> As always, I am thankful to the R community for helping problem solve.
> 
> I wish more direction along these lines could be added to mac.r-project.org
> 
> Erik
> 
> 
>> On Apr 29, 2020, at 1:51 AM, Dmitriy Selivanov <selivanov.dmitriy at gmail.com> wrote:
>> 
>> Thanks, Kevin, I can confirm suggested setup works fine so far. Thank you!
>> 
>> I understand it, is that there's
>> no guarantee that this will work properly (or continue to work
>> properly) as the Apple toolchain continues to be updated -- e.g. a new
>> version of macOS / Xcode could install a version of Apple Clang that
>> is then incompatible with the version of libomp currently in use. In
>> such a case, I suspect one would need to find and reinstall libomp.
>> 
>> Thats understandable. 
>> 
>> On Sat, Apr 25, 2020 at 8:09 PM Kevin Ushey <kevinushey at gmail.com> wrote:
>> The following works for me on macOS 10.15.4 using Apple Clang + libomp
>> from LLVM 10 (via Homebrew).
>> 
>> Install libomp from Homebrew with:
>> 
>>     brew install libomp
>> 
>> Then, put the following in ~/.R/Makevars
>> 
>>     CPPFLAGS += -I/usr/local/opt/libomp/include -Xclang -fopenmp
>>     LDFLAGS += -L/usr/local/opt/libomp/lib -lomp
>> 
>> Then R will automatically enable + use OpenMP as appropriate when
>> installing packages from sources.
>> 
>> The main danger of this approach, as I understand it, is that there's
>> no guarantee that this will work properly (or continue to work
>> properly) as the Apple toolchain continues to be updated -- e.g. a new
>> version of macOS / Xcode could install a version of Apple Clang that
>> is then incompatible with the version of libomp currently in use. In
>> such a case, I suspect one would need to find and reinstall libomp.
>> 
>> In theory, this could be alleviated by ensuring all users download and
>> use the same version of Xcode as is being used by the macOS build
>> machine (Xcode 10.1), but in practice users will likely just be using
>> the "default" set of command line tools that comes with their version
>> of macOS.
>> 
>> Cunningham's law will hopefully ensure someone else will chime in if
>> I've got something wrong :-)
>> 
>> Best,
>> Kevin
>> 
>> On Sat, Apr 25, 2020 at 8:29 AM Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
>> >
>> > I second this request.  Dropping OpenMP support in R v4.0 on Mac is unfortunate.  My R package is highly parallelized via OpenMP, and many of my end-users take advantage of the excellent speedups.  It would be much appreciated if user-level instructions could be provided for how to enable OpenMP support on the Mac.
>> >
>> > Thanks,
>> > Erik
>> >
>> >
>> > > On Apr 23, 2020, at 7:08 AM, Dmitriy Selivanov <selivanov.dmitriy at gmail.com> wrote:
>> > >
>> > > Hi Simon,
>> > >
>> > > Just wanted follow up on this topic.
>> > >
>> > > It would be very helpful if you can provide some guide on
>> > > https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415901734&amp;sdata=qlhXuEubgD6PNmkbD%2BWQy5OI9X%2BGjxSYHMNjA%2BQHZzI%3D&amp;reserved=0<https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=5XR5LJuAKu4%2B3%2FUHsWVPMlyXTLY87P6OF%2FP%2FTZt1W8Y%3D&amp;reserved=0> for those users
>> > > (advanced?) and developers who wants to be able to use OpenMP on mac. From
>> > > what I've understood from this mail thread the easiest way is to install R
>> > > from homebrew as it is built with non-standard Apple toolchain.
>> > > Apart from that you've mentioned you may consider to bundle binary  iomp
>> > > with R installation, but "it would be on the package author to make sure
>> > > that the way the package operates is compatible with that binary". Could
>> > > you please elaborate on that?
>> > >
>> > > I believe I'm not alone who would like to be able to use OpenMP on mac and
>> > > "official" guidance would be very helpful.
>> > >
>> > > --
>> > > Regards
>> > > Dmitriy Selivanov
>> > >
>> > >       [[alternative HTML version deleted]]
>> > >
>> > > _______________________________________________
>> > > R-SIG-Mac mailing list
>> > > R-SIG-Mac at r-project.org
>> > > https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-sig-mac&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=yAu4MKX2Ka5yEaoq51byWJSkbL%2FpO1HvtUsI%2BQXmtJQ%3D&amp;reserved=0
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> -- 
>> Regards 
>> Dmitriy Selivanov
> 


From @e||v@nov@dm|tr|y @end|ng |rom gm@||@com  Fri May  1 07:51:31 2020
From: @e||v@nov@dm|tr|y @end|ng |rom gm@||@com (Dmitriy Selivanov)
Date: Fri, 1 May 2020 09:51:31 +0400
Subject: [R-SIG-Mac] OpenMP on CRAN (Simon Urbanek)
In-Reply-To: <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>
References: <CAJdZCv0SSeUzKqC_KBmC5RjTWKpb5w_25-QFfzo1FBQhZqeUdQ@mail.gmail.com>
 <28AC4935-D222-4A6E-967F-66AC06CD1E04@pitt.edu>
 <CAJXgQP3tbo89E7jaF-DTyfLsd56a58Hx6eQr9AJCPjfzTgrW3A@mail.gmail.com>
 <CAJdZCv2R9iz7fpHiRD1j=tPF61m+tP=Ju-pf2rCdUs7bqBafQw@mail.gmail.com>
 <7ACC027E-8374-4B50-8EDA-7C07657DB280@pitt.edu>
 <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>
Message-ID: <CAJdZCv1jSAp_SwJJpWa=gkrpKHu9SUctKfLXoHfHTt_mXy66Aw@mail.gmail.com>

Thank you Simon for the official instruction and explanation about caveats!
I've tried to use libomp (9.0.1) you've provided and everything works
smoothly.
With new R4.0 toolchain and optional openmp support we got really good
tradeoff between simplicity for the majority of the users and feature-rich
set-up for more tech-savvy users.


On Fri, May 1, 2020 at 5:29 AM Simon Urbanek <simon.urbanek at r-project.org>
wrote:

> I have now created a page about this:
>
> http://mac.r-project.org/openmp
>
> which also provides libomp binaries for all recent versions of Xcode (and
> more).
>
> Important note: this is about Xcode - it is NOT about using Homebrew tools
> nor the custom compilers we used before R 4.0.0. Both of the latter are not
> suitable for use with R 4.0.0 binaries.
>
> Please give it a shot. Thanks for those participating in the discussion.
>
> Cheers,
> Simon
>
>
>
> > On 1/05/2020, at 2:23 AM, Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
> >
> > Hi Kevin et al.,
> >
> > The setup you suggested did not work for me, but I was able to get
> OpenMP to work on Mac (10.13) with R v4.0 packages.  Here's what I did:
> >
> > (1) After installing Homebrew, ran
> > brew install libomp
> > # Note it is also possible to install from OpenMP Source code:
> https://releases.llvm.org/download.html#10.0.0
> > (2) Determined the install path with
> > brew --prefix libomp
> > # In my case /usr/local/opt/libomp
> > (3) Added lines to ~/.R/Makevars
> > CC=/usr/local/clang4/bin/clang -fopenmp -I/usr/local/opt/libomp/include
> > LDFLAGS=-L/usr/local/opt/libomp/lib
> >
> > I imagine the process is similar for C++ code by setting CXX.  Now
> parallelization for C code with OpenMP is working again on Mac.
> >
> > As always, I am thankful to the R community for helping problem solve.
> >
> > I wish more direction along these lines could be added to
> mac.r-project.org
> >
> > Erik
> >
> >
> >> On Apr 29, 2020, at 1:51 AM, Dmitriy Selivanov <
> selivanov.dmitriy at gmail.com> wrote:
> >>
> >> Thanks, Kevin, I can confirm suggested setup works fine so far. Thank
> you!
> >>
> >> I understand it, is that there's
> >> no guarantee that this will work properly (or continue to work
> >> properly) as the Apple toolchain continues to be updated -- e.g. a new
> >> version of macOS / Xcode could install a version of Apple Clang that
> >> is then incompatible with the version of libomp currently in use. In
> >> such a case, I suspect one would need to find and reinstall libomp.
> >>
> >> Thats understandable.
> >>
> >> On Sat, Apr 25, 2020 at 8:09 PM Kevin Ushey <kevinushey at gmail.com>
> wrote:
> >> The following works for me on macOS 10.15.4 using Apple Clang + libomp
> >> from LLVM 10 (via Homebrew).
> >>
> >> Install libomp from Homebrew with:
> >>
> >>     brew install libomp
> >>
> >> Then, put the following in ~/.R/Makevars
> >>
> >>     CPPFLAGS += -I/usr/local/opt/libomp/include -Xclang -fopenmp
> >>     LDFLAGS += -L/usr/local/opt/libomp/lib -lomp
> >>
> >> Then R will automatically enable + use OpenMP as appropriate when
> >> installing packages from sources.
> >>
> >> The main danger of this approach, as I understand it, is that there's
> >> no guarantee that this will work properly (or continue to work
> >> properly) as the Apple toolchain continues to be updated -- e.g. a new
> >> version of macOS / Xcode could install a version of Apple Clang that
> >> is then incompatible with the version of libomp currently in use. In
> >> such a case, I suspect one would need to find and reinstall libomp.
> >>
> >> In theory, this could be alleviated by ensuring all users download and
> >> use the same version of Xcode as is being used by the macOS build
> >> machine (Xcode 10.1), but in practice users will likely just be using
> >> the "default" set of command line tools that comes with their version
> >> of macOS.
> >>
> >> Cunningham's law will hopefully ensure someone else will chime in if
> >> I've got something wrong :-)
> >>
> >> Best,
> >> Kevin
> >>
> >> On Sat, Apr 25, 2020 at 8:29 AM Wright, Erik Scott <ESWRIGHT at pitt.edu>
> wrote:
> >> >
> >> > I second this request.  Dropping OpenMP support in R v4.0 on Mac is
> unfortunate.  My R package is highly parallelized via OpenMP, and many of
> my end-users take advantage of the excellent speedups.  It would be much
> appreciated if user-level instructions could be provided for how to enable
> OpenMP support on the Mac.
> >> >
> >> > Thanks,
> >> > Erik
> >> >
> >> >
> >> > > On Apr 23, 2020, at 7:08 AM, Dmitriy Selivanov <
> selivanov.dmitriy at gmail.com> wrote:
> >> > >
> >> > > Hi Simon,
> >> > >
> >> > > Just wanted follow up on this topic.
> >> > >
> >> > > It would be very helpful if you can provide some guide on
> >> > >
> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415901734&amp;sdata=qlhXuEubgD6PNmkbD%2BWQy5OI9X%2BGjxSYHMNjA%2BQHZzI%3D&amp;reserved=0
> <
> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=5XR5LJuAKu4%2B3%2FUHsWVPMlyXTLY87P6OF%2FP%2FTZt1W8Y%3D&amp;reserved=0>
> for those users
> >> > > (advanced?) and developers who wants to be able to use OpenMP on
> mac. From
> >> > > what I've understood from this mail thread the easiest way is to
> install R
> >> > > from homebrew as it is built with non-standard Apple toolchain.
> >> > > Apart from that you've mentioned you may consider to bundle binary
> iomp
> >> > > with R installation, but "it would be on the package author to make
> sure
> >> > > that the way the package operates is compatible with that binary".
> Could
> >> > > you please elaborate on that?
> >> > >
> >> > > I believe I'm not alone who would like to be able to use OpenMP on
> mac and
> >> > > "official" guidance would be very helpful.
> >> > >
> >> > > --
> >> > > Regards
> >> > > Dmitriy Selivanov
> >> > >
> >> > >       [[alternative HTML version deleted]]
> >> > >
> >> > > _______________________________________________
> >> > > R-SIG-Mac mailing list
> >> > > R-SIG-Mac at r-project.org
> >> > >
> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-sig-mac&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=yAu4MKX2Ka5yEaoq51byWJSkbL%2FpO1HvtUsI%2BQXmtJQ%3D&amp;reserved=0
> >> >
> >> > _______________________________________________
> >> > R-SIG-Mac mailing list
> >> > R-SIG-Mac at r-project.org
> >> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >>
> >> --
> >> Regards
> >> Dmitriy Selivanov
> >
>
>

-- 
Regards
Dmitriy Selivanov

	[[alternative HTML version deleted]]


From b@|@mut2 @end|ng |rom ||||no|@@edu  Fri May  1 18:32:26 2020
From: b@|@mut2 @end|ng |rom ||||no|@@edu (Balamuta, James Joseph)
Date: Fri, 1 May 2020 16:32:26 +0000
Subject: [R-SIG-Mac] OpenMP on CRAN (Simon Urbanek)
In-Reply-To: <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>
References: <CAJdZCv0SSeUzKqC_KBmC5RjTWKpb5w_25-QFfzo1FBQhZqeUdQ@mail.gmail.com>
 <28AC4935-D222-4A6E-967F-66AC06CD1E04@pitt.edu>
 <CAJXgQP3tbo89E7jaF-DTyfLsd56a58Hx6eQr9AJCPjfzTgrW3A@mail.gmail.com>
 <CAJdZCv2R9iz7fpHiRD1j=tPF61m+tP=Ju-pf2rCdUs7bqBafQw@mail.gmail.com>
 <7ACC027E-8374-4B50-8EDA-7C07657DB280@pitt.edu>
 <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>
Message-ID: <D62615C1-AE15-43EE-BA2D-9B3AC9F9827B@illinois.edu>

Simon,

Thank you for the official instructions on using OpenMP with R 4.0.0!

Also, thanks for making the source behind mac.r-project.org available on GitHub! 
https://github.com/s-u/R-mac-dev

Would you consider creating an organization to house all repositories related to R for macOS in a manner similar to R for Windows?

e.g. https://github.com/r-windows 

Best,

JJB

?On 4/30/20, 8:10 PM, "R-SIG-Mac on behalf of Simon Urbanek" <r-sig-mac-bounces at r-project.org on behalf of simon.urbanek at R-project.org> wrote:

    I have now created a page about this:

    http://mac.r-project.org/openmp

    which also provides libomp binaries for all recent versions of Xcode (and more).

    Important note: this is about Xcode - it is NOT about using Homebrew tools nor the custom compilers we used before R 4.0.0. Both of the latter are not suitable for use with R 4.0.0 binaries.

    Please give it a shot. Thanks for those participating in the discussion.

    Cheers,
    Simon



    > On 1/05/2020, at 2:23 AM, Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
    > 
    > Hi Kevin et al.,
    > 
    > The setup you suggested did not work for me, but I was able to get OpenMP to work on Mac (10.13) with R v4.0 packages.  Here's what I did:
    > 
    > (1) After installing Homebrew, ran
    > brew install libomp
    > # Note it is also possible to install from OpenMP Source code: https://releases.llvm.org/download.html#10.0.0
    > (2) Determined the install path with
    > brew --prefix libomp
    > # In my case /usr/local/opt/libomp
    > (3) Added lines to ~/.R/Makevars
    > CC=/usr/local/clang4/bin/clang -fopenmp -I/usr/local/opt/libomp/include
    > LDFLAGS=-L/usr/local/opt/libomp/lib
    > 
    > I imagine the process is similar for C++ code by setting CXX.  Now parallelization for C code with OpenMP is working again on Mac.
    > 
    > As always, I am thankful to the R community for helping problem solve.
    > 
    > I wish more direction along these lines could be added to mac.r-project.org
    > 
    > Erik
    > 
    > 
    >> On Apr 29, 2020, at 1:51 AM, Dmitriy Selivanov <selivanov.dmitriy at gmail.com> wrote:
    >> 
    >> Thanks, Kevin, I can confirm suggested setup works fine so far. Thank you!
    >> 
    >> I understand it, is that there's
    >> no guarantee that this will work properly (or continue to work
    >> properly) as the Apple toolchain continues to be updated -- e.g. a new
    >> version of macOS / Xcode could install a version of Apple Clang that
    >> is then incompatible with the version of libomp currently in use. In
    >> such a case, I suspect one would need to find and reinstall libomp.
    >> 
    >> Thats understandable. 
    >> 
    >> On Sat, Apr 25, 2020 at 8:09 PM Kevin Ushey <kevinushey at gmail.com> wrote:
    >> The following works for me on macOS 10.15.4 using Apple Clang + libomp
    >> from LLVM 10 (via Homebrew).
    >> 
    >> Install libomp from Homebrew with:
    >> 
    >>     brew install libomp
    >> 
    >> Then, put the following in ~/.R/Makevars
    >> 
    >>     CPPFLAGS += -I/usr/local/opt/libomp/include -Xclang -fopenmp
    >>     LDFLAGS += -L/usr/local/opt/libomp/lib -lomp
    >> 
    >> Then R will automatically enable + use OpenMP as appropriate when
    >> installing packages from sources.
    >> 
    >> The main danger of this approach, as I understand it, is that there's
    >> no guarantee that this will work properly (or continue to work
    >> properly) as the Apple toolchain continues to be updated -- e.g. a new
    >> version of macOS / Xcode could install a version of Apple Clang that
    >> is then incompatible with the version of libomp currently in use. In
    >> such a case, I suspect one would need to find and reinstall libomp.
    >> 
    >> In theory, this could be alleviated by ensuring all users download and
    >> use the same version of Xcode as is being used by the macOS build
    >> machine (Xcode 10.1), but in practice users will likely just be using
    >> the "default" set of command line tools that comes with their version
    >> of macOS.
    >> 
    >> Cunningham's law will hopefully ensure someone else will chime in if
    >> I've got something wrong :-)
    >> 
    >> Best,
    >> Kevin
    >> 
    >> On Sat, Apr 25, 2020 at 8:29 AM Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
    >> >
    >> > I second this request.  Dropping OpenMP support in R v4.0 on Mac is unfortunate.  My R package is highly parallelized via OpenMP, and many of my end-users take advantage of the excellent speedups.  It would be much appreciated if user-level instructions could be provided for how to enable OpenMP support on the Mac.
    >> >
    >> > Thanks,
    >> > Erik
    >> >
    >> >
    >> > > On Apr 23, 2020, at 7:08 AM, Dmitriy Selivanov <selivanov.dmitriy at gmail.com> wrote:
    >> > >
    >> > > Hi Simon,
    >> > >
    >> > > Just wanted follow up on this topic.
    >> > >
    >> > > It would be very helpful if you can provide some guide on
    >> > > https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415901734&amp;sdata=qlhXuEubgD6PNmkbD%2BWQy5OI9X%2BGjxSYHMNjA%2BQHZzI%3D&amp;reserved=0<https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=5XR5LJuAKu4%2B3%2FUHsWVPMlyXTLY87P6OF%2FP%2FTZt1W8Y%3D&amp;reserved=0> for those users
    >> > > (advanced?) and developers who wants to be able to use OpenMP on mac. From
    >> > > what I've understood from this mail thread the easiest way is to install R
    >> > > from homebrew as it is built with non-standard Apple toolchain.
    >> > > Apart from that you've mentioned you may consider to bundle binary  iomp
    >> > > with R installation, but "it would be on the package author to make sure
    >> > > that the way the package operates is compatible with that binary". Could
    >> > > you please elaborate on that?
    >> > >
    >> > > I believe I'm not alone who would like to be able to use OpenMP on mac and
    >> > > "official" guidance would be very helpful.
    >> > >
    >> > > --
    >> > > Regards
    >> > > Dmitriy Selivanov
    >> > >
    >> > >       [[alternative HTML version deleted]]
    >> > >
    >> > > _______________________________________________
    >> > > R-SIG-Mac mailing list
    >> > > R-SIG-Mac at r-project.org
    >> > > https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-sig-mac&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=yAu4MKX2Ka5yEaoq51byWJSkbL%2FpO1HvtUsI%2BQXmtJQ%3D&amp;reserved=0
    >> >
    >> > _______________________________________________
    >> > R-SIG-Mac mailing list
    >> > R-SIG-Mac at r-project.org
    >> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
    >> 
    >> 
    >> -- 
    >> Regards 
    >> Dmitriy Selivanov
    > 

    _______________________________________________
    R-SIG-Mac mailing list
    R-SIG-Mac at r-project.org
    https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From m@p|no|@10 @end|ng |rom gm@||@com  Fri May  1 21:29:26 2020
From: m@p|no|@10 @end|ng |rom gm@||@com (=?UTF-8?Q?Manuel_Sp=C3=ADnola?=)
Date: Fri, 1 May 2020 13:29:26 -0600
Subject: [R-SIG-Mac] OpenMP on CRAN (Simon Urbanek)
In-Reply-To: <D62615C1-AE15-43EE-BA2D-9B3AC9F9827B@illinois.edu>
References: <CAJdZCv0SSeUzKqC_KBmC5RjTWKpb5w_25-QFfzo1FBQhZqeUdQ@mail.gmail.com>
 <28AC4935-D222-4A6E-967F-66AC06CD1E04@pitt.edu>
 <CAJXgQP3tbo89E7jaF-DTyfLsd56a58Hx6eQr9AJCPjfzTgrW3A@mail.gmail.com>
 <CAJdZCv2R9iz7fpHiRD1j=tPF61m+tP=Ju-pf2rCdUs7bqBafQw@mail.gmail.com>
 <7ACC027E-8374-4B50-8EDA-7C07657DB280@pitt.edu>
 <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>
 <D62615C1-AE15-43EE-BA2D-9B3AC9F9827B@illinois.edu>
Message-ID: <CABkCotQ_E-H1JecyPCk-fS6aDfwGe26rC4USy7B+jjVD-cL+mA@mail.gmail.com>

That will be a great idea. I don?t know much of programming and I get
confused with so many technical details.

Manuel Sp?nola

On Fri, May 1, 2020 at 10:32 Balamuta, James Joseph <balamut2 at illinois.edu>
wrote:

> Simon,
>
> Thank you for the official instructions on using OpenMP with R 4.0.0!
>
> Also, thanks for making the source behind mac.r-project.org available on
> GitHub!
> https://github.com/s-u/R-mac-dev
>
> Would you consider creating an organization to house all repositories
> related to R for macOS in a manner similar to R for Windows?
>
> e.g. https://github.com/r-windows
>
> Best,
>
> JJB
>
> ?On 4/30/20, 8:10 PM, "R-SIG-Mac on behalf of Simon Urbanek" <
> r-sig-mac-bounces at r-project.org on behalf of simon.urbanek at R-project.org>
> wrote:
>
>     I have now created a page about this:
>
>     http://mac.r-project.org/openmp
>
>     which also provides libomp binaries for all recent versions of Xcode
> (and more).
>
>     Important note: this is about Xcode - it is NOT about using Homebrew
> tools nor the custom compilers we used before R 4.0.0. Both of the latter
> are not suitable for use with R 4.0.0 binaries.
>
>     Please give it a shot. Thanks for those participating in the
> discussion.
>
>     Cheers,
>     Simon
>
>
>
>     > On 1/05/2020, at 2:23 AM, Wright, Erik Scott <ESWRIGHT at pitt.edu>
> wrote:
>     >
>     > Hi Kevin et al.,
>     >
>     > The setup you suggested did not work for me, but I was able to get
> OpenMP to work on Mac (10.13) with R v4.0 packages.  Here's what I did:
>     >
>     > (1) After installing Homebrew, ran
>     > brew install libomp
>     > # Note it is also possible to install from OpenMP Source code:
> https://releases.llvm.org/download.html#10.0.0
>     > (2) Determined the install path with
>     > brew --prefix libomp
>     > # In my case /usr/local/opt/libomp
>     > (3) Added lines to ~/.R/Makevars
>     > CC=/usr/local/clang4/bin/clang -fopenmp
> -I/usr/local/opt/libomp/include
>     > LDFLAGS=-L/usr/local/opt/libomp/lib
>     >
>     > I imagine the process is similar for C++ code by setting CXX.  Now
> parallelization for C code with OpenMP is working again on Mac.
>     >
>     > As always, I am thankful to the R community for helping problem
> solve.
>     >
>     > I wish more direction along these lines could be added to
> mac.r-project.org
>     >
>     > Erik
>     >
>     >
>     >> On Apr 29, 2020, at 1:51 AM, Dmitriy Selivanov <
> selivanov.dmitriy at gmail.com> wrote:
>     >>
>     >> Thanks, Kevin, I can confirm suggested setup works fine so far.
> Thank you!
>     >>
>     >> I understand it, is that there's
>     >> no guarantee that this will work properly (or continue to work
>     >> properly) as the Apple toolchain continues to be updated -- e.g. a
> new
>     >> version of macOS / Xcode could install a version of Apple Clang that
>     >> is then incompatible with the version of libomp currently in use. In
>     >> such a case, I suspect one would need to find and reinstall libomp.
>     >>
>     >> Thats understandable.
>     >>
>     >> On Sat, Apr 25, 2020 at 8:09 PM Kevin Ushey <kevinushey at gmail.com>
> wrote:
>     >> The following works for me on macOS 10.15.4 using Apple Clang +
> libomp
>     >> from LLVM 10 (via Homebrew).
>     >>
>     >> Install libomp from Homebrew with:
>     >>
>     >>     brew install libomp
>     >>
>     >> Then, put the following in ~/.R/Makevars
>     >>
>     >>     CPPFLAGS += -I/usr/local/opt/libomp/include -Xclang -fopenmp
>     >>     LDFLAGS += -L/usr/local/opt/libomp/lib -lomp
>     >>
>     >> Then R will automatically enable + use OpenMP as appropriate when
>     >> installing packages from sources.
>     >>
>     >> The main danger of this approach, as I understand it, is that
> there's
>     >> no guarantee that this will work properly (or continue to work
>     >> properly) as the Apple toolchain continues to be updated -- e.g. a
> new
>     >> version of macOS / Xcode could install a version of Apple Clang that
>     >> is then incompatible with the version of libomp currently in use. In
>     >> such a case, I suspect one would need to find and reinstall libomp.
>     >>
>     >> In theory, this could be alleviated by ensuring all users download
> and
>     >> use the same version of Xcode as is being used by the macOS build
>     >> machine (Xcode 10.1), but in practice users will likely just be
> using
>     >> the "default" set of command line tools that comes with their
> version
>     >> of macOS.
>     >>
>     >> Cunningham's law will hopefully ensure someone else will chime in if
>     >> I've got something wrong :-)
>     >>
>     >> Best,
>     >> Kevin
>     >>
>     >> On Sat, Apr 25, 2020 at 8:29 AM Wright, Erik Scott <
> ESWRIGHT at pitt.edu> wrote:
>     >> >
>     >> > I second this request.  Dropping OpenMP support in R v4.0 on Mac
> is unfortunate.  My R package is highly parallelized via OpenMP, and many
> of my end-users take advantage of the excellent speedups.  It would be much
> appreciated if user-level instructions could be provided for how to enable
> OpenMP support on the Mac.
>     >> >
>     >> > Thanks,
>     >> > Erik
>     >> >
>     >> >
>     >> > > On Apr 23, 2020, at 7:08 AM, Dmitriy Selivanov <
> selivanov.dmitriy at gmail.com> wrote:
>     >> > >
>     >> > > Hi Simon,
>     >> > >
>     >> > > Just wanted follow up on this topic.
>     >> > >
>     >> > > It would be very helpful if you can provide some guide on
>     >> > >
> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415901734&amp;sdata=qlhXuEubgD6PNmkbD%2BWQy5OI9X%2BGjxSYHMNjA%2BQHZzI%3D&amp;reserved=0
> <
> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=5XR5LJuAKu4%2B3%2FUHsWVPMlyXTLY87P6OF%2FP%2FTZt1W8Y%3D&amp;reserved=0>
> for those users
>     >> > > (advanced?) and developers who wants to be able to use OpenMP
> on mac. From
>     >> > > what I've understood from this mail thread the easiest way is
> to install R
>     >> > > from homebrew as it is built with non-standard Apple toolchain.
>     >> > > Apart from that you've mentioned you may consider to bundle
> binary  iomp
>     >> > > with R installation, but "it would be on the package author to
> make sure
>     >> > > that the way the package operates is compatible with that
> binary". Could
>     >> > > you please elaborate on that?
>     >> > >
>     >> > > I believe I'm not alone who would like to be able to use OpenMP
> on mac and
>     >> > > "official" guidance would be very helpful.
>     >> > >
>     >> > > --
>     >> > > Regards
>     >> > > Dmitriy Selivanov
>     >> > >
>     >> > >       [[alternative HTML version deleted]]
>     >> > >
>     >> > > _______________________________________________
>     >> > > R-SIG-Mac mailing list
>     >> > > R-SIG-Mac at r-project.org
>     >> > >
> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-sig-mac&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=yAu4MKX2Ka5yEaoq51byWJSkbL%2FpO1HvtUsI%2BQXmtJQ%3D&amp;reserved=0
>     >> >
>     >> > _______________________________________________
>     >> > R-SIG-Mac mailing list
>     >> > R-SIG-Mac at r-project.org
>     >> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>     >>
>     >>
>     >> --
>     >> Regards
>     >> Dmitriy Selivanov
>     >
>
>     _______________________________________________
>     R-SIG-Mac mailing list
>     R-SIG-Mac at r-project.org
>     https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
-- 
*Manuel Sp?nola, Ph.D.*
Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
Universidad Nacional
Apartado 1350-3000
Heredia
COSTA RICA
mspinola at una.cr <mspinola at una.ac.cr>
mspinola10 at gmail.com
Tel?fono: (506) 8706 - 4662
Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>

	[[alternative HTML version deleted]]


From br@ndon@hurr @end|ng |rom gm@||@com  Fri May  1 22:53:46 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Fri, 1 May 2020 13:53:46 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
Message-ID: <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>

I'm going to add to the pile on this one. It's hard to nail down
though. I was able to load Hiroshi's test.R script after loading up
R-GUI 7827 and just now 7832. I loaded it from multiple directories by
clicking on it.
That said, I've been having many issues locking up R-GUI on my 2019
MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
script file, but if I want to load another script it gives me the
colored pinwheel of death. Sometimes it will load up R-GUI, but then
pinwheel of death on loading a lengthy script. I'm not sure the length
is the issue.

I played around with the console a bit and noticed these messages pop
up when it locks up R:
error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
standardisation/Database Converts/Conversion script DEV.R
error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
standardisation/Database Converts
error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
standardisation
error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)

A rough guess here is that the sandboxing isn't working right (or is?)
and is blocking access of R-GUI to the file which then locks up
because it's waiting for data?

Anyone else seeing this behavior and have a better idea how to pin it down?

Thanks,
B


On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
<hiroshi-hakoyama at nagano.ac.jp> wrote:
>
> Dear All,
>
> Environment:
> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> macOS: Mojave and Catalina
> Removed file for the test: .Rapp.history
>
> Description:
> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
>
> How-To-Repeat:
> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
>
> Fix:
> unknown
>
> Crash Report is too large to paste to the email.
>
>
> Best regards,
>
> Hiroshi Hakoyama
> Nagano University
>
> test.R
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> ###############################################################################
> x <- rnorm(100000)
> y <- rnorm(100000)
> hist(x)
> hist(y)
>
> test2.R
> x <- rnorm(100000)
> y <- rnorm(100000)
> hist(x)
> hist(y)
>
> system.log
> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bob @end|ng |rom rud@|@  Sat May  2 02:54:24 2020
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Fri, 1 May 2020 20:54:24 -0400
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
Message-ID: <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>

Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
under Security & Privacy system preferences.

I'm not experiencing these issues (just now when I tried it; I
generally don't use R.app)

On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>
> I'm going to add to the pile on this one. It's hard to nail down
> though. I was able to load Hiroshi's test.R script after loading up
> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> clicking on it.
> That said, I've been having many issues locking up R-GUI on my 2019
> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> script file, but if I want to load another script it gives me the
> colored pinwheel of death. Sometimes it will load up R-GUI, but then
> pinwheel of death on loading a lengthy script. I'm not sure the length
> is the issue.
>
> I played around with the console a bit and noticed these messages pop
> up when it locks up R:
> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> standardisation/Database Converts/Conversion script DEV.R
> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> standardisation/Database Converts
> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> standardisation
> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>
> A rough guess here is that the sandboxing isn't working right (or is?)
> and is blocking access of R-GUI to the file which then locks up
> because it's waiting for data?
>
> Anyone else seeing this behavior and have a better idea how to pin it down?
>
> Thanks,
> B
>
>
> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> >
> > Dear All,
> >
> > Environment:
> > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> > macOS: Mojave and Catalina
> > Removed file for the test: .Rapp.history
> >
> > Description:
> > R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> >
> > How-To-Repeat:
> > Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> >
> > Fix:
> > unknown
> >
> > Crash Report is too large to paste to the email.
> >
> >
> > Best regards,
> >
> > Hiroshi Hakoyama
> > Nagano University
> >
> > test.R
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > ###############################################################################
> > x <- rnorm(100000)
> > y <- rnorm(100000)
> > hist(x)
> > hist(y)
> >
> > test2.R
> > x <- rnorm(100000)
> > y <- rnorm(100000)
> > hist(x)
> > hist(y)
> >
> > system.log
> > Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bob @end|ng |rom rud@|@  Sat May  2 02:56:26 2020
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Fri, 1 May 2020 20:56:26 -0400
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
Message-ID: <CAA-FpKXYXd-4hT1pcB0Ax1fmCZ3gyH_CUThsBtCnDtbtCJa3rQ@mail.gmail.com>

Also, can you try running with the Debug build and poke around for
contextual errors if you still get errors?

On Fri, May 1, 2020 at 8:54 PM Bob Rudis <bob at rud.is> wrote:
>
> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
> under Security & Privacy system preferences.
>
> I'm not experiencing these issues (just now when I tried it; I
> generally don't use R.app)
>
> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >
> > I'm going to add to the pile on this one. It's hard to nail down
> > though. I was able to load Hiroshi's test.R script after loading up
> > R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> > clicking on it.
> > That said, I've been having many issues locking up R-GUI on my 2019
> > MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> > script file, but if I want to load another script it gives me the
> > colored pinwheel of death. Sometimes it will load up R-GUI, but then
> > pinwheel of death on loading a lengthy script. I'm not sure the length
> > is the issue.
> >
> > I played around with the console a bit and noticed these messages pop
> > up when it locks up R:
> > error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > standardisation/Database Converts/Conversion script DEV.R
> > error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > standardisation/Database Converts
> > error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > standardisation
> > error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> >
> > A rough guess here is that the sandboxing isn't working right (or is?)
> > and is blocking access of R-GUI to the file which then locks up
> > because it's waiting for data?
> >
> > Anyone else seeing this behavior and have a better idea how to pin it down?
> >
> > Thanks,
> > B
> >
> >
> > On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> > <hiroshi-hakoyama at nagano.ac.jp> wrote:
> > >
> > > Dear All,
> > >
> > > Environment:
> > > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > > [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> > > macOS: Mojave and Catalina
> > > Removed file for the test: .Rapp.history
> > >
> > > Description:
> > > R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> > >
> > > How-To-Repeat:
> > > Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> > >
> > > Fix:
> > > unknown
> > >
> > > Crash Report is too large to paste to the email.
> > >
> > >
> > > Best regards,
> > >
> > > Hiroshi Hakoyama
> > > Nagano University
> > >
> > > test.R
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > x <- rnorm(100000)
> > > y <- rnorm(100000)
> > > hist(x)
> > > hist(y)
> > >
> > > test2.R
> > > x <- rnorm(100000)
> > > y <- rnorm(100000)
> > > hist(x)
> > > hist(y)
> > >
> > > system.log
> > > Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> > > _______________________________________________
> > > R-SIG-Mac mailing list
> > > R-SIG-Mac at r-project.org
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From br@ndon@hurr @end|ng |rom gm@||@com  Sat May  2 03:48:50 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Fri, 1 May 2020 18:48:50 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
Message-ID: <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>

Thanks Bob.

I did this and it did not fix it sadly.
I downloaded the Debug version of R-GUI and captured the following
after clicking on the same file (which did cause it to crash again)
Here is the console log for the R PID (889 in this instance) from
loading R to then clicking to load the same file (which froze my
system again):
https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
Here is the full Apple Crash Log that came up after I force quit R:
https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd

I hope this is helpful. Please let me know if I need to dig more and
recommendations for doing so.

Thanks,
B

On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>
> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
> under Security & Privacy system preferences.
>
> I'm not experiencing these issues (just now when I tried it; I
> generally don't use R.app)
>
> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >
> > I'm going to add to the pile on this one. It's hard to nail down
> > though. I was able to load Hiroshi's test.R script after loading up
> > R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> > clicking on it.
> > That said, I've been having many issues locking up R-GUI on my 2019
> > MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> > script file, but if I want to load another script it gives me the
> > colored pinwheel of death. Sometimes it will load up R-GUI, but then
> > pinwheel of death on loading a lengthy script. I'm not sure the length
> > is the issue.
> >
> > I played around with the console a bit and noticed these messages pop
> > up when it locks up R:
> > error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > standardisation/Database Converts/Conversion script DEV.R
> > error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > standardisation/Database Converts
> > error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > standardisation
> > error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> >
> > A rough guess here is that the sandboxing isn't working right (or is?)
> > and is blocking access of R-GUI to the file which then locks up
> > because it's waiting for data?
> >
> > Anyone else seeing this behavior and have a better idea how to pin it down?
> >
> > Thanks,
> > B
> >
> >
> > On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> > <hiroshi-hakoyama at nagano.ac.jp> wrote:
> > >
> > > Dear All,
> > >
> > > Environment:
> > > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > > [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> > > macOS: Mojave and Catalina
> > > Removed file for the test: .Rapp.history
> > >
> > > Description:
> > > R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> > >
> > > How-To-Repeat:
> > > Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> > >
> > > Fix:
> > > unknown
> > >
> > > Crash Report is too large to paste to the email.
> > >
> > >
> > > Best regards,
> > >
> > > Hiroshi Hakoyama
> > > Nagano University
> > >
> > > test.R
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > ###############################################################################
> > > x <- rnorm(100000)
> > > y <- rnorm(100000)
> > > hist(x)
> > > hist(y)
> > >
> > > test2.R
> > > x <- rnorm(100000)
> > > y <- rnorm(100000)
> > > hist(x)
> > > hist(y)
> > >
> > > system.log
> > > Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> > > _______________________________________________
> > > R-SIG-Mac mailing list
> > > R-SIG-Mac at r-project.org
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From br@ndon@hurr @end|ng |rom gm@||@com  Sat May  2 04:18:22 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Fri, 1 May 2020 19:18:22 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
Message-ID: <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>

I have a mac mini as well that does not show this crash. It's much
beefier (6-core i7, 32 GB RAM probably not relevant).
Here is the same boot up log with the same file and it does not crash R.

https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log

I look at the transition where the two differ and the crash happens
and the one that works is much shorter. At line 319 in the non-working
MBA (PID 889) it "makes presenter" and then stops. Making presenter
doesn't happen until line 4261 in the working file. Lots of parsing of
the file is missing (4000 lines of it).

B

On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>
> Thanks Bob.
>
> I did this and it did not fix it sadly.
> I downloaded the Debug version of R-GUI and captured the following
> after clicking on the same file (which did cause it to crash again)
> Here is the console log for the R PID (889 in this instance) from
> loading R to then clicking to load the same file (which froze my
> system again):
> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
> Here is the full Apple Crash Log that came up after I force quit R:
> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
>
> I hope this is helpful. Please let me know if I need to dig more and
> recommendations for doing so.
>
> Thanks,
> B
>
> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
> >
> > Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
> > under Security & Privacy system preferences.
> >
> > I'm not experiencing these issues (just now when I tried it; I
> > generally don't use R.app)
> >
> > On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> > >
> > > I'm going to add to the pile on this one. It's hard to nail down
> > > though. I was able to load Hiroshi's test.R script after loading up
> > > R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> > > clicking on it.
> > > That said, I've been having many issues locking up R-GUI on my 2019
> > > MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> > > script file, but if I want to load another script it gives me the
> > > colored pinwheel of death. Sometimes it will load up R-GUI, but then
> > > pinwheel of death on loading a lengthy script. I'm not sure the length
> > > is the issue.
> > >
> > > I played around with the console a bit and noticed these messages pop
> > > up when it locks up R:
> > > error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> > > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > > standardisation/Database Converts/Conversion script DEV.R
> > > error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> > > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > > standardisation/Database Converts
> > > error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> > > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > > standardisation
> > > error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> > > deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> > >
> > > A rough guess here is that the sandboxing isn't working right (or is?)
> > > and is blocking access of R-GUI to the file which then locks up
> > > because it's waiting for data?
> > >
> > > Anyone else seeing this behavior and have a better idea how to pin it down?
> > >
> > > Thanks,
> > > B
> > >
> > >
> > > On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> > > <hiroshi-hakoyama at nagano.ac.jp> wrote:
> > > >
> > > > Dear All,
> > > >
> > > > Environment:
> > > > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > > > [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> > > > macOS: Mojave and Catalina
> > > > Removed file for the test: .Rapp.history
> > > >
> > > > Description:
> > > > R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> > > >
> > > > How-To-Repeat:
> > > > Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> > > >
> > > > Fix:
> > > > unknown
> > > >
> > > > Crash Report is too large to paste to the email.
> > > >
> > > >
> > > > Best regards,
> > > >
> > > > Hiroshi Hakoyama
> > > > Nagano University
> > > >
> > > > test.R
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > ###############################################################################
> > > > x <- rnorm(100000)
> > > > y <- rnorm(100000)
> > > > hist(x)
> > > > hist(y)
> > > >
> > > > test2.R
> > > > x <- rnorm(100000)
> > > > y <- rnorm(100000)
> > > > hist(x)
> > > > hist(y)
> > > >
> > > > system.log
> > > > Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> > > > _______________________________________________
> > > > R-SIG-Mac mailing list
> > > > R-SIG-Mac at r-project.org
> > > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > >
> > > _______________________________________________
> > > R-SIG-Mac mailing list
> > > R-SIG-Mac at r-project.org
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Sat May  2 09:55:30 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Sat, 2 May 2020 19:55:30 +1200
Subject: [R-SIG-Mac] OpenMP on CRAN (Simon Urbanek)
In-Reply-To: <D62615C1-AE15-43EE-BA2D-9B3AC9F9827B@illinois.edu>
References: <CAJdZCv0SSeUzKqC_KBmC5RjTWKpb5w_25-QFfzo1FBQhZqeUdQ@mail.gmail.com>
 <28AC4935-D222-4A6E-967F-66AC06CD1E04@pitt.edu>
 <CAJXgQP3tbo89E7jaF-DTyfLsd56a58Hx6eQr9AJCPjfzTgrW3A@mail.gmail.com>
 <CAJdZCv2R9iz7fpHiRD1j=tPF61m+tP=Ju-pf2rCdUs7bqBafQw@mail.gmail.com>
 <7ACC027E-8374-4B50-8EDA-7C07657DB280@pitt.edu>
 <9E95B24C-90AD-40AA-A085-1613715BB51B@R-project.org>
 <D62615C1-AE15-43EE-BA2D-9B3AC9F9827B@illinois.edu>
Message-ID: <145CD3D9-BA0A-4119-AEFE-05D70CF2801F@R-project.org>

JJB,

good idea, I didn't think of it, I have now moved this one and the recipes repo to

https://github.com/R-macos

Cheers,
Simon


> On 2/05/2020, at 4:32 AM, Balamuta, James Joseph <balamut2 at illinois.edu> wrote:
> 
> Simon,
> 
> Thank you for the official instructions on using OpenMP with R 4.0.0!
> 
> Also, thanks for making the source behind mac.r-project.org available on GitHub! 
> https://github.com/s-u/R-mac-dev
> 
> Would you consider creating an organization to house all repositories related to R for macOS in a manner similar to R for Windows?
> 
> e.g. https://github.com/r-windows 
> 
> Best,
> 
> JJB
> 
> ?On 4/30/20, 8:10 PM, "R-SIG-Mac on behalf of Simon Urbanek" <r-sig-mac-bounces at r-project.org on behalf of simon.urbanek at R-project.org> wrote:
> 
>    I have now created a page about this:
> 
>    http://mac.r-project.org/openmp
> 
>    which also provides libomp binaries for all recent versions of Xcode (and more).
> 
>    Important note: this is about Xcode - it is NOT about using Homebrew tools nor the custom compilers we used before R 4.0.0. Both of the latter are not suitable for use with R 4.0.0 binaries.
> 
>    Please give it a shot. Thanks for those participating in the discussion.
> 
>    Cheers,
>    Simon
> 
> 
> 
>> On 1/05/2020, at 2:23 AM, Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
>> 
>> Hi Kevin et al.,
>> 
>> The setup you suggested did not work for me, but I was able to get OpenMP to work on Mac (10.13) with R v4.0 packages.  Here's what I did:
>> 
>> (1) After installing Homebrew, ran
>> brew install libomp
>> # Note it is also possible to install from OpenMP Source code: https://releases.llvm.org/download.html#10.0.0
>> (2) Determined the install path with
>> brew --prefix libomp
>> # In my case /usr/local/opt/libomp
>> (3) Added lines to ~/.R/Makevars
>> CC=/usr/local/clang4/bin/clang -fopenmp -I/usr/local/opt/libomp/include
>> LDFLAGS=-L/usr/local/opt/libomp/lib
>> 
>> I imagine the process is similar for C++ code by setting CXX.  Now parallelization for C code with OpenMP is working again on Mac.
>> 
>> As always, I am thankful to the R community for helping problem solve.
>> 
>> I wish more direction along these lines could be added to mac.r-project.org
>> 
>> Erik
>> 
>> 
>>> On Apr 29, 2020, at 1:51 AM, Dmitriy Selivanov <selivanov.dmitriy at gmail.com> wrote:
>>> 
>>> Thanks, Kevin, I can confirm suggested setup works fine so far. Thank you!
>>> 
>>> I understand it, is that there's
>>> no guarantee that this will work properly (or continue to work
>>> properly) as the Apple toolchain continues to be updated -- e.g. a new
>>> version of macOS / Xcode could install a version of Apple Clang that
>>> is then incompatible with the version of libomp currently in use. In
>>> such a case, I suspect one would need to find and reinstall libomp.
>>> 
>>> Thats understandable. 
>>> 
>>> On Sat, Apr 25, 2020 at 8:09 PM Kevin Ushey <kevinushey at gmail.com> wrote:
>>> The following works for me on macOS 10.15.4 using Apple Clang + libomp
>>> from LLVM 10 (via Homebrew).
>>> 
>>> Install libomp from Homebrew with:
>>> 
>>>    brew install libomp
>>> 
>>> Then, put the following in ~/.R/Makevars
>>> 
>>>    CPPFLAGS += -I/usr/local/opt/libomp/include -Xclang -fopenmp
>>>    LDFLAGS += -L/usr/local/opt/libomp/lib -lomp
>>> 
>>> Then R will automatically enable + use OpenMP as appropriate when
>>> installing packages from sources.
>>> 
>>> The main danger of this approach, as I understand it, is that there's
>>> no guarantee that this will work properly (or continue to work
>>> properly) as the Apple toolchain continues to be updated -- e.g. a new
>>> version of macOS / Xcode could install a version of Apple Clang that
>>> is then incompatible with the version of libomp currently in use. In
>>> such a case, I suspect one would need to find and reinstall libomp.
>>> 
>>> In theory, this could be alleviated by ensuring all users download and
>>> use the same version of Xcode as is being used by the macOS build
>>> machine (Xcode 10.1), but in practice users will likely just be using
>>> the "default" set of command line tools that comes with their version
>>> of macOS.
>>> 
>>> Cunningham's law will hopefully ensure someone else will chime in if
>>> I've got something wrong :-)
>>> 
>>> Best,
>>> Kevin
>>> 
>>> On Sat, Apr 25, 2020 at 8:29 AM Wright, Erik Scott <ESWRIGHT at pitt.edu> wrote:
>>>> 
>>>> I second this request.  Dropping OpenMP support in R v4.0 on Mac is unfortunate.  My R package is highly parallelized via OpenMP, and many of my end-users take advantage of the excellent speedups.  It would be much appreciated if user-level instructions could be provided for how to enable OpenMP support on the Mac.
>>>> 
>>>> Thanks,
>>>> Erik
>>>> 
>>>> 
>>>>> On Apr 23, 2020, at 7:08 AM, Dmitriy Selivanov <selivanov.dmitriy at gmail.com> wrote:
>>>>> 
>>>>> Hi Simon,
>>>>> 
>>>>> Just wanted follow up on this topic.
>>>>> 
>>>>> It would be very helpful if you can provide some guide on
>>>>> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415901734&amp;sdata=qlhXuEubgD6PNmkbD%2BWQy5OI9X%2BGjxSYHMNjA%2BQHZzI%3D&amp;reserved=0<https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmac.r-project.org%2F&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=5XR5LJuAKu4%2B3%2FUHsWVPMlyXTLY87P6OF%2FP%2FTZt1W8Y%3D&amp;reserved=0> for those users
>>>>> (advanced?) and developers who wants to be able to use OpenMP on mac. From
>>>>> what I've understood from this mail thread the easiest way is to install R
>>>>> from homebrew as it is built with non-standard Apple toolchain.
>>>>> Apart from that you've mentioned you may consider to bundle binary  iomp
>>>>> with R installation, but "it would be on the package author to make sure
>>>>> that the way the package operates is compatible with that binary". Could
>>>>> you please elaborate on that?
>>>>> 
>>>>> I believe I'm not alone who would like to be able to use OpenMP on mac and
>>>>> "official" guidance would be very helpful.
>>>>> 
>>>>> --
>>>>> Regards
>>>>> Dmitriy Selivanov
>>>>> 
>>>>>      [[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://nam05.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-sig-mac&amp;data=02%7C01%7Ceswright%40pitt.edu%7C65097590dea4453ab8cf08d7e776b868%7C9ef9f489e0a04eeb87cc3a526112fd0d%7C1%7C0%7C637232369415911728&amp;sdata=yAu4MKX2Ka5yEaoq51byWJSkbL%2FpO1HvtUsI%2BQXmtJQ%3D&amp;reserved=0
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>>> -- 
>>> Regards 
>>> Dmitriy Selivanov
>> 
> 
>    _______________________________________________
>    R-SIG-Mac mailing list
>    R-SIG-Mac at r-project.org
>    https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From @tvjc @end|ng |rom ch@nn|ng@h@rv@rd@edu  Sun May  3 00:42:16 2020
From: @tvjc @end|ng |rom ch@nn|ng@h@rv@rd@edu (Vincent Carey)
Date: Sat, 2 May 2020 18:42:16 -0400
Subject: [R-SIG-Mac] incompatible lldb on mojave?
Message-ID: <CAANT7+Ux8uLoRWod3J=rnCgcpnpd5fWywt58G1e1XSy5q2+WAQ@mail.gmail.com>

I'd like to make use of material in

https://kevinushey.github.io/blog/2015/04/13/debugging-with-lldb/

But with R 4.0 I get

%vjcair> R -d lldb

(lldb) target create "/Library/Frameworks/R.framework/Resources/bin/exec/R"

Current executable set to
'/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64).

(lldb) run

error: process exited with status -1 (Error 1)

(lldb) quit

%vjcair> which lldb

/usr/bin/lldb

%vjcair> lldb --version

lldb-1100.0.30.12

Apple Swift version 5.1.3 (swiftlang-1100.0.282.1 clang-1100.0.33.15)


with gdb, there is a little more info -- and a peculiar warning that
mentions /Volumes/Builds/Simon/R4/h ...


%vjcair> R -d gdb

GNU gdb (GDB) 8.1

Copyright (C) 2018 Free Software Foundation, Inc.

License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html
>

This is free software: you are free to change and redistribute it.

There is NO WARRANTY, to the extent permitted by law.  Type "show copying"

and "show warranty" for details.

This GDB was configured as "x86_64-apple-darwin16.7.0".

Type "show configuration" for configuration details.

For bug reporting instructions, please see:

<http://www.gnu.org/software/gdb/bugs/>.

Find the GDB manual and other documentation resources online at:

<http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".

Type "apropos word" to search for commands related to "word"...

Reading symbols from /Library/Frameworks/R.framework/Resources/bin/exec/R...

warning:
`/Volumes/Builds/Simon/R4/high-sierra-x86_64/R-4.0-branch/src/main/Rmain.o':
can't open to read symbols: No such file or directory.

(no debugging symbols found)...done.

(gdb) run

Starting program:
/Library/Frameworks/R.framework/Versions/4.0/Resources/bin/exec/R

Unable to find Mach task port for process-id 59032: (os/kern) failure (0x5).

 (please check gdb is codesigned - see taskgated(8))

> sessionInfo()

R version 4.0.0 Patched (2020-04-27 r78309)

Platform: x86_64-apple-darwin17.0 (64-bit)

Running under: macOS Mojave 10.14.6


Matrix products: default

BLAS:
/Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib

LAPACK:
/Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

-- 
The information in this e-mail is intended only for the ...{{dropped:18}}


From @|mon@urb@nek @end|ng |rom R-project@org  Sun May  3 05:26:10 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Sun, 3 May 2020 15:26:10 +1200
Subject: [R-SIG-Mac] incompatible lldb on mojave?
In-Reply-To: <CAANT7+Ux8uLoRWod3J=rnCgcpnpd5fWywt58G1e1XSy5q2+WAQ@mail.gmail.com>
References: <CAANT7+Ux8uLoRWod3J=rnCgcpnpd5fWywt58G1e1XSy5q2+WAQ@mail.gmail.com>
Message-ID: <6F80E69C-C674-4B6E-A9B8-1A4F8E33540B@R-project.org>

Vince,

Apple no longer allows debugging of distributed apps - see R for Mac FAQ 10.17:
http://mac.r-project.org/bin/macosx/RMacOSX-FAQ.html#I-cannot-attach-debugger-to-R

Another (not recommended) work-around is to disable SIP.

Cheers,
Simon



> On 3/05/2020, at 10:42 AM, Vincent Carey <stvjc at channing.harvard.edu> wrote:
> 
> I'd like to make use of material in
> 
> https://kevinushey.github.io/blog/2015/04/13/debugging-with-lldb/
> 
> But with R 4.0 I get
> 
> %vjcair> R -d lldb
> 
> (lldb) target create "/Library/Frameworks/R.framework/Resources/bin/exec/R"
> 
> Current executable set to
> '/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64).
> 
> (lldb) run
> 
> error: process exited with status -1 (Error 1)
> 
> (lldb) quit
> 
> %vjcair> which lldb
> 
> /usr/bin/lldb
> 
> %vjcair> lldb --version
> 
> lldb-1100.0.30.12
> 
> Apple Swift version 5.1.3 (swiftlang-1100.0.282.1 clang-1100.0.33.15)
> 
> 
> with gdb, there is a little more info -- and a peculiar warning that
> mentions /Volumes/Builds/Simon/R4/h ...
> 
> 
> %vjcair> R -d gdb
> 
> GNU gdb (GDB) 8.1
> 
> Copyright (C) 2018 Free Software Foundation, Inc.
> 
> License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html
>> 
> 
> This is free software: you are free to change and redistribute it.
> 
> There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
> 
> and "show warranty" for details.
> 
> This GDB was configured as "x86_64-apple-darwin16.7.0".
> 
> Type "show configuration" for configuration details.
> 
> For bug reporting instructions, please see:
> 
> <http://www.gnu.org/software/gdb/bugs/>.
> 
> Find the GDB manual and other documentation resources online at:
> 
> <http://www.gnu.org/software/gdb/documentation/>.
> 
> For help, type "help".
> 
> Type "apropos word" to search for commands related to "word"...
> 
> Reading symbols from /Library/Frameworks/R.framework/Resources/bin/exec/R...
> 
> warning:
> `/Volumes/Builds/Simon/R4/high-sierra-x86_64/R-4.0-branch/src/main/Rmain.o':
> can't open to read symbols: No such file or directory.
> 
> (no debugging symbols found)...done.
> 
> (gdb) run
> 
> Starting program:
> /Library/Frameworks/R.framework/Versions/4.0/Resources/bin/exec/R
> 
> Unable to find Mach task port for process-id 59032: (os/kern) failure (0x5).
> 
> (please check gdb is codesigned - see taskgated(8))
> 
>> sessionInfo()
> 
> R version 4.0.0 Patched (2020-04-27 r78309)
> 
> Platform: x86_64-apple-darwin17.0 (64-bit)
> 
> Running under: macOS Mojave 10.14.6
> 
> 
> Matrix products: default
> 
> BLAS:
> /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> 
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> 
> -- 
> The information in this e-mail is intended only for th...{{dropped:8}}


From bob @end|ng |rom rud@|@  Sun May  3 14:01:45 2020
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Sun, 3 May 2020 08:01:45 -0400
Subject: [R-SIG-Mac] incompatible lldb on mojave?
In-Reply-To: <6F80E69C-C674-4B6E-A9B8-1A4F8E33540B@R-project.org>
References: <CAANT7+Ux8uLoRWod3J=rnCgcpnpd5fWywt58G1e1XSy5q2+WAQ@mail.gmail.com>
 <6F80E69C-C674-4B6E-A9B8-1A4F8E33540B@R-project.org>
Message-ID: <CAA-FpKUhYjc6tPogpz-xNY0CL2Ex5Sc6=x9H-aWdEQcVg5Xo6Q@mail.gmail.com>

Can you provide a bit more info on the setup?

I ask b/c: (more below the snippet)

    $ R -d lldb
    (lldb) target create "/Library/Frameworks/R.framework/Resources/bin/exec/R"
    Current executable set to
'/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64).
    (lldb) run
    Process 3834 launched:
'/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64)

    R version 4.0.0 RC (2020-04-21 r78267) -- "Arbor Day"
    Copyright (C) 2020 The R Foundation for Statistical Computing
    Platform: x86_64-apple-darwin17.0 (64-bit)

    R is free software and comes with ABSOLUTELY NO WARRANTY.
    You are welcome to redistribute it under certain conditions.
    Type 'license()' or 'licence()' for distribution details.

      Natural language support but running in an English locale

    R is a collaborative project with many contributors.
    Type 'contributors()' for more information and
    'citation()' on how to cite R or R packages in publications.

    Type 'demo()' for some demos, 'help()' for on-line help, or
    'help.start()' for an HTML browser interface to help.
    Type 'q()' to quit R.

    > str(mtcars)
    'data.frame':   32 obs. of  11 variables:
     $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
     $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
     $ disp: num  160 160 108 258 360 ...
     $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
     $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
     $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
     $ qsec: num  16.5 17 18.6 19.4 17 ...
     $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
     $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
     $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
     $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
    >

I have full Xcode installed and updated to latest (I'm on developer betas).

    $ lldb --version
    lldb-1103.0.17
    Apple Swift version 5.2 (swiftlang-1103.0.22 clang-1103.0.22)

I'm also on a more restrictive OS (Catalina).

Of note: macOS prompted me for permission to use lldb.

-boB

On Sat, May 2, 2020 at 11:26 PM Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> Vince,
>
> Apple no longer allows debugging of distributed apps - see R for Mac FAQ 10.17:
> http://mac.r-project.org/bin/macosx/RMacOSX-FAQ.html#I-cannot-attach-debugger-to-R
>
> Another (not recommended) work-around is to disable SIP.
>
> Cheers,
> Simon
>
>
>
> > On 3/05/2020, at 10:42 AM, Vincent Carey <stvjc at channing.harvard.edu> wrote:
> >
> > I'd like to make use of material in
> >
> > https://kevinushey.github.io/blog/2015/04/13/debugging-with-lldb/
> >
> > But with R 4.0 I get
> >
> > %vjcair> R -d lldb
> >
> > (lldb) target create "/Library/Frameworks/R.framework/Resources/bin/exec/R"
> >
> > Current executable set to
> > '/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64).
> >
> > (lldb) run
> >
> > error: process exited with status -1 (Error 1)
> >
> > (lldb) quit
> >
> > %vjcair> which lldb
> >
> > /usr/bin/lldb
> >
> > %vjcair> lldb --version
> >
> > lldb-1100.0.30.12
> >
> > Apple Swift version 5.1.3 (swiftlang-1100.0.282.1 clang-1100.0.33.15)
> >
> >
> > with gdb, there is a little more info -- and a peculiar warning that
> > mentions /Volumes/Builds/Simon/R4/h ...
> >
> >
> > %vjcair> R -d gdb
> >
> > GNU gdb (GDB) 8.1
> >
> > Copyright (C) 2018 Free Software Foundation, Inc.
> >
> > License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html
> >>
> >
> > This is free software: you are free to change and redistribute it.
> >
> > There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
> >
> > and "show warranty" for details.
> >
> > This GDB was configured as "x86_64-apple-darwin16.7.0".
> >
> > Type "show configuration" for configuration details.
> >
> > For bug reporting instructions, please see:
> >
> > <http://www.gnu.org/software/gdb/bugs/>.
> >
> > Find the GDB manual and other documentation resources online at:
> >
> > <http://www.gnu.org/software/gdb/documentation/>.
> >
> > For help, type "help".
> >
> > Type "apropos word" to search for commands related to "word"...
> >
> > Reading symbols from /Library/Frameworks/R.framework/Resources/bin/exec/R...
> >
> > warning:
> > `/Volumes/Builds/Simon/R4/high-sierra-x86_64/R-4.0-branch/src/main/Rmain.o':
> > can't open to read symbols: No such file or directory.
> >
> > (no debugging symbols found)...done.
> >
> > (gdb) run
> >
> > Starting program:
> > /Library/Frameworks/R.framework/Versions/4.0/Resources/bin/exec/R
> >
> > Unable to find Mach task port for process-id 59032: (os/kern) failure (0x5).
> >
> > (please check gdb is codesigned - see taskgated(8))
> >
> >> sessionInfo()
> >
> > R version 4.0.0 Patched (2020-04-27 r78309)
> >
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> >
> > Running under: macOS Mojave 10.14.6
> >
> >
> > Matrix products: default
> >
> > BLAS:
> > /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> >
> > LAPACK:
> > /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> >
> > --
> > The information in this e-mail is intended only for th...{{dropped:8}}
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @tvjc @end|ng |rom ch@nn|ng@h@rv@rd@edu  Sun May  3 15:00:16 2020
From: @tvjc @end|ng |rom ch@nn|ng@h@rv@rd@edu (Vincent Carey)
Date: Sun, 3 May 2020 09:00:16 -0400
Subject: [R-SIG-Mac] incompatible lldb on mojave?
In-Reply-To: <CAA-FpKUhYjc6tPogpz-xNY0CL2Ex5Sc6=x9H-aWdEQcVg5Xo6Q@mail.gmail.com>
References: <CAANT7+Ux8uLoRWod3J=rnCgcpnpd5fWywt58G1e1XSy5q2+WAQ@mail.gmail.com>
 <6F80E69C-C674-4B6E-A9B8-1A4F8E33540B@R-project.org>
 <CAA-FpKUhYjc6tPogpz-xNY0CL2Ex5Sc6=x9H-aWdEQcVg5Xo6Q@mail.gmail.com>
Message-ID: <CAANT7+UAJSHi+7U4DLCksLOFP-u_naR7jAwNf92A0dTCw+R8fQ@mail.gmail.com>

Thanks, I am upgrading a machine to catalina and will get back to you.

On Sun, May 3, 2020 at 8:01 AM Bob Rudis <bob at rud.is> wrote:

> Can you provide a bit more info on the setup?
>
> I ask b/c: (more below the snippet)
>
>     $ R -d lldb
>     (lldb) target create
> "/Library/Frameworks/R.framework/Resources/bin/exec/R"
>     Current executable set to
> '/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64).
>     (lldb) run
>     Process 3834 launched:
> '/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64)
>
>     R version 4.0.0 RC (2020-04-21 r78267) -- "Arbor Day"
>     Copyright (C) 2020 The R Foundation for Statistical Computing
>     Platform: x86_64-apple-darwin17.0 (64-bit)
>
>     R is free software and comes with ABSOLUTELY NO WARRANTY.
>     You are welcome to redistribute it under certain conditions.
>     Type 'license()' or 'licence()' for distribution details.
>
>       Natural language support but running in an English locale
>
>     R is a collaborative project with many contributors.
>     Type 'contributors()' for more information and
>     'citation()' on how to cite R or R packages in publications.
>
>     Type 'demo()' for some demos, 'help()' for on-line help, or
>     'help.start()' for an HTML browser interface to help.
>     Type 'q()' to quit R.
>
>     > str(mtcars)
>     'data.frame':   32 obs. of  11 variables:
>      $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
>      $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
>      $ disp: num  160 160 108 258 360 ...
>      $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
>      $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
>      $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
>      $ qsec: num  16.5 17 18.6 19.4 17 ...
>      $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
>      $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
>      $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
>      $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
>     >
>
> I have full Xcode installed and updated to latest (I'm on developer betas).
>
>     $ lldb --version
>     lldb-1103.0.17
>     Apple Swift version 5.2 (swiftlang-1103.0.22 clang-1103.0.22)
>
> I'm also on a more restrictive OS (Catalina).
>
> Of note: macOS prompted me for permission to use lldb.
>
> -boB
>
> On Sat, May 2, 2020 at 11:26 PM Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
> >
> > Vince,
> >
> > Apple no longer allows debugging of distributed apps - see R for Mac FAQ
> 10.17:
> >
> http://mac.r-project.org/bin/macosx/RMacOSX-FAQ.html#I-cannot-attach-debugger-to-R
> >
> > Another (not recommended) work-around is to disable SIP.
> >
> > Cheers,
> > Simon
> >
> >
> >
> > > On 3/05/2020, at 10:42 AM, Vincent Carey <stvjc at channing.harvard.edu>
> wrote:
> > >
> > > I'd like to make use of material in
> > >
> > > https://kevinushey.github.io/blog/2015/04/13/debugging-with-lldb/
> > >
> > > But with R 4.0 I get
> > >
> > > %vjcair> R -d lldb
> > >
> > > (lldb) target create
> "/Library/Frameworks/R.framework/Resources/bin/exec/R"
> > >
> > > Current executable set to
> > > '/Library/Frameworks/R.framework/Resources/bin/exec/R' (x86_64).
> > >
> > > (lldb) run
> > >
> > > error: process exited with status -1 (Error 1)
> > >
> > > (lldb) quit
> > >
> > > %vjcair> which lldb
> > >
> > > /usr/bin/lldb
> > >
> > > %vjcair> lldb --version
> > >
> > > lldb-1100.0.30.12
> > >
> > > Apple Swift version 5.1.3 (swiftlang-1100.0.282.1 clang-1100.0.33.15)
> > >
> > >
> > > with gdb, there is a little more info -- and a peculiar warning that
> > > mentions /Volumes/Builds/Simon/R4/h ...
> > >
> > >
> > > %vjcair> R -d gdb
> > >
> > > GNU gdb (GDB) 8.1
> > >
> > > Copyright (C) 2018 Free Software Foundation, Inc.
> > >
> > > License GPLv3+: GNU GPL version 3 or later <
> http://gnu.org/licenses/gpl.html
> > >>
> > >
> > > This is free software: you are free to change and redistribute it.
> > >
> > > There is NO WARRANTY, to the extent permitted by law.  Type "show
> copying"
> > >
> > > and "show warranty" for details.
> > >
> > > This GDB was configured as "x86_64-apple-darwin16.7.0".
> > >
> > > Type "show configuration" for configuration details.
> > >
> > > For bug reporting instructions, please see:
> > >
> > > <http://www.gnu.org/software/gdb/bugs/>.
> > >
> > > Find the GDB manual and other documentation resources online at:
> > >
> > > <http://www.gnu.org/software/gdb/documentation/>.
> > >
> > > For help, type "help".
> > >
> > > Type "apropos word" to search for commands related to "word"...
> > >
> > > Reading symbols from
> /Library/Frameworks/R.framework/Resources/bin/exec/R...
> > >
> > > warning:
> > >
> `/Volumes/Builds/Simon/R4/high-sierra-x86_64/R-4.0-branch/src/main/Rmain.o':
> > > can't open to read symbols: No such file or directory.
> > >
> > > (no debugging symbols found)...done.
> > >
> > > (gdb) run
> > >
> > > Starting program:
> > > /Library/Frameworks/R.framework/Versions/4.0/Resources/bin/exec/R
> > >
> > > Unable to find Mach task port for process-id 59032: (os/kern) failure
> (0x5).
> > >
> > > (please check gdb is codesigned - see taskgated(8))
> > >
> > >> sessionInfo()
> > >
> > > R version 4.0.0 Patched (2020-04-27 r78309)
> > >
> > > Platform: x86_64-apple-darwin17.0 (64-bit)
> > >
> > > Running under: macOS Mojave 10.14.6
> > >
> > >
> > > Matrix products: default
> > >
> > > BLAS:
> > >
> /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> > >
> > > LAPACK:
> > >
> /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> > >
> > > --
> > > The information in this e-mail is intended only for th...{{dropped:8}}
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
The information in this e-mail is intended only for the ...{{dropped:18}}


From h|ro@h|-h@koy@m@ @end|ng |rom n@g@no@@c@jp  Mon May  4 13:29:01 2020
From: h|ro@h|-h@koy@m@ @end|ng |rom n@g@no@@c@jp (Hiroshi Hakoyama)
Date: Mon, 4 May 2020 20:29:01 +0900
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
Message-ID: <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>

Thank you for responses.

I installed the debug build R.app GUI 1.71 (7834) to MacBook Air (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is the same GUI hang. The following is a part of the device log:

...
default	19:56:06.123133+0900	R	 - 1 documents to open
default	19:56:06.123188+0900	R	 - application:openFile:/Users/hako/Desktop/test.R called
default	19:56:06.123316+0900	R	 - intial start, changing wd to pathname whic is /Users/hako/Desktop/
error	19:56:06.126663+0900	tccd	{ID: com.apple.sandboxd, PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted to call TCCAccessRequest without the com.apple.private.tcc.manager.check-by-audit-token entitlement
default	19:56:06.127340+0900	tccd	PID[155] is checking access for target PID[655]
default	19:56:06.136847+0900	tccd	-[TCCDAccessIdentity staticCode]: static code for: identifier org.R-project.R, type: 0: 0x7fa62ad38b10 at /Applications/R.app
...

The error line seems to be similar with Brandon's cases.


Best regards,


Hiroshi




> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
> 
> I have a mac mini as well that does not show this crash. It's much
> beefier (6-core i7, 32 GB RAM probably not relevant).
> Here is the same boot up log with the same file and it does not crash R.
> 
> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
> 
> I look at the transition where the two differ and the crash happens
> and the one that works is much shorter. At line 319 in the non-working
> MBA (PID 889) it "makes presenter" and then stops. Making presenter
> doesn't happen until line 4261 in the working file. Lots of parsing of
> the file is missing (4000 lines of it).
> 
> B
> 
> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>> 
>> Thanks Bob.
>> 
>> I did this and it did not fix it sadly.
>> I downloaded the Debug version of R-GUI and captured the following
>> after clicking on the same file (which did cause it to crash again)
>> Here is the console log for the R PID (889 in this instance) from
>> loading R to then clicking to load the same file (which froze my
>> system again):
>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
>> Here is the full Apple Crash Log that came up after I force quit R:
>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
>> 
>> I hope this is helpful. Please let me know if I need to dig more and
>> recommendations for doing so.
>> 
>> Thanks,
>> B
>> 
>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>> 
>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
>>> under Security & Privacy system preferences.
>>> 
>>> I'm not experiencing these issues (just now when I tried it; I
>>> generally don't use R.app)
>>> 
>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>>> 
>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>> though. I was able to load Hiroshi's test.R script after loading up
>>>> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
>>>> clicking on it.
>>>> That said, I've been having many issues locking up R-GUI on my 2019
>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
>>>> script file, but if I want to load another script it gives me the
>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but then
>>>> pinwheel of death on loading a lengthy script. I'm not sure the length
>>>> is the issue.
>>>> 
>>>> I played around with the console a bit and noticed these messages pop
>>>> up when it locks up R:
>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>> standardisation/Database Converts/Conversion script DEV.R
>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>> standardisation/Database Converts
>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>> standardisation
>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>> 
>>>> A rough guess here is that the sandboxing isn't working right (or is?)
>>>> and is blocking access of R-GUI to the file which then locks up
>>>> because it's waiting for data?
>>>> 
>>>> Anyone else seeing this behavior and have a better idea how to pin it down?
>>>> 
>>>> Thanks,
>>>> B
>>>> 
>>>> 
>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>> 
>>>>> Dear All,
>>>>> 
>>>>> Environment:
>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>> macOS: Mojave and Catalina
>>>>> Removed file for the test: .Rapp.history
>>>>> 
>>>>> Description:
>>>>> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
>>>>> 
>>>>> How-To-Repeat:
>>>>> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
>>>>> 
>>>>> Fix:
>>>>> unknown
>>>>> 
>>>>> Crash Report is too large to paste to the email.
>>>>> 
>>>>> 
>>>>> Best regards,
>>>>> 
>>>>> Hiroshi Hakoyama
>>>>> Nagano University
>>>>> 
>>>>> test.R
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> x <- rnorm(100000)
>>>>> y <- rnorm(100000)
>>>>> hist(x)
>>>>> hist(y)
>>>>> 
>>>>> test2.R
>>>>> x <- rnorm(100000)
>>>>> y <- rnorm(100000)
>>>>> hist(x)
>>>>> hist(y)
>>>>> 
>>>>> system.log
>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 699 bytes
Desc: Message signed with OpenPGP
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200504/0e33d2b4/attachment.sig>

From bob @end|ng |rom rud@|@  Mon May  4 14:08:41 2020
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Mon, 4 May 2020 08:08:41 -0400
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
Message-ID: <CAA-FpKVUR2abROT+_mcW=W21WvaMNVrW_02JLjUojNikPuWsLg@mail.gmail.com>

I'll try to scrounge time today (but def have some Tue) to setup fresh
Catalina VM with 4GB memory and see if I can reproduce there and
capture some more logs.

On Mon, May 4, 2020 at 7:29 AM Hiroshi Hakoyama
<hiroshi-hakoyama at nagano.ac.jp> wrote:
>
> Thank you for responses.
>
> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is the same GUI hang. The following is a part of the device log:
>
> ...
> default 19:56:06.123133+0900    R        - 1 documents to open
> default 19:56:06.123188+0900    R        - application:openFile:/Users/hako/Desktop/test.R called
> default 19:56:06.123316+0900    R        - intial start, changing wd to pathname whic is /Users/hako/Desktop/
> error   19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd, PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted to call TCCAccessRequest without the com.apple.private.tcc.manager.check-by-audit-token entitlement
> default 19:56:06.127340+0900    tccd    PID[155] is checking access for target PID[655]
> default 19:56:06.136847+0900    tccd    -[TCCDAccessIdentity staticCode]: static code for: identifier org.R-project.R, type: 0: 0x7fa62ad38b10 at /Applications/R.app
> ...
>
> The error line seems to be similar with Brandon's cases.
>
>
> Best regards,
>
>
> Hiroshi
>
>
>
>
> > 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
> >
> > I have a mac mini as well that does not show this crash. It's much
> > beefier (6-core i7, 32 GB RAM probably not relevant).
> > Here is the same boot up log with the same file and it does not crash R.
> >
> > https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
> >
> > I look at the transition where the two differ and the crash happens
> > and the one that works is much shorter. At line 319 in the non-working
> > MBA (PID 889) it "makes presenter" and then stops. Making presenter
> > doesn't happen until line 4261 in the working file. Lots of parsing of
> > the file is missing (4000 lines of it).
> >
> > B
> >
> > On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >>
> >> Thanks Bob.
> >>
> >> I did this and it did not fix it sadly.
> >> I downloaded the Debug version of R-GUI and captured the following
> >> after clicking on the same file (which did cause it to crash again)
> >> Here is the console log for the R PID (889 in this instance) from
> >> loading R to then clicking to load the same file (which froze my
> >> system again):
> >> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
> >> Here is the full Apple Crash Log that came up after I force quit R:
> >> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
> >>
> >> I hope this is helpful. Please let me know if I need to dig more and
> >> recommendations for doing so.
> >>
> >> Thanks,
> >> B
> >>
> >> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
> >>>
> >>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
> >>> under Security & Privacy system preferences.
> >>>
> >>> I'm not experiencing these issues (just now when I tried it; I
> >>> generally don't use R.app)
> >>>
> >>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >>>>
> >>>> I'm going to add to the pile on this one. It's hard to nail down
> >>>> though. I was able to load Hiroshi's test.R script after loading up
> >>>> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> >>>> clicking on it.
> >>>> That said, I've been having many issues locking up R-GUI on my 2019
> >>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> >>>> script file, but if I want to load another script it gives me the
> >>>> colored pinwheel of death. Sometimes it will load up R-GUI, but then
> >>>> pinwheel of death on loading a lengthy script. I'm not sure the length
> >>>> is the issue.
> >>>>
> >>>> I played around with the console a bit and noticed these messages pop
> >>>> up when it locks up R:
> >>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> >>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> >>>> standardisation/Database Converts/Conversion script DEV.R
> >>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> >>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> >>>> standardisation/Database Converts
> >>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> >>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> >>>> standardisation
> >>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> >>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> >>>>
> >>>> A rough guess here is that the sandboxing isn't working right (or is?)
> >>>> and is blocking access of R-GUI to the file which then locks up
> >>>> because it's waiting for data?
> >>>>
> >>>> Anyone else seeing this behavior and have a better idea how to pin it down?
> >>>>
> >>>> Thanks,
> >>>> B
> >>>>
> >>>>
> >>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> >>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> >>>>>
> >>>>> Dear All,
> >>>>>
> >>>>> Environment:
> >>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> >>>>> macOS: Mojave and Catalina
> >>>>> Removed file for the test: .Rapp.history
> >>>>>
> >>>>> Description:
> >>>>> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> >>>>>
> >>>>> How-To-Repeat:
> >>>>> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> >>>>>
> >>>>> Fix:
> >>>>> unknown
> >>>>>
> >>>>> Crash Report is too large to paste to the email.
> >>>>>
> >>>>>
> >>>>> Best regards,
> >>>>>
> >>>>> Hiroshi Hakoyama
> >>>>> Nagano University
> >>>>>
> >>>>> test.R
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> ###############################################################################
> >>>>> x <- rnorm(100000)
> >>>>> y <- rnorm(100000)
> >>>>> hist(x)
> >>>>> hist(y)
> >>>>>
> >>>>> test2.R
> >>>>> x <- rnorm(100000)
> >>>>> y <- rnorm(100000)
> >>>>> hist(x)
> >>>>> hist(y)
> >>>>>
> >>>>> system.log
> >>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> >>>>> _______________________________________________
> >>>>> R-SIG-Mac mailing list
> >>>>> R-SIG-Mac at r-project.org
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>
> >>>> _______________________________________________
> >>>> R-SIG-Mac mailing list
> >>>> R-SIG-Mac at r-project.org
> >>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From h|ro@h|-h@koy@m@ @end|ng |rom n@g@no@@c@jp  Mon May  4 14:13:14 2020
From: h|ro@h|-h@koy@m@ @end|ng |rom n@g@no@@c@jp (Hiroshi Hakoyama)
Date: Mon, 4 May 2020 21:13:14 +0900
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
Message-ID: <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>

The sandbox error also happened for test2.R that can open without trouble.
So, this might not be the critical error.

I uploaded the two devices logs for test.R and test2.R:

https://hako.space/R/devices_log_for_test_R.txt
https://hako.space/R/devices_log_for_test2_R.txt

Best regards,

Hiroshi




> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp>????:
> 
> Thank you for responses.
> 
> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is the same GUI hang. The following is a part of the device log:
> 
> ...
> default	19:56:06.123133+0900	R	 - 1 documents to open
> default	19:56:06.123188+0900	R	 - application:openFile:/Users/hako/Desktop/test.R called
> default	19:56:06.123316+0900	R	 - intial start, changing wd to pathname whic is /Users/hako/Desktop/
> error	19:56:06.126663+0900	tccd	{ID: com.apple.sandboxd, PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted to call TCCAccessRequest without the com.apple.private.tcc.manager.check-by-audit-token entitlement
> default	19:56:06.127340+0900	tccd	PID[155] is checking access for target PID[655]
> default	19:56:06.136847+0900	tccd	-[TCCDAccessIdentity staticCode]: static code for: identifier org.R-project.R, type: 0: 0x7fa62ad38b10 at /Applications/R.app
> ...
> 
> The error line seems to be similar with Brandon's cases.
> 
> 
> Best regards,
> 
> 
> Hiroshi
> 
> 
> 
> 
>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>> 
>> I have a mac mini as well that does not show this crash. It's much
>> beefier (6-core i7, 32 GB RAM probably not relevant).
>> Here is the same boot up log with the same file and it does not crash R.
>> 
>> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
>> 
>> I look at the transition where the two differ and the crash happens
>> and the one that works is much shorter. At line 319 in the non-working
>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>> doesn't happen until line 4261 in the working file. Lots of parsing of
>> the file is missing (4000 lines of it).
>> 
>> B
>> 
>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>> 
>>> Thanks Bob.
>>> 
>>> I did this and it did not fix it sadly.
>>> I downloaded the Debug version of R-GUI and captured the following
>>> after clicking on the same file (which did cause it to crash again)
>>> Here is the console log for the R PID (889 in this instance) from
>>> loading R to then clicking to load the same file (which froze my
>>> system again):
>>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
>>> Here is the full Apple Crash Log that came up after I force quit R:
>>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
>>> 
>>> I hope this is helpful. Please let me know if I need to dig more and
>>> recommendations for doing so.
>>> 
>>> Thanks,
>>> B
>>> 
>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>> 
>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
>>>> under Security & Privacy system preferences.
>>>> 
>>>> I'm not experiencing these issues (just now when I tried it; I
>>>> generally don't use R.app)
>>>> 
>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>>>> 
>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>> though. I was able to load Hiroshi's test.R script after loading up
>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
>>>>> clicking on it.
>>>>> That said, I've been having many issues locking up R-GUI on my 2019
>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
>>>>> script file, but if I want to load another script it gives me the
>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but then
>>>>> pinwheel of death on loading a lengthy script. I'm not sure the length
>>>>> is the issue.
>>>>> 
>>>>> I played around with the console a bit and noticed these messages pop
>>>>> up when it locks up R:
>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>>> standardisation/Database Converts
>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>>> standardisation
>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>> 
>>>>> A rough guess here is that the sandboxing isn't working right (or is?)
>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>> because it's waiting for data?
>>>>> 
>>>>> Anyone else seeing this behavior and have a better idea how to pin it down?
>>>>> 
>>>>> Thanks,
>>>>> B
>>>>> 
>>>>> 
>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>> 
>>>>>> Dear All,
>>>>>> 
>>>>>> Environment:
>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>> macOS: Mojave and Catalina
>>>>>> Removed file for the test: .Rapp.history
>>>>>> 
>>>>>> Description:
>>>>>> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
>>>>>> 
>>>>>> How-To-Repeat:
>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
>>>>>> 
>>>>>> Fix:
>>>>>> unknown
>>>>>> 
>>>>>> Crash Report is too large to paste to the email.
>>>>>> 
>>>>>> 
>>>>>> Best regards,
>>>>>> 
>>>>>> Hiroshi Hakoyama
>>>>>> Nagano University
>>>>>> 
>>>>>> test.R
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> x <- rnorm(100000)
>>>>>> y <- rnorm(100000)
>>>>>> hist(x)
>>>>>> hist(y)
>>>>>> 
>>>>>> test2.R
>>>>>> x <- rnorm(100000)
>>>>>> y <- rnorm(100000)
>>>>>> hist(x)
>>>>>> hist(y)
>>>>>> 
>>>>>> system.log
>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 699 bytes
Desc: Message signed with OpenPGP
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200504/3cf959ac/attachment-0001.sig>

From bob @end|ng |rom rud@|@  Mon May  4 14:38:49 2020
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Mon, 4 May 2020 08:38:49 -0400
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
Message-ID: <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>

Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
subsystem is super buggy/noisy. Enough of them that there are a fw
third-party apps like Taccy
(https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/)
to help privacy-perms issues. The GUI code does not try to do things
`tccd` would balk at, and this particular sandbox error shows up in
many general apps/FOSS projects outside of R GUI.

On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
<hiroshi-hakoyama at nagano.ac.jp> wrote:
>
> The sandbox error also happened for test2.R that can open without trouble.
> So, this might not be the critical error.
>
> I uploaded the two devices logs for test.R and test2.R:
>
> https://hako.space/R/devices_log_for_test_R.txt
> https://hako.space/R/devices_log_for_test2_R.txt
>
> Best regards,
>
> Hiroshi
>
>
>
>
> > 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp>????:
> >
> > Thank you for responses.
> >
> > I installed the debug build R.app GUI 1.71 (7834) to MacBook Air (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is the same GUI hang. The following is a part of the device log:
> >
> > ...
> > default       19:56:06.123133+0900    R        - 1 documents to open
> > default       19:56:06.123188+0900    R        - application:openFile:/Users/hako/Desktop/test.R called
> > default       19:56:06.123316+0900    R        - intial start, changing wd to pathname whic is /Users/hako/Desktop/
> > error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd, PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted to call TCCAccessRequest without the com.apple.private.tcc.manager.check-by-audit-token entitlement
> > default       19:56:06.127340+0900    tccd    PID[155] is checking access for target PID[655]
> > default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity staticCode]: static code for: identifier org.R-project.R, type: 0: 0x7fa62ad38b10 at /Applications/R.app
> > ...
> >
> > The error line seems to be similar with Brandon's cases.
> >
> >
> > Best regards,
> >
> >
> > Hiroshi
> >
> >
> >
> >
> >> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
> >>
> >> I have a mac mini as well that does not show this crash. It's much
> >> beefier (6-core i7, 32 GB RAM probably not relevant).
> >> Here is the same boot up log with the same file and it does not crash R.
> >>
> >> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
> >>
> >> I look at the transition where the two differ and the crash happens
> >> and the one that works is much shorter. At line 319 in the non-working
> >> MBA (PID 889) it "makes presenter" and then stops. Making presenter
> >> doesn't happen until line 4261 in the working file. Lots of parsing of
> >> the file is missing (4000 lines of it).
> >>
> >> B
> >>
> >> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >>>
> >>> Thanks Bob.
> >>>
> >>> I did this and it did not fix it sadly.
> >>> I downloaded the Debug version of R-GUI and captured the following
> >>> after clicking on the same file (which did cause it to crash again)
> >>> Here is the console log for the R PID (889 in this instance) from
> >>> loading R to then clicking to load the same file (which froze my
> >>> system again):
> >>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
> >>> Here is the full Apple Crash Log that came up after I force quit R:
> >>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
> >>>
> >>> I hope this is helpful. Please let me know if I need to dig more and
> >>> recommendations for doing so.
> >>>
> >>> Thanks,
> >>> B
> >>>
> >>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
> >>>>
> >>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
> >>>> under Security & Privacy system preferences.
> >>>>
> >>>> I'm not experiencing these issues (just now when I tried it; I
> >>>> generally don't use R.app)
> >>>>
> >>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >>>>>
> >>>>> I'm going to add to the pile on this one. It's hard to nail down
> >>>>> though. I was able to load Hiroshi's test.R script after loading up
> >>>>> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> >>>>> clicking on it.
> >>>>> That said, I've been having many issues locking up R-GUI on my 2019
> >>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> >>>>> script file, but if I want to load another script it gives me the
> >>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but then
> >>>>> pinwheel of death on loading a lengthy script. I'm not sure the length
> >>>>> is the issue.
> >>>>>
> >>>>> I played around with the console a bit and noticed these messages pop
> >>>>> up when it locks up R:
> >>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> >>>>> standardisation/Database Converts/Conversion script DEV.R
> >>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> >>>>> standardisation/Database Converts
> >>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> >>>>> standardisation
> >>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> >>>>>
> >>>>> A rough guess here is that the sandboxing isn't working right (or is?)
> >>>>> and is blocking access of R-GUI to the file which then locks up
> >>>>> because it's waiting for data?
> >>>>>
> >>>>> Anyone else seeing this behavior and have a better idea how to pin it down?
> >>>>>
> >>>>> Thanks,
> >>>>> B
> >>>>>
> >>>>>
> >>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> >>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> >>>>>>
> >>>>>> Dear All,
> >>>>>>
> >>>>>> Environment:
> >>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> >>>>>> macOS: Mojave and Catalina
> >>>>>> Removed file for the test: .Rapp.history
> >>>>>>
> >>>>>> Description:
> >>>>>> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> >>>>>>
> >>>>>> How-To-Repeat:
> >>>>>> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> >>>>>>
> >>>>>> Fix:
> >>>>>> unknown
> >>>>>>
> >>>>>> Crash Report is too large to paste to the email.
> >>>>>>
> >>>>>>
> >>>>>> Best regards,
> >>>>>>
> >>>>>> Hiroshi Hakoyama
> >>>>>> Nagano University
> >>>>>>
> >>>>>> test.R
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> ###############################################################################
> >>>>>> x <- rnorm(100000)
> >>>>>> y <- rnorm(100000)
> >>>>>> hist(x)
> >>>>>> hist(y)
> >>>>>>
> >>>>>> test2.R
> >>>>>> x <- rnorm(100000)
> >>>>>> y <- rnorm(100000)
> >>>>>> hist(x)
> >>>>>> hist(y)
> >>>>>>
> >>>>>> system.log
> >>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> >>>>>> _______________________________________________
> >>>>>> R-SIG-Mac mailing list
> >>>>>> R-SIG-Mac at r-project.org
> >>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>>
> >>>>> _______________________________________________
> >>>>> R-SIG-Mac mailing list
> >>>>> R-SIG-Mac at r-project.org
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
>


From @t@vro@@p@n|d|@ @end|ng |rom gm@||@com  Tue May  5 14:32:01 2020
From: @t@vro@@p@n|d|@ @end|ng |rom gm@||@com (Stavros Panidis)
Date: Tue, 5 May 2020 15:32:01 +0300
Subject: [R-SIG-Mac] Rserve long vectors not supported yet
Message-ID: <4ED41BF1-FD60-43C3-B33E-5EB3C4FD116C@gmail.com>

Hi all,

I develop my application  with R version 3.4.4 on Mac OS X Catalina (10.15.4) without any problems.Deployment in Ubuntu 18.04, with R version 3.4.4 also works perfect.

I installed R 4.0.0 and Rserve 1.8.6 in Mac so when I try, from time to time, I get error

Error: long vectors not supported yet: qap_encode.c:36
Fatal error: unable to initialize the JIT

Trying R CMD Rserve ?version() in Terminal gives

Rserve v1.8-6 ()
R version 4.0.0 (2020-04-24) -- "Arbor Day"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)


I have followed all the conversation regarding this problem and I understood that using version 1.8.6 you can skip this. Any help on what can be wrong?

Many thanks in advance

Stavros

From @@w||t @end|ng |rom unom@h@@edu  Fri May  8 17:19:56 2020
From: @@w||t @end|ng |rom unom@h@@edu (Andrew Swift)
Date: Fri, 8 May 2020 15:19:56 +0000
Subject: [R-SIG-Mac] Function Hints in Mac Dark Mode aren't visible
Message-ID: <4FC26AA2-EE4A-4614-9C9B-BE691E302287@unomaha.edu>

I noticed that with R 4.0.0 when running a Mac in Dark Mode that the Function Hints at the bottom of the Console and Editor windows become invisible.  I?ve attached screenshots in both light and dark mode so you can see the difference.

Thanks. [cid:81393EC1-4F64-489E-BEA4-028C99F9041E] [cid:967C368A-8523-404B-8F0D-A117600EDAF3]

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200508/160d7fcc/attachment-0001.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: dark.png
Type: image/png
Size: 86722 bytes
Desc: dark.png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200508/160d7fcc/attachment-0002.png>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: light.png
Type: image/png
Size: 83021 bytes
Desc: light.png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200508/160d7fcc/attachment-0003.png>

From @|mon@urb@nek @end|ng |rom R-project@org  Mon May 11 23:25:39 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Tue, 12 May 2020 09:25:39 +1200
Subject: [R-SIG-Mac] Function Hints in Mac Dark Mode aren't visible
In-Reply-To: <4FC26AA2-EE4A-4614-9C9B-BE691E302287@unomaha.edu>
References: <4FC26AA2-EE4A-4614-9C9B-BE691E302287@unomaha.edu>
Message-ID: <A3AF3379-7726-476C-A75A-7C903E6B59DE@R-project.org>

Andrew,

thanks! The colors in the GUI are a mix of app-defined and system colors, so there are cases there they will clash. I'll see if we can implement better handling of the dark mode.

Thanks,
Simon


> On 9/05/2020, at 3:19 AM, Andrew Swift via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> I noticed that with R 4.0.0 when running a Mac in Dark Mode that the Function Hints at the bottom of the Console and Editor windows become invisible.  I?ve attached screenshots in both light and dark mode so you can see the difference.
> 
> Thanks. <dark.png><light.png>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Tue May 12 01:36:39 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Tue, 12 May 2020 11:36:39 +1200
Subject: [R-SIG-Mac] Function Hints in Mac Dark Mode aren't visible
In-Reply-To: <A3AF3379-7726-476C-A75A-7C903E6B59DE@R-project.org>
References: <4FC26AA2-EE4A-4614-9C9B-BE691E302287@unomaha.edu>
 <A3AF3379-7726-476C-A75A-7C903E6B59DE@R-project.org>
Message-ID: <EFA6FC58-CCE1-4F0F-8EF4-E72CD37D3ED5@R-project.org>

Andrew,

I have addressed it for the console and the document windows in the GUI revision 7839. You can download the updated GUI from
http://mac.r-project.org/

You still need to change your custom colors for the console and editor in the preferences. I'll see if we can at least provide defaults for both modes. Ideally, we'd have two color sets, but that would be a lot harder to implement.

Thanks,
Simon



> On 12/05/2020, at 9:25 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> Andrew,
> 
> thanks! The colors in the GUI are a mix of app-defined and system colors, so there are cases there they will clash. I'll see if we can implement better handling of the dark mode.
> 
> Thanks,
> Simon
> 
> 
>> On 9/05/2020, at 3:19 AM, Andrew Swift via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
>> 
>> I noticed that with R 4.0.0 when running a Mac in Dark Mode that the Function Hints at the bottom of the Console and Editor windows become invisible.  I?ve attached screenshots in both light and dark mode so you can see the difference.
>> 
>> Thanks. <dark.png><light.png>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed May 13 00:17:02 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Tue, 12 May 2020 17:17:02 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
Message-ID: <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>

Hello, All:


 ????? Might "R CMD check" on Mac use obsolete LaTeX software?


 ????? I ask, because "R CMD check" on my Mac started reporting LaTeX 
errors on *.Rd files that previously passed "R CMD check" without 
problems.? Dirk Eddelbuettel recommended I ask tex.stackexchange about 
that.? I did that and got the following:


 ??? ??????? * "In a current tex system \textasciigrave should work with 
your families - they don't have the glyph but latex will fall back 
without error. In older systems it could give an error."


See:


https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided


 ????? Comments?
 ????? Thanks,
 ????? Spencer Graves


p.s.? An earlier post on this issue to r-pkg-devel is copied below.


-------- Forwarded Message --------
Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by 
(textcomp)
Date: 	Sun, 16 Feb 2020 14:21:17 -0600
From: 	Spencer Graves <spencer.graves at effectivedefense.org>
To: 	r-package-devel at r-project.org



Hello, All:


 ????? "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the 
following:


! Package textcomp Error: Symbol \textasciigrave not provided by
(textcomp)??????????????? font family zi4 in TS1 encoding.
(textcomp)??????????????? Default family used instead.

See the textcomp package documentation for explanation.
* checking PDF version of manual without hyperrefs or index ... ERROR
* DONE


 ????? This is using R 3.6.2 under macOS 10.15.3 applied to the current 
development version of "https://github.com/sbgraves237/Ecfun".? Travis 
CI reported that the build passed;? see 
"https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email". 



 ????? This looks to me like it's complaining about the use of the back 
tick character ("`", below "~" on the top left key on a standard 
American English keyboard), which I assume is equivalent to 
"\textasciigrave" in certain contexts.


 ????? Six out of those 8 repetitions occur in the examples sections of 
files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and 
"subNonStandardNames.Rd". Those functions were written to fix parsing 
errors with names like "Ra?l" that had been mangled by different 
software before I could get it into R.


 ????? After a day's work failed to produce a work around, I decided to 
ask this group.


 ????? What do you suggest?
 ????? Thanks,
 ????? Spencer Graves

______________________________________________
R-package-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-package-devel

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed May 13 01:44:18 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 12 May 2020 19:44:18 -0400
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
Message-ID: <c8fb782c-76ab-ace7-011a-09c342b8c6f4@gmail.com>

On 12/05/2020 6:17 p.m., Spencer Graves wrote:
> Hello, All:
> 
> 
>   ????? Might "R CMD check" on Mac use obsolete LaTeX software?
> 
> 
>   ????? I ask, because "R CMD check" on my Mac started reporting LaTeX
> errors on *.Rd files that previously passed "R CMD check" without
> problems.? Dirk Eddelbuettel recommended I ask tex.stackexchange about
> that.? I did that and got the following:

If I understand correctly, this error is showing up on *your* Mac.  So 
isn't it easy for you to check if LaTeX is up to date?

The \textasciigrave macro has been used by Rd.sty and Sweave.sty since 
2013, so it's nothing new on R's end.

Duncan Murdoch


> 
> 
>   ??? ??????? * "In a current tex system \textasciigrave should work with
> your families - they don't have the glyph but latex will fall back
> without error. In older systems it could give an error."
> 
> 
> See:
> 
> 
> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
> 
> 
>   ????? Comments?
>   ????? Thanks,
>   ????? Spencer Graves
> 
> 
> p.s.? An earlier post on this issue to r-pkg-devel is copied below.
> 
> 
> -------- Forwarded Message --------
> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
> (textcomp)
> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
> From: 	Spencer Graves <spencer.graves at effectivedefense.org>
> To: 	r-package-devel at r-project.org
> 
> 
> 
> Hello, All:
> 
> 
>   ????? "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
> following:
> 
> 
> ! Package textcomp Error: Symbol \textasciigrave not provided by
> (textcomp)??????????????? font family zi4 in TS1 encoding.
> (textcomp)??????????????? Default family used instead.
> 
> See the textcomp package documentation for explanation.
> * checking PDF version of manual without hyperrefs or index ... ERROR
> * DONE
> 
> 
>   ????? This is using R 3.6.2 under macOS 10.15.3 applied to the current
> development version of "https://github.com/sbgraves237/Ecfun".? Travis
> CI reported that the build passed;? see
> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
> 
> 
> 
>   ????? This looks to me like it's complaining about the use of the back
> tick character ("`", below "~" on the top left key on a standard
> American English keyboard), which I assume is equivalent to
> "\textasciigrave" in certain contexts.
> 
> 
>   ????? Six out of those 8 repetitions occur in the examples sections of
> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
> "subNonStandardNames.Rd". Those functions were written to fix parsing
> errors with names like "Ra?l" that had been mangled by different
> software before I could get it into R.
> 
> 
>   ????? After a day's work failed to produce a work around, I decided to
> ask this group.
> 
> 
>   ????? What do you suggest?
>   ????? Thanks,
>   ????? Spencer Graves
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From @|mon@urb@nek @end|ng |rom R-project@org  Wed May 13 02:08:43 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Wed, 13 May 2020 12:08:43 +1200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
Message-ID: <559D3035-E788-4EEC-8C4D-381CB186D49B@R-project.org>

Spencer,

as Duncan pointed out that is an issue on your machine, so only you can fix it. The checks use whatever you give them.

FWIW the macOS CRAN setup uses TeX Live 2019:

$ pdflatex --version | head -n1
pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019)

You can upgrade your TeX installation if you so desire, the latest version for macOS is available from
https://tug.org/mactex/mactex-download.html
and other TeX mirrors.

Cheers,
Simon



> On 13/05/2020, at 10:17 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hello, All:
> 
> 
>       Might "R CMD check" on Mac use obsolete LaTeX software?
> 
> 
>       I ask, because "R CMD check" on my Mac started reporting LaTeX 
> errors on *.Rd files that previously passed "R CMD check" without 
> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about 
> that.  I did that and got the following:
> 
> 
>             * "In a current tex system \textasciigrave should work with 
> your families - they don't have the glyph but latex will fall back 
> without error. In older systems it could give an error."
> 
> 
> See:
> 
> 
> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
> 
> 
>       Comments?
>       Thanks,
>       Spencer Graves
> 
> 
> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
> 
> 
> -------- Forwarded Message --------
> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by 
> (textcomp)
> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
> From: 	Spencer Graves <spencer.graves at effectivedefense.org>
> To: 	r-package-devel at r-project.org
> 
> 
> 
> Hello, All:
> 
> 
>       "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the 
> following:
> 
> 
> ! Package textcomp Error: Symbol \textasciigrave not provided by
> (textcomp)                font family zi4 in TS1 encoding.
> (textcomp)                Default family used instead.
> 
> See the textcomp package documentation for explanation.
> * checking PDF version of manual without hyperrefs or index ... ERROR
> * DONE
> 
> 
>       This is using R 3.6.2 under macOS 10.15.3 applied to the current 
> development version of "https://github.com/sbgraves237/Ecfun".  Travis 
> CI reported that the build passed;  see 
> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email". 
> 
> 
> 
>       This looks to me like it's complaining about the use of the back 
> tick character ("`", below "~" on the top left key on a standard 
> American English keyboard), which I assume is equivalent to 
> "\textasciigrave" in certain contexts.
> 
> 
>       Six out of those 8 repetitions occur in the examples sections of 
> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and 
> "subNonStandardNames.Rd". Those functions were written to fix parsing 
> errors with names like "Ra?l" that had been mangled by different 
> software before I could get it into R.
> 
> 
>       After a day's work failed to produce a work around, I decided to 
> ask this group.
> 
> 
>       What do you suggest?
>       Thanks,
>       Spencer Graves
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ken @end|ng |rom kjbe@th@com@@u  Wed May 13 03:12:59 2020
From: ken @end|ng |rom kjbe@th@com@@u (Ken Beath)
Date: Wed, 13 May 2020 11:12:59 +1000
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
Message-ID: <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>

Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.

Ken

> On 13 May 2020, at 8:17 am, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hello, All:
> 
> 
>       Might "R CMD check" on Mac use obsolete LaTeX software?
> 
> 
>       I ask, because "R CMD check" on my Mac started reporting LaTeX 
> errors on *.Rd files that previously passed "R CMD check" without 
> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about 
> that.  I did that and got the following:
> 
> 
>             * "In a current tex system \textasciigrave should work with 
> your families - they don't have the glyph but latex will fall back 
> without error. In older systems it could give an error."
> 
> 
> See:
> 
> 
> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
> 
> 
>       Comments?
>       Thanks,
>       Spencer Graves
> 
> 
> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
> 
> 
> -------- Forwarded Message --------
> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by 
> (textcomp)
> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
> From: 	Spencer Graves <spencer.graves at effectivedefense.org>
> To: 	r-package-devel at r-project.org
> 
> 
> 
> Hello, All:
> 
> 
>       "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the 
> following:
> 
> 
> ! Package textcomp Error: Symbol \textasciigrave not provided by
> (textcomp)                font family zi4 in TS1 encoding.
> (textcomp)                Default family used instead.
> 
> See the textcomp package documentation for explanation.
> * checking PDF version of manual without hyperrefs or index ... ERROR
> * DONE
> 
> 
>       This is using R 3.6.2 under macOS 10.15.3 applied to the current 
> development version of "https://github.com/sbgraves237/Ecfun".  Travis 
> CI reported that the build passed;  see 
> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email". 
> 
> 
> 
>       This looks to me like it's complaining about the use of the back 
> tick character ("`", below "~" on the top left key on a standard 
> American English keyboard), which I assume is equivalent to 
> "\textasciigrave" in certain contexts.
> 
> 
>       Six out of those 8 repetitions occur in the examples sections of 
> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and 
> "subNonStandardNames.Rd". Those functions were written to fix parsing 
> errors with names like "Ra?l" that had been mangled by different 
> software before I could get it into R.
> 
> 
>       After a day's work failed to produce a work around, I decided to 
> ask this group.
> 
> 
>       What do you suggest?
>       Thanks,
>       Spencer Graves
> 
> ______________________________________________
> R-package-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-package-devel
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed May 13 06:15:07 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Tue, 12 May 2020 23:15:07 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
Message-ID: <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>

Hi, Ken et al.:


 ????? Thanks for the info.? I tried to do what you suggested but still 
have the problem.


 ????? Specifically, a web search for TexLive 2020 led me to 
"https://tug.org/texlive/".? That invited me to download and install 
MacTex 2020 from "https://tug.org/mactex/mactex-download.html", which I 
did. ? Everything seemed to go smoothly, but when I ran "R CMD build 
Ecfun" and "R CMD check Ecfun_0.2-4.tar.gz", I got the same error.? This 
is running those commands in a Terminal.? When I invoked "r" there just 
now and requested "sessionInfo()", I got the following:


R version 4.0.0 (2020-04-24)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Catalina 10.15.4

Matrix products: default
BLAS: 
/Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
LAPACK: 
/Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats???? graphics? grDevices utils???? datasets? methods base

loaded via a namespace (and not attached):
[1] compiler_4.0.0


 ??? ? Might you have other suggestions?


 ????? Thanks very much for eliminating one possible source of this 
problem.


 ????? Spencer Graves


On 2020-05-12 20:12, Ken Beath wrote:
> Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.
>
> Ken
>
>> On 13 May 2020, at 8:17 am, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>
>> Hello, All:
>>
>>
>>        Might "R CMD check" on Mac use obsolete LaTeX software?
>>
>>
>>        I ask, because "R CMD check" on my Mac started reporting LaTeX
>> errors on *.Rd files that previously passed "R CMD check" without
>> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about
>> that.  I did that and got the following:
>>
>>
>>              * "In a current tex system \textasciigrave should work with
>> your families - they don't have the glyph but latex will fall back
>> without error. In older systems it could give an error."
>>
>>
>> See:
>>
>>
>> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
>>
>>
>>        Comments?
>>        Thanks,
>>        Spencer Graves
>>
>>
>> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
>>
>>
>> -------- Forwarded Message --------
>> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
>> (textcomp)
>> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
>> From: 	Spencer Graves<spencer.graves at effectivedefense.org>
>> To: 	r-package-devel at r-project.org
>>
>>
>>
>> Hello, All:
>>
>>
>>        "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
>> following:
>>
>>
>> ! Package textcomp Error: Symbol \textasciigrave not provided by
>> (textcomp)                font family zi4 in TS1 encoding.
>> (textcomp)                Default family used instead.
>>
>> See the textcomp package documentation for explanation.
>> * checking PDF version of manual without hyperrefs or index ... ERROR
>> * DONE
>>
>>
>>        This is using R 3.6.2 under macOS 10.15.3 applied to the current
>> development version of"https://github.com/sbgraves237/Ecfun".  Travis
>> CI reported that the build passed;  see
>> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
>>
>>
>>
>>        This looks to me like it's complaining about the use of the back
>> tick character ("`", below "~" on the top left key on a standard
>> American English keyboard), which I assume is equivalent to
>> "\textasciigrave" in certain contexts.
>>
>>
>>        Six out of those 8 repetitions occur in the examples sections of
>> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
>> "subNonStandardNames.Rd". Those functions were written to fix parsing
>> errors with names like "Ra?l" that had been mangled by different
>> software before I could get it into R.
>>
>>
>>        After a day's work failed to produce a work around, I decided to
>> ask this group.
>>
>>
>>        What do you suggest?
>>        Thanks,
>>        Spencer Graves
>>
>> ______________________________________________
>> R-package-devel at r-project.org  mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>


From pd@|gd @end|ng |rom gm@||@com  Wed May 13 08:31:49 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Wed, 13 May 2020 08:31:49 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
Message-ID: <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>

You typically need to ensure that you have the right TeX installation in your PATH (and not an older one earlier in the path). You should see something like this

Peters-MacBook-Air:BUILD pd$ which pdflatex
/Library/TeX/texbin/pdflatex
Peters-MacBook-Air:BUILD pd$ pdflatex -version
pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019)
kpathsea version 6.3.1
....
Peters-MacBook-Air:BUILD pd$ echo $PATH
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/gfortran/bin:/usr/local/clang8/bin:/Library/TeX/texbin:/opt/X11/bin

(Notice that if I had older TeX stuff in /usr/local, I could be in similar trouble...)

-pd


> On 13 May 2020, at 06:15 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hi, Ken et al.:
> 
> 
>       Thanks for the info.  I tried to do what you suggested but still have the problem.
> 
> 
>       Specifically, a web search for TexLive 2020 led me to "https://tug.org/texlive/".  That invited me to download and install MacTex 2020 from "https://tug.org/mactex/mactex-download.html", which I did.   Everything seemed to go smoothly, but when I ran "R CMD build Ecfun" and "R CMD check Ecfun_0.2-4.tar.gz", I got the same error.  This is running those commands in a Terminal.  When I invoked "r" there just now and requested "sessionInfo()", I got the following:
> 
> 
> R version 4.0.0 (2020-04-24)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Catalina 10.15.4
> 
> Matrix products: default
> BLAS: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods base
> 
> loaded via a namespace (and not attached):
> [1] compiler_4.0.0
> 
> 
>       Might you have other suggestions?
> 
> 
>       Thanks very much for eliminating one possible source of this problem.
> 
> 
>       Spencer Graves
> 
> 
> On 2020-05-12 20:12, Ken Beath wrote:
>> Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.
>> 
>> Ken
>> 
>>> On 13 May 2020, at 8:17 am, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>> 
>>> Hello, All:
>>> 
>>> 
>>>       Might "R CMD check" on Mac use obsolete LaTeX software?
>>> 
>>> 
>>>       I ask, because "R CMD check" on my Mac started reporting LaTeX
>>> errors on *.Rd files that previously passed "R CMD check" without
>>> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about
>>> that.  I did that and got the following:
>>> 
>>> 
>>>             * "In a current tex system \textasciigrave should work with
>>> your families - they don't have the glyph but latex will fall back
>>> without error. In older systems it could give an error."
>>> 
>>> 
>>> See:
>>> 
>>> 
>>> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
>>> 
>>> 
>>>       Comments?
>>>       Thanks,
>>>       Spencer Graves
>>> 
>>> 
>>> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
>>> 
>>> 
>>> -------- Forwarded Message --------
>>> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
>>> (textcomp)
>>> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
>>> From: 	Spencer Graves<spencer.graves at effectivedefense.org>
>>> To: 	r-package-devel at r-project.org
>>> 
>>> 
>>> 
>>> Hello, All:
>>> 
>>> 
>>>       "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
>>> following:
>>> 
>>> 
>>> ! Package textcomp Error: Symbol \textasciigrave not provided by
>>> (textcomp)                font family zi4 in TS1 encoding.
>>> (textcomp)                Default family used instead.
>>> 
>>> See the textcomp package documentation for explanation.
>>> * checking PDF version of manual without hyperrefs or index ... ERROR
>>> * DONE
>>> 
>>> 
>>>       This is using R 3.6.2 under macOS 10.15.3 applied to the current
>>> development version of"https://github.com/sbgraves237/Ecfun".  Travis
>>> CI reported that the build passed;  see
>>> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
>>> 
>>> 
>>> 
>>>       This looks to me like it's complaining about the use of the back
>>> tick character ("`", below "~" on the top left key on a standard
>>> American English keyboard), which I assume is equivalent to
>>> "\textasciigrave" in certain contexts.
>>> 
>>> 
>>>       Six out of those 8 repetitions occur in the examples sections of
>>> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
>>> "subNonStandardNames.Rd". Those functions were written to fix parsing
>>> errors with names like "Ra?l" that had been mangled by different
>>> software before I could get it into R.
>>> 
>>> 
>>>       After a day's work failed to produce a work around, I decided to
>>> ask this group.
>>> 
>>> 
>>>       What do you suggest?
>>>       Thanks,
>>>       Spencer Graves
>>> 
>>> ______________________________________________
>>> R-package-devel at r-project.org  mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed May 13 13:00:56 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 13 May 2020 06:00:56 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
Message-ID: <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>

Hi, Peter et al.:


 ????? It looks like you've properly diagnosed my problem.? How do I fix 
it?


 ????? "which pdflatex" and "echo $PATH" are as follows:


$ which pdflatex
/usr/local/bin/pdflatex


$ echo $PATH
/Library/Frameworks/Python.framework/Versions/3.7/bin:/Users/sbgraves/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.7/bin:/opt/local/bin:/opt/local/sbin:/Users/sbgraves/anaconda/bin:/Library/Frameworks/Python.framework/Versions/3.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/opt/X11/bin:/usr/local/git/bin


 ??? ? I do find "/Library/TeX/texbin/pdflatex" on my hard drive, but 
"which pdflatex" doesn't find it.


 ??? ? Thanks,
 ??? ? Spencer Graves


On 2020-05-13 01:31, peter dalgaard wrote:
> You typically need to ensure that you have the right TeX installation in your PATH (and not an older one earlier in the path). You should see something like this
>
> Peters-MacBook-Air:BUILD pd$ which pdflatex
> /Library/TeX/texbin/pdflatex
> Peters-MacBook-Air:BUILD pd$ pdflatex -version
> pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019)
> kpathsea version 6.3.1
> ....
> Peters-MacBook-Air:BUILD pd$ echo $PATH
> /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/gfortran/bin:/usr/local/clang8/bin:/Library/TeX/texbin:/opt/X11/bin
>
> (Notice that if I had older TeX stuff in /usr/local, I could be in similar trouble...)
>
> -pd
>
>
>> On 13 May 2020, at 06:15 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>> Hi, Ken et al.:
>>
>>
>>        Thanks for the info.  I tried to do what you suggested but still have the problem.
>>
>>
>>        Specifically, a web search for TexLive 2020 led me to "https://tug.org/texlive/".  That invited me to download and install MacTex 2020 from "https://tug.org/mactex/mactex-download.html", which I did.   Everything seemed to go smoothly, but when I ran "R CMD build Ecfun" and "R CMD check Ecfun_0.2-4.tar.gz", I got the same error.  This is running those commands in a Terminal.  When I invoked "r" there just now and requested "sessionInfo()", I got the following:
>>
>>
>> R version 4.0.0 (2020-04-24)
>> Platform: x86_64-apple-darwin17.0 (64-bit)
>> Running under: macOS Catalina 10.15.4
>>
>> Matrix products: default
>> BLAS: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods base
>>
>> loaded via a namespace (and not attached):
>> [1] compiler_4.0.0
>>
>>
>>        Might you have other suggestions?
>>
>>
>>        Thanks very much for eliminating one possible source of this problem.
>>
>>
>>        Spencer Graves
>>
>>
>> On 2020-05-12 20:12, Ken Beath wrote:
>>> Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.
>>>
>>> Ken
>>>
>>>> On 13 May 2020, at 8:17 am, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>>>
>>>> Hello, All:
>>>>
>>>>
>>>>        Might "R CMD check" on Mac use obsolete LaTeX software?
>>>>
>>>>
>>>>        I ask, because "R CMD check" on my Mac started reporting LaTeX
>>>> errors on *.Rd files that previously passed "R CMD check" without
>>>> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about
>>>> that.  I did that and got the following:
>>>>
>>>>
>>>>              * "In a current tex system \textasciigrave should work with
>>>> your families - they don't have the glyph but latex will fall back
>>>> without error. In older systems it could give an error."
>>>>
>>>>
>>>> See:
>>>>
>>>>
>>>> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
>>>>
>>>>
>>>>        Comments?
>>>>        Thanks,
>>>>        Spencer Graves
>>>>
>>>>
>>>> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
>>>>
>>>>
>>>> -------- Forwarded Message --------
>>>> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
>>>> (textcomp)
>>>> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
>>>> From: 	Spencer Graves<spencer.graves at effectivedefense.org>
>>>> To: 	r-package-devel at r-project.org
>>>>
>>>>
>>>>
>>>> Hello, All:
>>>>
>>>>
>>>>        "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
>>>> following:
>>>>
>>>>
>>>> ! Package textcomp Error: Symbol \textasciigrave not provided by
>>>> (textcomp)                font family zi4 in TS1 encoding.
>>>> (textcomp)                Default family used instead.
>>>>
>>>> See the textcomp package documentation for explanation.
>>>> * checking PDF version of manual without hyperrefs or index ... ERROR
>>>> * DONE
>>>>
>>>>
>>>>        This is using R 3.6.2 under macOS 10.15.3 applied to the current
>>>> development version of"https://github.com/sbgraves237/Ecfun".  Travis
>>>> CI reported that the build passed;  see
>>>> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
>>>>
>>>>
>>>>
>>>>        This looks to me like it's complaining about the use of the back
>>>> tick character ("`", below "~" on the top left key on a standard
>>>> American English keyboard), which I assume is equivalent to
>>>> "\textasciigrave" in certain contexts.
>>>>
>>>>
>>>>        Six out of those 8 repetitions occur in the examples sections of
>>>> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
>>>> "subNonStandardNames.Rd". Those functions were written to fix parsing
>>>> errors with names like "Ra?l" that had been mangled by different
>>>> software before I could get it into R.
>>>>
>>>>
>>>>        After a day's work failed to produce a work around, I decided to
>>>> ask this group.
>>>>
>>>>
>>>>        What do you suggest?
>>>>        Thanks,
>>>>        Spencer Graves
>>>>
>>>> ______________________________________________
>>>> R-package-devel at r-project.org  mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From e| @end|ng |rom ||@@e@NA  Wed May 13 13:19:30 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 13 May 2020 13:19:30 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
Message-ID: <5284f911-c350-0d93-2d3f-b5c20a533cc9@lisse.NA>

realpath $(which pdflatex)
pdflatex --version


On 13/05/2020 13:00, Spencer Graves wrote:
> Hi, Peter et al.:
> 
> 
> ????? It looks like you've properly diagnosed my problem.? How do I fix it?
> 
> 
> ????? "which pdflatex" and "echo $PATH" are as follows:
> 
> 
> $ which pdflatex
> /usr/local/bin/pdflatex
> 
> 
> $ echo $PATH
> /Library/Frameworks/Python.framework/Versions/3.7/bin:/Users/sbgraves/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.7/bin:/opt/local/bin:/opt/local/sbin:/Users/sbgraves/anaconda/bin:/Library/Frameworks/Python.framework/Versions/3.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/opt/X11/bin:/usr/local/git/bin
> 
> 
> ??? ? I do find "/Library/TeX/texbin/pdflatex" on my hard drive, but "which pdflatex" doesn't find it.
> 
> 
> ??? ? Thanks,
> ??? ? Spencer Graves
> [...]

-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist 
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From bhh @end|ng |rom x@4@||@n|  Wed May 13 13:21:04 2020
From: bhh @end|ng |rom x@4@||@n| (Berend Hasselman)
Date: Wed, 13 May 2020 13:21:04 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
Message-ID: <2070FB23-D72E-4779-8A1E-7E34CED45C97@xs4all.nl>



> On 13 May 2020, at 13:00, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hi, Peter et al.:
> 
> 
>       It looks like you've properly diagnosed my problem.  How do I fix it?
> 
> 
>       "which pdflatex" and "echo $PATH" are as follows:
> 
> 
> $ which pdflatex
> /usr/local/bin/pdflatex
> 
> 
> $ echo $PATH
> /Library/Frameworks/Python.framework/Versions/3.7/bin:/Users/sbgraves/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.7/bin:/opt/local/bin:/opt/local/sbin:/Users/sbgraves/anaconda/bin:/Library/Frameworks/Python.framework/Versions/3.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/opt/X11/bin:/usr/local/git/bin
> 
> 
>       I do find "/Library/TeX/texbin/pdflatex" on my hard drive, but "which pdflatex" doesn't find it.
> 
> 

Try which -a pdflatex  since your PATH does contain Library/TeX/texbin/.

Berend Hasselman

>       Thanks,
>       Spencer Graves
> 
> 
> On 2020-05-13 01:31, peter dalgaard wrote:
>> You typically need to ensure that you have the right TeX installation in your PATH (and not an older one earlier in the path). You should see something like this
>> 
>> Peters-MacBook-Air:BUILD pd$ which pdflatex
>> /Library/TeX/texbin/pdflatex
>> Peters-MacBook-Air:BUILD pd$ pdflatex -version
>> pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019)
>> kpathsea version 6.3.1
>> ....
>> Peters-MacBook-Air:BUILD pd$ echo $PATH
>> /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/gfortran/bin:/usr/local/clang8/bin:/Library/TeX/texbin:/opt/X11/bin
>> 
>> (Notice that if I had older TeX stuff in /usr/local, I could be in similar trouble...)
>> 
>> -pd
>> 
>> 
>>> On 13 May 2020, at 06:15 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>> 
>>> Hi, Ken et al.:
>>> 
>>> 
>>>       Thanks for the info.  I tried to do what you suggested but still have the problem.
>>> 
>>> 
>>>       Specifically, a web search for TexLive 2020 led me to "https://tug.org/texlive/".  That invited me to download and install MacTex 2020 from "https://tug.org/mactex/mactex-download.html", which I did.   Everything seemed to go smoothly, but when I ran "R CMD build Ecfun" and "R CMD check Ecfun_0.2-4.tar.gz", I got the same error.  This is running those commands in a Terminal.  When I invoked "r" there just now and requested "sessionInfo()", I got the following:
>>> 
>>> 
>>> R version 4.0.0 (2020-04-24)
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>> Running under: macOS Catalina 10.15.4
>>> 
>>> Matrix products: default
>>> BLAS: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] compiler_4.0.0
>>> 
>>> 
>>>       Might you have other suggestions?
>>> 
>>> 
>>>       Thanks very much for eliminating one possible source of this problem.
>>> 
>>> 
>>>       Spencer Graves
>>> 
>>> 
>>> On 2020-05-12 20:12, Ken Beath wrote:
>>>> Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.
>>>> 
>>>> Ken
>>>> 
>>>>> On 13 May 2020, at 8:17 am, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>>>> 
>>>>> Hello, All:
>>>>> 
>>>>> 
>>>>>       Might "R CMD check" on Mac use obsolete LaTeX software?
>>>>> 
>>>>> 
>>>>>       I ask, because "R CMD check" on my Mac started reporting LaTeX
>>>>> errors on *.Rd files that previously passed "R CMD check" without
>>>>> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about
>>>>> that.  I did that and got the following:
>>>>> 
>>>>> 
>>>>>             * "In a current tex system \textasciigrave should work with
>>>>> your families - they don't have the glyph but latex will fall back
>>>>> without error. In older systems it could give an error."
>>>>> 
>>>>> 
>>>>> See:
>>>>> 
>>>>> 
>>>>> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
>>>>> 
>>>>> 
>>>>>       Comments?
>>>>>       Thanks,
>>>>>       Spencer Graves
>>>>> 
>>>>> 
>>>>> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
>>>>> 
>>>>> 
>>>>> -------- Forwarded Message --------
>>>>> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
>>>>> (textcomp)
>>>>> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
>>>>> From: 	Spencer Graves<spencer.graves at effectivedefense.org>
>>>>> To: 	r-package-devel at r-project.org
>>>>> 
>>>>> 
>>>>> 
>>>>> Hello, All:
>>>>> 
>>>>> 
>>>>>       "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
>>>>> following:
>>>>> 
>>>>> 
>>>>> ! Package textcomp Error: Symbol \textasciigrave not provided by
>>>>> (textcomp)                font family zi4 in TS1 encoding.
>>>>> (textcomp)                Default family used instead.
>>>>> 
>>>>> See the textcomp package documentation for explanation.
>>>>> * checking PDF version of manual without hyperrefs or index ... ERROR
>>>>> * DONE
>>>>> 
>>>>> 
>>>>>       This is using R 3.6.2 under macOS 10.15.3 applied to the current
>>>>> development version of"https://github.com/sbgraves237/Ecfun".  Travis
>>>>> CI reported that the build passed;  see
>>>>> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
>>>>> 
>>>>> 
>>>>> 
>>>>>       This looks to me like it's complaining about the use of the back
>>>>> tick character ("`", below "~" on the top left key on a standard
>>>>> American English keyboard), which I assume is equivalent to
>>>>> "\textasciigrave" in certain contexts.
>>>>> 
>>>>> 
>>>>>       Six out of those 8 repetitions occur in the examples sections of
>>>>> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
>>>>> "subNonStandardNames.Rd". Those functions were written to fix parsing
>>>>> errors with names like "Ra?l" that had been mangled by different
>>>>> software before I could get it into R.
>>>>> 
>>>>> 
>>>>>       After a day's work failed to produce a work around, I decided to
>>>>> ask this group.
>>>>> 
>>>>> 
>>>>>       What do you suggest?
>>>>>       Thanks,
>>>>>       Spencer Graves
>>>>> 
>>>>> ______________________________________________
>>>>> R-package-devel at r-project.org  mailing list
>>>>> https://stat.ethz.ch/mailman/listinfo/r-package-devel
>>>>> 
>>>>> 	[[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From m@rc_@chw@rtz @end|ng |rom me@com  Wed May 13 14:16:12 2020
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Wed, 13 May 2020 08:16:12 -0400
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
Message-ID: <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>

Spencer,

FWIW, this may be a situation where you need to remove your current/older installations of TeXLive and start fresh with a clean install of TeXLive 2020. It is possible that there is some conflict or corruption of the current multiple installations.

That 'which pdflatex' is pointing directly to an executable in /usr/local/bin, rather than to a symlink in the TeXLive tree, suggests that there is something amiss with your installation.

There are two primary folder trees that would need to be removed:

  /Library/TeX

and 

  /usr/local/texlive

The former path will show in Finder, but the latter will not, unless you have hidden folders set to show. If not, then you can use the Finder menu option:

  Go -> Go to Folder

and enter:

  /usr/local

That will then show you the texlive folder, which you can then right click on and delete.

Both folder trees will require your Admin password to delete.

Once you do this, if you elect to do so, you will then need to re-install TeXLive 2020 and hopefully start fresh.

Regards,

Marc Schwartz


> On May 13, 2020, at 7:00 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hi, Peter et al.:
> 
> 
>       It looks like you've properly diagnosed my problem.  How do I fix it?
> 
> 
>       "which pdflatex" and "echo $PATH" are as follows:
> 
> 
> $ which pdflatex
> /usr/local/bin/pdflatex
> 
> 
> $ echo $PATH
> /Library/Frameworks/Python.framework/Versions/3.7/bin:/Users/sbgraves/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.7/bin:/opt/local/bin:/opt/local/sbin:/Users/sbgraves/anaconda/bin:/Library/Frameworks/Python.framework/Versions/3.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/opt/X11/bin:/usr/local/git/bin
> 
> 
>       I do find "/Library/TeX/texbin/pdflatex" on my hard drive, but "which pdflatex" doesn't find it.
> 
> 
>       Thanks,
>       Spencer Graves
> 
> 
> On 2020-05-13 01:31, peter dalgaard wrote:
>> You typically need to ensure that you have the right TeX installation in your PATH (and not an older one earlier in the path). You should see something like this
>> 
>> Peters-MacBook-Air:BUILD pd$ which pdflatex
>> /Library/TeX/texbin/pdflatex
>> Peters-MacBook-Air:BUILD pd$ pdflatex -version
>> pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019)
>> kpathsea version 6.3.1
>> ....
>> Peters-MacBook-Air:BUILD pd$ echo $PATH
>> /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/gfortran/bin:/usr/local/clang8/bin:/Library/TeX/texbin:/opt/X11/bin
>> 
>> (Notice that if I had older TeX stuff in /usr/local, I could be in similar trouble...)
>> 
>> -pd
>> 
>> 
>>> On 13 May 2020, at 06:15 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>> 
>>> Hi, Ken et al.:
>>> 
>>> 
>>>       Thanks for the info.  I tried to do what you suggested but still have the problem.
>>> 
>>> 
>>>       Specifically, a web search for TexLive 2020 led me to "https://tug.org/texlive/".  That invited me to download and install MacTex 2020 from "https://tug.org/mactex/mactex-download.html", which I did.   Everything seemed to go smoothly, but when I ran "R CMD build Ecfun" and "R CMD check Ecfun_0.2-4.tar.gz", I got the same error.  This is running those commands in a Terminal.  When I invoked "r" there just now and requested "sessionInfo()", I got the following:
>>> 
>>> 
>>> R version 4.0.0 (2020-04-24)
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>> Running under: macOS Catalina 10.15.4
>>> 
>>> Matrix products: default
>>> BLAS: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] compiler_4.0.0
>>> 
>>> 
>>>       Might you have other suggestions?
>>> 
>>> 
>>>       Thanks very much for eliminating one possible source of this problem.
>>> 
>>> 
>>>       Spencer Graves
>>> 
>>> 
>>> On 2020-05-12 20:12, Ken Beath wrote:
>>>> Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.
>>>> 
>>>> Ken
>>>> 
>>>>> On 13 May 2020, at 8:17 am, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>>>> 
>>>>> Hello, All:
>>>>> 
>>>>> 
>>>>>       Might "R CMD check" on Mac use obsolete LaTeX software?
>>>>> 
>>>>> 
>>>>>       I ask, because "R CMD check" on my Mac started reporting LaTeX
>>>>> errors on *.Rd files that previously passed "R CMD check" without
>>>>> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about
>>>>> that.  I did that and got the following:
>>>>> 
>>>>> 
>>>>>             * "In a current tex system \textasciigrave should work with
>>>>> your families - they don't have the glyph but latex will fall back
>>>>> without error. In older systems it could give an error."
>>>>> 
>>>>> 
>>>>> See:
>>>>> 
>>>>> 
>>>>> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
>>>>> 
>>>>> 
>>>>>       Comments?
>>>>>       Thanks,
>>>>>       Spencer Graves
>>>>> 
>>>>> 
>>>>> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
>>>>> 
>>>>> 
>>>>> -------- Forwarded Message --------
>>>>> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
>>>>> (textcomp)
>>>>> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
>>>>> From: 	Spencer Graves<spencer.graves at effectivedefense.org>
>>>>> To: 	r-package-devel at r-project.org
>>>>> 
>>>>> 
>>>>> 
>>>>> Hello, All:
>>>>> 
>>>>> 
>>>>>       "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
>>>>> following:
>>>>> 
>>>>> 
>>>>> ! Package textcomp Error: Symbol \textasciigrave not provided by
>>>>> (textcomp)                font family zi4 in TS1 encoding.
>>>>> (textcomp)                Default family used instead.
>>>>> 
>>>>> See the textcomp package documentation for explanation.
>>>>> * checking PDF version of manual without hyperrefs or index ... ERROR
>>>>> * DONE
>>>>> 
>>>>> 
>>>>>       This is using R 3.6.2 under macOS 10.15.3 applied to the current
>>>>> development version of"https://github.com/sbgraves237/Ecfun".  Travis
>>>>> CI reported that the build passed;  see
>>>>> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
>>>>> 
>>>>> 
>>>>> 
>>>>>       This looks to me like it's complaining about the use of the back
>>>>> tick character ("`", below "~" on the top left key on a standard
>>>>> American English keyboard), which I assume is equivalent to
>>>>> "\textasciigrave" in certain contexts.
>>>>> 
>>>>> 
>>>>>       Six out of those 8 repetitions occur in the examples sections of
>>>>> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
>>>>> "subNonStandardNames.Rd". Those functions were written to fix parsing
>>>>> errors with names like "Ra?l" that had been mangled by different
>>>>> software before I could get it into R.
>>>>> 
>>>>> 
>>>>>       After a day's work failed to produce a work around, I decided to
>>>>> ask this group.
>>>>> 
>>>>> 
>>>>>       What do you suggest?
>>>>>       Thanks,
>>>>>       Spencer Graves


From e| @end|ng |rom ||@@e@NA  Wed May 13 15:00:47 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 13 May 2020 15:00:47 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
Message-ID: <e54e9b77-1b65-38d2-61e2-f8a012838df9@lisse.NA>

Marc,

this is not necessarily correct, it can be a symlink, hence my suggestion of

	realpath $(which pdflatex)

which will give you the final executable, in my case

	/usr/local/texlive/2020basic/bin/x86_64-darwin/pdftex

But, I agree, this looks like an ancient installation :-0-O


el


On 13/05/2020 14:16, Marc Schwartz via R-SIG-Mac wrote:
> Spencer,
> 
> FWIW, this may be a situation where you need to remove your
> current/older installations of TeXLive and start fresh with a clean
> install of TeXLive 2020.  It is possible that there is some conflict
> or corruption of the current multiple installations.
> 
> That 'which pdflatex' is pointing directly to an executable in
> /usr/local/bin, rather than to a symlink in the TeXLive tree, suggests
> that there is something amiss with your installation.
> 
> There are two primary folder trees that would need to be removed:
> 
>   /Library/TeX
> 
> and 
> 
>   /usr/local/texlive
> 
> The former path will show in Finder, but the latter will not, unless
> you have hidden folders set to show.  If not, then you can use the
> Finder menu option:
> 
>   Go -> Go to Folder
> 
> and enter:
> 
>   /usr/local
> 
> That will then show you the texlive folder, which you can then right
> click on and delete.
> 
> Both folder trees will require your Admin password to delete.
> 
> Once you do this, if you elect to do so, you will then need to
> re-install TeXLive 2020 and hopefully start fresh.
> 
> Regards,
> 
> Marc Schwartz


From pd@|gd @end|ng |rom gm@||@com  Wed May 13 15:34:31 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Wed, 13 May 2020 15:34:31 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
Message-ID: <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>

Hmm, like Eberhard, I'm not too sure this is right.

A look at ls -l /usr/local/bin should be informative though.

I haven't been paying that close attention, but I think the history is that TeX programs used to live in /usr/local/bin, but then Apple did something(?) so now they go to Library/TeX/texbin (and are really links that via several levels of indirection end up somewhere in /usr/local/texlive). However, old installs may still have binaries or links in /usr/local/bin. I would guess that a simple

sudo rm /usr/local/bin/pdflatex

could work (possibly remove some other  *tex programs as well).

-pd

> On 13 May 2020, at 14:16 , Marc Schwartz <marc_schwartz at me.com> wrote:
> 
> Spencer,
> 
> FWIW, this may be a situation where you need to remove your current/older installations of TeXLive and start fresh with a clean install of TeXLive 2020. It is possible that there is some conflict or corruption of the current multiple installations.
> 
> That 'which pdflatex' is pointing directly to an executable in /usr/local/bin, rather than to a symlink in the TeXLive tree, suggests that there is something amiss with your installation.
> 
> There are two primary folder trees that would need to be removed:
> 
>  /Library/TeX
> 
> and 
> 
>  /usr/local/texlive
> 
> The former path will show in Finder, but the latter will not, unless you have hidden folders set to show. If not, then you can use the Finder menu option:
> 
>  Go -> Go to Folder
> 
> and enter:
> 
>  /usr/local
> 
> That will then show you the texlive folder, which you can then right click on and delete.
> 
> Both folder trees will require your Admin password to delete.
> 
> Once you do this, if you elect to do so, you will then need to re-install TeXLive 2020 and hopefully start fresh.
> 
> Regards,
> 
> Marc Schwartz
> 
> 
>> On May 13, 2020, at 7:00 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>> 
>> Hi, Peter et al.:
>> 
>> 
>>      It looks like you've properly diagnosed my problem.  How do I fix it?
>> 
>> 
>>      "which pdflatex" and "echo $PATH" are as follows:
>> 
>> 
>> $ which pdflatex
>> /usr/local/bin/pdflatex
>> 
>> 
>> $ echo $PATH
>> /Library/Frameworks/Python.framework/Versions/3.7/bin:/Users/sbgraves/anaconda3/bin:/Library/Frameworks/Python.framework/Versions/3.7/bin:/opt/local/bin:/opt/local/sbin:/Users/sbgraves/anaconda/bin:/Library/Frameworks/Python.framework/Versions/3.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/opt/X11/bin:/usr/local/git/bin
>> 
>> 
>>      I do find "/Library/TeX/texbin/pdflatex" on my hard drive, but "which pdflatex" doesn't find it.
>> 
>> 
>>      Thanks,
>>      Spencer Graves
>> 
>> 
>> On 2020-05-13 01:31, peter dalgaard wrote:
>>> You typically need to ensure that you have the right TeX installation in your PATH (and not an older one earlier in the path). You should see something like this
>>> 
>>> Peters-MacBook-Air:BUILD pd$ which pdflatex
>>> /Library/TeX/texbin/pdflatex
>>> Peters-MacBook-Air:BUILD pd$ pdflatex -version
>>> pdfTeX 3.14159265-2.6-1.40.20 (TeX Live 2019)
>>> kpathsea version 6.3.1
>>> ....
>>> Peters-MacBook-Air:BUILD pd$ echo $PATH
>>> /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/gfortran/bin:/usr/local/clang8/bin:/Library/TeX/texbin:/opt/X11/bin
>>> 
>>> (Notice that if I had older TeX stuff in /usr/local, I could be in similar trouble...)
>>> 
>>> -pd
>>> 
>>> 
>>>> On 13 May 2020, at 06:15 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>>> 
>>>> Hi, Ken et al.:
>>>> 
>>>> 
>>>>      Thanks for the info.  I tried to do what you suggested but still have the problem.
>>>> 
>>>> 
>>>>      Specifically, a web search for TexLive 2020 led me to "https://tug.org/texlive/".  That invited me to download and install MacTex 2020 from "https://tug.org/mactex/mactex-download.html", which I did.   Everything seemed to go smoothly, but when I ran "R CMD build Ecfun" and "R CMD check Ecfun_0.2-4.tar.gz", I got the same error.  This is running those commands in a Terminal.  When I invoked "r" there just now and requested "sessionInfo()", I got the following:
>>>> 
>>>> 
>>>> R version 4.0.0 (2020-04-24)
>>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>>> Running under: macOS Catalina 10.15.4
>>>> 
>>>> Matrix products: default
>>>> BLAS: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>>>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>>> 
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods base
>>>> 
>>>> loaded via a namespace (and not attached):
>>>> [1] compiler_4.0.0
>>>> 
>>>> 
>>>>      Might you have other suggestions?
>>>> 
>>>> 
>>>>      Thanks very much for eliminating one possible source of this problem.
>>>> 
>>>> 
>>>>      Spencer Graves
>>>> 
>>>> 
>>>> On 2020-05-12 20:12, Ken Beath wrote:
>>>>> Your package passes checks on my machine perfectly. It has R 4.0.0 with RStudio and TexLive 2020 with updates to a week or two ago.
>>>>> 
>>>>> Ken
>>>>> 
>>>>>> On 13 May 2020, at 8:17 am, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>>>>> 
>>>>>> Hello, All:
>>>>>> 
>>>>>> 
>>>>>>      Might "R CMD check" on Mac use obsolete LaTeX software?
>>>>>> 
>>>>>> 
>>>>>>      I ask, because "R CMD check" on my Mac started reporting LaTeX
>>>>>> errors on *.Rd files that previously passed "R CMD check" without
>>>>>> problems.  Dirk Eddelbuettel recommended I ask tex.stackexchange about
>>>>>> that.  I did that and got the following:
>>>>>> 
>>>>>> 
>>>>>>            * "In a current tex system \textasciigrave should work with
>>>>>> your families - they don't have the glyph but latex will fall back
>>>>>> without error. In older systems it could give an error."
>>>>>> 
>>>>>> 
>>>>>> See:
>>>>>> 
>>>>>> 
>>>>>> https://tex.stackexchange.com/questions/543783/package-textcomp-error-symbol-textasciigrave-not-provided
>>>>>> 
>>>>>> 
>>>>>>      Comments?
>>>>>>      Thanks,
>>>>>>      Spencer Graves
>>>>>> 
>>>>>> 
>>>>>> p.s.  An earlier post on this issue to r-pkg-devel is copied below.
>>>>>> 
>>>>>> 
>>>>>> -------- Forwarded Message --------
>>>>>> Subject: 	[R-pkg-devel] Error: Symbol \textasciigrave not provided by
>>>>>> (textcomp)
>>>>>> Date: 	Sun, 16 Feb 2020 14:21:17 -0600
>>>>>> From: 	Spencer Graves<spencer.graves at effectivedefense.org>
>>>>>> To: 	r-package-devel at r-project.org
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> Hello, All:
>>>>>> 
>>>>>> 
>>>>>>      "R CMD check Ecfun_0.2-4.tar.gz" ends with 8 repetitions of the
>>>>>> following:
>>>>>> 
>>>>>> 
>>>>>> ! Package textcomp Error: Symbol \textasciigrave not provided by
>>>>>> (textcomp)                font family zi4 in TS1 encoding.
>>>>>> (textcomp)                Default family used instead.
>>>>>> 
>>>>>> See the textcomp package documentation for explanation.
>>>>>> * checking PDF version of manual without hyperrefs or index ... ERROR
>>>>>> * DONE
>>>>>> 
>>>>>> 
>>>>>>      This is using R 3.6.2 under macOS 10.15.3 applied to the current
>>>>>> development version of"https://github.com/sbgraves237/Ecfun".  Travis
>>>>>> CI reported that the build passed;  see
>>>>>> "https://travis-ci.org/sbgraves237/Ecfun/builds/650505913?utm_medium=notification&utm_source=email".
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>      This looks to me like it's complaining about the use of the back
>>>>>> tick character ("`", below "~" on the top left key on a standard
>>>>>> American English keyboard), which I assume is equivalent to
>>>>>> "\textasciigrave" in certain contexts.
>>>>>> 
>>>>>> 
>>>>>>      Six out of those 8 repetitions occur in the examples sections of
>>>>>> files "grepNonStandardCharacters.Rd", "subNonStandardCharacters.Rd", and
>>>>>> "subNonStandardNames.Rd". Those functions were written to fix parsing
>>>>>> errors with names like "Ra?l" that had been mangled by different
>>>>>> software before I could get it into R.
>>>>>> 
>>>>>> 
>>>>>>      After a day's work failed to produce a work around, I decided to
>>>>>> ask this group.
>>>>>> 
>>>>>> 
>>>>>>      What do you suggest?
>>>>>>      Thanks,
>>>>>>      Spencer Graves
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From m@rc_@chw@rtz @end|ng |rom me@com  Wed May 13 15:44:58 2020
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Wed, 13 May 2020 09:44:58 -0400
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <e54e9b77-1b65-38d2-61e2-f8a012838df9@lisse.NA>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <e54e9b77-1b65-38d2-61e2-f8a012838df9@lisse.NA>
Message-ID: <1F2F669B-0347-462F-B136-24AA1E356520@me.com>

Hi,

I will stand to be corrected, but from what I can tell, 'realpath' is not part of a default macOS installation, and would need to be installed from a third party repo (e.g. homebrew). 

There appear to be shell script incantations that would accomplish the same functionality, but in the end, in the absence of these approaches, there is not an easy way, under a standard macOS install, to trace through the layers of symlinks to the target file.

You can also do this manually via the Finder, by right clicking on the symlink and using Show Original to navigate as well.

Also, note that under Catalina, the default shell changed from bash to zsh.

Regards,

Marc


> On May 13, 2020, at 9:00 AM, Dr Eberhard W Lisse <el at lisse.NA> wrote:
> 
> Marc,
> 
> this is not necessarily correct, it can be a symlink, hence my suggestion of
> 
> 	realpath $(which pdflatex)
> 
> which will give you the final executable, in my case
> 
> 	/usr/local/texlive/2020basic/bin/x86_64-darwin/pdftex
> 
> But, I agree, this looks like an ancient installation :-0-O
> 
> 
> el
> 
> 
> On 13/05/2020 14:16, Marc Schwartz via R-SIG-Mac wrote:
>> Spencer,
>> 
>> FWIW, this may be a situation where you need to remove your
>> current/older installations of TeXLive and start fresh with a clean
>> install of TeXLive 2020.  It is possible that there is some conflict
>> or corruption of the current multiple installations.
>> 
>> That 'which pdflatex' is pointing directly to an executable in
>> /usr/local/bin, rather than to a symlink in the TeXLive tree, suggests
>> that there is something amiss with your installation.
>> 
>> There are two primary folder trees that would need to be removed:
>> 
>>  /Library/TeX
>> 
>> and 
>> 
>>  /usr/local/texlive
>> 
>> The former path will show in Finder, but the latter will not, unless
>> you have hidden folders set to show.  If not, then you can use the
>> Finder menu option:
>> 
>>  Go -> Go to Folder
>> 
>> and enter:
>> 
>>  /usr/local
>> 
>> That will then show you the texlive folder, which you can then right
>> click on and delete.
>> 
>> Both folder trees will require your Admin password to delete.
>> 
>> Once you do this, if you elect to do so, you will then need to
>> re-install TeXLive 2020 and hopefully start fresh.
>> 
>> Regards,
>> 
>> Marc Schwartz
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From du@@@@dr|@n @end|ng |rom gm@||@com  Wed May 13 15:45:13 2020
From: du@@@@dr|@n @end|ng |rom gm@||@com (=?utf-8?Q?Adrian_Du=C8=99a?=)
Date: Wed, 13 May 2020 16:45:13 +0300
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
Message-ID: <E85143C9-FC06-4C8E-82BD-6FC41B0C8FA0@gmail.com>

Not sure if this helps, but for some reason my TeX Live was not installed in Library/TeX/texbin, but in:

~ % realpath $(which pdflatex)

/usr/local/texlive/2019/bin/x86_64-darwin/pdftex



> On 13 May 2020, at 16:34, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Hmm, like Eberhard, I'm not too sure this is right.
> 
> A look at ls -l /usr/local/bin should be informative though.
> 
> I haven't been paying that close attention, but I think the history is that TeX programs used to live in /usr/local/bin, but then Apple did something(?) so now they go to Library/TeX/texbin (and are really links that via several levels of indirection end up somewhere in /usr/local/texlive). However, old installs may still have binaries or links in /usr/local/bin. I would guess that a simple
> 
> sudo rm /usr/local/bin/pdflatex
> 
> could work (possibly remove some other  *tex programs as well).
> 
> -pd


?
Adrian Dusa
University of Bucharest
Romanian Social Data Archive
Soseaua Panduri nr. 90-92
050663 Bucharest sector 5
Romania
https://adriandusa.eu


From e| @end|ng |rom ||@@e@NA  Wed May 13 16:36:18 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 13 May 2020 16:36:18 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <1F2F669B-0347-462F-B136-24AA1E356520@me.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <e54e9b77-1b65-38d2-61e2-f8a012838df9@lisse.NA>
 <1F2F669B-0347-462F-B136-24AA1E356520@me.com>
Message-ID: <840c0ea6-28c6-a835-1e79-fa8d91c681fd@lisse.NA>

Ah, yes,

	brew install coreutils

:-)-O

Existing accounts using bash remain under bash when upgrading to 
Catalina. And bash remains available so all bash script will continue 
to run :-)-O

el

On 13/05/2020 15:44, Marc Schwartz wrote:
> Hi,
> 
> I will stand to be corrected, but from what I can tell, 'realpath' is
> not part of a default macOS installation, and would need to be
> installed from a third party repo (e.g. homebrew).
> 
> There appear to be shell script incantations that would accomplish the
> same functionality, but in the end, in the absence of these
> approaches, there is not an easy way, under a standard macOS install,
> to trace through the layers of symlinks to the target file.
> 
> You can also do this manually via the Finder, by right clicking on the
> symlink and using Show Original to navigate as well.
> 
> Also, note that under Catalina, the default shell changed from bash to
> zsh.
> 
> Regards,
> 
> Marc


From e| @end|ng |rom ||@@e@NA  Wed May 13 16:57:03 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 13 May 2020 16:57:03 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
Message-ID: <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>

Peter,

as far as I understand this the idea is to make the binaries of whatever
MacTeX you use available in 

	/Library/TeX/texbin

so that it survives the (annual) upgrade of MacTeX or a switch from the 
Basic to the Big MacTeX or whatever.


I would personally not remove the pdflatex, but find something like
UninstallPKG and then locate MacTeX in there and remove that (all
versions, so all old crud goes away.

If you, like me, use MacTeXBasic you can do something like

	if [ ! -x /usr/local/bin/gawk ]
	then 
		brew install gawk
	fi
	tlmgr list --only-installed \
	   | gawk '{gsub(/:/, ""); print $2}' \
	   > ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt 

before uninstalling the old packages, then you install the latest and
greatest MacTeXBasic and run something like

	tlmgr update --self
	tlmgr install $(cat ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt)

and, perhaps

	perl -i -p \
		-e 's+\$SELFAUTOPARENT/+/usr/local/texlive/+' \
		/usr/local/texlive/2020basic/texmf.cnf
	texhash

:-)-O

Nowadays, you can just

	sudo rm -rf /usr/local/texlive/2019basic

and if you use homebrew you might have /usr/local owned by yourself so
you don't need the sudo.

Time Machine is your friend (as I just noticed) :-)-O

el


On 13/05/2020 15:34, peter dalgaard wrote:
> Hmm, like Eberhard, I'm not too sure this is right.
> 
> A look at ls -l /usr/local/bin should be informative though.
> 
> I haven't been paying that close attention, but I think the history is
> that TeX programs used to live in /usr/local/bin, but then Apple did
> something(?)  so now they go to Library/TeX/texbin (and are really
> links that via several levels of indirection end up somewhere in
> /usr/local/texlive).  However, old installs may still have binaries or
> links in /usr/local/bin.  I would guess that a simple
> 
> sudo rm /usr/local/bin/pdflatex
> 
> could work (possibly remove some other *tex programs as well).
> 
> -pd
[...]


-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist 
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed May 13 23:31:57 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 13 May 2020 16:31:57 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
Message-ID: <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>

 ????? Thank you all for your comments on this.? I'm overwhelmed, not 
just with the volume of the discussion, but my own ignorance of the 
standard command line protocols.


 ????? After trying some but on all of Eberhard Lisse's and Peter 
Dalgaard's suggestions below, the problem disappeard after I executed 
"sudo rm /usr/local/bin/pdflatex".? I tested "R CMD check 
Ecfun_0.2-4.tar.gz" right before I did that, and the problem was still 
there.? It disappeared right after I did that.


 ????? Lisse's "UninstallPKG" might have been more graceful, but I 
couldn't find the key to that padlock, so I used something that seems 
more like boltcutters instead -- and it worked.


 ????? Thanks again,
 ????? Spencer Graves


On 2020-05-13 09:57, Dr Eberhard W Lisse wrote:
> Peter,
>
> as far as I understand this the idea is to make the binaries of whatever
> MacTeX you use available in
>
> 	/Library/TeX/texbin


 ????? Finder says this was installed yesterday, presumably when I 
installed MacTex.
>
> so that it survives the (annual) upgrade of MacTeX or a switch from the
> Basic to the Big MacTeX or whatever.
>
>
> I would personally not remove the pdflatex, but find something like
> UninstallPKG


 ????? How do I find something like "UninstallPKG"?


> and then locate MacTeX in there and remove that (all
> versions, so all old crud goes away.
>
> If you, like me, use MacTeXBasic you can do something like


 ????? I don't think I'm using MacTexBasic, but I'm not a big LaTeX 
user, beyond trying to make RMarkdown work these days (and having used 
LaTeX when writing "Functional Data Analysis with R and Matlab with 
Ramsay and Hooker over a decade ago).

>
> 	if [ ! -x /usr/local/bin/gawk ]


 ????? I don't seem to have gawk installed, at least not there, and 
"gawk" at a Terminal prompt returned, "-bash: gawk: command not found".

> 	then
> 		brew install gawk


 ????? I did that, and it seemed to work.? It started "Updating 
Homebrew..." and ended 'For compilers to find readline you may need to 
set:? export LDFLAGS="-L/usr/local/opt/readline/lib";? export 
CPPFLAGS="-I/usr/local/opt/readline/include"'.

> 	fi
> 	tlmgr list --only-installed \
> 	   | gawk '{gsub(/:/, ""); print $2}' \
> 	   > ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt


 ????? I tried that.? It executed quickly with no output.
>
> before uninstalling the old packages,


 ????? I don't know what to uninstall nor how to do it nor how to even 
find what I should uninstall, other than ask here (or maybe at 
tex.stackexchange, as Dirk Eddelbuettel had suggested).


> then you install the latest and
> greatest MacTeXBasic


 ????? I installed MacTex yesterday, as I indicated earlier in this 
thread.? That may not be enough, but I will skip that for the moment.


> and run something like
>
> 	tlmgr update --self


 ????? I did this in /Library/TeX/texbin as follows:


texbin sbgraves$ tlmgr update --self

tlmgr: Local TeX Live (2019) is older than remote repository (2020).
Cross release updates are only supported with
 ? update-tlmgr-latest(.sh/.exe) --update
See https://tug.org/texlive/upgrade.html for details.


 ????? That link starts with, "By default, please get the new TL by 
doing a new installation instead of proceeding here."? Clicking "here" 
took me to where I was yesterday, when I installed MacTex-2020, which 
seems to have gone into "/user/local/texlive/2020".? I also found under 
"/user/local/texlive" subdirectories for 2014, and 2016 but not 2019.


> 	tlmgr install $(cat ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt)


 ????? This gave me the same message as "tlmgr update --self".
>
> and, perhaps
>
> 	perl -i -p \
> 		-e 's+\$SELFAUTOPARENT/+/usr/local/texlive/+' \
> 		/usr/local/texlive/2020basic/texmf.cnf
> 	texhash


 ????? I have "/user/local/texlive/2020" but not "2020basic", as I 
indicated above.? I think I'll skip this for the moment.
>
> :-)-O
>
> Nowadays, you can just
>
> 	sudo rm -rf /usr/local/texlive/2019basic
>
> and if you use homebrew you might have /usr/local owned by yourself so
> you don't need the sudo.
>
> Time Machine is your friend (as I just noticed) :-)-O
>
> el
>
>
> On 13/05/2020 15:34, peter dalgaard wrote:
>> Hmm, like Eberhard, I'm not too sure this is right.
>>
>> A look at ls -l /usr/local/bin should be informative though.


ls -l /usr/local/bin
total 460456
lrwxr-xr-x? 1 root????? wheel??????? 66 Nov 26? 2018 2to3 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/2to3
lrwxr-xr-x? 1 sbgraves? wheel??????? 70 Jun? 8? 2016 2to3-3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/2to3-3.5
lrwxr-xr-x? 1 root????? wheel??????? 70 Nov 26? 2018 2to3-3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/2to3-3.7
lrwxr-xr-x? 1 root????? admin??????? 47 Apr 29 15:52 R -> 
/Library/Frameworks/R.framework/Resources/bin/R
lrwxr-xr-x? 1 root????? admin??????? 53 Apr 29 15:52 Rscript -> 
/Library/Frameworks/R.framework/Resources/bin/Rscript
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 a2ping -> 
/usr/local/texlive/2016/bin/x86_64-darwin/a2ping
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 a5toa4 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/a5toa4
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jan? 4? 2018 aac-enc -> 
../Cellar/fdk-aac/0.1.4/bin/aac-enc
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 adhocfilelist -> 
/usr/local/texlive/2016/bin/x86_64-darwin/adhocfilelist
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 afm2afm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/afm2afm
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 afm2pl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/afm2pl
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 afm2tfm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/afm2tfm
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 aleph -> 
/usr/local/texlive/2016/bin/x86_64-darwin/aleph
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 allcm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/allcm
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 allec -> 
/usr/local/texlive/2016/bin/x86_64-darwin/allec
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 allneeded -> 
/usr/local/texlive/2016/bin/x86_64-darwin/allneeded
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 amstex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/amstex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 arara -> 
/usr/local/texlive/2016/bin/x86_64-darwin/arara
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 arlatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/arlatex
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 asy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/asy
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 authorindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/authorindex
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 autoconf -> 
../Cellar/autoconf/2.69/bin/autoconf
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 autoheader -> 
../Cellar/autoconf/2.69/bin/autoheader
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 autoinst -> 
/usr/local/texlive/2016/bin/x86_64-darwin/autoinst
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 autom4te -> 
../Cellar/autoconf/2.69/bin/autom4te
lrwxr-xr-x? 1 sbgraves? admin??????? 40 May 13 14:53 autopoint -> 
../Cellar/gettext/0.20.2_1/bin/autopoint
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 autoreconf -> 
../Cellar/autoconf/2.69/bin/autoreconf
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 autoscan -> 
../Cellar/autoconf/2.69/bin/autoscan
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 autosp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/autosp
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 autoupdate -> 
../Cellar/autoconf/2.69/bin/autoupdate
lrwxr-xr-x? 1 sbgraves? admin??????? 28 May 13 14:53 awk -> 
../Cellar/gawk/5.1.0/bin/awk
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 axohelp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/axohelp
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 b2sum -> 
../Cellar/coreutils/8.31/bin/b2sum
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 base32 -> 
../Cellar/coreutils/8.31/bin/base32
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 bbl2bib -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bbl2bib
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 bbox -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bbox
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 bg5+latex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bg5+latex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 bg5+pdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bg5+pdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 bg5conv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bg5conv
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 bg5latex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bg5latex
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 bg5pdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bg5pdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 bib2gls -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bib2gls
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 bibdoiadd -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibdoiadd
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 biber -> 
/usr/local/texlive/2016/bin/x86_64-darwin/biber
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 bibexport -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibexport
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 bibmradd -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibmradd
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 bibtex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibtex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 bibtex8 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibtex8
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 bibtexu -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibtexu
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 biburl2doi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/biburl2doi
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 bibzbladd -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bibzbladd
lrwxr-xr-x? 1 sbgraves? admin??????? 28 Jan 24? 2018 brew -> 
/usr/local/Homebrew/bin/brew
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 bundledoc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/bundledoc
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 cachepic -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cachepic
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Dec? 9? 2018 cairo-sphinx -> 
../Cellar/cairo/1.16.0/bin/cairo-sphinx
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Dec? 9? 2018 cairo-trace -> 
../Cellar/cairo/1.16.0/bin/cairo-trace
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 ccache-swig -> 
../Cellar/swig/3.0.10/bin/ccache-swig
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 cef5conv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cef5conv
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 cef5latex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cef5latex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 cef5pdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cef5pdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 cefconv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cefconv
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 ceflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ceflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 cefpdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cefpdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 cefsconv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cefsconv
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 cefslatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cefslatex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 cefspdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cefspdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 cfftot1 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cfftot1
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 chcon -> 
../Cellar/coreutils/8.31/bin/chcon
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 checkcites -> 
/usr/local/texlive/2016/bin/x86_64-darwin/checkcites
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 checklistings -> 
/usr/local/texlive/2016/bin/x86_64-darwin/checklistings
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 chkdvifont -> 
/usr/local/texlive/2016/bin/x86_64-darwin/chkdvifont
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 chklref -> 
/usr/local/texlive/2016/bin/x86_64-darwin/chklref
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 chktex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/chktex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 chkweb -> 
/usr/local/texlive/2016/bin/x86_64-darwin/chkweb
lrwxr-xr-x? 1 sbgraves? admin??????? 58 Jan 13 17:42 cjk-gs-integrate -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cjk-gs-integrate
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 cllualatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cllualatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 cluttex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cluttex
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 clxelatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/clxelatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 context -> 
/usr/local/texlive/2016/bin/x86_64-darwin/context
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 contextjit -> 
/usr/local/texlive/2016/bin/x86_64-darwin/contextjit
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 convbkmk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/convbkmk
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 convertgls2bib -> 
/usr/local/texlive/2016/bin/x86_64-darwin/convertgls2bib
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 cslatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cslatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 csplain -> 
/usr/local/texlive/2016/bin/x86_64-darwin/csplain
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 ctan-o-mat -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctan-o-mat
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ctanbib -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctanbib
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ctangle -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctangle
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ctanify -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctanify
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 ctanupload -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctanupload
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 ctie -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctie
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 ctwill -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctwill
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 ctwill-refsort -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctwill-refsort
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 ctwill-twinx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ctwill-twinx
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 cweave -> 
/usr/local/texlive/2016/bin/x86_64-darwin/cweave
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 de-macro -> 
/usr/local/texlive/2016/bin/x86_64-darwin/de-macro
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 depythontex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/depythontex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 detex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/detex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 devnag -> 
/usr/local/texlive/2016/bin/x86_64-darwin/devnag
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 deweb -> 
/usr/local/texlive/2016/bin/x86_64-darwin/deweb
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 diadia -> 
/usr/local/texlive/2016/bin/x86_64-darwin/diadia
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 disdvi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/disdvi
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jan 24? 2018 dnet-config -> 
../Cellar/libdnet/1.12/bin/dnet-config
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 dosepsbin -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dosepsbin
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 dt2dv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dt2dv
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dtxgen -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dtxgen
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 dv2dt -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dv2dt
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvi2fax -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvi2fax
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvi2tty -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvi2tty
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dviasm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dviasm
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvibook -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvibook
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 dviconcat -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dviconcat
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvicopy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvicopy
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvidvi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvidvi
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvigif -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvigif
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 dvihp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvihp
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 dviinfox -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dviinfox
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 dvilj -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilj
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvilj2p -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilj2p
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvilj4 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilj4
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvilj4l -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilj4l
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvilj6 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilj6
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 dvilualatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilualatex
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 dvilualatex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvilualatex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 dviluatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dviluatex
-rwxr-xr-x? 1 root????? wheel????? 1005 Mar 10 17:41 dvipdf
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvipdfm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvipdfm
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 dvipdfmx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvipdfmx
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvipdft -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvipdft
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvipng -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvipng
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvipos -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvipos
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 dvips -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvips
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvired -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvired
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 dviselect -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dviselect
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 dvispc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvispc
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvisvgm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvisvgm
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 dvitodvi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvitodvi
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvitomp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvitomp
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 dvitype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/dvitype
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 e2pall -> 
/usr/local/texlive/2016/bin/x86_64-darwin/e2pall
lrwxrwxr-x? 1 sbgraves? admin??????? 78 Jun? 8? 2016 easy_install-3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/easy_install-3.5
lrwxrwxr-x? 1 root????? admin??????? 78 Nov 26? 2018 easy_install-3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/easy_install-3.7
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 ebb -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ebb
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 ebong -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ebong
lrwxr-xr-x? 1 sbgraves? admin??????? 39 May 13 14:53 envsubst -> 
../Cellar/gettext/0.20.2_1/bin/envsubst
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 eplain -> 
/usr/local/texlive/2016/bin/x86_64-darwin/eplain
-rwxr-xr-x? 1 root????? wheel?????? 639 Mar 10 17:41 eps2eps
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 epsffit -> 
/usr/local/texlive/2016/bin/x86_64-darwin/epsffit
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 epspdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/epspdf
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 epspdftk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/epspdftk
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 epstopdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/epstopdf
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 eptex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/eptex
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 etex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/etex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 euptex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/euptex
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Jan 24? 2018 event_rpcgen.py -> 
../Cellar/libevent/2.1.8/bin/event_rpcgen.py
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 exceltex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/exceltex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 extconv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/extconv
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 extractbb -> 
/usr/local/texlive/2016/bin/x86_64-darwin/extractbb
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 extractres -> 
/usr/local/texlive/2016/bin/x86_64-darwin/extractres
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Sep? 9? 2018 fc-cache -> 
../Cellar/fontconfig/2.13.1/bin/fc-cache
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Sep? 9? 2018 fc-cat -> 
../Cellar/fontconfig/2.13.1/bin/fc-cat
lrwxr-xr-x? 1 sbgraves? admin??????? 43 Sep? 9? 2018 fc-conflist -> 
../Cellar/fontconfig/2.13.1/bin/fc-conflist
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Sep? 9? 2018 fc-list -> 
../Cellar/fontconfig/2.13.1/bin/fc-list
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Sep? 9? 2018 fc-match -> 
../Cellar/fontconfig/2.13.1/bin/fc-match
lrwxr-xr-x? 1 sbgraves? admin??????? 42 Sep? 9? 2018 fc-pattern -> 
../Cellar/fontconfig/2.13.1/bin/fc-pattern
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Sep? 9? 2018 fc-query -> 
../Cellar/fontconfig/2.13.1/bin/fc-query
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Sep? 9? 2018 fc-scan -> 
../Cellar/fontconfig/2.13.1/bin/fc-scan
lrwxr-xr-x? 1 sbgraves? admin??????? 43 Sep? 9? 2018 fc-validate -> 
../Cellar/fontconfig/2.13.1/bin/fc-validate
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Jan? 3? 2018 ffmpeg -> 
../Cellar/ffmpeg/3.1.1/bin/ffmpeg
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Jan? 3? 2018 ffprobe -> 
../Cellar/ffmpeg/3.1.1/bin/ffprobe
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jan? 3? 2018 ffserver -> 
../Cellar/ffmpeg/3.1.1/bin/ffserver
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 fig4latex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/fig4latex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 findhyph -> 
/usr/local/texlive/2016/bin/x86_64-darwin/findhyph
lrwxr-xr-x? 1 sbgraves? admin??????? 29 Jul 17? 2016 flac -> 
../Cellar/flac/1.3.1/bin/flac
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 fmtutil -> 
/usr/local/texlive/2016/bin/x86_64-darwin/fmtutil
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 fmtutil-sys -> 
/usr/local/texlive/2016/bin/x86_64-darwin/fmtutil-sys
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 fmtutil-user -> 
/usr/local/texlive/2016/bin/x86_64-darwin/fmtutil-user
-rwxrwxr-x? 1 sbgraves? wheel?????? 311 Apr? 1? 2016 font2c
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 fontinst -> 
/usr/local/texlive/2016/bin/x86_64-darwin/fontinst
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 fragmaster -> 
/usr/local/texlive/2016/bin/x86_64-darwin/fragmaster
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Sep? 9? 2018 freetype-config -> 
../Cellar/freetype/2.9.1/bin/freetype-config
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Sep? 9? 2018 fribidi -> 
../Cellar/fribidi/1.0.5/bin/fribidi
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Nov? 2? 2019 g[ -> 
../Cellar/coreutils/8.31/bin/g[
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Dec? 9? 2018 gapplication -> 
../Cellar/glib/2.58.1/bin/gapplication
lrwxr-xr-x? 1 sbgraves? admin??????? 29 May 13 14:53 gawk -> 
../Cellar/gawk/5.1.0/bin/gawk
lrwxr-xr-x? 1 sbgraves? admin??????? 35 May 13 14:53 gawk-5.1.0 -> 
../Cellar/gawk/5.1.0/bin/gawk-5.1.0
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gb2sum -> 
../Cellar/coreutils/8.31/bin/gb2sum
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gbase32 -> 
../Cellar/coreutils/8.31/bin/gbase32
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gbase64 -> 
../Cellar/coreutils/8.31/bin/gbase64
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 gbasename -> 
../Cellar/coreutils/8.31/bin/gbasename
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gbasenc -> 
../Cellar/coreutils/8.31/bin/gbasenc
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 gbklatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gbklatex
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 gbkpdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gbkpdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gcat -> 
../Cellar/coreutils/8.31/bin/gcat
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gchcon -> 
../Cellar/coreutils/8.31/bin/gchcon
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gchgrp -> 
../Cellar/coreutils/8.31/bin/gchgrp
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gchmod -> 
../Cellar/coreutils/8.31/bin/gchmod
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gchown -> 
../Cellar/coreutils/8.31/bin/gchown
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gchroot -> 
../Cellar/coreutils/8.31/bin/gchroot
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gcksum -> 
../Cellar/coreutils/8.31/bin/gcksum
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gcomm -> 
../Cellar/coreutils/8.31/bin/gcomm
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gcp -> 
../Cellar/coreutils/8.31/bin/gcp
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gcsplit -> 
../Cellar/coreutils/8.31/bin/gcsplit
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gcut -> 
../Cellar/coreutils/8.31/bin/gcut
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gdate -> 
../Cellar/coreutils/8.31/bin/gdate
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Sep 18? 2018 gdbm_dump -> 
../Cellar/gdbm/1.18/bin/gdbm_dump
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Sep 18? 2018 gdbm_load -> 
../Cellar/gdbm/1.18/bin/gdbm_load
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Sep 18? 2018 gdbmtool -> 
../Cellar/gdbm/1.18/bin/gdbmtool
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 gdbus -> 
../Cellar/glib/2.58.1/bin/gdbus
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Dec? 9? 2018 gdbus-codegen -> 
../Cellar/glib/2.58.1/bin/gdbus-codegen
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gdd -> 
../Cellar/coreutils/8.31/bin/gdd
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gdf -> 
../Cellar/coreutils/8.31/bin/gdf
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gdir -> 
../Cellar/coreutils/8.31/bin/gdir
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Nov? 2? 2019 gdircolors -> 
../Cellar/coreutils/8.31/bin/gdircolors
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 gdirname -> 
../Cellar/coreutils/8.31/bin/gdirname
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gdu -> 
../Cellar/coreutils/8.31/bin/gdu
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gecho -> 
../Cellar/coreutils/8.31/bin/gecho
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 genv -> 
../Cellar/coreutils/8.31/bin/genv
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 getmapdl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/getmapdl
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 gettext -> 
../Cellar/gettext/0.20.2_1/bin/gettext
lrwxr-xr-x? 1 sbgraves? admin??????? 41 May 13 14:53 gettext.sh -> 
../Cellar/gettext/0.20.2_1/bin/gettext.sh
lrwxr-xr-x? 1 sbgraves? admin??????? 41 May 13 14:53 gettextize -> 
../Cellar/gettext/0.20.2_1/bin/gettextize
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gexpand -> 
../Cellar/coreutils/8.31/bin/gexpand
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gexpr -> 
../Cellar/coreutils/8.31/bin/gexpr
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gfactor -> 
../Cellar/coreutils/8.31/bin/gfactor
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gfalse -> 
../Cellar/coreutils/8.31/bin/gfalse
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gfmt -> 
../Cellar/coreutils/8.31/bin/gfmt
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gfold -> 
../Cellar/coreutils/8.31/bin/gfold
lrwxr-xr-x? 1 sbgraves? wheel??????? 12 Nov 25? 2013 gfortran -> 
gfortran-4.8
lrwxr-xr-x? 1 sbgraves? wheel??????? 34 Nov 25? 2013 gfortran-4.8 -> 
x86_64-apple-darwin13.0.0-gfortran
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 gftodvi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gftodvi
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 gftopk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gftopk
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 gftype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gftype
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 ggroups -> 
../Cellar/coreutils/8.31/bin/ggroups
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 ghead -> 
../Cellar/coreutils/8.31/bin/ghead
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 ghostid -> 
../Cellar/coreutils/8.31/bin/ghostid
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gid -> 
../Cellar/coreutils/8.31/bin/gid
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 ginstall -> 
../Cellar/coreutils/8.31/bin/ginstall
lrwxr-xr-x? 1 sbgraves? admin??????? 29 Dec? 9? 2018 gio -> 
../Cellar/glib/2.58.1/bin/gio
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Dec? 9? 2018 gio-launch-desktop 
-> ../Cellar/glib/2.58.1/bin/gio-launch-desktop
lrwxr-xr-x? 1 sbgraves? admin??????? 42 Dec? 9? 2018 gio-querymodules -> 
../Cellar/glib/2.58.1/bin/gio-querymodules
lrwxr-xr-x? 1 sbgraves? admin??????? 27 Jan? 4? 2018 git -> 
../Cellar/git/2.9.2/bin/git
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan? 4? 2018 
git-credential-osxkeychain -> 
../Cellar/git/2.9.2/bin/git-credential-osxkeychain
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jan? 4? 2018 git-cvsserver -> 
../Cellar/git/2.9.2/bin/git-cvsserver
lrwxr-xr-x? 1 sbgraves? admin??????? 71 Oct? 2? 2015 git-lfs -> 
/Applications/GitHub Desktop.app/Contents/Resources/git-lfs/bin/git-lfs
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Jan? 4? 2018 git-receive-pack -> 
../Cellar/git/2.9.2/bin/git-receive-pack
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Jan? 4? 2018 git-shell -> 
../Cellar/git/2.9.2/bin/git-shell
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jan? 4? 2018 git-subtree -> 
../Cellar/git/2.9.2/bin/git-subtree
lrwxr-xr-x? 1 sbgraves? admin??????? 42 Jan? 4? 2018 git-upload-archive 
-> ../Cellar/git/2.9.2/bin/git-upload-archive
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jan? 4? 2018 git-upload-pack -> 
../Cellar/git/2.9.2/bin/git-upload-pack
lrwxr-xr-x? 1 sbgraves? admin??????? 58 Oct? 2? 2015 github -> 
/Applications/GitHub Desktop.app/Contents/MacOS/github_cli
lrwxr-xr-x? 1 sbgraves? admin??????? 28 Jan? 4? 2018 gitk -> 
../Cellar/git/2.9.2/bin/gitk
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gjoin -> 
../Cellar/coreutils/8.31/bin/gjoin
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gkill -> 
../Cellar/coreutils/8.31/bin/gkill
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Dec? 9? 2018 
glib-compile-resources -> ../Cellar/glib/2.58.1/bin/glib-compile-resources
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Dec? 9? 2018 
glib-compile-schemas -> ../Cellar/glib/2.58.1/bin/glib-compile-schemas
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Dec? 9? 2018 glib-genmarshal -> 
../Cellar/glib/2.58.1/bin/glib-genmarshal
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Dec? 9? 2018 glib-gettextize -> 
../Cellar/glib/2.58.1/bin/glib-gettextize
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Dec? 9? 2018 glib-mkenums -> 
../Cellar/glib/2.58.1/bin/glib-mkenums
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 glibtool -> 
../Cellar/libtool/2.4.6_1/bin/glibtool
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Jul 17? 2016 glibtoolize -> 
../Cellar/libtool/2.4.6_1/bin/glibtoolize
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 glink -> 
../Cellar/coreutils/8.31/bin/glink
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gln -> 
../Cellar/coreutils/8.31/bin/gln
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 glogname -> 
../Cellar/coreutils/8.31/bin/glogname
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gls -> 
../Cellar/coreutils/8.31/bin/gls
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gmd5sum -> 
../Cellar/coreutils/8.31/bin/gmd5sum
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gmkdir -> 
../Cellar/coreutils/8.31/bin/gmkdir
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gmkfifo -> 
../Cellar/coreutils/8.31/bin/gmkfifo
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gmknod -> 
../Cellar/coreutils/8.31/bin/gmknod
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gmktemp -> 
../Cellar/coreutils/8.31/bin/gmktemp
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gmv -> 
../Cellar/coreutils/8.31/bin/gmv
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gnice -> 
../Cellar/coreutils/8.31/bin/gnice
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gnl -> 
../Cellar/coreutils/8.31/bin/gnl
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gnohup -> 
../Cellar/coreutils/8.31/bin/gnohup
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gnproc -> 
../Cellar/coreutils/8.31/bin/gnproc
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gnumfmt -> 
../Cellar/coreutils/8.31/bin/gnumfmt
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Dec? 9? 2018 gobject-query -> 
../Cellar/glib/2.58.1/bin/gobject-query
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 god -> 
../Cellar/coreutils/8.31/bin/god
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gpaste -> 
../Cellar/coreutils/8.31/bin/gpaste
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 gpathchk -> 
../Cellar/coreutils/8.31/bin/gpathchk
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gpinky -> 
../Cellar/coreutils/8.31/bin/gpinky
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gpr -> 
../Cellar/coreutils/8.31/bin/gpr
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 gprintenv -> 
../Cellar/coreutils/8.31/bin/gprintenv
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gprintf -> 
../Cellar/coreutils/8.31/bin/gprintf
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gptx -> 
../Cellar/coreutils/8.31/bin/gptx
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gpwd -> 
../Cellar/coreutils/8.31/bin/gpwd
lrwxr-xr-x? 1 sbgraves? admin??????? 42 Sep? 9? 2018 gr2fonttest -> 
../Cellar/graphite2/1.3.12/bin/gr2fonttest
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Jul 18? 2016 gradle -> 
../Cellar/gradle/2.14/bin/gradle
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 greadlink -> 
../Cellar/coreutils/8.31/bin/greadlink
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 grealpath -> 
../Cellar/coreutils/8.31/bin/grealpath
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 gregorio -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gregorio
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Dec? 9? 2018 gresource -> 
../Cellar/glib/2.58.1/bin/gresource
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 grm -> 
../Cellar/coreutils/8.31/bin/grm
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 grmdir -> 
../Cellar/coreutils/8.31/bin/grmdir
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gruncon -> 
../Cellar/coreutils/8.31/bin/gruncon
lrwxr-xr-x? 1 root????? admin??????? 23 May 12 21:40 gs -> 
/usr/local/bin/gs-noX11
-rwxr-xr-x? 1 root????? wheel? 18219728 Mar 10 17:44 gs-X11
-rwxrwxr-x? 1 sbgraves? wheel? 17088500 May? 3? 2015 gs-X11-Yosemite
-rwxr-xr-x? 1 root????? wheel? 18144368 Mar 10 17:44 gs-noX11
-rwxrwxr-x? 1 sbgraves? wheel? 17017608 May? 3? 2015 gs-noX11-Yosemite
-rwxr-xr-x? 1 root????? wheel?????? 350 Mar 10 17:41 gsbj
-rwxr-xr-x? 1 root????? wheel?????? 352 Mar 10 17:41 gsdj
-rwxr-xr-x? 1 root????? wheel?????? 352 Mar 10 17:41 gsdj500
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gseq -> 
../Cellar/coreutils/8.31/bin/gseq
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Dec? 9? 2018 gsettings -> 
../Cellar/glib/2.58.1/bin/gsettings
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 gsftopk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/gsftopk
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 gsha1sum -> 
../Cellar/coreutils/8.31/bin/gsha1sum
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Nov? 2? 2019 gsha224sum -> 
../Cellar/coreutils/8.31/bin/gsha224sum
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Nov? 2? 2019 gsha256sum -> 
../Cellar/coreutils/8.31/bin/gsha256sum
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Nov? 2? 2019 gsha384sum -> 
../Cellar/coreutils/8.31/bin/gsha384sum
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Nov? 2? 2019 gsha512sum -> 
../Cellar/coreutils/8.31/bin/gsha512sum
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gshred -> 
../Cellar/coreutils/8.31/bin/gshred
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gshuf -> 
../Cellar/coreutils/8.31/bin/gshuf
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gsleep -> 
../Cellar/coreutils/8.31/bin/gsleep
-rwxr-xr-x? 1 root????? wheel?????? 353 Mar 10 17:41 gslj
-rwxr-xr-x? 1 root????? wheel?????? 350 Mar 10 17:41 gslp
-rwxr-xr-x? 1 root????? wheel?????? 277 Mar 10 17:41 gsnd
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gsort -> 
../Cellar/coreutils/8.31/bin/gsort
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gsplit -> 
../Cellar/coreutils/8.31/bin/gsplit
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gstat -> 
../Cellar/coreutils/8.31/bin/gstat
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gstdbuf -> 
../Cellar/coreutils/8.31/bin/gstdbuf
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gstty -> 
../Cellar/coreutils/8.31/bin/gstty
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gsum -> 
../Cellar/coreutils/8.31/bin/gsum
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gsync -> 
../Cellar/coreutils/8.31/bin/gsync
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gtac -> 
../Cellar/coreutils/8.31/bin/gtac
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gtail -> 
../Cellar/coreutils/8.31/bin/gtail
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gtee -> 
../Cellar/coreutils/8.31/bin/gtee
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gtest -> 
../Cellar/coreutils/8.31/bin/gtest
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Dec? 9? 2018 gtester -> 
../Cellar/glib/2.58.1/bin/gtester
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Dec? 9? 2018 gtester-report -> 
../Cellar/glib/2.58.1/bin/gtester-report
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 gtimeout -> 
../Cellar/coreutils/8.31/bin/gtimeout
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gtouch -> 
../Cellar/coreutils/8.31/bin/gtouch
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gtr -> 
../Cellar/coreutils/8.31/bin/gtr
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gtrue -> 
../Cellar/coreutils/8.31/bin/gtrue
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 gtruncate -> 
../Cellar/coreutils/8.31/bin/gtruncate
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gtsort -> 
../Cellar/coreutils/8.31/bin/gtsort
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gtty -> 
../Cellar/coreutils/8.31/bin/gtty
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 guname -> 
../Cellar/coreutils/8.31/bin/guname
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 gunexpand -> 
../Cellar/coreutils/8.31/bin/gunexpand
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 guniq -> 
../Cellar/coreutils/8.31/bin/guniq
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gunlink -> 
../Cellar/coreutils/8.31/bin/gunlink
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 guptime -> 
../Cellar/coreutils/8.31/bin/guptime
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 gusers -> 
../Cellar/coreutils/8.31/bin/gusers
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 gvdir -> 
../Cellar/coreutils/8.31/bin/gvdir
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 gwc -> 
../Cellar/coreutils/8.31/bin/gwc
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gwho -> 
../Cellar/coreutils/8.31/bin/gwho
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 gwhoami -> 
../Cellar/coreutils/8.31/bin/gwhoami
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 gyes -> 
../Cellar/coreutils/8.31/bin/gyes
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Dec? 9? 2018 hb-ot-shape-closure 
-> ../Cellar/harfbuzz/2.2.0/bin/hb-ot-shape-closure
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Dec? 9? 2018 hb-shape -> 
../Cellar/harfbuzz/2.2.0/bin/hb-shape
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Dec? 9? 2018 hb-subset -> 
../Cellar/harfbuzz/2.2.0/bin/hb-subset
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Dec? 9? 2018 hb-view -> 
../Cellar/harfbuzz/2.2.0/bin/hb-view
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 hbf2gf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/hbf2gf
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 hostid -> 
../Cellar/coreutils/8.31/bin/hostid
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Jan 13 17:42 ht -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ht
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 htcontext -> 
/usr/local/texlive/2016/bin/x86_64-darwin/htcontext
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 htlatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/htlatex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 htmex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/htmex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 httex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/httex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 httexi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/httexi
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 htxelatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/htxelatex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 htxetex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/htxetex
lrwxr-xr-x? 1 root????? wheel??????? 67 Nov 26? 2018 idle3 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/idle3
lrwxr-xr-x? 1 sbgraves? wheel??????? 69 Jun? 8? 2016 idle3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/idle3.5
lrwxr-xr-x? 1 root????? wheel??????? 69 Nov 26? 2018 idle3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/idle3.7
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jul 17? 2016 ifnames -> 
../Cellar/autoconf/2.69/bin/ifnames
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 includeres -> 
/usr/local/texlive/2016/bin/x86_64-darwin/includeres
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jul 17? 2016 indexer -> 
../Cellar/sphinx/2.2.10/bin/indexer
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 indextool -> 
../Cellar/sphinx/2.2.10/bin/indextool
-rwxr-xr-x? 1 root????? wheel??? 422288 Mar 29 16:05 info
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 inimf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/inimf
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 initex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/initex
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jul 17? 2016 innochecksum -> 
../Cellar/mysql/5.7.13/bin/innochecksum
-rwxr-xr-x? 1 root????? wheel??? 173744 Mar 29 16:05 install-info
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 installfont-tl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/installfont-tl
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 jadetex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/jadetex
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 jamo-normalize -> 
/usr/local/texlive/2016/bin/x86_64-darwin/jamo-normalize
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 jfmutil -> 
/usr/local/texlive/2016/bin/x86_64-darwin/jfmutil
lrwxr-xr-x? 1 sbgraves? admin??????? 61 Jan 13 17:42 kanji-config-updmap 
-> /usr/local/texlive/2016/bin/x86_64-darwin/kanji-config-updmap
lrwxr-xr-x? 1 sbgraves? admin??????? 65 Jan 13 17:42 
kanji-config-updmap-sys -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kanji-config-updmap-sys
lrwxr-xr-x? 1 sbgraves? admin??????? 66 Jan 13 17:42 
kanji-config-updmap-user -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kanji-config-updmap-user
lrwxr-xr-x? 1 sbgraves? admin??????? 63 Jan 13 17:42 
kanji-fontmap-creator -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kanji-fontmap-creator
-r-xr-xr-x? 1 root????? wheel?????? 161 Jun 25? 2019 kav
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 ketcindy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ketcindy
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 komkindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/komkindex
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 kpseaccess -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpseaccess
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 kpsepath -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsepath
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 kpsereadlink -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsereadlink
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 kpsestat -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsestat
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 kpsetool -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsetool
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 kpsewhere -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsewhere
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 kpsewhich -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsewhich
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 kpsexpand -> 
/usr/local/texlive/2016/bin/x86_64-darwin/kpsexpand
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 l3build -> 
/usr/local/texlive/2016/bin/x86_64-darwin/l3build
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 lacheck -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lacheck
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 lamed -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lamed
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 latex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latex
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 latex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 latex-git-log -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latex-git-log
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 latex-papersize -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latex-papersize
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 latex2man -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latex2man
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 latex2nemeth -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latex2nemeth
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 latexdef -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexdef
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 latexdiff -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexdiff
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 latexdiff-vc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexdiff-vc
lrwxr-xr-x? 1 sbgraves? admin??????? 58 Jan 13 17:42 latexfileversion -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexfileversion
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 latexindent -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexindent
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 latexmk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexmk
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 latexpand -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexpand
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 latexrevise -> 
/usr/local/texlive/2016/bin/x86_64-darwin/latexrevise
lrwxr-xr-x? 1 sbgraves? admin??????? 29 Dec? 9? 2018 ldrdf -> 
../Cellar/nasm/2.14/bin/ldrdf
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Sep? 9? 2018 libpng-config -> 
../Cellar/libpng/1.6.35/bin/libpng-config
lrwxr-xr-x? 1 sbgraves? admin??????? 43 Sep? 9? 2018 libpng16-config -> 
../Cellar/libpng/1.6.35/bin/libpng16-config
lrwxr-xr-x? 1 sbgraves? admin??????? 61 Jan 13 17:42 lily-glyph-commands 
-> /usr/local/texlive/2016/bin/x86_64-darwin/lily-glyph-commands
lrwxr-xr-x? 1 sbgraves? admin??????? 61 Jan 13 17:42 lily-image-commands 
-> /usr/local/texlive/2016/bin/x86_64-darwin/lily-image-commands
lrwxr-xr-x? 1 sbgraves? admin??????? 59 Jan 13 17:42 lily-rebuild-pdfs 
-> /usr/local/texlive/2016/bin/x86_64-darwin/lily-rebuild-pdfs
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 listbib -> 
/usr/local/texlive/2016/bin/x86_64-darwin/listbib
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 listings-ext.sh -> 
/usr/local/texlive/2016/bin/x86_64-darwin/listings-ext.sh
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 lollipop -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lollipop
-rwxr-xr-x? 1 root????? wheel????? 5470 Mar 10 17:41 lprsetup.sh
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 ltx2crossrefxml -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ltx2crossrefxml
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 ltxfileinfo -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ltxfileinfo
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 ltximg -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ltximg
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 lua2dox_filter -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lua2dox_filter
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 luacsplain -> 
/usr/local/texlive/2016/bin/x86_64-darwin/luacsplain
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 luahbtex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/luahbtex
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 luajittex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/luajittex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 lualatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lualatex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 lualatex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lualatex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 luaotfload-tool -> 
/usr/local/texlive/2016/bin/x86_64-darwin/luaotfload-tool
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 luatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/luatex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 luatools -> 
/usr/local/texlive/2016/bin/x86_64-darwin/luatools
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 lwarpmk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/lwarpmk
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Jul 17? 2016 lz4_decompress -> 
../Cellar/mysql/5.7.13/bin/lz4_decompress
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 m-tx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/m-tx
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 mag -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mag
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 make4ht -> 
/usr/local/texlive/2016/bin/x86_64-darwin/make4ht
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 makedtx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/makedtx
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 makeglossaries -> 
/usr/local/texlive/2016/bin/x86_64-darwin/makeglossaries
lrwxr-xr-x? 1 sbgraves? admin??????? 61 Jan 13 17:42 makeglossaries-lite 
-> /usr/local/texlive/2016/bin/x86_64-darwin/makeglossaries-lite
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 makeindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/makeindex
lrwxr-xr-x? 1 root????? wheel???????? 8 Apr 29 15:52 makeinfo -> texi2any
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 makejvf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/makejvf
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 match_parens -> 
/usr/local/texlive/2016/bin/x86_64-darwin/match_parens
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mathspic -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mathspic
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 md5sum -> 
../Cellar/coreutils/8.31/bin/md5sum
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 mendex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mendex
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Jul 17? 2016 metaflac -> 
../Cellar/flac/1.3.1/bin/metaflac
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 mex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mex
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Jan 13 17:42 mf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mf
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mf-nowin -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mf-nowin
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 mf2pt1 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mf2pt1
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mflua -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mflua
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 mflua-nowin -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mflua-nowin
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mfluajit -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mfluajit
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 mfluajit-nowin -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mfluajit-nowin
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 mfplain -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mfplain
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 mft -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mft
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mk4ht -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mk4ht
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 mkgrkindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkgrkindex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 mkindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkindex
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 mkjobtexmf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkjobtexmf
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mkocp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkocp
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mkofm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkofm
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mkpic -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkpic
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mkt1font -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mkt1font
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mktexfmt -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mktexfmt
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mktexlsr -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mktexlsr
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 mktexmf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mktexmf
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 mktexpk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mktexpk
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 mktextfm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mktextfm
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 mllatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mllatex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mltex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mltex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mmafm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mmafm
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mmpfb -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mmpfb
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 mpost -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mpost
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 mptopdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mptopdf
lrwxr-xr-x? 1 sbgraves? admin??????? 40 May 13 14:53 msgattrib -> 
../Cellar/gettext/0.20.2_1/bin/msgattrib
lrwxr-xr-x? 1 sbgraves? admin??????? 37 May 13 14:53 msgcat -> 
../Cellar/gettext/0.20.2_1/bin/msgcat
lrwxr-xr-x? 1 sbgraves? admin??????? 37 May 13 14:53 msgcmp -> 
../Cellar/gettext/0.20.2_1/bin/msgcmp
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 msgcomm -> 
../Cellar/gettext/0.20.2_1/bin/msgcomm
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 msgconv -> 
../Cellar/gettext/0.20.2_1/bin/msgconv
lrwxr-xr-x? 1 sbgraves? admin??????? 36 May 13 14:53 msgen -> 
../Cellar/gettext/0.20.2_1/bin/msgen
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 msgexec -> 
../Cellar/gettext/0.20.2_1/bin/msgexec
lrwxr-xr-x? 1 sbgraves? admin??????? 40 May 13 14:53 msgfilter -> 
../Cellar/gettext/0.20.2_1/bin/msgfilter
lrwxr-xr-x? 1 sbgraves? admin??????? 37 May 13 14:53 msgfmt -> 
../Cellar/gettext/0.20.2_1/bin/msgfmt
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 msggrep -> 
../Cellar/gettext/0.20.2_1/bin/msggrep
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 msginit -> 
../Cellar/gettext/0.20.2_1/bin/msginit
lrwxr-xr-x? 1 sbgraves? admin??????? 39 May 13 14:53 msgmerge -> 
../Cellar/gettext/0.20.2_1/bin/msgmerge
lrwxr-xr-x? 1 sbgraves? admin??????? 39 May 13 14:53 msgunfmt -> 
../Cellar/gettext/0.20.2_1/bin/msgunfmt
lrwxr-xr-x? 1 sbgraves? admin??????? 38 May 13 14:53 msguniq -> 
../Cellar/gettext/0.20.2_1/bin/msguniq
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 msxlint -> 
/usr/local/texlive/2016/bin/x86_64-darwin/msxlint
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 mtxrun -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mtxrun
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 mtxrunjit -> 
/usr/local/texlive/2016/bin/x86_64-darwin/mtxrunjit
lrwxr-xr-x? 1 sbgraves? admin??????? 59 Jan 13 17:42 multibibliography 
-> /usr/local/texlive/2016/bin/x86_64-darwin/multibibliography
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 musixflx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/musixflx
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 musixtex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/musixtex
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Jul 17? 2016 my_print_defaults 
-> ../Cellar/mysql/5.7.13/bin/my_print_defaults
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Jul 17? 2016 myisam_ftdump -> 
../Cellar/mysql/5.7.13/bin/myisam_ftdump
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 myisamchk -> 
../Cellar/mysql/5.7.13/bin/myisamchk
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 myisamlog -> 
../Cellar/mysql/5.7.13/bin/myisamlog
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 myisampack -> 
../Cellar/mysql/5.7.13/bin/myisampack
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Jul 17? 2016 mysql -> 
../Cellar/mysql/5.7.13/bin/mysql
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jul 17? 2016 mysql.server -> 
../Cellar/mysql/5.7.13/bin/mysql.server
lrwxr-xr-x? 1 sbgraves? admin??????? 44 Jul 17? 2016 mysql_client_test 
-> ../Cellar/mysql/5.7.13/bin/mysql_client_test
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jul 17? 2016 
mysql_client_test_embedded -> 
../Cellar/mysql/5.7.13/bin/mysql_client_test_embedded
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jul 17? 2016 mysql_config -> 
../Cellar/mysql/5.7.13/bin/mysql_config
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jul 17? 2016 mysql_config_editor 
-> ../Cellar/mysql/5.7.13/bin/mysql_config_editor
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Jul 17? 2016 mysql_embedded -> 
../Cellar/mysql/5.7.13/bin/mysql_embedded
lrwxr-xr-x? 1 sbgraves? admin??????? 43 Jul 17? 2016 mysql_install_db -> 
../Cellar/mysql/5.7.13/bin/mysql_install_db
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jul 17? 2016 mysql_plugin -> 
../Cellar/mysql/5.7.13/bin/mysql_plugin
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jul 17? 2016 
mysql_secure_installation -> 
../Cellar/mysql/5.7.13/bin/mysql_secure_installation
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jul 17? 2016 mysql_ssl_rsa_setup 
-> ../Cellar/mysql/5.7.13/bin/mysql_ssl_rsa_setup
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jul 17? 2016 mysql_tzinfo_to_sql 
-> ../Cellar/mysql/5.7.13/bin/mysql_tzinfo_to_sql
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Jul 17? 2016 mysql_upgrade -> 
../Cellar/mysql/5.7.13/bin/mysql_upgrade
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 mysqladmin -> 
../Cellar/mysql/5.7.13/bin/mysqladmin
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 mysqlbinlog -> 
../Cellar/mysql/5.7.13/bin/mysqlbinlog
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 mysqlcheck -> 
../Cellar/mysql/5.7.13/bin/mysqlcheck
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Jul 17? 2016 mysqld -> 
../Cellar/mysql/5.7.13/bin/mysqld
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jul 17? 2016 mysqld_multi -> 
../Cellar/mysql/5.7.13/bin/mysqld_multi
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 mysqld_safe -> 
../Cellar/mysql/5.7.13/bin/mysqld_safe
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 mysqldump -> 
../Cellar/mysql/5.7.13/bin/mysqldump
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Jul 17? 2016 mysqldumpslow -> 
../Cellar/mysql/5.7.13/bin/mysqldumpslow
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Jul 17? 2016 mysqlimport -> 
../Cellar/mysql/5.7.13/bin/mysqlimport
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 mysqlpump -> 
../Cellar/mysql/5.7.13/bin/mysqlpump
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 mysqlshow -> 
../Cellar/mysql/5.7.13/bin/mysqlshow
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 mysqlslap -> 
../Cellar/mysql/5.7.13/bin/mysqlslap
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 mysqltest -> 
../Cellar/mysql/5.7.13/bin/mysqltest
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jul 17? 2016 mysqltest_embedded 
-> ../Cellar/mysql/5.7.13/bin/mysqltest_embedded
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 mysqlxtest -> 
../Cellar/mysql/5.7.13/bin/mysqlxtest
lrwxr-xr-x? 1 sbgraves? admin??????? 28 Dec? 9? 2018 nasm -> 
../Cellar/nasm/2.14/bin/nasm
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 ndisasm -> 
../Cellar/nasm/2.14/bin/ndisasm
lrwxr-xr-x? 1 sbgraves? admin??????? 39 May 13 14:53 ngettext -> 
../Cellar/gettext/0.20.2_1/bin/ngettext
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 nproc -> 
../Cellar/coreutils/8.31/bin/nproc
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 numfmt -> 
../Cellar/coreutils/8.31/bin/numfmt
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 odvicopy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/odvicopy
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 odvitype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/odvitype
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ofm2opl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ofm2opl
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 omfonts -> 
/usr/local/texlive/2016/bin/x86_64-darwin/omfonts
lrwxr-xr-x? 1 sbgraves? admin??????? 43 Sep 18? 2018 oonideckgen -> 
../Cellar/ooniprobe/2.2.0_1/bin/oonideckgen
lrwxr-xr-x? 1 sbgraves? admin??????? 41 Sep 18? 2018 ooniprobe -> 
../Cellar/ooniprobe/2.2.0_1/bin/ooniprobe
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Sep 18? 2018 ooniprobe-agent -> 
../Cellar/ooniprobe/2.2.0_1/bin/ooniprobe-agent
lrwxr-xr-x? 1 sbgraves? admin??????? 42 Sep 18? 2018 oonireport -> 
../Cellar/ooniprobe/2.2.0_1/bin/oonireport
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Sep 18? 2018 ooniresources -> 
../Cellar/ooniprobe/2.2.0_1/bin/ooniresources
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 opl2ofm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/opl2ofm
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 ot2kpx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ot2kpx
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 otangle -> 
/usr/local/texlive/2016/bin/x86_64-darwin/otangle
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 otfinfo -> 
/usr/local/texlive/2016/bin/x86_64-darwin/otfinfo
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 otftotfm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/otftotfm
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 otp2ocp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/otp2ocp
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 outocp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/outocp
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ovf2ovp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ovf2ovp
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ovp2ovf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ovp2ovf
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 pamphletangler -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pamphletangler
-rwxr-xr-x? 1 sbgraves? wheel? 79013056 Nov? 5? 2017 pandoc
-rwxr-xr-x? 1 sbgraves? wheel? 64388348 Nov? 5? 2017 pandoc-citeproc
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 patgen -> 
/usr/local/texlive/2016/bin/x86_64-darwin/patgen
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pbibtex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pbibtex
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jul 17? 2016 pcre-config -> 
../Cellar/pcre/8.39/bin/pcre-config
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Jul 17? 2016 pcregrep -> 
../Cellar/pcre/8.39/bin/pcregrep
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Jul 17? 2016 pcretest -> 
../Cellar/pcre/8.39/bin/pcretest
-rwxr-xr-x? 1 root????? wheel?????? 698 Mar 10 17:41 pdf2dsc
-rwxr-xr-x? 1 root????? wheel?????? 909 Mar 10 17:41 pdf2ps
lrwxr-xr-x? 1 sbgraves? admin??????? 59 Jan 13 17:42 pdfannotextractor 
-> /usr/local/texlive/2016/bin/x86_64-darwin/pdfannotextractor
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pdfatfi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfatfi
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pdfbook2 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfbook2
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pdfclose -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfclose
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pdfcrop -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfcrop
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 pdfcslatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfcslatex
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 pdfcsplain -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfcsplain
-rwxr-xr-x@ 1 sbgraves? admin?? 1643551 Jul 10? 2014 pdfdetach
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pdfetex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfetex
-rwxr-xr-x@ 1 sbgraves? admin?? 1643874 Jul 10? 2014 pdffonts
-rwxr-xr-x@ 1 sbgraves? admin?? 1649499 Jul 10? 2014 pdfimages
-rwxr-xr-x@ 1 sbgraves? admin?? 1648969 Jul 10? 2014 pdfinfo
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 pdfjadetex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfjadetex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pdfjam -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfjam
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 pdflatex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdflatex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 58 Jan 13 17:42 pdflatexpicscale -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdflatexpicscale
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pdfmex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfmex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pdfopen -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfopen
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pdftex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdftex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 pdftex-quiet -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdftex-quiet
-rwxr-xr-x? 1 root????? wheel????? 1246 Mar 27 22:19 pdftexi2dvi
-rwxr-xr-x@ 1 sbgraves? admin?? 2978488 Jul 10? 2014 pdftohtml
-rwxr-xr-x@ 1 sbgraves? admin?? 2902463 Jul 10? 2014 pdftopng
-rwxr-xr-x@ 1 sbgraves? admin?? 2823765 Jul 10? 2014 pdftoppm
-rwxr-xr-x@ 1 sbgraves? admin?? 2876542 Jul 10? 2014 pdftops
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pdftosrc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdftosrc
-rwxr-xr-x@ 1 sbgraves? admin?? 1764114 Jul 10? 2014 pdftotext
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 pdfxmltex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfxmltex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pdfxup -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdfxup
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pdvitomp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdvitomp
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pdvitype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pdvitype
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pedigree -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pedigree
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 perltex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/perltex
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Jul 17? 2016 perror -> 
../Cellar/mysql/5.7.13/bin/perror
-rwxr-xr-x? 1 root????? wheel?????? 498 Mar 10 17:41 pf2afm
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pfarrei -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pfarrei
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pfb2pfa -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pfb2pfa
-rwxr-xr-x? 1 root????? wheel?????? 516 Mar 10 17:41 pfbtopfa
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 pinky -> 
../Cellar/coreutils/8.31/bin/pinky
lrwxrwxr-x? 1 root????? admin??????? 66 Nov 26? 2018 pip3 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/pip3
lrwxrwxr-x? 1 sbgraves? admin??????? 68 Jun? 8? 2016 pip3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/pip3.5
lrwxrwxr-x? 1 root????? admin??????? 68 Nov 26? 2018 pip3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/pip3.7
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 pk2bm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pk2bm
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 pkfix -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pkfix
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 pkfix-helper -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pkfix-helper
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pktogf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pktogf
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pktype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pktype
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 platex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/platex
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 platex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/platex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pltotf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pltotf
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pmpost -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pmpost
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 pmxab -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pmxab
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 pmxchords -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pmxchords
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pn2pdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pn2pdf
lrwxr-xr-x? 1 sbgraves? admin??????? 40 Sep? 9? 2018 png-fix-itxt -> 
../Cellar/libpng/1.6.35/bin/png-fix-itxt
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Sep? 9? 2018 pngfix -> 
../Cellar/libpng/1.6.35/bin/pngfix
lrwxr-xr-x? 1 sbgraves? admin??????? 62 Jul 17? 2016 pocketsphinx_batch 
-> ../Cellar/cmu-pocketsphinx/HEAD-eef8300/bin/pocketsphinx_batch
lrwxr-xr-x? 1 sbgraves? admin??????? 67 Jul 17? 2016 
pocketsphinx_continuous -> 
../Cellar/cmu-pocketsphinx/HEAD-eef8300/bin/pocketsphinx_continuous
lrwxr-xr-x? 1 sbgraves? admin??????? 69 Jul 17? 2016 
pocketsphinx_mdef_convert -> 
../Cellar/cmu-pocketsphinx/HEAD-eef8300/bin/pocketsphinx_mdef_convert
-rwxr-xr-x? 1 root????? wheel???? 19846 Mar 27 22:19 pod2texi
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 pooltype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pooltype
-rwxr-xr-x? 1 root????? wheel?????? 404 Mar 10 17:41 pphs
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ppltotf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ppltotf
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 prepmx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/prepmx
-rwxr-xr-x? 1 root????? wheel?????? 395 Mar 10 17:41 printafm
-rwxr-xr-x? 1 root????? wheel?????? 631 Mar 10 17:41 ps2ascii
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 ps2eps -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ps2eps
-rwxr-xr-x? 1 root????? wheel????? 2752 Mar 10 17:41 ps2epsi
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ps2frag -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ps2frag
-rwxr-xr-x? 1 root????? wheel?????? 272 Mar 10 17:41 ps2pdf
-rwxr-xr-x? 1 root????? wheel?????? 215 Mar 10 17:41 ps2pdf12
-rwxr-xr-x? 1 root????? wheel?????? 215 Mar 10 17:41 ps2pdf13
-rwxr-xr-x? 1 root????? wheel?????? 215 Mar 10 17:41 ps2pdf14
-rwxr-xr-x? 1 root????? wheel????? 1078 Mar 10 17:41 ps2pdfwr
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 ps2pk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ps2pk
-rwxr-xr-x? 1 root????? wheel?????? 647 Mar 10 17:41 ps2ps
-rwxr-xr-x? 1 root????? wheel?????? 669 Mar 10 17:41 ps2ps2
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 ps4pdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ps4pdf
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 psbook -> 
/usr/local/texlive/2016/bin/x86_64-darwin/psbook
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 psjoin -> 
/usr/local/texlive/2016/bin/x86_64-darwin/psjoin
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pslatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pslatex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 psnup -> 
/usr/local/texlive/2016/bin/x86_64-darwin/psnup
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 psresize -> 
/usr/local/texlive/2016/bin/x86_64-darwin/psresize
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 psselect -> 
/usr/local/texlive/2016/bin/x86_64-darwin/psselect
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 pst2pdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pst2pdf
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 pstops -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pstops
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 ptex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ptex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 ptex2pdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ptex2pdf
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ptftopl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ptftopl
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 ptx -> 
../Cellar/coreutils/8.31/bin/ptx
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 purifyeps -> 
/usr/local/texlive/2016/bin/x86_64-darwin/purifyeps
lrwxr-xr-x? 1 root????? wheel??????? 68 Nov 26? 2018 pydoc3 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/pydoc3
lrwxr-xr-x? 1 sbgraves? wheel??????? 70 Jun? 8? 2016 pydoc3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/pydoc3.5
lrwxr-xr-x? 1 root????? wheel??????? 70 Nov 26? 2018 pydoc3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/pydoc3.7
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 pygmentex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pygmentex
lrwxr-xr-x? 1 root????? wheel??????? 69 Nov 26? 2018 python3 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3
lrwxr-xr-x? 1 root????? wheel??????? 72 Nov 26? 2018 python3-32 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3-32
lrwxr-xr-x? 1 root????? wheel??????? 76 Nov 26? 2018 python3-config -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3-config
lrwxr-xr-x? 1 sbgraves? wheel??????? 71 Jun? 8? 2016 python3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5
lrwxr-xr-x? 1 sbgraves? wheel??????? 74 Jun? 8? 2016 python3.5-32 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5-32
lrwxr-xr-x? 1 sbgraves? wheel??????? 78 Jun? 8? 2016 python3.5-config -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5-config
lrwxr-xr-x? 1 sbgraves? wheel??????? 72 Jun? 8? 2016 python3.5m -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5m
lrwxr-xr-x? 1 sbgraves? wheel??????? 79 Jun? 8? 2016 python3.5m-config 
-> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5m-config
lrwxr-xr-x? 1 root????? wheel??????? 71 Nov 26? 2018 python3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7
lrwxr-xr-x? 1 root????? wheel??????? 74 Nov 26? 2018 python3.7-32 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7-32
lrwxr-xr-x? 1 root????? wheel??????? 78 Nov 26? 2018 python3.7-config -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7-config
lrwxr-xr-x? 1 root????? wheel??????? 72 Nov 26? 2018 python3.7m -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7m
lrwxr-xr-x? 1 root????? wheel??????? 79 Nov 26? 2018 python3.7m-config 
-> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7m-config
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 pythontex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/pythontex
lrwxr-xr-x? 1 root????? wheel??????? 68 Nov 26? 2018 pyvenv -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/pyvenv
lrwxr-xr-x? 1 sbgraves? wheel??????? 72 Jun? 8? 2016 pyvenv-3.5 -> 
../../../Library/Frameworks/Python.framework/Versions/3.5/bin/pyvenv-3.5
lrwxr-xr-x? 1 root????? wheel??????? 72 Nov 26? 2018 pyvenv-3.7 -> 
../../../Library/Frameworks/Python.framework/Versions/3.7/bin/pyvenv-3.7
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 r-mpost -> 
/usr/local/texlive/2016/bin/x86_64-darwin/r-mpost
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 r-pmpost -> 
/usr/local/texlive/2016/bin/x86_64-darwin/r-pmpost
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 r-upmpost -> 
/usr/local/texlive/2016/bin/x86_64-darwin/r-upmpost
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 rdf2bin -> 
../Cellar/nasm/2.14/bin/rdf2bin
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 rdf2com -> 
../Cellar/nasm/2.14/bin/rdf2com
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 rdf2ihx -> 
../Cellar/nasm/2.14/bin/rdf2ihx
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 rdf2ith -> 
../Cellar/nasm/2.14/bin/rdf2ith
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Dec? 9? 2018 rdf2srec -> 
../Cellar/nasm/2.14/bin/rdf2srec
lrwxr-xr-x? 1 sbgraves? admin??????? 31 Dec? 9? 2018 rdfdump -> 
../Cellar/nasm/2.14/bin/rdfdump
lrwxr-xr-x? 1 sbgraves? admin??????? 30 Dec? 9? 2018 rdflib -> 
../Cellar/nasm/2.14/bin/rdflib
lrwxr-xr-x? 1 sbgraves? admin??????? 27 Dec? 9? 2018 rdx -> 
../Cellar/nasm/2.14/bin/rdx
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 realpath -> 
../Cellar/coreutils/8.31/bin/realpath
lrwxr-xr-x? 1 sbgraves? admin??????? 46 May 13 14:53 recode-sr-latin -> 
../Cellar/gettext/0.20.2_1/bin/recode-sr-latin
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Jul 17? 2016 replace -> 
../Cellar/mysql/5.7.13/bin/replace
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 repstopdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/repstopdf
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jul 17? 2016 resolve_stack_dump 
-> ../Cellar/mysql/5.7.13/bin/resolve_stack_dump
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Jul 17? 2016 resolveip -> 
../Cellar/mysql/5.7.13/bin/resolveip
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 rpdfcrop -> 
/usr/local/texlive/2016/bin/x86_64-darwin/rpdfcrop
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 rubibtex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/rubibtex
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 rubikrotation -> 
/usr/local/texlive/2016/bin/x86_64-darwin/rubikrotation
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 rumakeindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/rumakeindex
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 runcon -> 
../Cellar/coreutils/8.31/bin/runcon
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 rungs -> 
/usr/local/texlive/2016/bin/x86_64-darwin/rungs
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 scor2prt -> 
/usr/local/texlive/2016/bin/x86_64-darwin/scor2prt
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Dec? 9? 2018 sdl2-config -> 
../Cellar/sdl2/2.0.9/bin/sdl2-config
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Jul 17? 2016 searchd -> 
../Cellar/sphinx/2.2.10/bin/searchd
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 sha1sum -> 
../Cellar/coreutils/8.31/bin/sha1sum
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 sha224sum -> 
../Cellar/coreutils/8.31/bin/sha224sum
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 sha256sum -> 
../Cellar/coreutils/8.31/bin/sha256sum
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 sha384sum -> 
../Cellar/coreutils/8.31/bin/sha384sum
lrwxr-xr-x? 1 sbgraves? admin??????? 38 Nov? 2? 2019 sha512sum -> 
../Cellar/coreutils/8.31/bin/sha512sum
lrwxr-xr-x? 1 sbgraves? admin??????? 34 Nov? 2? 2019 shred -> 
../Cellar/coreutils/8.31/bin/shred
lrwxr-xr-x? 1 sbgraves? admin??????? 33 Nov? 2? 2019 shuf -> 
../Cellar/coreutils/8.31/bin/shuf
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 simpdftex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/simpdftex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 sjisconv -> 
/usr/local/texlive/2016/bin/x86_64-darwin/sjisconv
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 sjislatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/sjislatex
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 sjispdflatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/sjispdflatex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jul 17? 2016 sndfile-resample -> 
../Cellar/libsamplerate/0.1.8/bin/sndfile-resample
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jul 17? 2016 spelldump -> 
../Cellar/sphinx/2.2.10/bin/spelldump
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jul 17? 2016 sphinx_cepview -> 
../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_cepview
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jul 17? 2016 sphinx_cont_seg -> 
../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_cont_seg
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jul 17? 2016 sphinx_fe -> 
../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_fe
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jul 17? 2016 sphinx_jsgf2fsg -> 
../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_jsgf2fsg
lrwxr-xr-x? 1 sbgraves? admin??????? 59 Jul 17? 2016 sphinx_lm_convert 
-> ../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_lm_convert
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jul 17? 2016 sphinx_lm_eval -> 
../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_lm_eval
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jul 17? 2016 sphinx_pitch -> 
../Cellar/cmu-sphinxbase/HEAD-ff848fe/bin/sphinx_pitch
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 splitindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/splitindex
-rwxr-xr-x? 1 root????? wheel???? 27786 Mar 22? 2017 sqlite3_analyzer
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 srcredact -> 
/usr/local/texlive/2016/bin/x86_64-darwin/srcredact
lrwxr-xr-x? 1 sbgraves? admin??????? 35 Nov? 2? 2019 stdbuf -> 
../Cellar/coreutils/8.31/bin/stdbuf
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 sty2dtx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/sty2dtx
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 svn-multi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/svn-multi
lrwxr-xr-x? 1 sbgraves? admin??????? 30 Jul 17? 2016 swig -> 
../Cellar/swig/3.0.10/bin/swig
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 synctex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/synctex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 t1ascii -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1ascii
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 t1asm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1asm
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 t1binary -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1binary
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 t1disasm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1disasm
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 t1dotlessj -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1dotlessj
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 t1lint -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1lint
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 t1mac -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1mac
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 t1rawafm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1rawafm
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 t1reencode -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1reencode
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 t1testpage -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1testpage
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 t1unmac -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t1unmac
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 t4ht -> 
/usr/local/texlive/2016/bin/x86_64-darwin/t4ht
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Nov? 2? 2019 tac -> 
../Cellar/coreutils/8.31/bin/tac
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 tangle -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tangle
-rwxr-xr-x? 1 root????? wheel???? 32160 Mar 29 16:10 tclsh8.6
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 teckit_compile -> 
/usr/local/texlive/2016/bin/x86_64-darwin/teckit_compile
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 tex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 tex2aspc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tex2aspc
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 tex2xindy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tex2xindy
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 tex4ebook -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tex4ebook
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 tex4ht -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tex4ht
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 texconfig -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texconfig
lrwxr-xr-x? 1 sbgraves? admin??????? 58 Jan 13 17:42 texconfig-dialog -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texconfig-dialog
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 texconfig-sys -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texconfig-sys
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 texcount -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texcount
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 texdef -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texdef
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 texdiff -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texdiff
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 texdirflatten -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texdirflatten
lrwxr-xr-x? 1 sbgraves? admin??????? 29 Jul 27? 2016 texdist -> 
/Library/TeX/.scripts/texdist
lrwxr-xr-x? 1 sbgraves? admin??????? 81 Oct 13? 2015 texdistmgr -> 
/Library/PreferencePanes/TeXDistPrefPane.prefPane/Contents/Executables/texdistmgr
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 texdoc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texdoc
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 texdoctk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texdoctk
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 texexec -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texexec
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 texfot -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texfot
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 texhash -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texhash
-rwxr-xr-x? 1 root????? wheel???? 50192 Mar 27 22:19 texi2any
-rwxr-xr-x? 1 root????? wheel???? 59828 Mar 27 22:19 texi2dvi
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Jan? 3? 2018 texi2html -> 
../Cellar/texi2html/5.0/bin/texi2html
-rwxr-xr-x? 1 root????? wheel????? 1246 Mar 27 22:19 texi2pdf
-rwxr-xr-x? 1 root????? wheel????? 4002 Mar 27 22:19 texindex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 texindy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texindy
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 texlinks -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texlinks
lrwxr-xr-x? 1 sbgraves? admin??????? 54 Jan 13 17:42 texliveonfly -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texliveonfly
lrwxr-xr-x? 1 sbgraves? admin??????? 56 Jan 13 17:42 texloganalyser -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texloganalyser
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 texlua -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texlua
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 texluac -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texluac
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 texluajit -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texluajit
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 texluajitc -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texluajitc
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 texmfstart -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texmfstart
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 texosquery -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texosquery
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 texosquery-jre5 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texosquery-jre5
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 texosquery-jre8 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texosquery-jre8
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 texsis -> 
/usr/local/texlive/2016/bin/x86_64-darwin/texsis
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 tftopl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tftopl
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 thumbpdf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/thumbpdf
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 tie -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tie
lrwxr-xr-x? 1 sbgraves? admin??????? 36 Nov? 2? 2019 timeout -> 
../Cellar/coreutils/8.31/bin/timeout
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 tlcockpit -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tlcockpit
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 tlmgr -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tlmgr
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 tlshell -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tlshell
lrwxr-xr-x? 1 sbgraves? admin??????? 29 Sep 18? 2018 tor -> 
../Cellar/tor/0.3.4.8/bin/tor
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Sep 18? 2018 tor-gencert -> 
../Cellar/tor/0.3.4.8/bin/tor-gencert
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Sep 18? 2018 tor-resolve -> 
../Cellar/tor/0.3.4.8/bin/tor-resolve
lrwxr-xr-x? 1 sbgraves? admin??????? 32 Sep 18? 2018 torify -> 
../Cellar/tor/0.3.4.8/bin/torify
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 tpic2pdftex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/tpic2pdftex
lrwxr-xr-x? 1 sbgraves? admin??????? 37 Nov? 2? 2019 truncate -> 
../Cellar/coreutils/8.31/bin/truncate
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ttf2afm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ttf2afm
lrwxr-xr-x? 1 sbgraves? admin??????? 55 Jan 13 17:42 ttf2kotexfont -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ttf2kotexfont
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 ttf2pk -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ttf2pk
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ttf2tfm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ttf2tfm
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 ttfdump -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ttfdump
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 ttftotype42 -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ttftotype42
lrwxr-xr-x? 1 sbgraves? admin??????? 57 Jan 13 17:42 typeoutfileinfo -> 
/usr/local/texlive/2016/bin/x86_64-darwin/typeoutfileinfo
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 ulqda -> 
/usr/local/texlive/2016/bin/x86_64-darwin/ulqda
-rwxr-xr-x? 1 root????? wheel????? 4165 Mar 10 17:41 unix-lpr.sh
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 upbibtex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/upbibtex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 updmap -> 
/usr/local/texlive/2016/bin/x86_64-darwin/updmap
lrwxr-xr-x? 1 sbgraves? admin??????? 52 Jan 13 17:42 updmap-sys -> 
/usr/local/texlive/2016/bin/x86_64-darwin/updmap-sys
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 updmap-user -> 
/usr/local/texlive/2016/bin/x86_64-darwin/updmap-user
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 updvitomp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/updvitomp
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 updvitype -> 
/usr/local/texlive/2016/bin/x86_64-darwin/updvitype
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 uplatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/uplatex
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 uplatex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/uplatex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 upmendex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/upmendex
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 upmpost -> 
/usr/local/texlive/2016/bin/x86_64-darwin/upmpost
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 uppltotf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/uppltotf
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 uptex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/uptex
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 uptftopl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/uptftopl
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 urlbst -> 
/usr/local/texlive/2016/bin/x86_64-darwin/urlbst
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 utf8mex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/utf8mex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 vftovp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/vftovp
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 vlna -> 
/usr/local/texlive/2016/bin/x86_64-darwin/vlna
lrwxr-xr-x? 1 sbgraves? admin??????? 45 Jan 13 17:42 vpe -> 
/usr/local/texlive/2016/bin/x86_64-darwin/vpe
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 vpl2ovp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/vpl2ovp
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 vpl2vpl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/vpl2vpl
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 vptovf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/vptovf
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 weave -> 
/usr/local/texlive/2016/bin/x86_64-darwin/weave
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 webquiz -> 
/usr/local/texlive/2016/bin/x86_64-darwin/webquiz
-rwxrwxr-x? 1 sbgraves? wheel?????? 286 Apr? 1? 2016 wftopfa
-rwxr-xr-x? 1 root????? wheel???? 40704 Mar 29 16:10 wish8.6
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 wofm2opl -> 
/usr/local/texlive/2016/bin/x86_64-darwin/wofm2opl
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 wopl2ofm -> 
/usr/local/texlive/2016/bin/x86_64-darwin/wopl2ofm
lrwxr-xr-x? 1 sbgraves? admin??????? 39 Jul 17? 2016 wordbreaker -> 
../Cellar/sphinx/2.2.10/bin/wordbreaker
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 wordcount -> 
/usr/local/texlive/2016/bin/x86_64-darwin/wordcount
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 wovf2ovp -> 
/usr/local/texlive/2016/bin/x86_64-darwin/wovf2ovp
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 wovp2ovf -> 
/usr/local/texlive/2016/bin/x86_64-darwin/wovp2ovf
lrwxr-xr-x? 1 sbgraves? admin??????? 29 Jul 16? 2016 x264 -> 
../Cellar/x264/r2668/bin/x264
lrwxr-xr-x? 1 sbgraves? admin??????? 27 Dec? 9? 2018 x265 -> 
../Cellar/x265/2.9/bin/x265
-rwxr-xr-x? 1 sbgraves? wheel??? 942344 Nov 25? 2013 
x86_64-apple-darwin13.0.0-gfortran
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 xasy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xasy
lrwxr-xr-x? 1 sbgraves? admin??????? 46 Jan 13 17:42 xdvi -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xdvi
lrwxr-xr-x? 1 sbgraves? admin??????? 50 Jan 13 17:42 xdvi-xaw -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xdvi-xaw
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 xdvipdfmx -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xdvipdfmx
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 xelatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xelatex
lrwxr-xr-x? 1 sbgraves? admin??????? 53 Jan 13 17:42 xelatex-dev -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xelatex-dev
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 xetex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xetex
lrwxr-xr-x? 1 sbgraves? admin??????? 39 May 13 14:53 xgettext -> 
../Cellar/gettext/0.20.2_1/bin/xgettext
lrwxr-xr-x? 1 sbgraves? admin??????? 49 Jan 13 17:42 xhlatex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xhlatex
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 xindex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xindex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 xindy -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xindy
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 xindy.mem -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xindy.mem
lrwxr-xr-x? 1 sbgraves? admin??????? 51 Jan 13 17:42 xindy.run -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xindy.run
lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 xmltex -> 
/usr/local/texlive/2016/bin/x86_64-darwin/xmltex
lrwxr-xr-x? 1 sbgraves? admin??????? 47 Jan 13 17:42 yplan -> 
/usr/local/texlive/2016/bin/x86_64-darwin/yplan
lrwxr-xr-x? 1 sbgraves? admin??????? 42 Jul 17? 2016 zlib_decompress -> 
../Cellar/mysql/5.7.13/bin/zlib_decompress
>>
>> I haven't been paying that close attention, but I think the history is
>> that TeX programs used to live in /usr/local/bin, but then Apple did
>> something(?)  so now they go to Library/TeX/texbin (and are really
>> links that via several levels of indirection end up somewhere in
>> /usr/local/texlive).  However, old installs may still have binaries or
>> links in /usr/local/bin.  I would guess that a simple
>>
>> sudo rm /usr/local/bin/pdflatex
>>
>> could work (possibly remove some other *tex programs as well).
>>
>> -pd
> [...]
>
>


From e| @end|ng |rom ||@@e@NA  Thu May 14 01:16:07 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Thu, 14 May 2020 01:16:07 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
Message-ID: <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>

Spencer,

If you just google

	https://www.google.com/search?q=uninstallpkg

the first link coming up is the right one.  But see below.


Do you have a ~/Downloads directory?  Did you look in there?


So the removing of /usr/local/bin/pdflatex did not remove the old 2019
version.  Which is why I proposed uninstallPKG to get rid of all the old
crud.

To be honest, I reckon you should run TimeMachine and then re-install
Catalina after reformatting your hard disk, restore your home directory
and then carefully (step by step) install the Xcode Command Lime Tools,
homebrew, MacTeX and R, which will give you a known state.

I like to have a consistent, known state, with only one (the latest if
possible) version of everything and if possible via the Software Update
or a package manager (homebrew).


homebrew has what is called Casks, which installs proper MacApps (often
from the original developers? site).  I check regularly whether there
are (new) casks for apps I have manually installed which I then install
(overwrite) so a

	brew upgrade
	brew cask upgrade

will sort me out

btw, I just looked and

	brew cask install uninstallpkg

will do the deed nicely.

el

On 2020-05-13 23:31 , Spencer Graves wrote:
>       Thank you all for your comments on this.  I'm overwhelmed, not
> just with the volume of the discussion, but my own ignorance of the
> standard command line protocols.
>
>
>       After trying some but on all of Eberhard Lisse's and Peter
> Dalgaard's suggestions below, the problem disappeard after I executed
> "sudo rm /usr/local/bin/pdflatex".  I tested "R CMD check
> Ecfun_0.2-4.tar.gz" right before I did that, and the problem was still
> there.  It disappeared right after I did that.
>
>
>       Lisse's "UninstallPKG" might have been more graceful, but I
> couldn't find the key to that padlock, so I used something that seems
> more like boltcutters instead -- and it worked.
>
>
>       Thanks again,
>       Spencer Graves
>
>
> On 2020-05-13 09:57, Dr Eberhard W Lisse wrote:
>> Peter,
>>
>> as far as I understand this the idea is to make the binaries of whatever
>> MacTeX you use available in
>>
>>     /Library/TeX/texbin
>
>
>       Finder says this was installed yesterday, presumably when I
> installed MacTex.
>>
>> so that it survives the (annual) upgrade of MacTeX or a switch from the
>> Basic to the Big MacTeX or whatever.
>>
>>
>> I would personally not remove the pdflatex, but find something like
>> UninstallPKG
>
>
>       How do I find something like "UninstallPKG"?
>
>
>> and then locate MacTeX in there and remove that (all
>> versions, so all old crud goes away.
>>
>> If you, like me, use MacTeXBasic you can do something like
>
>
>       I don't think I'm using MacTexBasic, but I'm not a big LaTeX user,
> beyond trying to make RMarkdown work these days (and having used LaTeX
> when writing "Functional Data Analysis with R and Matlab with Ramsay and
> Hooker over a decade ago).
>
>>
>>     if [ ! -x /usr/local/bin/gawk ]
>
>
>       I don't seem to have gawk installed, at least not there, and
> "gawk" at a Terminal prompt returned, "-bash: gawk: command not found".
>
>>     then
>>         brew install gawk
>
>
>       I did that, and it seemed to work.  It started "Updating
> Homebrew..." and ended 'For compilers to find readline you may need to
> set:  export LDFLAGS="-L/usr/local/opt/readline/lib";  export
> CPPFLAGS="-I/usr/local/opt/readline/include"'.
>
>>     fi
>>     tlmgr list --only-installed \
>>        | gawk '{gsub(/:/, ""); print $2}' \
>>        > ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt
>
>
>       I tried that.  It executed quickly with no output.
>>
>> before uninstalling the old packages,
>
>
>       I don't know what to uninstall nor how to do it nor how to even
> find what I should uninstall, other than ask here (or maybe at
> tex.stackexchange, as Dirk Eddelbuettel had suggested).
>
>
>> then you install the latest and
>> greatest MacTeXBasic
>
>
>       I installed MacTex yesterday, as I indicated earlier in this
> thread.  That may not be enough, but I will skip that for the moment.
>
>
>> and run something like
>>
>>     tlmgr update --self
>
>
>       I did this in /Library/TeX/texbin as follows:
>
>
> texbin sbgraves$ tlmgr update --self
>
> tlmgr: Local TeX Live (2019) is older than remote repository (2020).
> Cross release updates are only supported with
>   update-tlmgr-latest(.sh/.exe) --update
> See https://tug.org/texlive/upgrade.html for details.
>
>
>       That link starts with, "By default, please get the new TL by doing
> a new installation instead of proceeding here."  Clicking "here" took me
> to where I was yesterday, when I installed MacTex-2020, which seems to
> have gone into "/user/local/texlive/2020".  I also found under
> "/user/local/texlive" subdirectories for 2014, and 2016 but not 2019.
>
>
>>     tlmgr install $(cat ~/Downloads/texlive.$(date
>> +%Y-%m-%d).installed.txt)
>
>
>       This gave me the same message as "tlmgr update --self".
>>
>> and, perhaps
>>
>>     perl -i -p \
>>         -e 's+\$SELFAUTOPARENT/+/usr/local/texlive/+' \
>>         /usr/local/texlive/2020basic/texmf.cnf
>>     texhash
>
>
>       I have "/user/local/texlive/2020" but not "2020basic", as I
> indicated above.  I think I'll skip this for the moment.
>>
>> :-)-O
>>
>> Nowadays, you can just
>>
>>     sudo rm -rf /usr/local/texlive/2019basic
>>
>> and if you use homebrew you might have /usr/local owned by yourself so
>> you don't need the sudo.
>>
>> Time Machine is your friend (as I just noticed) :-)-O
>>
>> el
>>
>>
>> On 13/05/2020 15:34, peter dalgaard wrote:
>>> Hmm, like Eberhard, I'm not too sure this is right.
>>>
>>> A look at ls -l /usr/local/bin should be informative though.
>
>
> ls -l /usr/local/bin
> total 460456
[...]
>>>
>>> I haven't been paying that close attention, but I think the history is
>>> that TeX programs used to live in /usr/local/bin, but then Apple did
>>> something(?)  so now they go to Library/TeX/texbin (and are really
>>> links that via several levels of indirection end up somewhere in
>>> /usr/local/texlive).  However, old installs may still have binaries or
>>> links in /usr/local/bin.  I would guess that a simple
>>>
>>> sudo rm /usr/local/bin/pdflatex
>>>
>>> could work (possibly remove some other *tex programs as well).
>>>
>>> -pd
[...]

-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Thu May 14 01:21:49 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 13 May 2020 18:21:49 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
Message-ID: <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>

Hi, Eberhard:


 ????? Please excuse:? I've already solved this problem.? "sudo rm 
/usr/local/bin/pdflatex" did the trick.


 ?????? You may be right that I should reformat my hard drive and 
restore from my TimeMachine.? However, that sounds too much like 
"do-it-yourself lobotomy" to me.? I don't plan to try that right now.


 ????? Thanks again for your suggestions.
 ????? Spencer


On 2020-05-13 18:16, Dr Eberhard W Lisse wrote:
> Spencer,
>
> If you just google
>
> 	https://www.google.com/search?q=uninstallpkg
>
> the first link coming up is the right one.  But see below.
>
>
> Do you have a ~/Downloads directory?  Did you look in there?
>
>
> So the removing of /usr/local/bin/pdflatex did not remove the old 2019
> version.  Which is why I proposed uninstallPKG to get rid of all the old
> crud.
>
> To be honest, I reckon you should run TimeMachine and then re-install
> Catalina after reformatting your hard disk, restore your home directory
> and then carefully (step by step) install the Xcode Command Lime Tools,
> homebrew, MacTeX and R, which will give you a known state.
>
> I like to have a consistent, known state, with only one (the latest if
> possible) version of everything and if possible via the Software Update
> or a package manager (homebrew).
>
>
> homebrew has what is called Casks, which installs proper MacApps (often
> from the original developers? site).  I check regularly whether there
> are (new) casks for apps I have manually installed which I then install
> (overwrite) so a
>
> 	brew upgrade
> 	brew cask upgrade
>
> will sort me out
>
> btw, I just looked and
>
> 	brew cask install uninstallpkg
>
> will do the deed nicely.
>
> el
>
> On 2020-05-13 23:31 , Spencer Graves wrote:
>>        Thank you all for your comments on this.  I'm overwhelmed, not
>> just with the volume of the discussion, but my own ignorance of the
>> standard command line protocols.
>>
>>
>>        After trying some but on all of Eberhard Lisse's and Peter
>> Dalgaard's suggestions below, the problem disappeard after I executed
>> "sudo rm /usr/local/bin/pdflatex".  I tested "R CMD check
>> Ecfun_0.2-4.tar.gz" right before I did that, and the problem was still
>> there.  It disappeared right after I did that.
>>
>>
>>        Lisse's "UninstallPKG" might have been more graceful, but I
>> couldn't find the key to that padlock, so I used something that seems
>> more like boltcutters instead -- and it worked.
>>
>>
>>        Thanks again,
>>        Spencer Graves
>>
>>
>> On 2020-05-13 09:57, Dr Eberhard W Lisse wrote:
>>> Peter,
>>>
>>> as far as I understand this the idea is to make the binaries of whatever
>>> MacTeX you use available in
>>>
>>>      /Library/TeX/texbin
>>
>>        Finder says this was installed yesterday, presumably when I
>> installed MacTex.
>>> so that it survives the (annual) upgrade of MacTeX or a switch from the
>>> Basic to the Big MacTeX or whatever.
>>>
>>>
>>> I would personally not remove the pdflatex, but find something like
>>> UninstallPKG
>>
>>        How do I find something like "UninstallPKG"?
>>
>>
>>> and then locate MacTeX in there and remove that (all
>>> versions, so all old crud goes away.
>>>
>>> If you, like me, use MacTeXBasic you can do something like
>>
>>        I don't think I'm using MacTexBasic, but I'm not a big LaTeX user,
>> beyond trying to make RMarkdown work these days (and having used LaTeX
>> when writing "Functional Data Analysis with R and Matlab with Ramsay and
>> Hooker over a decade ago).
>>
>>>      if [ ! -x /usr/local/bin/gawk ]
>>
>>        I don't seem to have gawk installed, at least not there, and
>> "gawk" at a Terminal prompt returned, "-bash: gawk: command not found".
>>
>>>      then
>>>          brew install gawk
>>
>>        I did that, and it seemed to work.  It started "Updating
>> Homebrew..." and ended 'For compilers to find readline you may need to
>> set:  export LDFLAGS="-L/usr/local/opt/readline/lib";  export
>> CPPFLAGS="-I/usr/local/opt/readline/include"'.
>>
>>>      fi
>>>      tlmgr list --only-installed \
>>>         | gawk '{gsub(/:/, ""); print $2}' \
>>>         > ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt
>>
>>        I tried that.  It executed quickly with no output.
>>> before uninstalling the old packages,
>>
>>        I don't know what to uninstall nor how to do it nor how to even
>> find what I should uninstall, other than ask here (or maybe at
>> tex.stackexchange, as Dirk Eddelbuettel had suggested).
>>
>>
>>> then you install the latest and
>>> greatest MacTeXBasic
>>
>>        I installed MacTex yesterday, as I indicated earlier in this
>> thread.  That may not be enough, but I will skip that for the moment.
>>
>>
>>> and run something like
>>>
>>>      tlmgr update --self
>>
>>        I did this in /Library/TeX/texbin as follows:
>>
>>
>> texbin sbgraves$ tlmgr update --self
>>
>> tlmgr: Local TeX Live (2019) is older than remote repository (2020).
>> Cross release updates are only supported with
>>    update-tlmgr-latest(.sh/.exe) --update
>> See https://tug.org/texlive/upgrade.html for details.
>>
>>
>>        That link starts with, "By default, please get the new TL by doing
>> a new installation instead of proceeding here."  Clicking "here" took me
>> to where I was yesterday, when I installed MacTex-2020, which seems to
>> have gone into "/user/local/texlive/2020".  I also found under
>> "/user/local/texlive" subdirectories for 2014, and 2016 but not 2019.
>>
>>
>>>      tlmgr install $(cat ~/Downloads/texlive.$(date
>>> +%Y-%m-%d).installed.txt)
>>
>>        This gave me the same message as "tlmgr update --self".
>>> and, perhaps
>>>
>>>      perl -i -p \
>>>          -e 's+\$SELFAUTOPARENT/+/usr/local/texlive/+' \
>>>          /usr/local/texlive/2020basic/texmf.cnf
>>>      texhash
>>
>>        I have "/user/local/texlive/2020" but not "2020basic", as I
>> indicated above.  I think I'll skip this for the moment.
>>> :-)-O
>>>
>>> Nowadays, you can just
>>>
>>>      sudo rm -rf /usr/local/texlive/2019basic
>>>
>>> and if you use homebrew you might have /usr/local owned by yourself so
>>> you don't need the sudo.
>>>
>>> Time Machine is your friend (as I just noticed) :-)-O
>>>
>>> el
>>>
>>>
>>> On 13/05/2020 15:34, peter dalgaard wrote:
>>>> Hmm, like Eberhard, I'm not too sure this is right.
>>>>
>>>> A look at ls -l /usr/local/bin should be informative though.
>>
>> ls -l /usr/local/bin
>> total 460456
> [...]
>>>> I haven't been paying that close attention, but I think the history is
>>>> that TeX programs used to live in /usr/local/bin, but then Apple did
>>>> something(?)  so now they go to Library/TeX/texbin (and are really
>>>> links that via several levels of indirection end up somewhere in
>>>> /usr/local/texlive).  However, old installs may still have binaries or
>>>> links in /usr/local/bin.  I would guess that a simple
>>>>
>>>> sudo rm /usr/local/bin/pdflatex
>>>>
>>>> could work (possibly remove some other *tex programs as well).
>>>>
>>>> -pd
> [...]
>


From pd@|gd @end|ng |rom gm@||@com  Thu May 14 09:51:33 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Thu, 14 May 2020 09:51:33 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
Message-ID: <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>

Well, you solved the immediate problem. However, you could get in trouble later with other tools from the 2016 TeXlive set, which seems to be what you have lingering. 

There doesn't seem to be an uninstaller that removes the symlinks on Mac. So...

Either: (a) remove all links manually plus the entire /usr/local/texlive/2016 tree. 
Or: (b) ensure that the current TeXlive stuff is found ahead of /usr/local/bin

(a) is a bit painful when it comes to the symlinks. There are likely around 450 of them. Of course, only a handful are ever used, so once /usr/local/texlive/2016 is gone, you just get a 'not found' type error and can remove the offending link one at a time. It is possible to automate it, but a bit dangerous if you get it wrong... Something like

ls -l /usr/local/bin | grep 'texlive/2016' | awk '{print $9}'

should give you a list. (...which with a bit of diligence, you can have removed in one swoop, but...)

(b) is more expedient (but leaves the mess in /usr/local/bin): edit /etc/paths with, like,

sudo nano /etc/paths

insert /Library/TeX/texbin at the top and save. Then, for good measure

sudo rm /etc/paths.d/TeX

so that it isn't in $PATH twice.


-pd

> On 14 May 2020, at 01:21 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hi, Eberhard:
> 
> 
>       Please excuse:  I've already solved this problem.  "sudo rm /usr/local/bin/pdflatex" did the trick.
> 
> 
>        You may be right that I should reformat my hard drive and restore from my TimeMachine.  However, that sounds too much like "do-it-yourself lobotomy" to me.  I don't plan to try that right now.
> 
> 
>       Thanks again for your suggestions.
>       Spencer
> 
> 
> On 2020-05-13 18:16, Dr Eberhard W Lisse wrote:
>> Spencer,
>> 
>> If you just google
>> 
>> 	https://www.google.com/search?q=uninstallpkg
>> 
>> the first link coming up is the right one.  But see below.
>> 
>> 
>> Do you have a ~/Downloads directory?  Did you look in there?
>> 
>> 
>> So the removing of /usr/local/bin/pdflatex did not remove the old 2019
>> version.  Which is why I proposed uninstallPKG to get rid of all the old
>> crud.
>> 
>> To be honest, I reckon you should run TimeMachine and then re-install
>> Catalina after reformatting your hard disk, restore your home directory
>> and then carefully (step by step) install the Xcode Command Lime Tools,
>> homebrew, MacTeX and R, which will give you a known state.
>> 
>> I like to have a consistent, known state, with only one (the latest if
>> possible) version of everything and if possible via the Software Update
>> or a package manager (homebrew).
>> 
>> 
>> homebrew has what is called Casks, which installs proper MacApps (often
>> from the original developers? site).  I check regularly whether there
>> are (new) casks for apps I have manually installed which I then install
>> (overwrite) so a
>> 
>> 	brew upgrade
>> 	brew cask upgrade
>> 
>> will sort me out
>> 
>> btw, I just looked and
>> 
>> 	brew cask install uninstallpkg
>> 
>> will do the deed nicely.
>> 
>> el
>> 
>> On 2020-05-13 23:31 , Spencer Graves wrote:
>>>       Thank you all for your comments on this.  I'm overwhelmed, not
>>> just with the volume of the discussion, but my own ignorance of the
>>> standard command line protocols.
>>> 
>>> 
>>>       After trying some but on all of Eberhard Lisse's and Peter
>>> Dalgaard's suggestions below, the problem disappeard after I executed
>>> "sudo rm /usr/local/bin/pdflatex".  I tested "R CMD check
>>> Ecfun_0.2-4.tar.gz" right before I did that, and the problem was still
>>> there.  It disappeared right after I did that.
>>> 
>>> 
>>>       Lisse's "UninstallPKG" might have been more graceful, but I
>>> couldn't find the key to that padlock, so I used something that seems
>>> more like boltcutters instead -- and it worked.
>>> 
>>> 
>>>       Thanks again,
>>>       Spencer Graves
>>> 
>>> 
>>> On 2020-05-13 09:57, Dr Eberhard W Lisse wrote:
>>>> Peter,
>>>> 
>>>> as far as I understand this the idea is to make the binaries of whatever
>>>> MacTeX you use available in
>>>> 
>>>>     /Library/TeX/texbin
>>> 
>>>       Finder says this was installed yesterday, presumably when I
>>> installed MacTex.
>>>> so that it survives the (annual) upgrade of MacTeX or a switch from the
>>>> Basic to the Big MacTeX or whatever.
>>>> 
>>>> 
>>>> I would personally not remove the pdflatex, but find something like
>>>> UninstallPKG
>>> 
>>>       How do I find something like "UninstallPKG"?
>>> 
>>> 
>>>> and then locate MacTeX in there and remove that (all
>>>> versions, so all old crud goes away.
>>>> 
>>>> If you, like me, use MacTeXBasic you can do something like
>>> 
>>>       I don't think I'm using MacTexBasic, but I'm not a big LaTeX user,
>>> beyond trying to make RMarkdown work these days (and having used LaTeX
>>> when writing "Functional Data Analysis with R and Matlab with Ramsay and
>>> Hooker over a decade ago).
>>> 
>>>>     if [ ! -x /usr/local/bin/gawk ]
>>> 
>>>       I don't seem to have gawk installed, at least not there, and
>>> "gawk" at a Terminal prompt returned, "-bash: gawk: command not found".
>>> 
>>>>     then
>>>>         brew install gawk
>>> 
>>>       I did that, and it seemed to work.  It started "Updating
>>> Homebrew..." and ended 'For compilers to find readline you may need to
>>> set:  export LDFLAGS="-L/usr/local/opt/readline/lib";  export
>>> CPPFLAGS="-I/usr/local/opt/readline/include"'.
>>> 
>>>>     fi
>>>>     tlmgr list --only-installed \
>>>>        | gawk '{gsub(/:/, ""); print $2}' \
>>>>        > ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt
>>> 
>>>       I tried that.  It executed quickly with no output.
>>>> before uninstalling the old packages,
>>> 
>>>       I don't know what to uninstall nor how to do it nor how to even
>>> find what I should uninstall, other than ask here (or maybe at
>>> tex.stackexchange, as Dirk Eddelbuettel had suggested).
>>> 
>>> 
>>>> then you install the latest and
>>>> greatest MacTeXBasic
>>> 
>>>       I installed MacTex yesterday, as I indicated earlier in this
>>> thread.  That may not be enough, but I will skip that for the moment.
>>> 
>>> 
>>>> and run something like
>>>> 
>>>>     tlmgr update --self
>>> 
>>>       I did this in /Library/TeX/texbin as follows:
>>> 
>>> 
>>> texbin sbgraves$ tlmgr update --self
>>> 
>>> tlmgr: Local TeX Live (2019) is older than remote repository (2020).
>>> Cross release updates are only supported with
>>>   update-tlmgr-latest(.sh/.exe) --update
>>> See https://tug.org/texlive/upgrade.html for details.
>>> 
>>> 
>>>       That link starts with, "By default, please get the new TL by doing
>>> a new installation instead of proceeding here."  Clicking "here" took me
>>> to where I was yesterday, when I installed MacTex-2020, which seems to
>>> have gone into "/user/local/texlive/2020".  I also found under
>>> "/user/local/texlive" subdirectories for 2014, and 2016 but not 2019.
>>> 
>>> 
>>>>     tlmgr install $(cat ~/Downloads/texlive.$(date
>>>> +%Y-%m-%d).installed.txt)
>>> 
>>>       This gave me the same message as "tlmgr update --self".
>>>> and, perhaps
>>>> 
>>>>     perl -i -p \
>>>>         -e 's+\$SELFAUTOPARENT/+/usr/local/texlive/+' \
>>>>         /usr/local/texlive/2020basic/texmf.cnf
>>>>     texhash
>>> 
>>>       I have "/user/local/texlive/2020" but not "2020basic", as I
>>> indicated above.  I think I'll skip this for the moment.
>>>> :-)-O
>>>> 
>>>> Nowadays, you can just
>>>> 
>>>>     sudo rm -rf /usr/local/texlive/2019basic
>>>> 
>>>> and if you use homebrew you might have /usr/local owned by yourself so
>>>> you don't need the sudo.
>>>> 
>>>> Time Machine is your friend (as I just noticed) :-)-O
>>>> 
>>>> el
>>>> 
>>>> 
>>>> On 13/05/2020 15:34, peter dalgaard wrote:
>>>>> Hmm, like Eberhard, I'm not too sure this is right.
>>>>> 
>>>>> A look at ls -l /usr/local/bin should be informative though.
>>> 
>>> ls -l /usr/local/bin
>>> total 460456
>> [...]
>>>>> I haven't been paying that close attention, but I think the history is
>>>>> that TeX programs used to live in /usr/local/bin, but then Apple did
>>>>> something(?)  so now they go to Library/TeX/texbin (and are really
>>>>> links that via several levels of indirection end up somewhere in
>>>>> /usr/local/texlive).  However, old installs may still have binaries or
>>>>> links in /usr/local/bin.  I would guess that a simple
>>>>> 
>>>>> sudo rm /usr/local/bin/pdflatex
>>>>> 
>>>>> could work (possibly remove some other *tex programs as well).
>>>>> 
>>>>> -pd
>> [...]
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Fri May 15 06:04:55 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Thu, 14 May 2020 23:04:55 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
Message-ID: <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>

Hi, Peter et al.:


 ????? I'm still overwhelmed.


 ????? To limit changes to things I think I understand, my 
'/usr/local/texlive' directory contains subdirectories 2014, 2015, 2016, 
2020, and texmf-local.? From your comments, I gather that the following 
would be wise:


sudo rm -r /usr/local/texlive/2014


sudo rm -r /usr/local/texlive/2015


sudo rm -r /usr/local/texlive/2016


 ??? ? I did this, and "R CMD check Ecfun_0.2-4.tar.gz" still ran to 
completion without errors.


 ????? I don't understand "ls -l /usr/local/bin | grep 'texlive/2016' | 
awk '{print $9}'", but I did "ls -l /usr/local/bin | grep 'texlive/20' > 
texlive_20.txt" and examined texlive_20.txt in R. I found it contained 
451 lines like the following:


lrwxr-xr-x? 1 sbgraves? admin??????? 48 Jan 13 17:42 a2ping -> 
/usr/local/texlive/2016/bin/x86_64-darwin/a2ping


 ????? All had "2016".? I'm inferring from your comments that if 
anything I do calls any of those 451 operations like "a2ping", I will 
get "not found".? If I get that, I gather I'm supposed to "sudo rm 
/usr/local/bin/a2ping" and hope that solves the problem.



 ????? ???
 ????? Thanks very much.
 ????? Spencer Graves


On 2020-05-14 02:51, peter dalgaard wrote:
> Well, you solved the immediate problem. However, you could get in trouble later with other tools from the 2016 TeXlive set, which seems to be what you have lingering.
>
> There doesn't seem to be an uninstaller that removes the symlinks on Mac. So...
>
> Either: (a) remove all links manually plus the entire /usr/local/texlive/2016 tree.
> Or: (b) ensure that the current TeXlive stuff is found ahead of /usr/local/bin
>
> (a) is a bit painful when it comes to the symlinks. There are likely around 450 of them. Of course, only a handful are ever used, so once /usr/local/texlive/2016 is gone, you just get a 'not found' type error and can remove the offending link one at a time. It is possible to automate it, but a bit dangerous if you get it wrong... Something like
>
> ls -l /usr/local/bin | grep 'texlive/2016' | awk '{print $9}'
>
> should give you a list. (...which with a bit of diligence, you can have removed in one swoop, but...)
>
> (b) is more expedient (but leaves the mess in /usr/local/bin): edit /etc/paths with, like,
>
> sudo nano /etc/paths
>
> insert /Library/TeX/texbin at the top and save. Then, for good measure
>
> sudo rm /etc/paths.d/TeX
>
> so that it isn't in $PATH twice.
>
>
> -pd
>
>> On 14 May 2020, at 01:21 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>> Hi, Eberhard:
>>
>>
>>        Please excuse:  I've already solved this problem.  "sudo rm /usr/local/bin/pdflatex" did the trick.
>>
>>
>>         You may be right that I should reformat my hard drive and restore from my TimeMachine.  However, that sounds too much like "do-it-yourself lobotomy" to me.  I don't plan to try that right now.
>>
>>
>>        Thanks again for your suggestions.
>>        Spencer
>>
>>
>> On 2020-05-13 18:16, Dr Eberhard W Lisse wrote:
>>> Spencer,
>>>
>>> If you just google
>>>
>>> 	https://www.google.com/search?q=uninstallpkg
>>>
>>> the first link coming up is the right one.  But see below.
>>>
>>>
>>> Do you have a ~/Downloads directory?  Did you look in there?
>>>
>>>
>>> So the removing of /usr/local/bin/pdflatex did not remove the old 2019
>>> version.  Which is why I proposed uninstallPKG to get rid of all the old
>>> crud.
>>>
>>> To be honest, I reckon you should run TimeMachine and then re-install
>>> Catalina after reformatting your hard disk, restore your home directory
>>> and then carefully (step by step) install the Xcode Command Lime Tools,
>>> homebrew, MacTeX and R, which will give you a known state.
>>>
>>> I like to have a consistent, known state, with only one (the latest if
>>> possible) version of everything and if possible via the Software Update
>>> or a package manager (homebrew).
>>>
>>>
>>> homebrew has what is called Casks, which installs proper MacApps (often
>>> from the original developers? site).  I check regularly whether there
>>> are (new) casks for apps I have manually installed which I then install
>>> (overwrite) so a
>>>
>>> 	brew upgrade
>>> 	brew cask upgrade
>>>
>>> will sort me out
>>>
>>> btw, I just looked and
>>>
>>> 	brew cask install uninstallpkg
>>>
>>> will do the deed nicely.
>>>
>>> el
>>>
>>> On 2020-05-13 23:31 , Spencer Graves wrote:
>>>>        Thank you all for your comments on this.  I'm overwhelmed, not
>>>> just with the volume of the discussion, but my own ignorance of the
>>>> standard command line protocols.
>>>>
>>>>
>>>>        After trying some but on all of Eberhard Lisse's and Peter
>>>> Dalgaard's suggestions below, the problem disappeard after I executed
>>>> "sudo rm /usr/local/bin/pdflatex".  I tested "R CMD check
>>>> Ecfun_0.2-4.tar.gz" right before I did that, and the problem was still
>>>> there.  It disappeared right after I did that.
>>>>
>>>>
>>>>        Lisse's "UninstallPKG" might have been more graceful, but I
>>>> couldn't find the key to that padlock, so I used something that seems
>>>> more like boltcutters instead -- and it worked.
>>>>
>>>>
>>>>        Thanks again,
>>>>        Spencer Graves
>>>>
>>>>
>>>> On 2020-05-13 09:57, Dr Eberhard W Lisse wrote:
>>>>> Peter,
>>>>>
>>>>> as far as I understand this the idea is to make the binaries of whatever
>>>>> MacTeX you use available in
>>>>>
>>>>>      /Library/TeX/texbin
>>>>        Finder says this was installed yesterday, presumably when I
>>>> installed MacTex.
>>>>> so that it survives the (annual) upgrade of MacTeX or a switch from the
>>>>> Basic to the Big MacTeX or whatever.
>>>>>
>>>>>
>>>>> I would personally not remove the pdflatex, but find something like
>>>>> UninstallPKG
>>>>        How do I find something like "UninstallPKG"?
>>>>
>>>>
>>>>> and then locate MacTeX in there and remove that (all
>>>>> versions, so all old crud goes away.
>>>>>
>>>>> If you, like me, use MacTeXBasic you can do something like
>>>>        I don't think I'm using MacTexBasic, but I'm not a big LaTeX user,
>>>> beyond trying to make RMarkdown work these days (and having used LaTeX
>>>> when writing "Functional Data Analysis with R and Matlab with Ramsay and
>>>> Hooker over a decade ago).
>>>>
>>>>>      if [ ! -x /usr/local/bin/gawk ]
>>>>        I don't seem to have gawk installed, at least not there, and
>>>> "gawk" at a Terminal prompt returned, "-bash: gawk: command not found".
>>>>
>>>>>      then
>>>>>          brew install gawk
>>>>        I did that, and it seemed to work.  It started "Updating
>>>> Homebrew..." and ended 'For compilers to find readline you may need to
>>>> set:  export LDFLAGS="-L/usr/local/opt/readline/lib";  export
>>>> CPPFLAGS="-I/usr/local/opt/readline/include"'.
>>>>
>>>>>      fi
>>>>>      tlmgr list --only-installed \
>>>>>         | gawk '{gsub(/:/, ""); print $2}' \
>>>>>         > ~/Downloads/texlive.$(date +%Y-%m-%d).installed.txt
>>>>        I tried that.  It executed quickly with no output.
>>>>> before uninstalling the old packages,
>>>>        I don't know what to uninstall nor how to do it nor how to even
>>>> find what I should uninstall, other than ask here (or maybe at
>>>> tex.stackexchange, as Dirk Eddelbuettel had suggested).
>>>>
>>>>
>>>>> then you install the latest and
>>>>> greatest MacTeXBasic
>>>>        I installed MacTex yesterday, as I indicated earlier in this
>>>> thread.  That may not be enough, but I will skip that for the moment.
>>>>
>>>>
>>>>> and run something like
>>>>>
>>>>>      tlmgr update --self
>>>>        I did this in /Library/TeX/texbin as follows:
>>>>
>>>>
>>>> texbin sbgraves$ tlmgr update --self
>>>>
>>>> tlmgr: Local TeX Live (2019) is older than remote repository (2020).
>>>> Cross release updates are only supported with
>>>>    update-tlmgr-latest(.sh/.exe) --update
>>>> See https://tug.org/texlive/upgrade.html for details.
>>>>
>>>>
>>>>        That link starts with, "By default, please get the new TL by doing
>>>> a new installation instead of proceeding here."  Clicking "here" took me
>>>> to where I was yesterday, when I installed MacTex-2020, which seems to
>>>> have gone into "/user/local/texlive/2020".  I also found under
>>>> "/user/local/texlive" subdirectories for 2014, and 2016 but not 2019.
>>>>
>>>>
>>>>>      tlmgr install $(cat ~/Downloads/texlive.$(date
>>>>> +%Y-%m-%d).installed.txt)
>>>>        This gave me the same message as "tlmgr update --self".
>>>>> and, perhaps
>>>>>
>>>>>      perl -i -p \
>>>>>          -e 's+\$SELFAUTOPARENT/+/usr/local/texlive/+' \
>>>>>          /usr/local/texlive/2020basic/texmf.cnf
>>>>>      texhash
>>>>        I have "/user/local/texlive/2020" but not "2020basic", as I
>>>> indicated above.  I think I'll skip this for the moment.
>>>>> :-)-O
>>>>>
>>>>> Nowadays, you can just
>>>>>
>>>>>      sudo rm -rf /usr/local/texlive/2019basic
>>>>>
>>>>> and if you use homebrew you might have /usr/local owned by yourself so
>>>>> you don't need the sudo.
>>>>>
>>>>> Time Machine is your friend (as I just noticed) :-)-O
>>>>>
>>>>> el
>>>>>
>>>>>
>>>>> On 13/05/2020 15:34, peter dalgaard wrote:
>>>>>> Hmm, like Eberhard, I'm not too sure this is right.
>>>>>>
>>>>>> A look at ls -l /usr/local/bin should be informative though.
>>>> ls -l /usr/local/bin
>>>> total 460456
>>> [...]
>>>>>> I haven't been paying that close attention, but I think the history is
>>>>>> that TeX programs used to live in /usr/local/bin, but then Apple did
>>>>>> something(?)  so now they go to Library/TeX/texbin (and are really
>>>>>> links that via several levels of indirection end up somewhere in
>>>>>> /usr/local/texlive).  However, old installs may still have binaries or
>>>>>> links in /usr/local/bin.  I would guess that a simple
>>>>>>
>>>>>> sudo rm /usr/local/bin/pdflatex
>>>>>>
>>>>>> could work (possibly remove some other *tex programs as well).
>>>>>>
>>>>>> -pd
>>> [...]
>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From e| @end|ng |rom ||@@e@NA  Fri May 15 09:19:37 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Fri, 15 May 2020 09:19:37 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
 <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
Message-ID: <83da860e-0571-84ea-e6b0-b64a00688b86@lisse.NA>

Spencer,

MacTeX 2020 "works" differently from MacTeX 2016.  I had 2016 myself but
don't remember what the difference was and when it changed.

The MacTeX 2020 installation creates

	/etc/paths.d/TeX

which contains '/Library/TeX/texbin' which via a convoluted mechanism
survives upgrades to 2021/2022/etc, but is loaded at the end of the
PATH.

If '/Library/TeX/texbin' is in the path before '/usr/local/bin', then
the old/non-functioning symlinks in /usr/local/bin are not reached.

That is why it is helpful to remove /etc/paths.d/TeX and adding
'/Library/TeX/texbin' to the beginning of

	/etc/paths

to ensure (after logout/login) that /Library/TeX/texbin comes first.

	echo $PATH

will also be informative.


But, even in modern systems with large disk space you might want to
remove old crud collected over the years, which doesn't function any
more, because something might hardwire /usr/local/bin and you have again
a difficult to track down issue.  Never mind that just because a certain
R CMD works now it does not mean it'll survive upgrades.

I like a "known state".

Diligence is boring, I know, but I have started to force myself to
writing everything I (need to) do into a "handbook" and to follow it
religiously (I have 4 machines and support 3, so I even wrote a bash
script to run the MacTeX upgrade).

As an aside, the handbook has grown to 580 pages (25 LyX "child"
documents, one common include.tex, a number of "listing" files and
images, all tied into a Makefile :-)-O so it regenerates if anything
changes and even puts it into the cloud :-)-O

And, you are actually supposed to do something like

	rm -fv $(ls -l /usr/local/bin | grep 'texlive' | awk '{print $9}')

which (note the removed year) will remove all links left by previous
MacTeX installations, not just the ones from 2016 :-)-O

By the way, Time Machine is your friend when removing older MacTeX
versions, wich I recently found out myself :-)-O.

el

On 2020-05-15 06:04 , Spencer Graves wrote:
> Hi, Peter et al.:
>
>
>       I'm still overwhelmed.
>
>
>       To limit changes to things I think I understand, my
> '/usr/local/texlive' directory contains subdirectories 2014, 2015, 2016,
> 2020, and texmf-local.  From your comments, I gather that the following
> would be wise:
>
>
> sudo rm -r /usr/local/texlive/2014
>
>
> sudo rm -r /usr/local/texlive/2015
>
>
> sudo rm -r /usr/local/texlive/2016
>
>
>       I did this, and "R CMD check Ecfun_0.2-4.tar.gz" still ran to
> completion without errors.
>
>
>       I don't understand "ls -l /usr/local/bin | grep 'texlive/2016' |
> awk '{print $9}'", but I did "ls -l /usr/local/bin | grep 'texlive/20' >
> texlive_20.txt" and examined texlive_20.txt in R. I found it contained
> 451 lines like the following:
>
>
> lrwxr-xr-x  1 sbgraves  admin        48 Jan 13 17:42 a2ping ->
> /usr/local/texlive/2016/bin/x86_64-darwin/a2ping
>
>
>       All had "2016".  I'm inferring from your comments that if anything
> I do calls any of those 451 operations like "a2ping", I will get "not
> found".  If I get that, I gather I'm supposed to "sudo rm
> /usr/local/bin/a2ping" and hope that solves the problem.
>
>
>
>       ???
>       Thanks very much.
>       Spencer Graves
[...]
-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From pd@|gd @end|ng |rom gm@||@com  Fri May 15 10:34:39 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Fri, 15 May 2020 10:34:39 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
 <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
Message-ID: <2D370E11-359C-4A9A-B880-783294276CFE@gmail.com>



> On 15 May 2020, at 06:04 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hi, Peter et al.:
> 
> 
>       I'm still overwhelmed.
> 
> 
>       To limit changes to things I think I understand, my '/usr/local/texlive' directory contains subdirectories 2014, 2015, 2016, 2020, and texmf-local.  From your comments, I gather that the following would be wise:
> 
> 
> sudo rm -r /usr/local/texlive/2014
> 
> 
> sudo rm -r /usr/local/texlive/2015
> 
> 
> sudo rm -r /usr/local/texlive/2016
> 
> 
>       I did this, and "R CMD check Ecfun_0.2-4.tar.gz" still ran to completion without errors.
> 
> 
>       I don't understand "ls -l /usr/local/bin | grep 'texlive/2016' | awk '{print $9}'", but I did "ls -l /usr/local/bin | grep 'texlive/20' > texlive_20.txt" and examined texlive_20.txt in R. I found it contained 451 lines like the following:
> 
> 
> lrwxr-xr-x  1 sbgraves  admin        48 Jan 13 17:42 a2ping -> /usr/local/texlive/2016/bin/x86_64-darwin/a2ping
> 

Yup, upgrades until 2016 likely overwrote earlier links to 2015, 2014,..

The awk thing just reduces the above to the 9th field (i.e. "a2ping"), so you could in principle save the list to a file, say remove.me, and then

for i in `cat remove.me` ; do rm /usr/local/bin/$i ; done

(with a sudo somewhere, and do check carefully...)

> 
>       All had "2016".  I'm inferring from your comments that if anything I do calls any of those 451 operations like "a2ping", I will get "not found".  If I get that, I gather I'm supposed to "sudo rm /usr/local/bin/a2ping" and hope that solves the problem.

Yep. That should solve things, provided there's an a2ping in /Library/TeX/texbin 

> 
> 
> 
>       ???
>       Thanks very much.
>       Spencer Graves
> 

[snip]
-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pd@|gd @end|ng |rom gm@||@com  Sat May 16 10:22:35 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Sat, 16 May 2020 10:22:35 +0200
Subject: [R-SIG-Mac] Binary R-devel Builds For OS-X
In-Reply-To: <646556235.1127378.1589588841207@mail.yahoo.com>
References: <CAF8bMcaGMe6msdo=WLQCD27gyjsw5g6_O32tG7S-Du+DiB4zVw@mail.gmail.com>
 <b599d955-9909-1fd9-773a-765b22b4a03f@fau.de>
 <24254.39939.916783.667450@stat.math.ethz.ch>
 <24254.49009.456954.147983@rob.eddelbuettel.com>
 <1298669161.298219.1589561287432@mail.yahoo.com>
 <0BB915D9-081F-4E0C-A2E3-A154CEC23FD5@gmail.com>
 <588729BF-F361-4F78-A424-FB7520992CAF@gmail.com>
 <646556235.1127378.1589588841207@mail.yahoo.com>
Message-ID: <7645F2ED-703F-4753-A41F-04D75F6852D5@gmail.com>

Yes. Simon's policy is just to use the current x.y SVN branch (say R-4.0-branch) which goes through the alpha-beta-RC-(release)-Patched cycle. 

I.e. R-4.0-branch.pkg will _be_ the prerelease at the relevant stage of the development cycle.

(Nerdy details: There is only x.y.0 alpha, otherwise we go directly from, say, "4.0.0 Patched" to "4.0.1 beta"; or, differently put, R-patched _is_ the alpha for the next version. Also, the unqualified x.y.z name is only there while the relase tarball is being created, which is about 5 minutes on release day so never makes it to the nightly builds.)  

-pd

> On 16 May 2020, at 02:27 , brodie gaslam <brodie.gaslam at yahoo.com> wrote:
> 
> 
> Presumably the alpha/RC releases are also posted to the mac.r-project.org page.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From brod|e@g@@|@m @end|ng |rom y@hoo@com  Sat May 16 02:27:21 2020
From: brod|e@g@@|@m @end|ng |rom y@hoo@com (brodie gaslam)
Date: Sat, 16 May 2020 00:27:21 +0000 (UTC)
Subject: [R-SIG-Mac] Binary R-devel Builds For OS-X
In-Reply-To: <588729BF-F361-4F78-A424-FB7520992CAF@gmail.com>
References: <CAF8bMcaGMe6msdo=WLQCD27gyjsw5g6_O32tG7S-Du+DiB4zVw@mail.gmail.com>
 <b599d955-9909-1fd9-773a-765b22b4a03f@fau.de>
 <24254.39939.916783.667450@stat.math.ethz.ch>
 <24254.49009.456954.147983@rob.eddelbuettel.com>
 <1298669161.298219.1589561287432@mail.yahoo.com>
 <0BB915D9-081F-4E0C-A2E3-A154CEC23FD5@gmail.com>
 <588729BF-F361-4F78-A424-FB7520992CAF@gmail.com>
Message-ID: <646556235.1127378.1589588841207@mail.yahoo.com>

At Peter Daalgard's suggestion, I'm moving a thread about compiling / obtaining R-devel or R-alpha/RC OS-X binaries for OS-X to this mailing list.? As per Kylie Bemis it looks like nightlies are already produced at http://mac.r-project.org/ and the updated compilation instructions http://mac.r-project.org/tools/ look great (last time I looked into this I balked at installing Fortran from brew).

Presumably the alpha/RC releases are also posted to the mac.r-project.org page.

The idea is to encourage folks to test R-devel in their normal workflow.

Best,

B.



On Friday, May 15, 2020, 1:29:30 PM EDT, peter dalgaard <pdalgd at gmail.com> wrote: 





To discuss this further, we should probably move over to R-sig-mac and change the subject header.

-pd

> On 15 May 2020, at 19:26 , peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Actually, it's not that hard to set up for a source compile for MacOS.....

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk? Priv: PDalgd at gmail.com


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Sun May 17 05:18:29 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Sat, 16 May 2020 22:18:29 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <2D370E11-359C-4A9A-B880-783294276CFE@gmail.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
 <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
 <2D370E11-359C-4A9A-B880-783294276CFE@gmail.com>
Message-ID: <e90169f2-6fa6-7447-30ff-7a48e3a7256b@prodsyse.com>



On 2020-05-15 03:34, peter dalgaard wrote:
>
>> On 15 May 2020, at 06:04 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>> Hi, Peter et al.:
>>
>>
>>        I'm still overwhelmed.
>>
>>
>>        To limit changes to things I think I understand, my '/usr/local/texlive' directory contains subdirectories 2014, 2015, 2016, 2020, and texmf-local.  From your comments, I gather that the following would be wise:
>>
>>
>> sudo rm -r /usr/local/texlive/2014
>>
>>
>> sudo rm -r /usr/local/texlive/2015
>>
>>
>> sudo rm -r /usr/local/texlive/2016
>>
>>
>>        I did this, and "R CMD check Ecfun_0.2-4.tar.gz" still ran to completion without errors.
>>
>>
>>        I don't understand "ls -l /usr/local/bin | grep 'texlive/2016' | awk '{print $9}'", but I did "ls -l /usr/local/bin | grep 'texlive/20' > texlive_20.txt" and examined texlive_20.txt in R. I found it contained 451 lines like the following:
>>
>>
>> lrwxr-xr-x  1 sbgraves  admin        48 Jan 13 17:42 a2ping -> /usr/local/texlive/2016/bin/x86_64-darwin/a2ping
>>
> Yup, upgrades until 2016 likely overwrote earlier links to 2015, 2014,..
>
> The awk thing just reduces the above to the 9th field (i.e. "a2ping"), so you could in principle save the list to a file, say remove.me, and then
>
> for i in `cat remove.me` ; do rm /usr/local/bin/$i ; done
>
> (with a sudo somewhere, and do check carefully...)
>
>>        All had "2016".  I'm inferring from your comments that if anything I do calls any of those 451 operations like "a2ping", I will get "not found".  If I get that, I gather I'm supposed to "sudo rm /usr/local/bin/a2ping" and hope that solves the problem.
> Yep. That should solve things, provided there's an a2ping in /Library/TeX/texbin


 ????? I did "which" for all 451 executables found by "ls -l 
/usr/local/bin | grep 'texlive/20' > texlive_20.txt".? All but 3 of them 
were found in "/Library/TeX/texbin/".? The 3 not found were 
lua2dox_filter, pdfatfi, and xindy.mem.? In particular, a2ping was found 
there.


 ????? Anything else?
 ????? Thanks again.
 ????? Spencer Graves


From pd@|gd @end|ng |rom gm@||@com  Sun May 17 09:11:36 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Sun, 17 May 2020 09:11:36 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <e90169f2-6fa6-7447-30ff-7a48e3a7256b@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
 <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
 <2D370E11-359C-4A9A-B880-783294276CFE@gmail.com>
 <e90169f2-6fa6-7447-30ff-7a48e3a7256b@prodsyse.com>
Message-ID: <A8C58111-A54A-43D5-8CBC-763A07D6B5FA@gmail.com>

So you should be set. Anything more is just tidying. I have two of the three programs mentioned in /library/TeX xindy.mem nowhere in sight, but they are pretty obscure.

-pd

> On 17 May 2020, at 05:18 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> 
> 
> 
> 
>       I did "which" for all 451 executables found by "ls -l /usr/local/bin | grep 'texlive/20' > texlive_20.txt".  All but 3 of them were found in "/Library/TeX/texbin/".  The 3 not found were lua2dox_filter, pdfatfi, and xindy.mem.  In particular, a2ping was found there.
> 
> 
>       Anything else?
>       Thanks again.
>       Spencer Graves

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Sun May 17 19:31:06 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Sun, 17 May 2020 12:31:06 -0500
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <A8C58111-A54A-43D5-8CBC-763A07D6B5FA@gmail.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
 <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
 <2D370E11-359C-4A9A-B880-783294276CFE@gmail.com>
 <e90169f2-6fa6-7447-30ff-7a48e3a7256b@prodsyse.com>
 <A8C58111-A54A-43D5-8CBC-763A07D6B5FA@gmail.com>
Message-ID: <66a3d5aa-82d3-6729-2ba8-434418c58caf@prodsyse.com>

 ????? I did more tidying.? "ls -l /usr/local/bin/" contained 854 
objects before I did "rm" on 451 that were alias for objects in 
"/usr/local/texlive/2016".? After I did that, "ls -l /usr/local/bin/" 
contained 403 = 854-451 objects.


 ????? Thanks again to Ken Beath, Peter Dalgaard, Eberhard W Lisse, 
Berend Hasselman, marc Schwartz, Adrian Du?a, and everyone else who took 
the time to consider the question.? This had been a problem for me since 
at least early February.? It's good to have it fixed.


 ????? Spencer Graves


On 2020-05-17 02:11, peter dalgaard wrote:
> So you should be set. Anything more is just tidying. I have two of the three programs mentioned in /library/TeX xindy.mem nowhere in sight, but they are pretty obscure.
>
> -pd
>
>> On 17 May 2020, at 05:18 , Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>>
>>
>>
>>
>>        I did "which" for all 451 executables found by "ls -l /usr/local/bin | grep 'texlive/20' > texlive_20.txt".  All but 3 of them were found in "/Library/TeX/texbin/".  The 3 not found were lua2dox_filter, pdfatfi, and xindy.mem.  In particular, a2ping was found there.
>>
>>
>>        Anything else?
>>        Thanks again.
>>        Spencer Graves


From e| @end|ng |rom ||@@e@n@  Sun May 17 20:22:04 2020
From: e| @end|ng |rom ||@@e@n@ (Eberhard W Lisse)
Date: Sun, 17 May 2020 20:22:04 +0200
Subject: [R-SIG-Mac] obsolete LaTeX software in "R CMD check" on Mac?
In-Reply-To: <66a3d5aa-82d3-6729-2ba8-434418c58caf@prodsyse.com>
References: <0c8419a0-9af1-d5c5-61cd-72743fbf5b48@effectivedefense.org>
 <72ecc6a2-84cc-4d8f-23c2-19bdaa773d7f@prodsyse.com>
 <443B2B7D-C3D8-42CA-8325-349709F51FCE@kjbeath.com.au>
 <10fc414b-e705-4568-0a62-cab878ac7d94@prodsyse.com>
 <7BE2553F-41E4-4F7F-9045-DF8AFFD77944@gmail.com>
 <b80aa820-ad7a-21b0-a03e-a69907cb1158@prodsyse.com>
 <53EC4F90-85CD-4FAC-954E-8DB72F76465C@me.com>
 <DCD78C29-8E0E-4075-BF90-CAB2F9EFCCF0@gmail.com>
 <aacddc23-c703-fc03-c5b8-72a38ac3852d@lisse.NA>
 <9a22fb05-ceb7-1851-34cb-0380782fbb0e@prodsyse.com>
 <31df3762-33da-e2db-1f4a-5514a605e18d@lisse.NA>
 <235bae4f-7244-3e07-042f-b45acc99d0c4@prodsyse.com>
 <2C45E15A-45C8-4239-8E31-58B01D353735@gmail.com>
 <4f40d2f4-8659-f55f-acc6-19fb68f9dbeb@prodsyse.com>
 <2D370E11-359C-4A9A-B880-783294276CFE@gmail.com>
 <e90169f2-6fa6-7447-30ff-7a48e3a7256b@prodsyse.com>
 <A8C58111-A54A-43D5-8CBC-763A07D6B5FA@gmail.com>
 <66a3d5aa-82d3-6729-2ba8-434418c58caf@prodsyse.com>
Message-ID: <cd89d9c1-c48d-4493-82ab-6b95ca1bafd5@Spark>

Spencer,

you are welcome.

As before, it is really helpful to have a ?known state?.

As I may have written before, being disciplined about this (having a ?handbook?), may be boring, but makes especially uncommon tasks easy.

I have recently gone so far as to replacing all manually uploaded Apps with homebrew casks (where available) so now my regular

tlmgr update ?self ?all
brew upgrade
brew cask upgrade

catches them too :-)-O

el

?
Sent from Dr Lisse?s iPad Mini 5
On 17 May 2020, 19:31 +0200, Spencer Graves <spencer.graves at prodsyse.com>, wrote:
> ?? ? ?I did more tidying.??"ls -l /usr/local/bin/" contained 854
> objects before I did "rm" on 451 that were alias for objects in
> "/usr/local/texlive/2016".??After I did that, "ls -l /usr/local/bin/"
> contained 403 = 854-451 objects.
>
>
> ?? ? ?Thanks again to Ken Beath, Peter Dalgaard, Eberhard W Lisse,
> Berend Hasselman, marc Schwartz, Adrian Du?a, and everyone else who took
> the time to consider the question.??This had been a problem for me since
> at least early February.??It's good to have it fixed.
>
>
> ?? ? ?Spencer Graves
>
>
> [?]

	[[alternative HTML version deleted]]


From t|mothy@c@b@te@ @end|ng |rom gm@||@com  Tue May 19 02:23:25 2020
From: t|mothy@c@b@te@ @end|ng |rom gm@||@com (Timothy Bates)
Date: Tue, 19 May 2020 01:23:25 +0100
Subject: [R-SIG-Mac] Function Hints in Mac Dark Mode aren't visible
In-Reply-To: <EFA6FC58-CCE1-4F0F-8EF4-E72CD37D3ED5@R-project.org>
References: <4FC26AA2-EE4A-4614-9C9B-BE691E302287@unomaha.edu>
 <A3AF3379-7726-476C-A75A-7C903E6B59DE@R-project.org>
 <EFA6FC58-CCE1-4F0F-8EF4-E72CD37D3ED5@R-project.org>
Message-ID: <9592A703-244E-4BA4-80DD-0DBA6B61F6CE@gmail.com>

Any chance you could make the Function Hints pane at the bottom of the Console taller?
It?s tiny on current MacBook screens.

Ideally just make it the same size/height as regular console text.

> On 12 May 2020, at 00:36, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> Andrew,
> 
> I have addressed it for the console and the document windows in the GUI revision 7839. You can download the updated GUI from
> http://mac.r-project.org/
> 
> You still need to change your custom colors for the console and editor in the preferences. I'll see if we can at least provide defaults for both modes. Ideally, we'd have two color sets, but that would be a lot harder to implement.
> 
> Thanks,
> Simon
> 
> 
> 
>> On 12/05/2020, at 9:25 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>> Andrew,
>> 
>> thanks! The colors in the GUI are a mix of app-defined and system colors, so there are cases there they will clash. I'll see if we can implement better handling of the dark mode.
>> 
>> Thanks,
>> Simon
>> 
>> 
>>> On 9/05/2020, at 3:19 AM, Andrew Swift via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
>>> 
>>> I noticed that with R 4.0.0 when running a Mac in Dark Mode that the Function Hints at the bottom of the Console and Editor windows become invisible.  I?ve attached screenshots in both light and dark mode so you can see the difference.
>>> 
>>> Thanks. <dark.png><light.png>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Tue May 19 02:38:51 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Tue, 19 May 2020 12:38:51 +1200
Subject: [R-SIG-Mac] Function Hints in Mac Dark Mode aren't visible
In-Reply-To: <9592A703-244E-4BA4-80DD-0DBA6B61F6CE@gmail.com>
References: <4FC26AA2-EE4A-4614-9C9B-BE691E302287@unomaha.edu>
 <A3AF3379-7726-476C-A75A-7C903E6B59DE@R-project.org>
 <EFA6FC58-CCE1-4F0F-8EF4-E72CD37D3ED5@R-project.org>
 <9592A703-244E-4BA4-80DD-0DBA6B61F6CE@gmail.com>
Message-ID: <8EFD9FD3-0605-431D-826D-2695240A70CC@R-project.org>

Tim

are you taking about the box size or the text size? The purpose of your request is not clear to me since increasing the box size doesn't make the text bigger. The box is sized such that it can just fit two lines of text in case you need a wrap. Also it is the same in the document windows as well as the console, so is your reason console-specific or general?

Thanks,
Simon


> On 19/05/2020, at 12:23 PM, Timothy Bates <timothy.c.bates at gmail.com> wrote:
> 
> Any chance you could make the Function Hints pane at the bottom of the Console taller?
> It?s tiny on current MacBook screens.
> 
> Ideally just make it the same size/height as regular console text.
> 
>> On 12 May 2020, at 00:36, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>> Andrew,
>> 
>> I have addressed it for the console and the document windows in the GUI revision 7839. You can download the updated GUI from
>> http://mac.r-project.org/
>> 
>> You still need to change your custom colors for the console and editor in the preferences. I'll see if we can at least provide defaults for both modes. Ideally, we'd have two color sets, but that would be a lot harder to implement.
>> 
>> Thanks,
>> Simon
>> 
>> 
>> 
>>> On 12/05/2020, at 9:25 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>> Andrew,
>>> 
>>> thanks! The colors in the GUI are a mix of app-defined and system colors, so there are cases there they will clash. I'll see if we can implement better handling of the dark mode.
>>> 
>>> Thanks,
>>> Simon
>>> 
>>> 
>>>> On 9/05/2020, at 3:19 AM, Andrew Swift via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
>>>> 
>>>> I noticed that with R 4.0.0 when running a Mac in Dark Mode that the Function Hints at the bottom of the Console and Editor windows become invisible.  I?ve attached screenshots in both light and dark mode so you can see the difference.
>>>> 
>>>> Thanks. <dark.png><light.png>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @zz@||n| @end|ng |rom @t@t@un|pd@|t  Tue May 19 15:45:50 2020
From: @zz@||n| @end|ng |rom @t@t@un|pd@|t (Adelchi Azzalini)
Date: Tue, 19 May 2020 15:45:50 +0200
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
Message-ID: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>

Hi. 
In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.

More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.

Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run 

 R CMD check mnormt_1.5-7.tar.gz

first I get a bunch of warning messages such as

Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
Warning: Label 10 at (1) defined but not used [-Wunused-label]

and finally it crashes with

Error: package or namespace load failed for ?mnormt?:
 .onLoad failed in loadNamespace() for 'mnormt', details:
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
  dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
  Referenced from: /usr/local/lib/libquadmath.0.dylib
  Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
 in /usr/local/lib/libquadmath.0.dylib
Error: loading failed

Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.

I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
See the list below with details about my system and other installed tools.

Any suggestions for sorting this out?

Adelchi Azzalini


---------------------------------------------------
Installation info:

R> R.version
               _                           
platform       x86_64-apple-darwin17.0     
arch           x86_64                      
os             darwin17.0                  
system         x86_64, darwin17.0          
status                                     
major          4                           
minor          0.0                         
year           2020                        
month          04                          
day            24                          
svn rev        78286                       
language       R                           
version.string R version 4.0.0 (2020-04-24)
nickname       Arbor Day                   

--- macOS Mojave 10.14.6

--- Xcode version 11.3.1

--- Fortran

[aa at mac-2013:~] gfortran -v
Using built-in specs.
COLLECT_GCC=gfortran
COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
Target: x86_64-apple-darwin18
Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
Thread model: posix
gcc version 8.2.0 (GCC) 

[aa at mac-2013:~] echo $PATH
.:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin

-- other tools indicated at https://mac.r-project.org/tools/
   xz-5.2.5/  is installed 
   PCRE2 10.34 built with --disable-jit 
   bzip2 Version 1.0.6 is installed
 

From b@b@yo@h|h|ko @end|ng |rom m@c@com  Tue May 19 22:46:10 2020
From: b@b@yo@h|h|ko @end|ng |rom m@c@com (Yoshihiko Baba)
Date: Wed, 20 May 2020 05:46:10 +0900
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
Message-ID: <108D15A4-C812-4C3F-9B19-353DF5C3A969@mac.com>

Adelchi,

Why don?t you try Fink version of R?

Fink build mnormt on R 4.0 as well (although it is experimental).
https://github.com/fink/fink-distributions/issues/623

Fink allows you to install different versions of R (3.6, 3.5, 3.4, 3.3, 3.2 and 3.1).

For different versions, CRAN packages are separately installed (/sw/lib/R/3.6/site-library  and so on).


> 2020/05/19 22:45?Adelchi Azzalini <azzalini at stat.unipd.it>????:
> 
> Hi. 
> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
> 
> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
> 
> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run 
> 
> R CMD check mnormt_1.5-7.tar.gz
> 
> first I get a bunch of warning messages such as
> 
> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
> Warning: Label 10 at (1) defined but not used [-Wunused-label]
> 
> and finally it crashes with
> 
> Error: package or namespace load failed for ?mnormt?:
> .onLoad failed in loadNamespace() for 'mnormt', details:
>  call: dyn.load(file, DLLpath = DLLpath, ...)
>  error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>  dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>  Referenced from: /usr/local/lib/libquadmath.0.dylib
>  Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
> in /usr/local/lib/libquadmath.0.dylib
> Error: loading failed
> 
> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
> 
> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
> See the list below with details about my system and other installed tools.
> 
> Any suggestions for sorting this out?
> 
> Adelchi Azzalini
> 
> 
> ---------------------------------------------------
> Installation info:
> 
> R> R.version
>               _                           
> platform       x86_64-apple-darwin17.0     
> arch           x86_64                      
> os             darwin17.0                  
> system         x86_64, darwin17.0          
> status                                     
> major          4                           
> minor          0.0                         
> year           2020                        
> month          04                          
> day            24                          
> svn rev        78286                       
> language       R                           
> version.string R version 4.0.0 (2020-04-24)
> nickname       Arbor Day                   
> 
> --- macOS Mojave 10.14.6
> 
> --- Xcode version 11.3.1
> 
> --- Fortran
> 
> [aa at mac-2013:~] gfortran -v
> Using built-in specs.
> COLLECT_GCC=gfortran
> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
> Target: x86_64-apple-darwin18
> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
> Thread model: posix
> gcc version 8.2.0 (GCC) 
> 
> [aa at mac-2013:~] echo $PATH
> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
> 
> -- other tools indicated at https://mac.r-project.org/tools/
>   xz-5.2.5/  is installed 
>   PCRE2 10.34 built with --disable-jit 
>   bzip2 Version 1.0.6 is installed
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From kev|nu@hey @end|ng |rom gm@||@com  Tue May 19 22:54:15 2020
From: kev|nu@hey @end|ng |rom gm@||@com (Kevin Ushey)
Date: Tue, 19 May 2020 13:54:15 -0700
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
Message-ID: <CAJXgQP0y8CW8gtLimYiJ=0jzOUgLjnG5beFN-L0keU=sdxXXSQ@mail.gmail.com>

The main thing that stands out to me in that error:

  Referenced from: /usr/local/lib/libquadmath.0.dylib
  Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib

R bundles its own copies of libquadmath and libgcc:

kevinushey at Kevins-MBP:/Library/Frameworks/R.framework/Resources/lib
$ ls -la
total 19120
drwxrwxr-x  11 root  admin      352 Apr 24 03:23 .
drwxrwxr-x  18 root  admin      576 Apr 29 11:46 ..
-rwxrwxr-x   1 root  admin  4070896 Apr 24 03:23 libR.dylib
drwxrwxr-x   3 root  admin       96 Apr 24 03:22 libR.dylib.dSYM
-rwxrwxr-x   1 root  admin   201472 Apr 24 03:23 libRblas.dylib
drwxrwxr-x   3 root  admin       96 Apr 24 03:22 libRblas.dylib.dSYM
-rwxrwxr-x   1 root  admin  2181472 Apr 24 03:23 libRlapack.dylib
drwxrwxr-x   3 root  admin       96 Apr 24 03:22 libRlapack.dylib.dSYM
-rw-rw-r--   1 root  admin   160624 Apr 24 03:23 libgcc_s.1.dylib
-rwxrwxr-x   1 root  admin  2851008 Apr 24 03:23 libgfortran.5.dylib
-rwxrwxr-x   1 root  admin   309648 Apr 24 03:23 libquadmath.0.dylib

 which should normally be used during the link step. However, versions in
/usr/local/lib are being discovered instead, which presumably aren't
compatible.

The simplest fix is (likely) to move those files out of the way. Otherwise,
you'd likely have to muck around with Makevars / Makeconf to adjust the
linker flags so the correct versions of these libraries are found.

Best,
Kevin

On Tue, May 19, 2020 at 6:46 AM Adelchi Azzalini <azzalini at stat.unipd.it>
wrote:

> Hi.
> In essence, my problem is that I cannot install a package which requires
> Fortran-77 compilation on my Mac.
>
> More in detail, this is my own package 'mnormt' which exists on CRAN since
> 2006; it is currently at version 1.5-7. It has been developed in successive
> versions on a Linux machine, where it compiles with no problems. The macOS
> and MS-windows versions are created on CRAN, where it passes all pertaining
> checks.
>
> Now, in the new pandemic world, I need create a new version of the
> package, but working from home, hence using my Mac laptop instead of the
> Linux desktop as in the past. Unfortunately, compilation or loading does
> not work. If I run
>
>  R CMD check mnormt_1.5-7.tar.gz
>
> first I get a bunch of warning messages such as
>
> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4)
> ....  [-Wconversion]
> Warning: ?lxchng? may be used uninitialized in this function
> [-Wmaybe-uninitialized]
> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>
> and finally it crashes with
>
> Error: package or namespace load failed for ?mnormt?:
>  .onLoad failed in loadNamespace() for 'mnormt', details:
>   call: dyn.load(file, DLLpath = DLLpath, ...)
>   error: unable to load shared object
> '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>
> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so,
> 6): Symbol not found: ___addtf3
>   Referenced from: /usr/local/lib/libquadmath.0.dylib
>   Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>  in /usr/local/lib/libquadmath.0.dylib
> Error: loading failed
>
> Needless to say, I have no idea what this "addtf3" is or it should be.
> There is no such a symbol in the Fortran code.
>
> I believe to have installed all ingredients indicated at
> https://mac.r-project.org/tools/
> See the list below with details about my system and other installed tools.
>
> Any suggestions for sorting this out?
>
> Adelchi Azzalini
>
>
> ---------------------------------------------------
> Installation info:
>
> R> R.version
>                _
> platform       x86_64-apple-darwin17.0
> arch           x86_64
> os             darwin17.0
> system         x86_64, darwin17.0
> status
> major          4
> minor          0.0
> year           2020
> month          04
> day            24
> svn rev        78286
> language       R
> version.string R version 4.0.0 (2020-04-24)
> nickname       Arbor Day
>
> --- macOS Mojave 10.14.6
>
> --- Xcode version 11.3.1
>
> --- Fortran
>
> [aa at mac-2013:~] gfortran -v
> Using built-in specs.
> COLLECT_GCC=gfortran
>
> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
> Target: x86_64-apple-darwin18
> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran
> --with-gmp=/Users/fx/devel/gcc/build_package/deps
> --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18
> --disable-multilib --with-native-system-header-dir=/usr/include
> --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
> Thread model: posix
> gcc version 8.2.0 (GCC)
>
> [aa at mac-2013:~] echo $PATH
>
> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>
> -- other tools indicated at https://mac.r-project.org/tools/
>    xz-5.2.5/  is installed
>    PCRE2 10.34 built with --disable-jit
>    bzip2 Version 1.0.6 is installed
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed May 20 02:49:48 2020
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Tue, 19 May 2020 17:49:48 -0700
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <108D15A4-C812-4C3F-9B19-353DF5C3A969@mac.com>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <108D15A4-C812-4C3F-9B19-353DF5C3A969@mac.com>
Message-ID: <ac17c95a-e2b2-b7ee-c6ed-18441850e666@comcast.net>


On 5/19/20 1:46 PM, Yoshihiko Baba via R-SIG-Mac wrote:
> Adelchi,
>
> Why don?t you try Fink version of R?
>
> Fink build mnormt on R 4.0 as well (although it is experimental).
> https://github.com/fink/fink-distributions/issues/623


This should be considered contrary to recommended practice: From the 
page for macOS tools that was cited by the OP we see:


"Although it is possible to compile R using tools from other package 
managers such as Homebrew, MacPorts or Fink, such binaries are by 
definition incompatible with macOS native libraries and applications. If 
you choose one of those package managers, make sure you 
compile/everything/using those tools including R and all packages and 
libraries you intend to use."


I think it should have been offered as advice to only be followed by 
persons with great experience in compiling and building packages on Macs.

Best;

David

>
> Fink allows you to install different versions of R (3.6, 3.5, 3.4, 3.3, 3.2 and 3.1).
>
> For different versions, CRAN packages are separately installed (/sw/lib/R/3.6/site-library  and so on).
>
>
>> 2020/05/19 22:45?Adelchi Azzalini <azzalini at stat.unipd.it>????:
>>
>> Hi.
>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>>
>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>>
>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run
>>
>> R CMD check mnormt_1.5-7.tar.gz
>>
>> first I get a bunch of warning messages such as
>>
>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>
>> and finally it crashes with
>>
>> Error: package or namespace load failed for ?mnormt?:
>> .onLoad failed in loadNamespace() for 'mnormt', details:
>>   call: dyn.load(file, DLLpath = DLLpath, ...)
>>   error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>   dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>>   Referenced from: /usr/local/lib/libquadmath.0.dylib
>>   Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>> in /usr/local/lib/libquadmath.0.dylib
>> Error: loading failed
>>
>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>>
>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>> See the list below with details about my system and other installed tools.
>>
>> Any suggestions for sorting this out?
>>
>> Adelchi Azzalini
>>
>>
>> ---------------------------------------------------
>> Installation info:
>>
>> R> R.version
>>                _
>> platform       x86_64-apple-darwin17.0
>> arch           x86_64
>> os             darwin17.0
>> system         x86_64, darwin17.0
>> status
>> major          4
>> minor          0.0
>> year           2020
>> month          04
>> day            24
>> svn rev        78286
>> language       R
>> version.string R version 4.0.0 (2020-04-24)
>> nickname       Arbor Day
>>
>> --- macOS Mojave 10.14.6
>>
>> --- Xcode version 11.3.1
>>
>> --- Fortran
>>
>> [aa at mac-2013:~] gfortran -v
>> Using built-in specs.
>> COLLECT_GCC=gfortran
>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>> Target: x86_64-apple-darwin18
>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>> Thread model: posix
>> gcc version 8.2.0 (GCC)
>>
>> [aa at mac-2013:~] echo $PATH
>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>
>> -- other tools indicated at https://mac.r-project.org/tools/
>>    xz-5.2.5/  is installed
>>    PCRE2 10.34 built with --disable-jit
>>    bzip2 Version 1.0.6 is installed
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed May 20 02:52:23 2020
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Tue, 19 May 2020 17:52:23 -0700
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <CAJXgQP0y8CW8gtLimYiJ=0jzOUgLjnG5beFN-L0keU=sdxXXSQ@mail.gmail.com>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <CAJXgQP0y8CW8gtLimYiJ=0jzOUgLjnG5beFN-L0keU=sdxXXSQ@mail.gmail.com>
Message-ID: <9ed4da18-de51-4ef2-003e-b91b0ddf1c9b@comcast.net>


On 5/19/20 1:54 PM, Kevin Ushey wrote:
> The main thing that stands out to me in that error:
>
>    Referenced from: /usr/local/lib/libquadmath.0.dylib
>    Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>
> R bundles its own copies of libquadmath and libgcc:
>
> kevinushey at Kevins-MBP:/Library/Frameworks/R.framework/Resources/lib
> $ ls -la
> total 19120
> drwxrwxr-x  11 root  admin      352 Apr 24 03:23 .
> drwxrwxr-x  18 root  admin      576 Apr 29 11:46 ..
> -rwxrwxr-x   1 root  admin  4070896 Apr 24 03:23 libR.dylib
> drwxrwxr-x   3 root  admin       96 Apr 24 03:22 libR.dylib.dSYM
> -rwxrwxr-x   1 root  admin   201472 Apr 24 03:23 libRblas.dylib
> drwxrwxr-x   3 root  admin       96 Apr 24 03:22 libRblas.dylib.dSYM
> -rwxrwxr-x   1 root  admin  2181472 Apr 24 03:23 libRlapack.dylib
> drwxrwxr-x   3 root  admin       96 Apr 24 03:22 libRlapack.dylib.dSYM
> -rw-rw-r--   1 root  admin   160624 Apr 24 03:23 libgcc_s.1.dylib
> -rwxrwxr-x   1 root  admin  2851008 Apr 24 03:23 libgfortran.5.dylib
> -rwxrwxr-x   1 root  admin   309648 Apr 24 03:23 libquadmath.0.dylib
>
>   which should normally be used during the link step. However, versions in
> /usr/local/lib are being discovered instead, which presumably aren't
> compatible.


Kevin;


Is that the sort of situation that might be cause by mixing 
homebrew-compiled and R.Framework-compiled packages?


David.

>
> The simplest fix is (likely) to move those files out of the way. Otherwise,
> you'd likely have to muck around with Makevars / Makeconf to adjust the
> linker flags so the correct versions of these libraries are found.
>
> Best,
> Kevin
>
> On Tue, May 19, 2020 at 6:46 AM Adelchi Azzalini <azzalini at stat.unipd.it>
> wrote:
>
>> Hi.
>> In essence, my problem is that I cannot install a package which requires
>> Fortran-77 compilation on my Mac.
>>
>> More in detail, this is my own package 'mnormt' which exists on CRAN since
>> 2006; it is currently at version 1.5-7. It has been developed in successive
>> versions on a Linux machine, where it compiles with no problems. The macOS
>> and MS-windows versions are created on CRAN, where it passes all pertaining
>> checks.
>>
>> Now, in the new pandemic world, I need create a new version of the
>> package, but working from home, hence using my Mac laptop instead of the
>> Linux desktop as in the past. Unfortunately, compilation or loading does
>> not work. If I run
>>
>>   R CMD check mnormt_1.5-7.tar.gz
>>
>> first I get a bunch of warning messages such as
>>
>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4)
>> ....  [-Wconversion]
>> Warning: ?lxchng? may be used uninitialized in this function
>> [-Wmaybe-uninitialized]
>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>
>> and finally it crashes with
>>
>> Error: package or namespace load failed for ?mnormt?:
>>   .onLoad failed in loadNamespace() for 'mnormt', details:
>>    call: dyn.load(file, DLLpath = DLLpath, ...)
>>    error: unable to load shared object
>> '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>
>> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so,
>> 6): Symbol not found: ___addtf3
>>    Referenced from: /usr/local/lib/libquadmath.0.dylib
>>    Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>>   in /usr/local/lib/libquadmath.0.dylib
>> Error: loading failed
>>
>> Needless to say, I have no idea what this "addtf3" is or it should be.
>> There is no such a symbol in the Fortran code.
>>
>> I believe to have installed all ingredients indicated at
>> https://mac.r-project.org/tools/
>> See the list below with details about my system and other installed tools.
>>
>> Any suggestions for sorting this out?
>>
>> Adelchi Azzalini
>>
>>
>> ---------------------------------------------------
>> Installation info:
>>
>> R> R.version
>>                 _
>> platform       x86_64-apple-darwin17.0
>> arch           x86_64
>> os             darwin17.0
>> system         x86_64, darwin17.0
>> status
>> major          4
>> minor          0.0
>> year           2020
>> month          04
>> day            24
>> svn rev        78286
>> language       R
>> version.string R version 4.0.0 (2020-04-24)
>> nickname       Arbor Day
>>
>> --- macOS Mojave 10.14.6
>>
>> --- Xcode version 11.3.1
>>
>> --- Fortran
>>
>> [aa at mac-2013:~] gfortran -v
>> Using built-in specs.
>> COLLECT_GCC=gfortran
>>
>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>> Target: x86_64-apple-darwin18
>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran
>> --with-gmp=/Users/fx/devel/gcc/build_package/deps
>> --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18
>> --disable-multilib --with-native-system-header-dir=/usr/include
>> --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>> Thread model: posix
>> gcc version 8.2.0 (GCC)
>>
>> [aa at mac-2013:~] echo $PATH
>>
>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>
>> -- other tools indicated at https://mac.r-project.org/tools/
>>     xz-5.2.5/  is installed
>>     PCRE2 10.34 built with --disable-jit
>>     bzip2 Version 1.0.6 is installed
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ken @end|ng |rom kjbe@th@com@@u  Wed May 20 02:58:23 2020
From: ken @end|ng |rom kjbe@th@com@@u (Ken Beath)
Date: Wed, 20 May 2020 10:58:23 +1000
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <ac17c95a-e2b2-b7ee-c6ed-18441850e666@comcast.net>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <108D15A4-C812-4C3F-9B19-353DF5C3A969@mac.com>
 <ac17c95a-e2b2-b7ee-c6ed-18441850e666@comcast.net>
Message-ID: <1E0DCC25-60B3-445C-A361-9EA17D82AC0B@kjbeath.com.au>

Plus one of the duties of package managers is to make sure that they build and pass CRAN checks. Doing that with a non standard environment seems a bit risky.

At the moment I can?t get anything to build on R-Devel which is making life difficult and I may raise a question if it still isn?t working when I?ve finished with the new experience that is online teaching.

> On 20 May 2020, at 10:49 am, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
> On 5/19/20 1:46 PM, Yoshihiko Baba via R-SIG-Mac wrote:
>> Adelchi,
>> 
>> Why don?t you try Fink version of R?
>> 
>> Fink build mnormt on R 4.0 as well (although it is experimental).
>> https://github.com/fink/fink-distributions/issues/623
> 
> 
> This should be considered contrary to recommended practice: From the 
> page for macOS tools that was cited by the OP we see:
> 
> 
> "Although it is possible to compile R using tools from other package 
> managers such as Homebrew, MacPorts or Fink, such binaries are by 
> definition incompatible with macOS native libraries and applications. If 
> you choose one of those package managers, make sure you 
> compile/everything/using those tools including R and all packages and 
> libraries you intend to use."
> 
> 
> I think it should have been offered as advice to only be followed by 
> persons with great experience in compiling and building packages on Macs.
> 
> Best;
> 
> David
> 
>> 
>> Fink allows you to install different versions of R (3.6, 3.5, 3.4, 3.3, 3.2 and 3.1).
>> 
>> For different versions, CRAN packages are separately installed (/sw/lib/R/3.6/site-library  and so on).
>> 
>> 
>>> 2020/05/19 22:45?Adelchi Azzalini <azzalini at stat.unipd.it>????:
>>> 
>>> Hi.
>>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>>> 
>>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>>> 
>>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run
>>> 
>>> R CMD check mnormt_1.5-7.tar.gz
>>> 
>>> first I get a bunch of warning messages such as
>>> 
>>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>> 
>>> and finally it crashes with
>>> 
>>> Error: package or namespace load failed for ?mnormt?:
>>> .onLoad failed in loadNamespace() for 'mnormt', details:
>>>  call: dyn.load(file, DLLpath = DLLpath, ...)
>>>  error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>>  dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>>>  Referenced from: /usr/local/lib/libquadmath.0.dylib
>>>  Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>>> in /usr/local/lib/libquadmath.0.dylib
>>> Error: loading failed
>>> 
>>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>>> 
>>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>>> See the list below with details about my system and other installed tools.
>>> 
>>> Any suggestions for sorting this out?
>>> 
>>> Adelchi Azzalini
>>> 
>>> 
>>> ---------------------------------------------------
>>> Installation info:
>>> 
>>> R> R.version
>>>               _
>>> platform       x86_64-apple-darwin17.0
>>> arch           x86_64
>>> os             darwin17.0
>>> system         x86_64, darwin17.0
>>> status
>>> major          4
>>> minor          0.0
>>> year           2020
>>> month          04
>>> day            24
>>> svn rev        78286
>>> language       R
>>> version.string R version 4.0.0 (2020-04-24)
>>> nickname       Arbor Day
>>> 
>>> --- macOS Mojave 10.14.6
>>> 
>>> --- Xcode version 11.3.1
>>> 
>>> --- Fortran
>>> 
>>> [aa at mac-2013:~] gfortran -v
>>> Using built-in specs.
>>> COLLECT_GCC=gfortran
>>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>>> Target: x86_64-apple-darwin18
>>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>>> Thread model: posix
>>> gcc version 8.2.0 (GCC)
>>> 
>>> [aa at mac-2013:~] echo $PATH
>>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>> 
>>> -- other tools indicated at https://mac.r-project.org/tools/
>>>   xz-5.2.5/  is installed
>>>   PCRE2 10.34 built with --disable-jit
>>>   bzip2 Version 1.0.6 is installed
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From @|mon@urb@nek @end|ng |rom R-project@org  Wed May 20 05:47:34 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Wed, 20 May 2020 15:47:34 +1200
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <1E0DCC25-60B3-445C-A361-9EA17D82AC0B@kjbeath.com.au>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <108D15A4-C812-4C3F-9B19-353DF5C3A969@mac.com>
 <ac17c95a-e2b2-b7ee-c6ed-18441850e666@comcast.net>
 <1E0DCC25-60B3-445C-A361-9EA17D82AC0B@kjbeath.com.au>
Message-ID: <CFD502F6-67C6-460D-9496-EF1F46FDF1D2@R-project.org>

Ken,

R can be built with just Xcode and GFortran (see also http://mac.r-project.org/tools/ ). If you have issues, those are very often due to conflicting package managers (Homebrew, macoports, fink ...) so a good exercise is to simply re-name /usr/local/ and setup a clean environment as above which is known to work. If you use CRAN R builds (either release or from http://mac.r-project.org/ ) then most packages will compile with just Xcode alone.

Cheers,
Simon


> On 20/05/2020, at 12:58 PM, Ken Beath <ken at kjbeath.com.au> wrote:
> 
> Plus one of the duties of package managers is to make sure that they build and pass CRAN checks. Doing that with a non standard environment seems a bit risky.
> 
> At the moment I can?t get anything to build on R-Devel which is making life difficult and I may raise a question if it still isn?t working when I?ve finished with the new experience that is online teaching.
> 
>> On 20 May 2020, at 10:49 am, David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>> 
>> On 5/19/20 1:46 PM, Yoshihiko Baba via R-SIG-Mac wrote:
>>> Adelchi,
>>> 
>>> Why don?t you try Fink version of R?
>>> 
>>> Fink build mnormt on R 4.0 as well (although it is experimental).
>>> https://github.com/fink/fink-distributions/issues/623
>> 
>> 
>> This should be considered contrary to recommended practice: From the 
>> page for macOS tools that was cited by the OP we see:
>> 
>> 
>> "Although it is possible to compile R using tools from other package 
>> managers such as Homebrew, MacPorts or Fink, such binaries are by 
>> definition incompatible with macOS native libraries and applications. If 
>> you choose one of those package managers, make sure you 
>> compile/everything/using those tools including R and all packages and 
>> libraries you intend to use."
>> 
>> 
>> I think it should have been offered as advice to only be followed by 
>> persons with great experience in compiling and building packages on Macs.
>> 
>> Best;
>> 
>> David
>> 
>>> 
>>> Fink allows you to install different versions of R (3.6, 3.5, 3.4, 3.3, 3.2 and 3.1).
>>> 
>>> For different versions, CRAN packages are separately installed (/sw/lib/R/3.6/site-library  and so on).
>>> 
>>> 
>>>> 2020/05/19 22:45?Adelchi Azzalini <azzalini at stat.unipd.it>????:
>>>> 
>>>> Hi.
>>>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>>>> 
>>>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>>>> 
>>>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run
>>>> 
>>>> R CMD check mnormt_1.5-7.tar.gz
>>>> 
>>>> first I get a bunch of warning messages such as
>>>> 
>>>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>>>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>>>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>>> 
>>>> and finally it crashes with
>>>> 
>>>> Error: package or namespace load failed for ?mnormt?:
>>>> .onLoad failed in loadNamespace() for 'mnormt', details:
>>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>>> error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>>> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>>>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>>>> Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>>>> in /usr/local/lib/libquadmath.0.dylib
>>>> Error: loading failed
>>>> 
>>>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>>>> 
>>>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>>>> See the list below with details about my system and other installed tools.
>>>> 
>>>> Any suggestions for sorting this out?
>>>> 
>>>> Adelchi Azzalini
>>>> 
>>>> 
>>>> ---------------------------------------------------
>>>> Installation info:
>>>> 
>>>> R> R.version
>>>>              _
>>>> platform       x86_64-apple-darwin17.0
>>>> arch           x86_64
>>>> os             darwin17.0
>>>> system         x86_64, darwin17.0
>>>> status
>>>> major          4
>>>> minor          0.0
>>>> year           2020
>>>> month          04
>>>> day            24
>>>> svn rev        78286
>>>> language       R
>>>> version.string R version 4.0.0 (2020-04-24)
>>>> nickname       Arbor Day
>>>> 
>>>> --- macOS Mojave 10.14.6
>>>> 
>>>> --- Xcode version 11.3.1
>>>> 
>>>> --- Fortran
>>>> 
>>>> [aa at mac-2013:~] gfortran -v
>>>> Using built-in specs.
>>>> COLLECT_GCC=gfortran
>>>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>>>> Target: x86_64-apple-darwin18
>>>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>>>> Thread model: posix
>>>> gcc version 8.2.0 (GCC)
>>>> 
>>>> [aa at mac-2013:~] echo $PATH
>>>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>>> 
>>>> -- other tools indicated at https://mac.r-project.org/tools/
>>>>  xz-5.2.5/  is installed
>>>>  PCRE2 10.34 built with --disable-jit
>>>>  bzip2 Version 1.0.6 is installed
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Wed May 20 05:50:26 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Wed, 20 May 2020 15:50:26 +1200
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
Message-ID: <B79B74F3-255A-4D03-8C7C-102306B511EF@R-project.org>


Adelchi,

as pointed out you have conflicting libraries in /usr/local - likely from some conflicting package manager. I would recommend re-naming /usr/local to remove the issue and installing a clean GNU Fortran (see http://mac.r-project.org/tools/ or from the official GNU Fortran pages which use the same binary), that's all you really need.

Cheers,
Simon



> On 20/05/2020, at 1:45 AM, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
> 
> Hi. 
> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
> 
> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
> 
> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run 
> 
> R CMD check mnormt_1.5-7.tar.gz
> 
> first I get a bunch of warning messages such as
> 
> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
> Warning: Label 10 at (1) defined but not used [-Wunused-label]
> 
> and finally it crashes with
> 
> Error: package or namespace load failed for ?mnormt?:
> .onLoad failed in loadNamespace() for 'mnormt', details:
>  call: dyn.load(file, DLLpath = DLLpath, ...)
>  error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>  dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>  Referenced from: /usr/local/lib/libquadmath.0.dylib
>  Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
> in /usr/local/lib/libquadmath.0.dylib
> Error: loading failed
> 
> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
> 
> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
> See the list below with details about my system and other installed tools.
> 
> Any suggestions for sorting this out?
> 
> Adelchi Azzalini
> 
> 
> ---------------------------------------------------
> Installation info:
> 
> R> R.version
>               _                           
> platform       x86_64-apple-darwin17.0     
> arch           x86_64                      
> os             darwin17.0                  
> system         x86_64, darwin17.0          
> status                                     
> major          4                           
> minor          0.0                         
> year           2020                        
> month          04                          
> day            24                          
> svn rev        78286                       
> language       R                           
> version.string R version 4.0.0 (2020-04-24)
> nickname       Arbor Day                   
> 
> --- macOS Mojave 10.14.6
> 
> --- Xcode version 11.3.1
> 
> --- Fortran
> 
> [aa at mac-2013:~] gfortran -v
> Using built-in specs.
> COLLECT_GCC=gfortran
> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
> Target: x86_64-apple-darwin18
> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
> Thread model: posix
> gcc version 8.2.0 (GCC) 
> 
> [aa at mac-2013:~] echo $PATH
> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
> 
> -- other tools indicated at https://mac.r-project.org/tools/
>   xz-5.2.5/  is installed 
>   PCRE2 10.34 built with --disable-jit 
>   bzip2 Version 1.0.6 is installed
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ken @end|ng |rom kjbe@th@com@@u  Wed May 20 07:45:21 2020
From: ken @end|ng |rom kjbe@th@com@@u (Ken Beath)
Date: Wed, 20 May 2020 15:45:21 +1000
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <CFD502F6-67C6-460D-9496-EF1F46FDF1D2@R-project.org>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <108D15A4-C812-4C3F-9B19-353DF5C3A969@mac.com>
 <ac17c95a-e2b2-b7ee-c6ed-18441850e666@comcast.net>
 <1E0DCC25-60B3-445C-A361-9EA17D82AC0B@kjbeath.com.au>
 <CFD502F6-67C6-460D-9496-EF1F46FDF1D2@R-project.org>
Message-ID: <14DA0827-98CF-4EDC-B179-A6D965F295BF@kjbeath.com.au>

Simon,

I?m going to investigate further, but the problem is that 4.0 works fine but 4.1 doesn?t. I will check what is going wrong.

Ken

> On 20 May 2020, at 1:47 pm, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> Ken,
> 
> R can be built with just Xcode and GFortran (see also http://mac.r-project.org/tools/ ). If you have issues, those are very often due to conflicting package managers (Homebrew, macoports, fink ...) so a good exercise is to simply re-name /usr/local/ and setup a clean environment as above which is known to work. If you use CRAN R builds (either release or from http://mac.r-project.org/ ) then most packages will compile with just Xcode alone.
> 
> Cheers,
> Simon
> 
> 
>> On 20/05/2020, at 12:58 PM, Ken Beath <ken at kjbeath.com.au> wrote:
>> 
>> Plus one of the duties of package managers is to make sure that they build and pass CRAN checks. Doing that with a non standard environment seems a bit risky.
>> 
>> At the moment I can?t get anything to build on R-Devel which is making life difficult and I may raise a question if it still isn?t working when I?ve finished with the new experience that is online teaching.
>> 
>>> On 20 May 2020, at 10:49 am, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>> 
>>> On 5/19/20 1:46 PM, Yoshihiko Baba via R-SIG-Mac wrote:
>>>> Adelchi,
>>>> 
>>>> Why don?t you try Fink version of R?
>>>> 
>>>> Fink build mnormt on R 4.0 as well (although it is experimental).
>>>> https://github.com/fink/fink-distributions/issues/623
>>> 
>>> 
>>> This should be considered contrary to recommended practice: From the 
>>> page for macOS tools that was cited by the OP we see:
>>> 
>>> 
>>> "Although it is possible to compile R using tools from other package 
>>> managers such as Homebrew, MacPorts or Fink, such binaries are by 
>>> definition incompatible with macOS native libraries and applications. If 
>>> you choose one of those package managers, make sure you 
>>> compile/everything/using those tools including R and all packages and 
>>> libraries you intend to use."
>>> 
>>> 
>>> I think it should have been offered as advice to only be followed by 
>>> persons with great experience in compiling and building packages on Macs.
>>> 
>>> Best;
>>> 
>>> David
>>> 
>>>> 
>>>> Fink allows you to install different versions of R (3.6, 3.5, 3.4, 3.3, 3.2 and 3.1).
>>>> 
>>>> For different versions, CRAN packages are separately installed (/sw/lib/R/3.6/site-library  and so on).
>>>> 
>>>> 
>>>>> 2020/05/19 22:45?Adelchi Azzalini <azzalini at stat.unipd.it>????:
>>>>> 
>>>>> Hi.
>>>>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>>>>> 
>>>>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>>>>> 
>>>>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run
>>>>> 
>>>>> R CMD check mnormt_1.5-7.tar.gz
>>>>> 
>>>>> first I get a bunch of warning messages such as
>>>>> 
>>>>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>>>>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>>>>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>>>> 
>>>>> and finally it crashes with
>>>>> 
>>>>> Error: package or namespace load failed for ?mnormt?:
>>>>> .onLoad failed in loadNamespace() for 'mnormt', details:
>>>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>>>> error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>>>> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>>>>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>>>>> Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>>>>> in /usr/local/lib/libquadmath.0.dylib
>>>>> Error: loading failed
>>>>> 
>>>>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>>>>> 
>>>>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>>>>> See the list below with details about my system and other installed tools.
>>>>> 
>>>>> Any suggestions for sorting this out?
>>>>> 
>>>>> Adelchi Azzalini
>>>>> 
>>>>> 
>>>>> ---------------------------------------------------
>>>>> Installation info:
>>>>> 
>>>>> R> R.version
>>>>>             _
>>>>> platform       x86_64-apple-darwin17.0
>>>>> arch           x86_64
>>>>> os             darwin17.0
>>>>> system         x86_64, darwin17.0
>>>>> status
>>>>> major          4
>>>>> minor          0.0
>>>>> year           2020
>>>>> month          04
>>>>> day            24
>>>>> svn rev        78286
>>>>> language       R
>>>>> version.string R version 4.0.0 (2020-04-24)
>>>>> nickname       Arbor Day
>>>>> 
>>>>> --- macOS Mojave 10.14.6
>>>>> 
>>>>> --- Xcode version 11.3.1
>>>>> 
>>>>> --- Fortran
>>>>> 
>>>>> [aa at mac-2013:~] gfortran -v
>>>>> Using built-in specs.
>>>>> COLLECT_GCC=gfortran
>>>>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>>>>> Target: x86_64-apple-darwin18
>>>>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>>>>> Thread model: posix
>>>>> gcc version 8.2.0 (GCC)
>>>>> 
>>>>> [aa at mac-2013:~] echo $PATH
>>>>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>>>> 
>>>>> -- other tools indicated at https://mac.r-project.org/tools/
>>>>> xz-5.2.5/  is installed
>>>>> PCRE2 10.34 built with --disable-jit
>>>>> bzip2 Version 1.0.6 is installed
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From @zz@||n| @end|ng |rom @t@t@un|pd@|t  Wed May 20 08:44:27 2020
From: @zz@||n| @end|ng |rom @t@t@un|pd@|t (Adelchi Azzalini)
Date: Wed, 20 May 2020 08:44:27 +0200
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <B79B74F3-255A-4D03-8C7C-102306B511EF@R-project.org>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <B79B74F3-255A-4D03-8C7C-102306B511EF@R-project.org>
Message-ID: <E75DCDA1-9962-430F-BCA6-7B138D1D3B55@stat.unipd.it>

Thanks to everyone that provided suggestions.

I was about to follow the recommended step of renaming /usr/local and reinstall a bunch of programs.
However, that renaming is blocked, presumably by Apple System Integrity Protection. 
Is there any alternative to disabling this Apple "feature"?
Do you recommend to re-instate it after the re-construction of /usr/local/ ?
As you see, I am not familiar with Apple tricks.

Thanks again,

Adelchi
 


> On 20 May 2020, at 05:50, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> 
> Adelchi,
> 
> as pointed out you have conflicting libraries in /usr/local - likely from some conflicting package manager. I would recommend re-naming /usr/local to remove the issue and installing a clean GNU Fortran (see http://mac.r-project.org/tools/ or from the official GNU Fortran pages which use the same binary), that's all you really need.
> 
> Cheers,
> Simon
> 
> 
> 
>> On 20/05/2020, at 1:45 AM, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
>> 
>> Hi. 
>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>> 
>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>> 
>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run 
>> 
>> R CMD check mnormt_1.5-7.tar.gz
>> 
>> first I get a bunch of warning messages such as
>> 
>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>> 
>> and finally it crashes with
>> 
>> Error: package or namespace load failed for ?mnormt?:
>> .onLoad failed in loadNamespace() for 'mnormt', details:
>> call: dyn.load(file, DLLpath = DLLpath, ...)
>> error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>> Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>> in /usr/local/lib/libquadmath.0.dylib
>> Error: loading failed
>> 
>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>> 
>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>> See the list below with details about my system and other installed tools.
>> 
>> Any suggestions for sorting this out?
>> 
>> Adelchi Azzalini
>> 
>> 
>> ---------------------------------------------------
>> Installation info:
>> 
>> R> R.version
>>              _                           
>> platform       x86_64-apple-darwin17.0     
>> arch           x86_64                      
>> os             darwin17.0                  
>> system         x86_64, darwin17.0          
>> status                                     
>> major          4                           
>> minor          0.0                         
>> year           2020                        
>> month          04                          
>> day            24                          
>> svn rev        78286                       
>> language       R                           
>> version.string R version 4.0.0 (2020-04-24)
>> nickname       Arbor Day                   
>> 
>> --- macOS Mojave 10.14.6
>> 
>> --- Xcode version 11.3.1
>> 
>> --- Fortran
>> 
>> [aa at mac-2013:~] gfortran -v
>> Using built-in specs.
>> COLLECT_GCC=gfortran
>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>> Target: x86_64-apple-darwin18
>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>> Thread model: posix
>> gcc version 8.2.0 (GCC) 
>> 
>> [aa at mac-2013:~] echo $PATH
>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>> 
>> -- other tools indicated at https://mac.r-project.org/tools/
>>  xz-5.2.5/  is installed 
>>  PCRE2 10.34 built with --disable-jit 
>>  bzip2 Version 1.0.6 is installed
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From @zz@||n| @end|ng |rom @t@t@un|pd@|t  Wed May 20 09:34:34 2020
From: @zz@||n| @end|ng |rom @t@t@un|pd@|t (Adelchi Azzalini)
Date: Wed, 20 May 2020 09:34:34 +0200
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <E75DCDA1-9962-430F-BCA6-7B138D1D3B55@stat.unipd.it>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <B79B74F3-255A-4D03-8C7C-102306B511EF@R-project.org>
 <E75DCDA1-9962-430F-BCA6-7B138D1D3B55@stat.unipd.it>
Message-ID: <D17DD221-5102-4B8B-822F-44CEF8E2DBF3@stat.unipd.it>



> On 20 May 2020, at 08:44, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
> 
> Thanks to everyone that provided suggestions.
> 
> I was about to follow the recommended step of renaming /usr/local and reinstall a bunch of programs.
> However, that renaming is blocked, presumably by Apple System Integrity Protection. 
> Is there any alternative to disabling this Apple "feature"?
> Do you recommend to re-instate it after the re-construction of /usr/local/ ?
> As you see, I am not familiar with Apple tricks.
> 
> Thanks again,
> 
> Adelchi


Please ignore the message above. 
Right after sending it, I realized that the simple workaround was to move everything in
  /usr/local/
to
  /usr/local/local-2020520/

After reinstalling R, TeX, etc... compilation now works fine!

Thanks for your effective help.

Adelchi


> 
> 
> 
>> On 20 May 2020, at 05:50, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>> 
>> 
>> Adelchi,
>> 
>> as pointed out you have conflicting libraries in /usr/local - likely from some conflicting package manager. I would recommend re-naming /usr/local to remove the issue and installing a clean GNU Fortran (see http://mac.r-project.org/tools/ or from the official GNU Fortran pages which use the same binary), that's all you really need.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> On 20/05/2020, at 1:45 AM, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
>>> 
>>> Hi. 
>>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>>> 
>>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>>> 
>>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run 
>>> 
>>> R CMD check mnormt_1.5-7.tar.gz
>>> 
>>> first I get a bunch of warning messages such as
>>> 
>>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>> 
>>> and finally it crashes with
>>> 
>>> Error: package or namespace load failed for ?mnormt?:
>>> .onLoad failed in loadNamespace() for 'mnormt', details:
>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>> error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>>> Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>>> in /usr/local/lib/libquadmath.0.dylib
>>> Error: loading failed
>>> 
>>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>>> 
>>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>>> See the list below with details about my system and other installed tools.
>>> 
>>> Any suggestions for sorting this out?
>>> 
>>> Adelchi Azzalini
>>> 
>>> 
>>> ---------------------------------------------------
>>> Installation info:
>>> 
>>> R> R.version
>>>             _                           
>>> platform       x86_64-apple-darwin17.0     
>>> arch           x86_64                      
>>> os             darwin17.0                  
>>> system         x86_64, darwin17.0          
>>> status                                     
>>> major          4                           
>>> minor          0.0                         
>>> year           2020                        
>>> month          04                          
>>> day            24                          
>>> svn rev        78286                       
>>> language       R                           
>>> version.string R version 4.0.0 (2020-04-24)
>>> nickname       Arbor Day                   
>>> 
>>> --- macOS Mojave 10.14.6
>>> 
>>> --- Xcode version 11.3.1
>>> 
>>> --- Fortran
>>> 
>>> [aa at mac-2013:~] gfortran -v
>>> Using built-in specs.
>>> COLLECT_GCC=gfortran
>>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>>> Target: x86_64-apple-darwin18
>>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>>> Thread model: posix
>>> gcc version 8.2.0 (GCC) 
>>> 
>>> [aa at mac-2013:~] echo $PATH
>>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>> 
>>> -- other tools indicated at https://mac.r-project.org/tools/
>>> xz-5.2.5/  is installed 
>>> PCRE2 10.34 built with --disable-jit 
>>> bzip2 Version 1.0.6 is installed
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ken @end|ng |rom kjbe@th@com@@u  Wed May 20 13:17:15 2020
From: ken @end|ng |rom kjbe@th@com@@u (Ken Beath)
Date: Wed, 20 May 2020 21:17:15 +1000
Subject: [R-SIG-Mac] Cannot compile Fortran on macOS
In-Reply-To: <D17DD221-5102-4B8B-822F-44CEF8E2DBF3@stat.unipd.it>
References: <4E9601B0-A375-4CDC-8487-0CB384410BCE@stat.unipd.it>
 <B79B74F3-255A-4D03-8C7C-102306B511EF@R-project.org>
 <E75DCDA1-9962-430F-BCA6-7B138D1D3B55@stat.unipd.it>
 <D17DD221-5102-4B8B-822F-44CEF8E2DBF3@stat.unipd.it>
Message-ID: <DAFD670D-E83E-4126-B1E8-E1CCD7EBDCA5@kjbeath.com.au>

Success. I also removed everything from /usr/local then reinstalled MacTex, R and gfortran, and now I can build on both 4.0 and 4.1. Presumably something has changed in the builds between 4.0 and 4.1 and that has interacted with the accumulated nearly 6 years of mess in /usr/local. 

> On 20 May 2020, at 5:34 pm, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
> 
> 
> 
>> On 20 May 2020, at 08:44, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
>> 
>> Thanks to everyone that provided suggestions.
>> 
>> I was about to follow the recommended step of renaming /usr/local and reinstall a bunch of programs.
>> However, that renaming is blocked, presumably by Apple System Integrity Protection. 
>> Is there any alternative to disabling this Apple "feature"?
>> Do you recommend to re-instate it after the re-construction of /usr/local/ ?
>> As you see, I am not familiar with Apple tricks.
>> 
>> Thanks again,
>> 
>> Adelchi
> 
> 
> Please ignore the message above. 
> Right after sending it, I realized that the simple workaround was to move everything in
>  /usr/local/
> to
>  /usr/local/local-2020520/
> 
> After reinstalling R, TeX, etc... compilation now works fine!
> 
> Thanks for your effective help.
> 
> Adelchi
> 
> 
>> 
>> 
>> 
>>> On 20 May 2020, at 05:50, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>>> 
>>> 
>>> Adelchi,
>>> 
>>> as pointed out you have conflicting libraries in /usr/local - likely from some conflicting package manager. I would recommend re-naming /usr/local to remove the issue and installing a clean GNU Fortran (see http://mac.r-project.org/tools/ or from the official GNU Fortran pages which use the same binary), that's all you really need.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> On 20/05/2020, at 1:45 AM, Adelchi Azzalini <azzalini at stat.unipd.it> wrote:
>>>> 
>>>> Hi. 
>>>> In essence, my problem is that I cannot install a package which requires Fortran-77 compilation on my Mac.
>>>> 
>>>> More in detail, this is my own package 'mnormt' which exists on CRAN since 2006; it is currently at version 1.5-7. It has been developed in successive versions on a Linux machine, where it compiles with no problems. The macOS and MS-windows versions are created on CRAN, where it passes all pertaining checks.
>>>> 
>>>> Now, in the new pandemic world, I need create a new version of the package, but working from home, hence using my Mac laptop instead of the Linux desktop as in the past. Unfortunately, compilation or loading does not work. If I run 
>>>> 
>>>> R CMD check mnormt_1.5-7.tar.gz
>>>> 
>>>> first I get a bunch of warning messages such as
>>>> 
>>>> Warning: Possible change of value in conversion from REAL(8) to INTEGER(4) ....  [-Wconversion]
>>>> Warning: ?lxchng? may be used uninitialized in this function [-Wmaybe-uninitialized]
>>>> Warning: Label 10 at (1) defined but not used [-Wunused-label]
>>>> 
>>>> and finally it crashes with
>>>> 
>>>> Error: package or namespace load failed for ?mnormt?:
>>>> .onLoad failed in loadNamespace() for 'mnormt', details:
>>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>>> error: unable to load shared object '/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so':
>>>> dlopen(/Users/aa/SW-aa/Pkg-mnormt/mnormt.Rcheck/00LOCK-mnormt/00new/mnormt/libs/mnormt.so, 6): Symbol not found: ___addtf3
>>>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>>>> Expected in: /usr/local/lib/libgcc_s_x86_64.1.dylib
>>>> in /usr/local/lib/libquadmath.0.dylib
>>>> Error: loading failed
>>>> 
>>>> Needless to say, I have no idea what this "addtf3" is or it should be. There is no such a symbol in the Fortran code.
>>>> 
>>>> I believe to have installed all ingredients indicated at https://mac.r-project.org/tools/
>>>> See the list below with details about my system and other installed tools.
>>>> 
>>>> Any suggestions for sorting this out?
>>>> 
>>>> Adelchi Azzalini
>>>> 
>>>> 
>>>> ---------------------------------------------------
>>>> Installation info:
>>>> 
>>>> R> R.version
>>>>            _                           
>>>> platform       x86_64-apple-darwin17.0     
>>>> arch           x86_64                      
>>>> os             darwin17.0                  
>>>> system         x86_64, darwin17.0          
>>>> status                                     
>>>> major          4                           
>>>> minor          0.0                         
>>>> year           2020                        
>>>> month          04                          
>>>> day            24                          
>>>> svn rev        78286                       
>>>> language       R                           
>>>> version.string R version 4.0.0 (2020-04-24)
>>>> nickname       Arbor Day                   
>>>> 
>>>> --- macOS Mojave 10.14.6
>>>> 
>>>> --- Xcode version 11.3.1
>>>> 
>>>> --- Fortran
>>>> 
>>>> [aa at mac-2013:~] gfortran -v
>>>> Using built-in specs.
>>>> COLLECT_GCC=gfortran
>>>> COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin18/8.2.0/lto-wrapper
>>>> Target: x86_64-apple-darwin18
>>>> Configured with: ../gcc-8.2.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/build_package/deps --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin18 --disable-multilib --with-native-system-header-dir=/usr/include --with-sysroot=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
>>>> Thread model: posix
>>>> gcc version 8.2.0 (GCC) 
>>>> 
>>>> [aa at mac-2013:~] echo $PATH
>>>> .:/Users/aa/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin/:/usr/X11R6/bin:/opt/local/bin:/Library/TeX/texbin:/usr/local/gfortran/bin
>>>> 
>>>> -- other tools indicated at https://mac.r-project.org/tools/
>>>> xz-5.2.5/  is installed 
>>>> PCRE2 10.34 built with --disable-jit 
>>>> bzip2 Version 1.0.6 is installed
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From br@ndon@hurr @end|ng |rom gm@||@com  Thu May 21 00:53:19 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Wed, 20 May 2020 15:53:19 -0700
Subject: [R-SIG-Mac] R-GUI Editor Window Offset
Message-ID: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>

When loading R-GUI I'm getting this weird offset where the editor
window is scrolled to the right slightly (~2 characters worth).

Here is an image showing what's going on:
https://imgur.com/a/9vjp8Vr

Annoying, but not a showstopper.
I just tried it with [R.app GUI 1.72 (7841) x86_64-apple-darwin17.0]
and it does it as well. I assume this is a editor/GUI issue and not R
itself.

Thanks,
Brandon


From br@ndon@hurr @end|ng |rom gm@||@com  Thu May 21 00:58:45 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Wed, 20 May 2020 15:58:45 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
Message-ID: <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>

I just want to add that this is still happening. The size of the
script seems to be irrelevant (10s of lines). If you double click
another .R file for R GUI to load it gives the beachball of death and
R maxes out 1 of my cores. Are there specific logs or files that would
be helpful beyond what has been supplied?

Thanks,
Brandon

On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>
> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
> subsystem is super buggy/noisy. Enough of them that there are a fw
> third-party apps like Taccy
> (https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/)
> to help privacy-perms issues. The GUI code does not try to do things
> `tccd` would balk at, and this particular sandbox error shows up in
> many general apps/FOSS projects outside of R GUI.
>
> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> >
> > The sandbox error also happened for test2.R that can open without trouble.
> > So, this might not be the critical error.
> >
> > I uploaded the two devices logs for test.R and test2.R:
> >
> > https://hako.space/R/devices_log_for_test_R.txt
> > https://hako.space/R/devices_log_for_test2_R.txt
> >
> > Best regards,
> >
> > Hiroshi
> >
> >
> >
> >
> > > 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp>????:
> > >
> > > Thank you for responses.
> > >
> > > I installed the debug build R.app GUI 1.71 (7834) to MacBook Air (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is the same GUI hang. The following is a part of the device log:
> > >
> > > ...
> > > default       19:56:06.123133+0900    R        - 1 documents to open
> > > default       19:56:06.123188+0900    R        - application:openFile:/Users/hako/Desktop/test.R called
> > > default       19:56:06.123316+0900    R        - intial start, changing wd to pathname whic is /Users/hako/Desktop/
> > > error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd, PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted to call TCCAccessRequest without the com.apple.private.tcc.manager.check-by-audit-token entitlement
> > > default       19:56:06.127340+0900    tccd    PID[155] is checking access for target PID[655]
> > > default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity staticCode]: static code for: identifier org.R-project.R, type: 0: 0x7fa62ad38b10 at /Applications/R.app
> > > ...
> > >
> > > The error line seems to be similar with Brandon's cases.
> > >
> > >
> > > Best regards,
> > >
> > >
> > > Hiroshi
> > >
> > >
> > >
> > >
> > >> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
> > >>
> > >> I have a mac mini as well that does not show this crash. It's much
> > >> beefier (6-core i7, 32 GB RAM probably not relevant).
> > >> Here is the same boot up log with the same file and it does not crash R.
> > >>
> > >> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
> > >>
> > >> I look at the transition where the two differ and the crash happens
> > >> and the one that works is much shorter. At line 319 in the non-working
> > >> MBA (PID 889) it "makes presenter" and then stops. Making presenter
> > >> doesn't happen until line 4261 in the working file. Lots of parsing of
> > >> the file is missing (4000 lines of it).
> > >>
> > >> B
> > >>
> > >> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> > >>>
> > >>> Thanks Bob.
> > >>>
> > >>> I did this and it did not fix it sadly.
> > >>> I downloaded the Debug version of R-GUI and captured the following
> > >>> after clicking on the same file (which did cause it to crash again)
> > >>> Here is the console log for the R PID (889 in this instance) from
> > >>> loading R to then clicking to load the same file (which froze my
> > >>> system again):
> > >>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
> > >>> Here is the full Apple Crash Log that came up after I force quit R:
> > >>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
> > >>>
> > >>> I hope this is helpful. Please let me know if I need to dig more and
> > >>> recommendations for doing so.
> > >>>
> > >>> Thanks,
> > >>> B
> > >>>
> > >>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
> > >>>>
> > >>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
> > >>>> under Security & Privacy system preferences.
> > >>>>
> > >>>> I'm not experiencing these issues (just now when I tried it; I
> > >>>> generally don't use R.app)
> > >>>>
> > >>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
> > >>>>>
> > >>>>> I'm going to add to the pile on this one. It's hard to nail down
> > >>>>> though. I was able to load Hiroshi's test.R script after loading up
> > >>>>> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
> > >>>>> clicking on it.
> > >>>>> That said, I've been having many issues locking up R-GUI on my 2019
> > >>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> > >>>>> script file, but if I want to load another script it gives me the
> > >>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but then
> > >>>>> pinwheel of death on loading a lengthy script. I'm not sure the length
> > >>>>> is the issue.
> > >>>>>
> > >>>>> I played around with the console a bit and noticed these messages pop
> > >>>>> up when it locks up R:
> > >>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> > >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > >>>>> standardisation/Database Converts/Conversion script DEV.R
> > >>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> > >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > >>>>> standardisation/Database Converts
> > >>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> > >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
> > >>>>> standardisation
> > >>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> > >>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> > >>>>>
> > >>>>> A rough guess here is that the sandboxing isn't working right (or is?)
> > >>>>> and is blocking access of R-GUI to the file which then locks up
> > >>>>> because it's waiting for data?
> > >>>>>
> > >>>>> Anyone else seeing this behavior and have a better idea how to pin it down?
> > >>>>>
> > >>>>> Thanks,
> > >>>>> B
> > >>>>>
> > >>>>>
> > >>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> > >>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> > >>>>>>
> > >>>>>> Dear All,
> > >>>>>>
> > >>>>>> Environment:
> > >>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > >>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> > >>>>>> macOS: Mojave and Catalina
> > >>>>>> Removed file for the test: .Rapp.history
> > >>>>>>
> > >>>>>> Description:
> > >>>>>> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> > >>>>>>
> > >>>>>> How-To-Repeat:
> > >>>>>> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
> > >>>>>>
> > >>>>>> Fix:
> > >>>>>> unknown
> > >>>>>>
> > >>>>>> Crash Report is too large to paste to the email.
> > >>>>>>
> > >>>>>>
> > >>>>>> Best regards,
> > >>>>>>
> > >>>>>> Hiroshi Hakoyama
> > >>>>>> Nagano University
> > >>>>>>
> > >>>>>> test.R
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> ###############################################################################
> > >>>>>> x <- rnorm(100000)
> > >>>>>> y <- rnorm(100000)
> > >>>>>> hist(x)
> > >>>>>> hist(y)
> > >>>>>>
> > >>>>>> test2.R
> > >>>>>> x <- rnorm(100000)
> > >>>>>> y <- rnorm(100000)
> > >>>>>> hist(x)
> > >>>>>> hist(y)
> > >>>>>>
> > >>>>>> system.log
> > >>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> > >>>>>> _______________________________________________
> > >>>>>> R-SIG-Mac mailing list
> > >>>>>> R-SIG-Mac at r-project.org
> > >>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > >>>>>
> > >>>>> _______________________________________________
> > >>>>> R-SIG-Mac mailing list
> > >>>>> R-SIG-Mac at r-project.org
> > >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > >
> >


From @|mon@urb@nek @end|ng |rom R-project@org  Thu May 21 01:04:44 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 21 May 2020 11:04:44 +1200
Subject: [R-SIG-Mac] R-GUI Editor Window Offset
In-Reply-To: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>
References: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>
Message-ID: <05C754E3-3148-402A-BC3C-C6EF075AD3ED@R-project.org>

Can you please, supply full sessionInfo(), macOS version and details to reproduce? You are apparently loading some file, so is this by drang-drop via Open, via restore, ??

Thanks,
Simon



> On May 21, 2020, at 10:53 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> 
> When loading R-GUI I'm getting this weird offset where the editor
> window is scrolled to the right slightly (~2 characters worth).
> 
> Here is an image showing what's going on:
> https://imgur.com/a/9vjp8Vr
> 
> Annoying, but not a showstopper.
> I just tried it with [R.app GUI 1.72 (7841) x86_64-apple-darwin17.0]
> and it does it as well. I assume this is a editor/GUI issue and not R
> itself.
> 
> Thanks,
> Brandon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From br@ndon@hurr @end|ng |rom gm@||@com  Thu May 21 01:13:47 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Wed, 20 May 2020 16:13:47 -0700
Subject: [R-SIG-Mac] R-GUI Editor Window Offset
In-Reply-To: <05C754E3-3148-402A-BC3C-C6EF075AD3ED@R-project.org>
References: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>
 <05C754E3-3148-402A-BC3C-C6EF075AD3ED@R-project.org>
Message-ID: <CAG2OMvsuJT1r07U-ueyf5dYMKCGKnusS=amPbr5-nURJ1+mauw@mail.gmail.com>

Simon,

Sure thing. I'm double clicking on an R script file and R GUI loads
with the file in the editor. R-GUI is my R program.
The session is "empty".
> sessionInfo()
R version 4.0.0 (2020-04-24)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Catalina 10.15.4

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_4.0.0

Thanks,
Brandon

On Wed, May 20, 2020 at 4:04 PM Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> Can you please, supply full sessionInfo(), macOS version and details to reproduce? You are apparently loading some file, so is this by drang-drop via Open, via restore, ??
>
> Thanks,
> Simon
>
>
>
> > On May 21, 2020, at 10:53 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >
> > When loading R-GUI I'm getting this weird offset where the editor
> > window is scrolled to the right slightly (~2 characters worth).
> >
> > Here is an image showing what's going on:
> > https://imgur.com/a/9vjp8Vr
> >
> > Annoying, but not a showstopper.
> > I just tried it with [R.app GUI 1.72 (7841) x86_64-apple-darwin17.0]
> > and it does it as well. I assume this is a editor/GUI issue and not R
> > itself.
> >
> > Thanks,
> > Brandon
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From @|mon@urb@nek @end|ng |rom R-project@org  Thu May 21 01:16:51 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 21 May 2020 11:16:51 +1200
Subject: [R-SIG-Mac] R-GUI Editor Window Offset
In-Reply-To: <CAG2OMvsuJT1r07U-ueyf5dYMKCGKnusS=amPbr5-nURJ1+mauw@mail.gmail.com>
References: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>
 <05C754E3-3148-402A-BC3C-C6EF075AD3ED@R-project.org>
 <CAG2OMvsuJT1r07U-ueyf5dYMKCGKnusS=amPbr5-nURJ1+mauw@mail.gmail.com>
Message-ID: <F18D72B8-7036-491E-8B4E-10BD666E7725@R-project.org>

Ok, great, thanks, I can replicate that on Catalina, will look into it. It's really funny - if you use touch-pan for the text the background has suddenly "holes" that you an see through to the windows underneath...

Thanks,
Simon


> On May 21, 2020, at 11:13 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> 
> Simon,
> 
> Sure thing. I'm double clicking on an R script file and R GUI loads
> with the file in the editor. R-GUI is my R program.
> The session is "empty".
>> sessionInfo()
> R version 4.0.0 (2020-04-24)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Catalina 10.15.4
> 
> Matrix products: default
> BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] compiler_4.0.0
> 
> Thanks,
> Brandon
> 
> On Wed, May 20, 2020 at 4:04 PM Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> 
>> Can you please, supply full sessionInfo(), macOS version and details to reproduce? You are apparently loading some file, so is this by drang-drop via Open, via restore, ??
>> 
>> Thanks,
>> Simon
>> 
>> 
>> 
>>> On May 21, 2020, at 10:53 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>> 
>>> When loading R-GUI I'm getting this weird offset where the editor
>>> window is scrolled to the right slightly (~2 characters worth).
>>> 
>>> Here is an image showing what's going on:
>>> https://imgur.com/a/9vjp8Vr
>>> 
>>> Annoying, but not a showstopper.
>>> I just tried it with [R.app GUI 1.72 (7841) x86_64-apple-darwin17.0]
>>> and it does it as well. I assume this is a editor/GUI issue and not R
>>> itself.
>>> 
>>> Thanks,
>>> Brandon
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 


From @|mon@urb@nek @end|ng |rom R-project@org  Thu May 21 01:17:39 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 21 May 2020 11:17:39 +1200
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
Message-ID: <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>

Unfortunately I cannot reproduce it. When opening a file in one of the protected folders with R 4.0.0 release on Catalina I get '"R" would like to access files in your Documents folder' - which you have to agree to (one of those Catalina annoyances). It only asks once - we don't explicitly control it, so I wonder if there is some interaction ?

Cheers,
Simon



> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> 
> I just want to add that this is still happening. The size of the
> script seems to be irrelevant (10s of lines). If you double click
> another .R file for R GUI to load it gives the beachball of death and
> R maxes out 1 of my cores. Are there specific logs or files that would
> be helpful beyond what has been supplied?
> 
> Thanks,
> Brandon
> 
> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>> 
>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>> subsystem is super buggy/noisy. Enough of them that there are a fw
>> third-party apps like Taccy
>> (https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/)
>> to help privacy-perms issues. The GUI code does not try to do things
>> `tccd` would balk at, and this particular sandbox error shows up in
>> many general apps/FOSS projects outside of R GUI.
>> 
>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>> 
>>> The sandbox error also happened for test2.R that can open without trouble.
>>> So, this might not be the critical error.
>>> 
>>> I uploaded the two devices logs for test.R and test2.R:
>>> 
>>> https://hako.space/R/devices_log_for_test_R.txt
>>> https://hako.space/R/devices_log_for_test2_R.txt
>>> 
>>> Best regards,
>>> 
>>> Hiroshi
>>> 
>>> 
>>> 
>>> 
>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp>????:
>>>> 
>>>> Thank you for responses.
>>>> 
>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is the same GUI hang. The following is a part of the device log:
>>>> 
>>>> ...
>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>> default       19:56:06.123188+0900    R        - application:openFile:/Users/hako/Desktop/test.R called
>>>> default       19:56:06.123316+0900    R        - intial start, changing wd to pathname whic is /Users/hako/Desktop/
>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd, PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted to call TCCAccessRequest without the com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking access for target PID[655]
>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity staticCode]: static code for: identifier org.R-project.R, type: 0: 0x7fa62ad38b10 at /Applications/R.app
>>>> ...
>>>> 
>>>> The error line seems to be similar with Brandon's cases.
>>>> 
>>>> 
>>>> Best regards,
>>>> 
>>>> 
>>>> Hiroshi
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>> 
>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>> Here is the same boot up log with the same file and it does not crash R.
>>>>> 
>>>>> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
>>>>> 
>>>>> I look at the transition where the two differ and the crash happens
>>>>> and the one that works is much shorter. At line 319 in the non-working
>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>> doesn't happen until line 4261 in the working file. Lots of parsing of
>>>>> the file is missing (4000 lines of it).
>>>>> 
>>>>> B
>>>>> 
>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>>>>> 
>>>>>> Thanks Bob.
>>>>>> 
>>>>>> I did this and it did not fix it sadly.
>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>> system again):
>>>>>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
>>>>>> 
>>>>>> I hope this is helpful. Please let me know if I need to dig more and
>>>>>> recommendations for doing so.
>>>>>> 
>>>>>> Thanks,
>>>>>> B
>>>>>> 
>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>> 
>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy tab
>>>>>>> under Security & Privacy system preferences.
>>>>>>> 
>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>> generally don't use R.app)
>>>>>>> 
>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>>>>>>> 
>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>> though. I was able to load Hiroshi's test.R script after loading up
>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple directories by
>>>>>>>> clicking on it.
>>>>>>>> That said, I've been having many issues locking up R-GUI on my 2019
>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but then
>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the length
>>>>>>>> is the issue.
>>>>>>>> 
>>>>>>>> I played around with the console a bit and noticed these messages pop
>>>>>>>> up when it locks up R:
>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>>>>>> standardisation/Database Converts
>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)/Data
>>>>>>>> standardisation
>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>> 
>>>>>>>> A rough guess here is that the sandboxing isn't working right (or is?)
>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>> because it's waiting for data?
>>>>>>>> 
>>>>>>>> Anyone else seeing this behavior and have a better idea how to pin it down?
>>>>>>>> 
>>>>>>>> Thanks,
>>>>>>>> B
>>>>>>>> 
>>>>>>>> 
>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>> 
>>>>>>>>> Dear All,
>>>>>>>>> 
>>>>>>>>> Environment:
>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>> 
>>>>>>>>> Description:
>>>>>>>>> R.app crashes when a large file (e.g., test.R) is double-clicked on Mojave and Catalina. The crash does not occur on High Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
>>>>>>>>> 
>>>>>>>>> How-To-Repeat:
>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or Mojave.
>>>>>>>>> 
>>>>>>>>> Fix:
>>>>>>>>> unknown
>>>>>>>>> 
>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> Best regards,
>>>>>>>>> 
>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>> Nagano University
>>>>>>>>> 
>>>>>>>>> test.R
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> ###############################################################################
>>>>>>>>> x <- rnorm(100000)
>>>>>>>>> y <- rnorm(100000)
>>>>>>>>> hist(x)
>>>>>>>>> hist(y)
>>>>>>>>> 
>>>>>>>>> test2.R
>>>>>>>>> x <- rnorm(100000)
>>>>>>>>> y <- rnorm(100000)
>>>>>>>>> hist(x)
>>>>>>>>> hist(y)
>>>>>>>>> 
>>>>>>>>> system.log
>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287: libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>> 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From br@ndon@hurr @end|ng |rom gm@||@com  Thu May 21 01:18:01 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Wed, 20 May 2020 16:18:01 -0700
Subject: [R-SIG-Mac] R-GUI Editor Window Offset
In-Reply-To: <F18D72B8-7036-491E-8B4E-10BD666E7725@R-project.org>
References: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>
 <05C754E3-3148-402A-BC3C-C6EF075AD3ED@R-project.org>
 <CAG2OMvsuJT1r07U-ueyf5dYMKCGKnusS=amPbr5-nURJ1+mauw@mail.gmail.com>
 <F18D72B8-7036-491E-8B4E-10BD666E7725@R-project.org>
Message-ID: <CAG2OMvv2UU0asP+QAtBxmj40zE+V2BGZkHKzqbKOd+yhS=GS3Q@mail.gmail.com>

Yes, I've seen that behavior too. The scroll bar is nearly transparent
as well. Not sure what's going on there either.

Thanks,
Brandon

On Wed, May 20, 2020 at 4:16 PM Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> Ok, great, thanks, I can replicate that on Catalina, will look into it. It's really funny - if you use touch-pan for the text the background has suddenly "holes" that you an see through to the windows underneath...
>
> Thanks,
> Simon
>
>
> > On May 21, 2020, at 11:13 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >
> > Simon,
> >
> > Sure thing. I'm double clicking on an R script file and R GUI loads
> > with the file in the editor. R-GUI is my R program.
> > The session is "empty".
> >> sessionInfo()
> > R version 4.0.0 (2020-04-24)
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> > Running under: macOS Catalina 10.15.4
> >
> > Matrix products: default
> > BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> > LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > loaded via a namespace (and not attached):
> > [1] compiler_4.0.0
> >
> > Thanks,
> > Brandon
> >
> > On Wed, May 20, 2020 at 4:04 PM Simon Urbanek
> > <simon.urbanek at r-project.org> wrote:
> >>
> >> Can you please, supply full sessionInfo(), macOS version and details to reproduce? You are apparently loading some file, so is this by drang-drop via Open, via restore, ??
> >>
> >> Thanks,
> >> Simon
> >>
> >>
> >>
> >>> On May 21, 2020, at 10:53 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> >>>
> >>> When loading R-GUI I'm getting this weird offset where the editor
> >>> window is scrolled to the right slightly (~2 characters worth).
> >>>
> >>> Here is an image showing what's going on:
> >>> https://imgur.com/a/9vjp8Vr
> >>>
> >>> Annoying, but not a showstopper.
> >>> I just tried it with [R.app GUI 1.72 (7841) x86_64-apple-darwin17.0]
> >>> and it does it as well. I assume this is a editor/GUI issue and not R
> >>> itself.
> >>>
> >>> Thanks,
> >>> Brandon
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >
>


From @|mon@urb@nek @end|ng |rom R-project@org  Thu May 21 01:22:53 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 21 May 2020 11:22:53 +1200
Subject: [R-SIG-Mac] R-GUI Editor Window Offset
In-Reply-To: <CAG2OMvv2UU0asP+QAtBxmj40zE+V2BGZkHKzqbKOd+yhS=GS3Q@mail.gmail.com>
References: <CAG2OMvsKModY5_aTwoR0Og9Ox0_bnBWJKG7EmuWRwBsqSHqg=g@mail.gmail.com>
 <05C754E3-3148-402A-BC3C-C6EF075AD3ED@R-project.org>
 <CAG2OMvsuJT1r07U-ueyf5dYMKCGKnusS=amPbr5-nURJ1+mauw@mail.gmail.com>
 <F18D72B8-7036-491E-8B4E-10BD666E7725@R-project.org>
 <CAG2OMvv2UU0asP+QAtBxmj40zE+V2BGZkHKzqbKOd+yhS=GS3Q@mail.gmail.com>
Message-ID: <3075EDB3-E3A4-4696-92A4-5152B035C31C@R-project.org>

I was trying to chase that one down when I was changing the background color for dark mode, because I couldn't use the most logical controlColor as it will be just be transparent - sort of a "ghost" window where you see its shadow but nothing on top. My solution was to use another system color that is guaranteed to be opaque, but I couldn't fix the fact that the window's background doesn't get drawn - really odd. It doesn't appear on Mojave, so another of those Catalina mysteries ...

Thanks,
Simon


> On May 21, 2020, at 11:18 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> 
> Yes, I've seen that behavior too. The scroll bar is nearly transparent
> as well. Not sure what's going on there either.
> 
> Thanks,
> Brandon
> 
> On Wed, May 20, 2020 at 4:16 PM Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> 
>> Ok, great, thanks, I can replicate that on Catalina, will look into it. It's really funny - if you use touch-pan for the text the background has suddenly "holes" that you an see through to the windows underneath...
>> 
>> Thanks,
>> Simon
>> 
>> 
>>> On May 21, 2020, at 11:13 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>> 
>>> Simon,
>>> 
>>> Sure thing. I'm double clicking on an R script file and R GUI loads
>>> with the file in the editor. R-GUI is my R program.
>>> The session is "empty".
>>>> sessionInfo()
>>> R version 4.0.0 (2020-04-24)
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>> Running under: macOS Catalina 10.15.4
>>> 
>>> Matrix products: default
>>> BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] compiler_4.0.0
>>> 
>>> Thanks,
>>> Brandon
>>> 
>>> On Wed, May 20, 2020 at 4:04 PM Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>> 
>>>> Can you please, supply full sessionInfo(), macOS version and details to reproduce? You are apparently loading some file, so is this by drang-drop via Open, via restore, ??
>>>> 
>>>> Thanks,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> On May 21, 2020, at 10:53 AM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
>>>>> 
>>>>> When loading R-GUI I'm getting this weird offset where the editor
>>>>> window is scrolled to the right slightly (~2 characters worth).
>>>>> 
>>>>> Here is an image showing what's going on:
>>>>> https://imgur.com/a/9vjp8Vr
>>>>> 
>>>>> Annoying, but not a showstopper.
>>>>> I just tried it with [R.app GUI 1.72 (7841) x86_64-apple-darwin17.0]
>>>>> and it does it as well. I assume this is a editor/GUI issue and not R
>>>>> itself.
>>>>> 
>>>>> Thanks,
>>>>> Brandon
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>> 
> 


From br@ndon@hurr @end|ng |rom gm@||@com  Thu May 21 02:39:19 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Wed, 20 May 2020 17:39:19 -0700
Subject: [R-SIG-Mac] R-GUI Window Not Stealing Focus after Using Mission
 Control.
Message-ID: <CAG2OMvvCHXfo9b-RE_FQYD0b_MppNfHy=HXSZPF98numYE5qOw@mail.gmail.com>

Simon

I mentioned this in 2016 at UseR!, but haven't followed through on my
offer to show you what I mean until today. I use Mission Control via
"Hot Corners" so I can flip between programs quickly. For a long time
I've had this issue where if I am using R-GUI and use Mission Control,
R doesn't steal focus back from the previous program.

What you can hopefully see in the video linked below is me opening an
R script, opening terminal, copying my username, Mission Control
(upper right corner), switch to R (works fine, steals focus), Mission
Control again, switch to Terminal, copy the TTY, Mission Control,
Switch to R (doesn't steal focus from Terminal).

Notice how R is in the upper menu bar, but the R window I selected is
not in the foreground. If you type, you are typing in that window, but
if there is another window in front that covers it, you cannot see it.
If you Mission Control again and select an R window (GUI or editor) it
brings it to the foreground.

It appears to require some sort of interaction (mouse or keyboard) to
cause this to happen. If I merely switch back and forth with Mission
Control without clicking or typing it switches and pulls focus.

Video here:
https://photos.app.goo.gl/aFLb574xV2YxwdRe8

Thanks,
Brandon


From m@p|no|@10 @end|ng |rom gm@||@com  Fri May 22 21:41:50 2020
From: m@p|no|@10 @end|ng |rom gm@||@com (=?UTF-8?Q?Manuel_Sp=C3=ADnola?=)
Date: Fri, 22 May 2020 13:41:50 -0600
Subject: [R-SIG-Mac] Update to versions GEOS 3.8.0,
 GDAL 3.0.4 and PROJ 7.0.0 in macOS Catalina
Message-ID: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>

Dear list members,

Sorry for crossposting.  I sent this message to the r-sig-geo but
apparently no many people know how to do this in MacOS.  I am working with
R 4.0.0 and macOS Catalina 10.15.4

I am working with spatial package that to have full functionality depend on
updated versions of:

GEOS 3.8.0, GDAL 3.0.4 and PROJ 7.0.0

Best,

Manuel

-- 
*Manuel Sp?nola, Ph.D.*
Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
Universidad Nacional
Apartado 1350-3000
Heredia
COSTA RICA
mspinola at una.cr <mspinola at una.ac.cr>
mspinola10 at gmail.com
Tel?fono: (506) 8706 - 4662
Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>

	[[alternative HTML version deleted]]


From @|mon@urb@nek @end|ng |rom R-project@org  Sat May 23 00:56:16 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Sat, 23 May 2020 10:56:16 +1200
Subject: [R-SIG-Mac] Update to versions GEOS 3.8.0,
 GDAL 3.0.4 and PROJ 7.0.0 in macOS Catalina
In-Reply-To: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>
References: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>
Message-ID: <4714AC86-0649-4948-AB93-9AAC04681093@R-project.org>

Manuel,

see
https://github.com/R-macos/recipes <https://github.com/R-macos/recipes>
you can update the recipes to use the required versions to build a setup that works for your package. Once you do you can issue a pull request so we can update CRAN accordingly.

Please note that it is generally not a good idea to require latests versions as that excludes a large number of users from using your package. Many user don't have control over dependent libraries and must use supported versions. The mainstream LTS versions right now are geos 3.6.2, gdal 2.2.3 and proj 4.9.3 and latest non-LTS are geos 3.7.1, gdal 2.4.0 and proj 5.2.0 which is pretty much the maximum you can realistically require.

Cheers,
Simon


> On May 23, 2020, at 7:41 AM, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
> 
> Dear list members,
> 
> Sorry for crossposting.  I sent this message to the r-sig-geo but
> apparently no many people know how to do this in MacOS.  I am working with
> R 4.0.0 and macOS Catalina 10.15.4
> 
> I am working with spatial package that to have full functionality depend on
> updated versions of:
> 
> GEOS 3.8.0, GDAL 3.0.4 and PROJ 7.0.0
> 
> Best,
> 
> Manuel
> 
> -- 
> *Manuel Sp?nola, Ph.D.*
> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
> Universidad Nacional
> Apartado 1350-3000
> Heredia
> COSTA RICA
> mspinola at una.cr <mspinola at una.ac.cr>
> mspinola10 at gmail.com
> Tel?fono: (506) 8706 - 4662
> Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From m@p|no|@10 @end|ng |rom gm@||@com  Sat May 23 02:08:04 2020
From: m@p|no|@10 @end|ng |rom gm@||@com (=?UTF-8?Q?Manuel_Sp=C3=ADnola?=)
Date: Fri, 22 May 2020 18:08:04 -0600
Subject: [R-SIG-Mac] Update to versions GEOS 3.8.0,
 GDAL 3.0.4 and PROJ 7.0.0 in macOS Catalina
In-Reply-To: <4714AC86-0649-4948-AB93-9AAC04681093@R-project.org>
References: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>
 <4714AC86-0649-4948-AB93-9AAC04681093@R-project.org>
Message-ID: <CABkCotShR6P9X8x7BDuwM42XDzYKmGj9Aun7e47rG0FKhRwnoA@mail.gmail.com>

Thank you very much Simon.

I don't know much about programming so I will keep the current versions.

I was asking because some of the main spatial packages, as sf and terra, I
think require the latest versions of gdal and proj to be completely
functional. That is my understanding, may be I am wrong.

Best,

Manuel


El vie., 22 may. 2020 a las 16:56, Simon Urbanek (<
simon.urbanek at r-project.org>) escribi?:

> Manuel,
>
> see
> https://github.com/R-macos/recipes
> you can update the recipes to use the required versions to build a setup
> that works for your package. Once you do you can issue a pull request so we
> can update CRAN accordingly.
>
> Please note that it is generally not a good idea to require latests
> versions as that excludes a large number of users from using your package.
> Many user don't have control over dependent libraries and must use
> supported versions. The mainstream LTS versions right now are geos 3.6.2,
> gdal 2.2.3 and proj 4.9.3 and latest non-LTS are geos 3.7.1, gdal 2.4.0 and
> proj 5.2.0 which is pretty much the maximum you can realistically require.
>
> Cheers,
> Simon
>
>
> On May 23, 2020, at 7:41 AM, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
>
> Dear list members,
>
> Sorry for crossposting.  I sent this message to the r-sig-geo but
> apparently no many people know how to do this in MacOS.  I am working with
> R 4.0.0 and macOS Catalina 10.15.4
>
> I am working with spatial package that to have full functionality depend on
> updated versions of:
>
> GEOS 3.8.0, GDAL 3.0.4 and PROJ 7.0.0
>
> Best,
>
> Manuel
>
> --
> *Manuel Sp?nola, Ph.D.*
> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
> Universidad Nacional
> Apartado 1350-3000
> Heredia
> COSTA RICA
> mspinola at una.cr <mspinola at una.ac.cr>
> mspinola10 at gmail.com
> Tel?fono: (506) 8706 - 4662
> Personal website: Lobito de r?o <
> https://sites.google.com/site/lobitoderio/>
> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>
> [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>

-- 
*Manuel Sp?nola, Ph.D.*
Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
Universidad Nacional
Apartado 1350-3000
Heredia
COSTA RICA
mspinola at una.cr <mspinola at una.ac.cr>
mspinola10 at gmail.com
Tel?fono: (506) 8706 - 4662
Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>

	[[alternative HTML version deleted]]


From ken @end|ng |rom kjbe@th@com@@u  Sat May 23 02:49:26 2020
From: ken @end|ng |rom kjbe@th@com@@u (Ken Beath)
Date: Sat, 23 May 2020 10:49:26 +1000
Subject: [R-SIG-Mac] Update to versions GEOS 3.8.0,
 GDAL 3.0.4 and PROJ 7.0.0 in macOS Catalina
In-Reply-To: <CABkCotShR6P9X8x7BDuwM42XDzYKmGj9Aun7e47rG0FKhRwnoA@mail.gmail.com>
References: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>
 <4714AC86-0649-4948-AB93-9AAC04681093@R-project.org>
 <CABkCotShR6P9X8x7BDuwM42XDzYKmGj9Aun7e47rG0FKhRwnoA@mail.gmail.com>
Message-ID: <56DAC869-7118-4F7D-AABC-85AE9033D110@kjbeath.com.au>

sf requires GDAL (>= 2.0.1), GEOS (>= 3.4.0), PROJ (>= 4.8.0) so I would assume that its full functionality is available with these.

Ken

> On 23 May 2020, at 10:08 am, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
> 
> Thank you very much Simon.
> 
> I don't know much about programming so I will keep the current versions.
> 
> I was asking because some of the main spatial packages, as sf and terra, I
> think require the latest versions of gdal and proj to be completely
> functional. That is my understanding, may be I am wrong.
> 
> Best,
> 
> Manuel
> 
> 
> El vie., 22 may. 2020 a las 16:56, Simon Urbanek (<
> simon.urbanek at r-project.org>) escribi?:
> 
>> Manuel,
>> 
>> see
>> https://github.com/R-macos/recipes
>> you can update the recipes to use the required versions to build a setup
>> that works for your package. Once you do you can issue a pull request so we
>> can update CRAN accordingly.
>> 
>> Please note that it is generally not a good idea to require latests
>> versions as that excludes a large number of users from using your package.
>> Many user don't have control over dependent libraries and must use
>> supported versions. The mainstream LTS versions right now are geos 3.6.2,
>> gdal 2.2.3 and proj 4.9.3 and latest non-LTS are geos 3.7.1, gdal 2.4.0 and
>> proj 5.2.0 which is pretty much the maximum you can realistically require.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On May 23, 2020, at 7:41 AM, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
>> 
>> Dear list members,
>> 
>> Sorry for crossposting.  I sent this message to the r-sig-geo but
>> apparently no many people know how to do this in MacOS.  I am working with
>> R 4.0.0 and macOS Catalina 10.15.4
>> 
>> I am working with spatial package that to have full functionality depend on
>> updated versions of:
>> 
>> GEOS 3.8.0, GDAL 3.0.4 and PROJ 7.0.0
>> 
>> Best,
>> 
>> Manuel
>> 
>> --
>> *Manuel Sp?nola, Ph.D.*
>> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
>> Universidad Nacional
>> Apartado 1350-3000
>> Heredia
>> COSTA RICA
>> mspinola at una.cr <mspinola at una.ac.cr>
>> mspinola10 at gmail.com
>> Tel?fono: (506) 8706 - 4662
>> Personal website: Lobito de r?o <
>> https://sites.google.com/site/lobitoderio/>
>> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>> 
>> [[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> 
> 
> -- 
> *Manuel Sp?nola, Ph.D.*
> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
> Universidad Nacional
> Apartado 1350-3000
> Heredia
> COSTA RICA
> mspinola at una.cr <mspinola at una.ac.cr>
> mspinola10 at gmail.com
> Tel?fono: (506) 8706 - 4662
> Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


	[[alternative HTML version deleted]]


From m@p|no|@10 @end|ng |rom gm@||@com  Sat May 23 03:45:23 2020
From: m@p|no|@10 @end|ng |rom gm@||@com (=?UTF-8?Q?Manuel_Sp=C3=ADnola?=)
Date: Fri, 22 May 2020 19:45:23 -0600
Subject: [R-SIG-Mac] Update to versions GEOS 3.8.0,
 GDAL 3.0.4 and PROJ 7.0.0 in macOS Catalina
In-Reply-To: <56DAC869-7118-4F7D-AABC-85AE9033D110@kjbeath.com.au>
References: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>
 <4714AC86-0649-4948-AB93-9AAC04681093@R-project.org>
 <CABkCotShR6P9X8x7BDuwM42XDzYKmGj9Aun7e47rG0FKhRwnoA@mail.gmail.com>
 <56DAC869-7118-4F7D-AABC-85AE9033D110@kjbeath.com.au>
Message-ID: <CABkCotSuTgs9B2uACbvRtRjLN8zDUchaQCcNJUUhwhwE93bSFg@mail.gmail.com>

Thank you very much Ken.  You are right.

I think the developers of those packages are working with those updated
versions.

Manuel


El vie., 22 may. 2020 a las 18:49, Ken Beath (<ken at kjbeath.com.au>)
escribi?:

> sf requires GDAL (>= 2.0.1), GEOS (>= 3.4.0), PROJ (>= 4.8.0) so I would
> assume that its full functionality is available with these.
>
> Ken
>
> On 23 May 2020, at 10:08 am, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
>
> Thank you very much Simon.
>
> I don't know much about programming so I will keep the current versions.
>
> I was asking because some of the main spatial packages, as sf and terra, I
> think require the latest versions of gdal and proj to be completely
> functional. That is my understanding, may be I am wrong.
>
> Best,
>
> Manuel
>
>
> El vie., 22 may. 2020 a las 16:56, Simon Urbanek (<
> simon.urbanek at r-project.org>) escribi?:
>
> Manuel,
>
> see
> https://github.com/R-macos/recipes
> you can update the recipes to use the required versions to build a setup
> that works for your package. Once you do you can issue a pull request so we
> can update CRAN accordingly.
>
> Please note that it is generally not a good idea to require latests
> versions as that excludes a large number of users from using your package.
> Many user don't have control over dependent libraries and must use
> supported versions. The mainstream LTS versions right now are geos 3.6.2,
> gdal 2.2.3 and proj 4.9.3 and latest non-LTS are geos 3.7.1, gdal 2.4.0 and
> proj 5.2.0 which is pretty much the maximum you can realistically require.
>
> Cheers,
> Simon
>
>
> On May 23, 2020, at 7:41 AM, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
>
> Dear list members,
>
> Sorry for crossposting.  I sent this message to the r-sig-geo but
> apparently no many people know how to do this in MacOS.  I am working with
> R 4.0.0 and macOS Catalina 10.15.4
>
> I am working with spatial package that to have full functionality depend on
> updated versions of:
>
> GEOS 3.8.0, GDAL 3.0.4 and PROJ 7.0.0
>
> Best,
>
> Manuel
>
> --
> *Manuel Sp?nola, Ph.D.*
> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
> Universidad Nacional
> Apartado 1350-3000
> Heredia
> COSTA RICA
> mspinola at una.cr <mspinola at una.ac.cr>
> mspinola10 at gmail.com
> Tel?fono: (506) 8706 - 4662
> Personal website: Lobito de r?o <
> https://sites.google.com/site/lobitoderio/>
> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>
> [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>
>
> --
> *Manuel Sp?nola, Ph.D.*
> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
> Universidad Nacional
> Apartado 1350-3000
> Heredia
> COSTA RICA
> mspinola at una.cr <mspinola at una.ac.cr>
> mspinola10 at gmail.com
> Tel?fono: (506) 8706 - 4662
> Personal website: Lobito de r?o <
> https://sites.google.com/site/lobitoderio/>
> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>
> [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>

-- 
*Manuel Sp?nola, Ph.D.*
Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
Universidad Nacional
Apartado 1350-3000
Heredia
COSTA RICA
mspinola at una.cr <mspinola at una.ac.cr>
mspinola10 at gmail.com
Tel?fono: (506) 8706 - 4662
Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>

	[[alternative HTML version deleted]]


From Roger@B|v@nd @end|ng |rom nhh@no  Sat May 23 12:50:24 2020
From: Roger@B|v@nd @end|ng |rom nhh@no (Roger Bivand)
Date: Sat, 23 May 2020 12:50:24 +0200
Subject: [R-SIG-Mac] Versions of spatial external software
Message-ID: <alpine.LFD.2.22.394.2005231237310.3095442@reclus.nhh.no>

While sf/rgdal/rgeos etc. try to accommodate post-EOL versions of PROJ, 
GDAL and GEOS, it is not correct to assume that full functionality is 
available without (close to) current versions of these libraries and their 
metadata files. In a recent thread, it was sugggested that users can rely 
on full functionality when using very old versions of external software; 
this is not correct and has never been offered.

In particular, it is now very important to migrate all users of static 
builds to GDAL >= 3, PROJ >= 6. Current versions are GDAL 3.1.0 and PROJ 
7.0.1. This is because of major breaking changes in coordinate reference 
system representation, from Proj4 strings to WKT2_2019 strings. See 
https://www.r-spatial.org/r/2020/03/17/wkt.html and 
https://rgdal.r-forge.r-project.org/articles/CRS_projections_transformations.html

I know this hurts, but Proj4 strings are unsustainable going forward, and 
developers of R spatial packages are not willing to keep things running 
using a defunct representation. We have been pointing this out for at 
least a year, so affected users and package maintainers should know 
already.

Roger

-- 
Roger Bivand
Department of Economics, Norwegian School of Economics,
Helleveien 30, N-5045 Bergen, Norway.
voice: +47 55 95 93 55; e-mail: Roger.Bivand at nhh.no
https://orcid.org/0000-0003-2392-6140
https://scholar.google.no/citations?user=AWeghB0AAAAJ&hl=en


From br@ndon@hurr @end|ng |rom gm@||@com  Sat May 23 20:31:27 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Sat, 23 May 2020 11:31:27 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
Message-ID: <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>

Kevin had a suggestion that I toggle disk access in the Security settings,
building on Bob's original comment to give R full disk access. As soon as I
turned it off, it no longer crashed upon load. I turned it back on and it
didn't crash then either. I have been testing for a few days now and I can
no longer cause it to crash like it used to.

Hiroshi, I suggest trying that as well and see if it solves your problem
too.

Thanks for helping dig on this issue.
Brandon

On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
wrote:

> Unfortunately I cannot reproduce it. When opening a file in one of the
> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
> access files in your Documents folder' - which you have to agree to (one of
> those Catalina annoyances). It only asks once - we don't explicitly control
> it, so I wonder if there is some interaction ?
>
> Cheers,
> Simon
>
>
>
> > On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
> wrote:
> >
> > I just want to add that this is still happening. The size of the
> > script seems to be irrelevant (10s of lines). If you double click
> > another .R file for R GUI to load it gives the beachball of death and
> > R maxes out 1 of my cores. Are there specific logs or files that would
> > be helpful beyond what has been supplied?
> >
> > Thanks,
> > Brandon
> >
> > On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
> >>
> >> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
> >> subsystem is super buggy/noisy. Enough of them that there are a fw
> >> third-party apps like Taccy
> >> (
> https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/)
> >> to help privacy-perms issues. The GUI code does not try to do things
> >> `tccd` would balk at, and this particular sandbox error shows up in
> >> many general apps/FOSS projects outside of R GUI.
> >>
> >> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
> >> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> >>>
> >>> The sandbox error also happened for test2.R that can open without
> trouble.
> >>> So, this might not be the critical error.
> >>>
> >>> I uploaded the two devices logs for test.R and test2.R:
> >>>
> >>> https://hako.space/R/devices_log_for_test_R.txt
> >>> https://hako.space/R/devices_log_for_test2_R.txt
> >>>
> >>> Best regards,
> >>>
> >>> Hiroshi
> >>>
> >>>
> >>>
> >>>
> >>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
> >????:
> >>>>
> >>>> Thank you for responses.
> >>>>
> >>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
> the same GUI hang. The following is a part of the device log:
> >>>>
> >>>> ...
> >>>> default       19:56:06.123133+0900    R        - 1 documents to open
> >>>> default       19:56:06.123188+0900    R        -
> application:openFile:/Users/hako/Desktop/test.R called
> >>>> default       19:56:06.123316+0900    R        - intial start,
> changing wd to pathname whic is /Users/hako/Desktop/
> >>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
> to call TCCAccessRequest without the
> com.apple.private.tcc.manager.check-by-audit-token entitlement
> >>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
> access for target PID[655]
> >>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
> staticCode]: static code for: identifier org.R-project.R, type: 0:
> 0x7fa62ad38b10 at /Applications/R.app
> >>>> ...
> >>>>
> >>>> The error line seems to be similar with Brandon's cases.
> >>>>
> >>>>
> >>>> Best regards,
> >>>>
> >>>>
> >>>> Hiroshi
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
> >>>>>
> >>>>> I have a mac mini as well that does not show this crash. It's much
> >>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
> >>>>> Here is the same boot up log with the same file and it does not
> crash R.
> >>>>>
> >>>>>
> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
> >>>>>
> >>>>> I look at the transition where the two differ and the crash happens
> >>>>> and the one that works is much shorter. At line 319 in the
> non-working
> >>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
> >>>>> doesn't happen until line 4261 in the working file. Lots of parsing
> of
> >>>>> the file is missing (4000 lines of it).
> >>>>>
> >>>>> B
> >>>>>
> >>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
> wrote:
> >>>>>>
> >>>>>> Thanks Bob.
> >>>>>>
> >>>>>> I did this and it did not fix it sadly.
> >>>>>> I downloaded the Debug version of R-GUI and captured the following
> >>>>>> after clicking on the same file (which did cause it to crash again)
> >>>>>> Here is the console log for the R PID (889 in this instance) from
> >>>>>> loading R to then clicking to load the same file (which froze my
> >>>>>> system again):
> >>>>>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
> >>>>>> Here is the full Apple Crash Log that came up after I force quit R:
> >>>>>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
> >>>>>>
> >>>>>> I hope this is helpful. Please let me know if I need to dig more and
> >>>>>> recommendations for doing so.
> >>>>>>
> >>>>>> Thanks,
> >>>>>> B
> >>>>>>
> >>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
> >>>>>>>
> >>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
> tab
> >>>>>>> under Security & Privacy system preferences.
> >>>>>>>
> >>>>>>> I'm not experiencing these issues (just now when I tried it; I
> >>>>>>> generally don't use R.app)
> >>>>>>>
> >>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
> brandon.hurr at gmail.com> wrote:
> >>>>>>>>
> >>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
> >>>>>>>> though. I was able to load Hiroshi's test.R script after loading
> up
> >>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
> directories by
> >>>>>>>> clicking on it.
> >>>>>>>> That said, I've been having many issues locking up R-GUI on my
> 2019
> >>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with a
> >>>>>>>> script file, but if I want to load another script it gives me the
> >>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
> then
> >>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
> length
> >>>>>>>> is the issue.
> >>>>>>>>
> >>>>>>>> I played around with the console a bit and noticed these messages
> pop
> >>>>>>>> up when it locks up R:
> >>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
> Ltd)/Data
> >>>>>>>> standardisation/Database Converts/Conversion script DEV.R
> >>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
> Ltd)/Data
> >>>>>>>> standardisation/Database Converts
> >>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
> Ltd)/Data
> >>>>>>>> standardisation
> >>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
> >>>>>>>>
> >>>>>>>> A rough guess here is that the sandboxing isn't working right (or
> is?)
> >>>>>>>> and is blocking access of R-GUI to the file which then locks up
> >>>>>>>> because it's waiting for data?
> >>>>>>>>
> >>>>>>>> Anyone else seeing this behavior and have a better idea how to
> pin it down?
> >>>>>>>>
> >>>>>>>> Thanks,
> >>>>>>>> B
> >>>>>>>>
> >>>>>>>>
> >>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
> >>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
> >>>>>>>>>
> >>>>>>>>> Dear All,
> >>>>>>>>>
> >>>>>>>>> Environment:
> >>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
> >>>>>>>>> macOS: Mojave and Catalina
> >>>>>>>>> Removed file for the test: .Rapp.history
> >>>>>>>>>
> >>>>>>>>> Description:
> >>>>>>>>> R.app crashes when a large file (e.g., test.R) is double-clicked
> on Mojave and Catalina. The crash does not occur on High Sierra. Small
> source files (e.g., test2.R) do not cause the crash on Mojave and Catalina.
> >>>>>>>>>
> >>>>>>>>> How-To-Repeat:
> >>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
> Mojave.
> >>>>>>>>>
> >>>>>>>>> Fix:
> >>>>>>>>> unknown
> >>>>>>>>>
> >>>>>>>>> Crash Report is too large to paste to the email.
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>> Best regards,
> >>>>>>>>>
> >>>>>>>>> Hiroshi Hakoyama
> >>>>>>>>> Nagano University
> >>>>>>>>>
> >>>>>>>>> test.R
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>>
> ###############################################################################
> >>>>>>>>> x <- rnorm(100000)
> >>>>>>>>> y <- rnorm(100000)
> >>>>>>>>> hist(x)
> >>>>>>>>> hist(y)
> >>>>>>>>>
> >>>>>>>>> test2.R
> >>>>>>>>> x <- rnorm(100000)
> >>>>>>>>> y <- rnorm(100000)
> >>>>>>>>> hist(x)
> >>>>>>>>> hist(y)
> >>>>>>>>>
> >>>>>>>>> system.log
> >>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
> >>>>>>>>> _______________________________________________
> >>>>>>>>> R-SIG-Mac mailing list
> >>>>>>>>> R-SIG-Mac at r-project.org
> >>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>>>>>
> >>>>>>>> _______________________________________________
> >>>>>>>> R-SIG-Mac mailing list
> >>>>>>>> R-SIG-Mac at r-project.org
> >>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>
> >>>
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From br@ndon@hurr @end|ng |rom gm@||@com  Sat May 23 20:44:43 2020
From: br@ndon@hurr @end|ng |rom gm@||@com (Brandon Hurr)
Date: Sat, 23 May 2020 11:44:43 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
Message-ID: <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>

I jumped the gun on this. I rebooted and the pinwheel of death is back when
I open a second file in the editor.

Bummer.

On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
wrote:

> Kevin had a suggestion that I toggle disk access in the Security settings,
> building on Bob's original comment to give R full disk access. As soon as I
> turned it off, it no longer crashed upon load. I turned it back on and it
> didn't crash then either. I have been testing for a few days now and I can
> no longer cause it to crash like it used to.
>
> Hiroshi, I suggest trying that as well and see if it solves your problem
> too.
>
> Thanks for helping dig on this issue.
> Brandon
>
> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
> wrote:
>
>> Unfortunately I cannot reproduce it. When opening a file in one of the
>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>> access files in your Documents folder' - which you have to agree to (one of
>> those Catalina annoyances). It only asks once - we don't explicitly control
>> it, so I wonder if there is some interaction ?
>>
>> Cheers,
>> Simon
>>
>>
>>
>> > On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>> wrote:
>> >
>> > I just want to add that this is still happening. The size of the
>> > script seems to be irrelevant (10s of lines). If you double click
>> > another .R file for R GUI to load it gives the beachball of death and
>> > R maxes out 1 of my cores. Are there specific logs or files that would
>> > be helpful beyond what has been supplied?
>> >
>> > Thanks,
>> > Brandon
>> >
>> > On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>> >>
>> >> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>> >> subsystem is super buggy/noisy. Enough of them that there are a fw
>> >> third-party apps like Taccy
>> >> (
>> https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/)
>> >> to help privacy-perms issues. The GUI code does not try to do things
>> >> `tccd` would balk at, and this particular sandbox error shows up in
>> >> many general apps/FOSS projects outside of R GUI.
>> >>
>> >> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>> >> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>> >>>
>> >>> The sandbox error also happened for test2.R that can open without
>> trouble.
>> >>> So, this might not be the critical error.
>> >>>
>> >>> I uploaded the two devices logs for test.R and test2.R:
>> >>>
>> >>> https://hako.space/R/devices_log_for_test_R.txt
>> >>> https://hako.space/R/devices_log_for_test2_R.txt
>> >>>
>> >>> Best regards,
>> >>>
>> >>> Hiroshi
>> >>>
>> >>>
>> >>>
>> >>>
>> >>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>> >????:
>> >>>>
>> >>>> Thank you for responses.
>> >>>>
>> >>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>> the same GUI hang. The following is a part of the device log:
>> >>>>
>> >>>> ...
>> >>>> default       19:56:06.123133+0900    R        - 1 documents to open
>> >>>> default       19:56:06.123188+0900    R        -
>> application:openFile:/Users/hako/Desktop/test.R called
>> >>>> default       19:56:06.123316+0900    R        - intial start,
>> changing wd to pathname whic is /Users/hako/Desktop/
>> >>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>> to call TCCAccessRequest without the
>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>> >>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>> access for target PID[655]
>> >>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>> 0x7fa62ad38b10 at /Applications/R.app
>> >>>> ...
>> >>>>
>> >>>> The error line seems to be similar with Brandon's cases.
>> >>>>
>> >>>>
>> >>>> Best regards,
>> >>>>
>> >>>>
>> >>>> Hiroshi
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>> >>>>>
>> >>>>> I have a mac mini as well that does not show this crash. It's much
>> >>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>> >>>>> Here is the same boot up log with the same file and it does not
>> crash R.
>> >>>>>
>> >>>>>
>> https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba#file-r-gui_pid4422_working_console-log
>> >>>>>
>> >>>>> I look at the transition where the two differ and the crash happens
>> >>>>> and the one that works is much shorter. At line 319 in the
>> non-working
>> >>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>> >>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>> of
>> >>>>> the file is missing (4000 lines of it).
>> >>>>>
>> >>>>> B
>> >>>>>
>> >>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>> wrote:
>> >>>>>>
>> >>>>>> Thanks Bob.
>> >>>>>>
>> >>>>>> I did this and it did not fix it sadly.
>> >>>>>> I downloaded the Debug version of R-GUI and captured the following
>> >>>>>> after clicking on the same file (which did cause it to crash again)
>> >>>>>> Here is the console log for the R PID (889 in this instance) from
>> >>>>>> loading R to then clicking to load the same file (which froze my
>> >>>>>> system again):
>> >>>>>> https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45
>> >>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>> >>>>>> https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd
>> >>>>>>
>> >>>>>> I hope this is helpful. Please let me know if I need to dig more
>> and
>> >>>>>> recommendations for doing so.
>> >>>>>>
>> >>>>>> Thanks,
>> >>>>>> B
>> >>>>>>
>> >>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>> >>>>>>>
>> >>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>> tab
>> >>>>>>> under Security & Privacy system preferences.
>> >>>>>>>
>> >>>>>>> I'm not experiencing these issues (just now when I tried it; I
>> >>>>>>> generally don't use R.app)
>> >>>>>>>
>> >>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>> brandon.hurr at gmail.com> wrote:
>> >>>>>>>>
>> >>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>> >>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>> up
>> >>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>> directories by
>> >>>>>>>> clicking on it.
>> >>>>>>>> That said, I've been having many issues locking up R-GUI on my
>> 2019
>> >>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>> a
>> >>>>>>>> script file, but if I want to load another script it gives me the
>> >>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>> then
>> >>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>> length
>> >>>>>>>> is the issue.
>> >>>>>>>>
>> >>>>>>>> I played around with the console a bit and noticed these
>> messages pop
>> >>>>>>>> up when it locks up R:
>> >>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>> Ltd)/Data
>> >>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>> >>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>> Ltd)/Data
>> >>>>>>>> standardisation/Database Converts
>> >>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>> Ltd)/Data
>> >>>>>>>> standardisation
>> >>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>> >>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>> >>>>>>>>
>> >>>>>>>> A rough guess here is that the sandboxing isn't working right
>> (or is?)
>> >>>>>>>> and is blocking access of R-GUI to the file which then locks up
>> >>>>>>>> because it's waiting for data?
>> >>>>>>>>
>> >>>>>>>> Anyone else seeing this behavior and have a better idea how to
>> pin it down?
>> >>>>>>>>
>> >>>>>>>> Thanks,
>> >>>>>>>> B
>> >>>>>>>>
>> >>>>>>>>
>> >>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>> >>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>> >>>>>>>>>
>> >>>>>>>>> Dear All,
>> >>>>>>>>>
>> >>>>>>>>> Environment:
>> >>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>> >>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>> >>>>>>>>> macOS: Mojave and Catalina
>> >>>>>>>>> Removed file for the test: .Rapp.history
>> >>>>>>>>>
>> >>>>>>>>> Description:
>> >>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>> double-clicked on Mojave and Catalina. The crash does not occur on High
>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>> and Catalina.
>> >>>>>>>>>
>> >>>>>>>>> How-To-Repeat:
>> >>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>> Mojave.
>> >>>>>>>>>
>> >>>>>>>>> Fix:
>> >>>>>>>>> unknown
>> >>>>>>>>>
>> >>>>>>>>> Crash Report is too large to paste to the email.
>> >>>>>>>>>
>> >>>>>>>>>
>> >>>>>>>>> Best regards,
>> >>>>>>>>>
>> >>>>>>>>> Hiroshi Hakoyama
>> >>>>>>>>> Nagano University
>> >>>>>>>>>
>> >>>>>>>>> test.R
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>>
>> ###############################################################################
>> >>>>>>>>> x <- rnorm(100000)
>> >>>>>>>>> y <- rnorm(100000)
>> >>>>>>>>> hist(x)
>> >>>>>>>>> hist(y)
>> >>>>>>>>>
>> >>>>>>>>> test2.R
>> >>>>>>>>> x <- rnorm(100000)
>> >>>>>>>>> y <- rnorm(100000)
>> >>>>>>>>> hist(x)
>> >>>>>>>>> hist(y)
>> >>>>>>>>>
>> >>>>>>>>> system.log
>> >>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>> >>>>>>>>> _______________________________________________
>> >>>>>>>>> R-SIG-Mac mailing list
>> >>>>>>>>> R-SIG-Mac at r-project.org
>> >>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >>>>>>>>
>> >>>>>>>> _______________________________________________
>> >>>>>>>> R-SIG-Mac mailing list
>> >>>>>>>> R-SIG-Mac at r-project.org
>> >>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >>>>
>> >>>
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>

	[[alternative HTML version deleted]]


From he||yj @end|ng |rom uc@d@edu  Sat May 23 21:08:15 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sat, 23 May 2020 12:08:15 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
 <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
Message-ID: <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>

Aloha.

I have the same problem.? Have deleted all the .R* files I can find and
still no joy.? FWIW, RStudio works fine.

I assume R.app was tested before it was released and wonder if it was
tested on a brand-new Catalina or an upgrade (or both)??? I have a few
of these systems and could test on a 'clean' install if that would help.

J.

On 5/23/20 11:44, Brandon Hurr wrote:
> I jumped the gun on this. I rebooted and the pinwheel of death is back when
> I open a second file in the editor.
>
> Bummer.
>
> On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
> wrote:
>
>> Kevin had a suggestion that I toggle disk access in the Security settings,
>> building on Bob's original comment to give R full disk access. As soon as I
>> turned it off, it no longer crashed upon load. I turned it back on and it
>> didn't crash then either. I have been testing for a few days now and I can
>> no longer cause it to crash like it used to.
>>
>> Hiroshi, I suggest trying that as well and see if it solves your problem
>> too.
>>
>> Thanks for helping dig on this issue.
>> Brandon
>>
>> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
>> wrote:
>>
>>> Unfortunately I cannot reproduce it. When opening a file in one of the
>>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>>> access files in your Documents folder' - which you have to agree to (one of
>>> those Catalina annoyances). It only asks once - we don't explicitly control
>>> it, so I wonder if there is some interaction ?
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>>> wrote:
>>>> I just want to add that this is still happening. The size of the
>>>> script seems to be irrelevant (10s of lines). If you double click
>>>> another .R file for R GUI to load it gives the beachball of death and
>>>> R maxes out 1 of my cores. Are there specific logs or files that would
>>>> be helpful beyond what has been supplied?
>>>>
>>>> Thanks,
>>>> Brandon
>>>>
>>>> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>>>>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>>>>> subsystem is super buggy/noisy. Enough of them that there are a fw
>>>>> third-party apps like Taccy
>>>>> (
>>> https://urldefense.com/v3/__https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjTzjfoVM$ )
>>>>> to help privacy-perms issues. The GUI code does not try to do things
>>>>> `tccd` would balk at, and this particular sandbox error shows up in
>>>>> many general apps/FOSS projects outside of R GUI.
>>>>>
>>>>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>> The sandbox error also happened for test2.R that can open without
>>> trouble.
>>>>>> So, this might not be the critical error.
>>>>>>
>>>>>> I uploaded the two devices logs for test.R and test2.R:
>>>>>>
>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTj-SyhUy8$ 
>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test2_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjWtZz14g$ 
>>>>>>
>>>>>> Best regards,
>>>>>>
>>>>>> Hiroshi
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>>>> ????:
>>>>>>> Thank you for responses.
>>>>>>>
>>>>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>>> the same GUI hang. The following is a part of the device log:
>>>>>>> ...
>>>>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>>>>> default       19:56:06.123188+0900    R        -
>>> application:openFile:/Users/hako/Desktop/test.R called
>>>>>>> default       19:56:06.123316+0900    R        - intial start,
>>> changing wd to pathname whic is /Users/hako/Desktop/
>>>>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>>> to call TCCAccessRequest without the
>>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>>> access for target PID[655]
>>>>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>>> 0x7fa62ad38b10 at /Applications/R.app
>>>>>>> ...
>>>>>>>
>>>>>>> The error line seems to be similar with Brandon's cases.
>>>>>>>
>>>>>>>
>>>>>>> Best regards,
>>>>>>>
>>>>>>>
>>>>>>> Hiroshi
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>>>>>
>>>>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>>>>> Here is the same boot up log with the same file and it does not
>>> crash R.
>>>>>>>>
>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba*file-r-gui_pid4422_working_console-log__;Iw!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjZZHVqhs$ 
>>>>>>>> I look at the transition where the two differ and the crash happens
>>>>>>>> and the one that works is much shorter. At line 319 in the
>>> non-working
>>>>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>>> of
>>>>>>>> the file is missing (4000 lines of it).
>>>>>>>>
>>>>>>>> B
>>>>>>>>
>>>>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>>> wrote:
>>>>>>>>> Thanks Bob.
>>>>>>>>>
>>>>>>>>> I did this and it did not fix it sadly.
>>>>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>>>>> system again):
>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjrmA89co$ 
>>>>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjfzfw5XY$ 
>>>>>>>>>
>>>>>>>>> I hope this is helpful. Please let me know if I need to dig more
>>> and
>>>>>>>>> recommendations for doing so.
>>>>>>>>>
>>>>>>>>> Thanks,
>>>>>>>>> B
>>>>>>>>>
>>>>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>>> tab
>>>>>>>>>> under Security & Privacy system preferences.
>>>>>>>>>>
>>>>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>>>>> generally don't use R.app)
>>>>>>>>>>
>>>>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>>> brandon.hurr at gmail.com> wrote:
>>>>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>>> up
>>>>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>>> directories by
>>>>>>>>>>> clicking on it.
>>>>>>>>>>> That said, I've been having many issues locking up R-GUI on my
>>> 2019
>>>>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>>> a
>>>>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>>> then
>>>>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>>> length
>>>>>>>>>>> is the issue.
>>>>>>>>>>>
>>>>>>>>>>> I played around with the console a bit and noticed these
>>> messages pop
>>>>>>>>>>> up when it locks up R:
>>>>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>> Ltd)/Data
>>>>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>> Ltd)/Data
>>>>>>>>>>> standardisation/Database Converts
>>>>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>> Ltd)/Data
>>>>>>>>>>> standardisation
>>>>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>>>>>
>>>>>>>>>>> A rough guess here is that the sandboxing isn't working right
>>> (or is?)
>>>>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>>>>> because it's waiting for data?
>>>>>>>>>>>
>>>>>>>>>>> Anyone else seeing this behavior and have a better idea how to
>>> pin it down?
>>>>>>>>>>> Thanks,
>>>>>>>>>>> B
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>>>> Dear All,
>>>>>>>>>>>>
>>>>>>>>>>>> Environment:
>>>>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>>>>>
>>>>>>>>>>>> Description:
>>>>>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>>> double-clicked on Mojave and Catalina. The crash does not occur on High
>>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>>> and Catalina.
>>>>>>>>>>>> How-To-Repeat:
>>>>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>>> Mojave.
>>>>>>>>>>>> Fix:
>>>>>>>>>>>> unknown
>>>>>>>>>>>>
>>>>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Best regards,
>>>>>>>>>>>>
>>>>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>>>>> Nagano University
>>>>>>>>>>>>
>>>>>>>>>>>> test.R
>>>>>>>>>>>>
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>> ###############################################################################
>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>> hist(x)
>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>
>>>>>>>>>>>> test2.R
>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>> hist(x)
>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>
>>>>>>>>>>>> system.log
>>>>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From he||yj @end|ng |rom uc@d@edu  Sat May 23 21:26:28 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sat, 23 May 2020 12:26:28 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
 <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
 <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>
Message-ID: <79d42127-84a1-7b3f-1f09-23e1051360a8@ucsd.edu>

Aloha.

Just tested R.app on a clean Catalina system and it opens the same file
that fails on an upgraded system.? So next test should be after a
complete uninstall of R.app (maybe R itself as well?).? How does one do
a complete uninstall?

J.

On 5/23/20 12:08, John Helly wrote:
> Aloha.
>
> I have the same problem.? Have deleted all the .R* files I can find and
> still no joy.? FWIW, RStudio works fine.
>
> I assume R.app was tested before it was released and wonder if it was
> tested on a brand-new Catalina or an upgrade (or both)??? I have a few
> of these systems and could test on a 'clean' install if that would help.
>
> J.
>
> On 5/23/20 11:44, Brandon Hurr wrote:
>> I jumped the gun on this. I rebooted and the pinwheel of death is back when
>> I open a second file in the editor.
>>
>> Bummer.
>>
>> On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
>> wrote:
>>
>>> Kevin had a suggestion that I toggle disk access in the Security settings,
>>> building on Bob's original comment to give R full disk access. As soon as I
>>> turned it off, it no longer crashed upon load. I turned it back on and it
>>> didn't crash then either. I have been testing for a few days now and I can
>>> no longer cause it to crash like it used to.
>>>
>>> Hiroshi, I suggest trying that as well and see if it solves your problem
>>> too.
>>>
>>> Thanks for helping dig on this issue.
>>> Brandon
>>>
>>> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
>>> wrote:
>>>
>>>> Unfortunately I cannot reproduce it. When opening a file in one of the
>>>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>>>> access files in your Documents folder' - which you have to agree to (one of
>>>> those Catalina annoyances). It only asks once - we don't explicitly control
>>>> it, so I wonder if there is some interaction ?
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>
>>>>> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>>>> wrote:
>>>>> I just want to add that this is still happening. The size of the
>>>>> script seems to be irrelevant (10s of lines). If you double click
>>>>> another .R file for R GUI to load it gives the beachball of death and
>>>>> R maxes out 1 of my cores. Are there specific logs or files that would
>>>>> be helpful beyond what has been supplied?
>>>>>
>>>>> Thanks,
>>>>> Brandon
>>>>>
>>>>> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>>>>>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>>>>>> subsystem is super buggy/noisy. Enough of them that there are a fw
>>>>>> third-party apps like Taccy
>>>>>> (
>>>> https://urldefense.com/v3/__https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjTzjfoVM$ )
>>>>>> to help privacy-perms issues. The GUI code does not try to do things
>>>>>> `tccd` would balk at, and this particular sandbox error shows up in
>>>>>> many general apps/FOSS projects outside of R GUI.
>>>>>>
>>>>>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>> The sandbox error also happened for test2.R that can open without
>>>> trouble.
>>>>>>> So, this might not be the critical error.
>>>>>>>
>>>>>>> I uploaded the two devices logs for test.R and test2.R:
>>>>>>>
>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTj-SyhUy8$ 
>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test2_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjWtZz14g$ 
>>>>>>>
>>>>>>> Best regards,
>>>>>>>
>>>>>>> Hiroshi
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>>>>> ????:
>>>>>>>> Thank you for responses.
>>>>>>>>
>>>>>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>>>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>>>> the same GUI hang. The following is a part of the device log:
>>>>>>>> ...
>>>>>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>>>>>> default       19:56:06.123188+0900    R        -
>>>> application:openFile:/Users/hako/Desktop/test.R called
>>>>>>>> default       19:56:06.123316+0900    R        - intial start,
>>>> changing wd to pathname whic is /Users/hako/Desktop/
>>>>>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>>>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>>>> to call TCCAccessRequest without the
>>>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>>>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>>>> access for target PID[655]
>>>>>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>>>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>>>> 0x7fa62ad38b10 at /Applications/R.app
>>>>>>>> ...
>>>>>>>>
>>>>>>>> The error line seems to be similar with Brandon's cases.
>>>>>>>>
>>>>>>>>
>>>>>>>> Best regards,
>>>>>>>>
>>>>>>>>
>>>>>>>> Hiroshi
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>>>>>>
>>>>>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>>>>>> Here is the same boot up log with the same file and it does not
>>>> crash R.
>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba*file-r-gui_pid4422_working_console-log__;Iw!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjZZHVqhs$ 
>>>>>>>>> I look at the transition where the two differ and the crash happens
>>>>>>>>> and the one that works is much shorter. At line 319 in the
>>>> non-working
>>>>>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>>>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>>>> of
>>>>>>>>> the file is missing (4000 lines of it).
>>>>>>>>>
>>>>>>>>> B
>>>>>>>>>
>>>>>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>>>> wrote:
>>>>>>>>>> Thanks Bob.
>>>>>>>>>>
>>>>>>>>>> I did this and it did not fix it sadly.
>>>>>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>>>>>> system again):
>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjrmA89co$ 
>>>>>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjfzfw5XY$ 
>>>>>>>>>>
>>>>>>>>>> I hope this is helpful. Please let me know if I need to dig more
>>>> and
>>>>>>>>>> recommendations for doing so.
>>>>>>>>>>
>>>>>>>>>> Thanks,
>>>>>>>>>> B
>>>>>>>>>>
>>>>>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>>>> tab
>>>>>>>>>>> under Security & Privacy system preferences.
>>>>>>>>>>>
>>>>>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>>>>>> generally don't use R.app)
>>>>>>>>>>>
>>>>>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>>>> brandon.hurr at gmail.com> wrote:
>>>>>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>>>> up
>>>>>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>>>> directories by
>>>>>>>>>>>> clicking on it.
>>>>>>>>>>>> That said, I've been having many issues locking up R-GUI on my
>>>> 2019
>>>>>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>>>> a
>>>>>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>>>> then
>>>>>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>>>> length
>>>>>>>>>>>> is the issue.
>>>>>>>>>>>>
>>>>>>>>>>>> I played around with the console a bit and noticed these
>>>> messages pop
>>>>>>>>>>>> up when it locks up R:
>>>>>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>> Ltd)/Data
>>>>>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>> Ltd)/Data
>>>>>>>>>>>> standardisation/Database Converts
>>>>>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>> Ltd)/Data
>>>>>>>>>>>> standardisation
>>>>>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>>>>>>
>>>>>>>>>>>> A rough guess here is that the sandboxing isn't working right
>>>> (or is?)
>>>>>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>>>>>> because it's waiting for data?
>>>>>>>>>>>>
>>>>>>>>>>>> Anyone else seeing this behavior and have a better idea how to
>>>> pin it down?
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> B
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>>>>> Dear All,
>>>>>>>>>>>>>
>>>>>>>>>>>>> Environment:
>>>>>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>>>>>>
>>>>>>>>>>>>> Description:
>>>>>>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>>>> double-clicked on Mojave and Catalina. The crash does not occur on High
>>>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>>>> and Catalina.
>>>>>>>>>>>>> How-To-Repeat:
>>>>>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>>>> Mojave.
>>>>>>>>>>>>> Fix:
>>>>>>>>>>>>> unknown
>>>>>>>>>>>>>
>>>>>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Best regards,
>>>>>>>>>>>>>
>>>>>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>>>>>> Nagano University
>>>>>>>>>>>>>
>>>>>>>>>>>>> test.R
>>>>>>>>>>>>>
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>> ###############################################################################
>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>
>>>>>>>>>>>>> test2.R
>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>
>>>>>>>>>>>>> system.log
>>>>>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>>>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From he||yj @end|ng |rom uc@d@edu  Sat May 23 22:03:04 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sat, 23 May 2020 13:03:04 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <79d42127-84a1-7b3f-1f09-23e1051360a8@ucsd.edu>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
 <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
 <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>
 <79d42127-84a1-7b3f-1f09-23e1051360a8@ucsd.edu>
Message-ID: <46d2e3a9-6d48-8235-346f-8aa3e3b10cb4@ucsd.edu>

Aloha.

If I setwd, the R.app works.? It will not work with whatever default it
is using.

J.

On 5/23/20 12:26, John Helly wrote:
> Aloha.
>
> Just tested R.app on a clean Catalina system and it opens the same file
> that fails on an upgraded system.? So next test should be after a
> complete uninstall of R.app (maybe R itself as well?).? How does one do
> a complete uninstall?
>
> J.
>
> On 5/23/20 12:08, John Helly wrote:
>> Aloha.
>>
>> I have the same problem.? Have deleted all the .R* files I can find and
>> still no joy.? FWIW, RStudio works fine.
>>
>> I assume R.app was tested before it was released and wonder if it was
>> tested on a brand-new Catalina or an upgrade (or both)??? I have a few
>> of these systems and could test on a 'clean' install if that would help.
>>
>> J.
>>
>> On 5/23/20 11:44, Brandon Hurr wrote:
>>> I jumped the gun on this. I rebooted and the pinwheel of death is back when
>>> I open a second file in the editor.
>>>
>>> Bummer.
>>>
>>> On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
>>> wrote:
>>>
>>>> Kevin had a suggestion that I toggle disk access in the Security settings,
>>>> building on Bob's original comment to give R full disk access. As soon as I
>>>> turned it off, it no longer crashed upon load. I turned it back on and it
>>>> didn't crash then either. I have been testing for a few days now and I can
>>>> no longer cause it to crash like it used to.
>>>>
>>>> Hiroshi, I suggest trying that as well and see if it solves your problem
>>>> too.
>>>>
>>>> Thanks for helping dig on this issue.
>>>> Brandon
>>>>
>>>> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
>>>> wrote:
>>>>
>>>>> Unfortunately I cannot reproduce it. When opening a file in one of the
>>>>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>>>>> access files in your Documents folder' - which you have to agree to (one of
>>>>> those Catalina annoyances). It only asks once - we don't explicitly control
>>>>> it, so I wonder if there is some interaction ?
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>>
>>>>>
>>>>>> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>>>>> wrote:
>>>>>> I just want to add that this is still happening. The size of the
>>>>>> script seems to be irrelevant (10s of lines). If you double click
>>>>>> another .R file for R GUI to load it gives the beachball of death and
>>>>>> R maxes out 1 of my cores. Are there specific logs or files that would
>>>>>> be helpful beyond what has been supplied?
>>>>>>
>>>>>> Thanks,
>>>>>> Brandon
>>>>>>
>>>>>> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>>>>>>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>>>>>>> subsystem is super buggy/noisy. Enough of them that there are a fw
>>>>>>> third-party apps like Taccy
>>>>>>> (
>>>>> https://urldefense.com/v3/__https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjTzjfoVM$ )
>>>>>>> to help privacy-perms issues. The GUI code does not try to do things
>>>>>>> `tccd` would balk at, and this particular sandbox error shows up in
>>>>>>> many general apps/FOSS projects outside of R GUI.
>>>>>>>
>>>>>>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>> The sandbox error also happened for test2.R that can open without
>>>>> trouble.
>>>>>>>> So, this might not be the critical error.
>>>>>>>>
>>>>>>>> I uploaded the two devices logs for test.R and test2.R:
>>>>>>>>
>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTj-SyhUy8$ 
>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test2_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjWtZz14g$ 
>>>>>>>>
>>>>>>>> Best regards,
>>>>>>>>
>>>>>>>> Hiroshi
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>>>>>> ????:
>>>>>>>>> Thank you for responses.
>>>>>>>>>
>>>>>>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>>>>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>>>>> the same GUI hang. The following is a part of the device log:
>>>>>>>>> ...
>>>>>>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>>>>>>> default       19:56:06.123188+0900    R        -
>>>>> application:openFile:/Users/hako/Desktop/test.R called
>>>>>>>>> default       19:56:06.123316+0900    R        - intial start,
>>>>> changing wd to pathname whic is /Users/hako/Desktop/
>>>>>>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>>>>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>>>>> to call TCCAccessRequest without the
>>>>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>>>>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>>>>> access for target PID[655]
>>>>>>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>>>>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>>>>> 0x7fa62ad38b10 at /Applications/R.app
>>>>>>>>> ...
>>>>>>>>>
>>>>>>>>> The error line seems to be similar with Brandon's cases.
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Best regards,
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Hiroshi
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>>>>>>>
>>>>>>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>>>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>>>>>>> Here is the same boot up log with the same file and it does not
>>>>> crash R.
>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba*file-r-gui_pid4422_working_console-log__;Iw!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjZZHVqhs$ 
>>>>>>>>>> I look at the transition where the two differ and the crash happens
>>>>>>>>>> and the one that works is much shorter. At line 319 in the
>>>>> non-working
>>>>>>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>>>>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>>>>> of
>>>>>>>>>> the file is missing (4000 lines of it).
>>>>>>>>>>
>>>>>>>>>> B
>>>>>>>>>>
>>>>>>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>>>>> wrote:
>>>>>>>>>>> Thanks Bob.
>>>>>>>>>>>
>>>>>>>>>>> I did this and it did not fix it sadly.
>>>>>>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>>>>>>> system again):
>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjrmA89co$ 
>>>>>>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjfzfw5XY$ 
>>>>>>>>>>>
>>>>>>>>>>> I hope this is helpful. Please let me know if I need to dig more
>>>>> and
>>>>>>>>>>> recommendations for doing so.
>>>>>>>>>>>
>>>>>>>>>>> Thanks,
>>>>>>>>>>> B
>>>>>>>>>>>
>>>>>>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>>>>> tab
>>>>>>>>>>>> under Security & Privacy system preferences.
>>>>>>>>>>>>
>>>>>>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>>>>>>> generally don't use R.app)
>>>>>>>>>>>>
>>>>>>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>>>>> brandon.hurr at gmail.com> wrote:
>>>>>>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>>>>> up
>>>>>>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>>>>> directories by
>>>>>>>>>>>>> clicking on it.
>>>>>>>>>>>>> That said, I've been having many issues locking up R-GUI on my
>>>>> 2019
>>>>>>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>>>>> a
>>>>>>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>>>>> then
>>>>>>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>>>>> length
>>>>>>>>>>>>> is the issue.
>>>>>>>>>>>>>
>>>>>>>>>>>>> I played around with the console a bit and noticed these
>>>>> messages pop
>>>>>>>>>>>>> up when it locks up R:
>>>>>>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>> Ltd)/Data
>>>>>>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>> Ltd)/Data
>>>>>>>>>>>>> standardisation/Database Converts
>>>>>>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>> Ltd)/Data
>>>>>>>>>>>>> standardisation
>>>>>>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>>>>>>>
>>>>>>>>>>>>> A rough guess here is that the sandboxing isn't working right
>>>>> (or is?)
>>>>>>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>>>>>>> because it's waiting for data?
>>>>>>>>>>>>>
>>>>>>>>>>>>> Anyone else seeing this behavior and have a better idea how to
>>>>> pin it down?
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>> B
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>>>>>> Dear All,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Environment:
>>>>>>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Description:
>>>>>>>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>>>>> double-clicked on Mojave and Catalina. The crash does not occur on High
>>>>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>>>>> and Catalina.
>>>>>>>>>>>>>> How-To-Repeat:
>>>>>>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>>>>> Mojave.
>>>>>>>>>>>>>> Fix:
>>>>>>>>>>>>>> unknown
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Best regards,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>>>>>>> Nagano University
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> test.R
>>>>>>>>>>>>>>
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>> ###############################################################################
>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> test2.R
>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> system.log
>>>>>>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>>>>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>
>>> 	[[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From he||yj @end|ng |rom uc@d@edu  Sat May 23 22:03:37 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sat, 23 May 2020 13:03:37 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina
In-Reply-To: <46d2e3a9-6d48-8235-346f-8aa3e3b10cb4@ucsd.edu>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
 <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
 <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>
 <79d42127-84a1-7b3f-1f09-23e1051360a8@ucsd.edu>
 <46d2e3a9-6d48-8235-346f-8aa3e3b10cb4@ucsd.edu>
Message-ID: <5ea0e0c4-ee1f-bd77-e8ee-8abf66b142c9@ucsd.edu>

Sorry. Take it back.? It started in Xcode, not R.app.
J.

On 5/23/20 13:03, John Helly wrote:
> Aloha.
>
> If I setwd, the R.app works.? It will not work with whatever default it
> is using.
>
> J.
>
> On 5/23/20 12:26, John Helly wrote:
>> Aloha.
>>
>> Just tested R.app on a clean Catalina system and it opens the same file
>> that fails on an upgraded system.? So next test should be after a
>> complete uninstall of R.app (maybe R itself as well?).? How does one do
>> a complete uninstall?
>>
>> J.
>>
>> On 5/23/20 12:08, John Helly wrote:
>>> Aloha.
>>>
>>> I have the same problem.? Have deleted all the .R* files I can find and
>>> still no joy.? FWIW, RStudio works fine.
>>>
>>> I assume R.app was tested before it was released and wonder if it was
>>> tested on a brand-new Catalina or an upgrade (or both)??? I have a few
>>> of these systems and could test on a 'clean' install if that would help.
>>>
>>> J.
>>>
>>> On 5/23/20 11:44, Brandon Hurr wrote:
>>>> I jumped the gun on this. I rebooted and the pinwheel of death is back when
>>>> I open a second file in the editor.
>>>>
>>>> Bummer.
>>>>
>>>> On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
>>>> wrote:
>>>>
>>>>> Kevin had a suggestion that I toggle disk access in the Security settings,
>>>>> building on Bob's original comment to give R full disk access. As soon as I
>>>>> turned it off, it no longer crashed upon load. I turned it back on and it
>>>>> didn't crash then either. I have been testing for a few days now and I can
>>>>> no longer cause it to crash like it used to.
>>>>>
>>>>> Hiroshi, I suggest trying that as well and see if it solves your problem
>>>>> too.
>>>>>
>>>>> Thanks for helping dig on this issue.
>>>>> Brandon
>>>>>
>>>>> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
>>>>> wrote:
>>>>>
>>>>>> Unfortunately I cannot reproduce it. When opening a file in one of the
>>>>>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>>>>>> access files in your Documents folder' - which you have to agree to (one of
>>>>>> those Catalina annoyances). It only asks once - we don't explicitly control
>>>>>> it, so I wonder if there is some interaction ?
>>>>>>
>>>>>> Cheers,
>>>>>> Simon
>>>>>>
>>>>>>
>>>>>>
>>>>>>> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>>>>>> wrote:
>>>>>>> I just want to add that this is still happening. The size of the
>>>>>>> script seems to be irrelevant (10s of lines). If you double click
>>>>>>> another .R file for R GUI to load it gives the beachball of death and
>>>>>>> R maxes out 1 of my cores. Are there specific logs or files that would
>>>>>>> be helpful beyond what has been supplied?
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Brandon
>>>>>>>
>>>>>>> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>>>>>>>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>>>>>>>> subsystem is super buggy/noisy. Enough of them that there are a fw
>>>>>>>> third-party apps like Taccy
>>>>>>>> (
>>>>>> https://urldefense.com/v3/__https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjTzjfoVM$ )
>>>>>>>> to help privacy-perms issues. The GUI code does not try to do things
>>>>>>>> `tccd` would balk at, and this particular sandbox error shows up in
>>>>>>>> many general apps/FOSS projects outside of R GUI.
>>>>>>>>
>>>>>>>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>> The sandbox error also happened for test2.R that can open without
>>>>>> trouble.
>>>>>>>>> So, this might not be the critical error.
>>>>>>>>>
>>>>>>>>> I uploaded the two devices logs for test.R and test2.R:
>>>>>>>>>
>>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTj-SyhUy8$ 
>>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test2_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjWtZz14g$ 
>>>>>>>>>
>>>>>>>>> Best regards,
>>>>>>>>>
>>>>>>>>> Hiroshi
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>>>>>>> ????:
>>>>>>>>>> Thank you for responses.
>>>>>>>>>>
>>>>>>>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>>>>>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>>>>>> the same GUI hang. The following is a part of the device log:
>>>>>>>>>> ...
>>>>>>>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>>>>>>>> default       19:56:06.123188+0900    R        -
>>>>>> application:openFile:/Users/hako/Desktop/test.R called
>>>>>>>>>> default       19:56:06.123316+0900    R        - intial start,
>>>>>> changing wd to pathname whic is /Users/hako/Desktop/
>>>>>>>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>>>>>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>>>>>> to call TCCAccessRequest without the
>>>>>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>>>>>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>>>>>> access for target PID[655]
>>>>>>>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>>>>>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>>>>>> 0x7fa62ad38b10 at /Applications/R.app
>>>>>>>>>> ...
>>>>>>>>>>
>>>>>>>>>> The error line seems to be similar with Brandon's cases.
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Best regards,
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Hiroshi
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>>>>>>>>
>>>>>>>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>>>>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>>>>>>>> Here is the same boot up log with the same file and it does not
>>>>>> crash R.
>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba*file-r-gui_pid4422_working_console-log__;Iw!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjZZHVqhs$ 
>>>>>>>>>>> I look at the transition where the two differ and the crash happens
>>>>>>>>>>> and the one that works is much shorter. At line 319 in the
>>>>>> non-working
>>>>>>>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>>>>>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>>>>>> of
>>>>>>>>>>> the file is missing (4000 lines of it).
>>>>>>>>>>>
>>>>>>>>>>> B
>>>>>>>>>>>
>>>>>>>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>>>>>> wrote:
>>>>>>>>>>>> Thanks Bob.
>>>>>>>>>>>>
>>>>>>>>>>>> I did this and it did not fix it sadly.
>>>>>>>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>>>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>>>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>>>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>>>>>>>> system again):
>>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjrmA89co$ 
>>>>>>>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjfzfw5XY$ 
>>>>>>>>>>>>
>>>>>>>>>>>> I hope this is helpful. Please let me know if I need to dig more
>>>>>> and
>>>>>>>>>>>> recommendations for doing so.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> B
>>>>>>>>>>>>
>>>>>>>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>>>>>> tab
>>>>>>>>>>>>> under Security & Privacy system preferences.
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>>>>>>>> generally don't use R.app)
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>>>>>> brandon.hurr at gmail.com> wrote:
>>>>>>>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>>>>>> up
>>>>>>>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>>>>>> directories by
>>>>>>>>>>>>>> clicking on it.
>>>>>>>>>>>>>> That said, I've been having many issues locking up R-GUI on my
>>>>>> 2019
>>>>>>>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>>>>>> a
>>>>>>>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>>>>>> then
>>>>>>>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>>>>>> length
>>>>>>>>>>>>>> is the issue.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I played around with the console a bit and noticed these
>>>>>> messages pop
>>>>>>>>>>>>>> up when it locks up R:
>>>>>>>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>> Ltd)/Data
>>>>>>>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>> Ltd)/Data
>>>>>>>>>>>>>> standardisation/Database Converts
>>>>>>>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>> Ltd)/Data
>>>>>>>>>>>>>> standardisation
>>>>>>>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> A rough guess here is that the sandboxing isn't working right
>>>>>> (or is?)
>>>>>>>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>>>>>>>> because it's waiting for data?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Anyone else seeing this behavior and have a better idea how to
>>>>>> pin it down?
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>> B
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>>>>>>> Dear All,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Environment:
>>>>>>>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Description:
>>>>>>>>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>>>>>> double-clicked on Mojave and Catalina. The crash does not occur on High
>>>>>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>>>>>> and Catalina.
>>>>>>>>>>>>>>> How-To-Repeat:
>>>>>>>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>>>>>> Mojave.
>>>>>>>>>>>>>>> Fix:
>>>>>>>>>>>>>>> unknown
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Best regards,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>>>>>>>> Nagano University
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> test.R
>>>>>>>>>>>>>>>
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> test2.R
>>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> system.log
>>>>>>>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>>>>>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From he||yj @end|ng |rom uc@d@edu  Sat May 23 22:14:00 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sat, 23 May 2020 13:14:00 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina: Problem
 identified
In-Reply-To: <46d2e3a9-6d48-8235-346f-8aa3e3b10cb4@ucsd.edu>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
 <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
 <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>
 <79d42127-84a1-7b3f-1f09-23e1051360a8@ucsd.edu>
 <46d2e3a9-6d48-8235-346f-8aa3e3b10cb4@ucsd.edu>
Message-ID: <3010465a-7f42-7468-8a84-a61bb8e2bc88@ucsd.edu>

Aloha.

If I delete:

/Users/<user>/Library/Preferences/org.R-project.R.plist

then R.app will work.? If that file is present it will not open
anything.? Something is wrong with that file.? I assume on the clean
Catalina system I tested on, it worked because that file did not yet
exist.? I will confirm.

J.




On 5/23/20 13:03, John Helly wrote:
> Aloha.
>
> If I setwd, the R.app works.? It will not work with whatever default it
> is using.
>
> J.
>
> On 5/23/20 12:26, John Helly wrote:
>> Aloha.
>>
>> Just tested R.app on a clean Catalina system and it opens the same file
>> that fails on an upgraded system.? So next test should be after a
>> complete uninstall of R.app (maybe R itself as well?).? How does one do
>> a complete uninstall?
>>
>> J.
>>
>> On 5/23/20 12:08, John Helly wrote:
>>> Aloha.
>>>
>>> I have the same problem.? Have deleted all the .R* files I can find and
>>> still no joy.? FWIW, RStudio works fine.
>>>
>>> I assume R.app was tested before it was released and wonder if it was
>>> tested on a brand-new Catalina or an upgrade (or both)??? I have a few
>>> of these systems and could test on a 'clean' install if that would help.
>>>
>>> J.
>>>
>>> On 5/23/20 11:44, Brandon Hurr wrote:
>>>> I jumped the gun on this. I rebooted and the pinwheel of death is back when
>>>> I open a second file in the editor.
>>>>
>>>> Bummer.
>>>>
>>>> On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
>>>> wrote:
>>>>
>>>>> Kevin had a suggestion that I toggle disk access in the Security settings,
>>>>> building on Bob's original comment to give R full disk access. As soon as I
>>>>> turned it off, it no longer crashed upon load. I turned it back on and it
>>>>> didn't crash then either. I have been testing for a few days now and I can
>>>>> no longer cause it to crash like it used to.
>>>>>
>>>>> Hiroshi, I suggest trying that as well and see if it solves your problem
>>>>> too.
>>>>>
>>>>> Thanks for helping dig on this issue.
>>>>> Brandon
>>>>>
>>>>> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
>>>>> wrote:
>>>>>
>>>>>> Unfortunately I cannot reproduce it. When opening a file in one of the
>>>>>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>>>>>> access files in your Documents folder' - which you have to agree to (one of
>>>>>> those Catalina annoyances). It only asks once - we don't explicitly control
>>>>>> it, so I wonder if there is some interaction ?
>>>>>>
>>>>>> Cheers,
>>>>>> Simon
>>>>>>
>>>>>>
>>>>>>
>>>>>>> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>>>>>> wrote:
>>>>>>> I just want to add that this is still happening. The size of the
>>>>>>> script seems to be irrelevant (10s of lines). If you double click
>>>>>>> another .R file for R GUI to load it gives the beachball of death and
>>>>>>> R maxes out 1 of my cores. Are there specific logs or files that would
>>>>>>> be helpful beyond what has been supplied?
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Brandon
>>>>>>>
>>>>>>> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>>>>>>>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>>>>>>>> subsystem is super buggy/noisy. Enough of them that there are a fw
>>>>>>>> third-party apps like Taccy
>>>>>>>> (
>>>>>> https://urldefense.com/v3/__https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjTzjfoVM$ )
>>>>>>>> to help privacy-perms issues. The GUI code does not try to do things
>>>>>>>> `tccd` would balk at, and this particular sandbox error shows up in
>>>>>>>> many general apps/FOSS projects outside of R GUI.
>>>>>>>>
>>>>>>>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>> The sandbox error also happened for test2.R that can open without
>>>>>> trouble.
>>>>>>>>> So, this might not be the critical error.
>>>>>>>>>
>>>>>>>>> I uploaded the two devices logs for test.R and test2.R:
>>>>>>>>>
>>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTj-SyhUy8$ 
>>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test2_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjWtZz14g$ 
>>>>>>>>>
>>>>>>>>> Best regards,
>>>>>>>>>
>>>>>>>>> Hiroshi
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>>>>>>> ????:
>>>>>>>>>> Thank you for responses.
>>>>>>>>>>
>>>>>>>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>>>>>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>>>>>> the same GUI hang. The following is a part of the device log:
>>>>>>>>>> ...
>>>>>>>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>>>>>>>> default       19:56:06.123188+0900    R        -
>>>>>> application:openFile:/Users/hako/Desktop/test.R called
>>>>>>>>>> default       19:56:06.123316+0900    R        - intial start,
>>>>>> changing wd to pathname whic is /Users/hako/Desktop/
>>>>>>>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>>>>>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>>>>>> to call TCCAccessRequest without the
>>>>>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>>>>>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>>>>>> access for target PID[655]
>>>>>>>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>>>>>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>>>>>> 0x7fa62ad38b10 at /Applications/R.app
>>>>>>>>>> ...
>>>>>>>>>>
>>>>>>>>>> The error line seems to be similar with Brandon's cases.
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Best regards,
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Hiroshi
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>>>>>>>>
>>>>>>>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>>>>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>>>>>>>> Here is the same boot up log with the same file and it does not
>>>>>> crash R.
>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba*file-r-gui_pid4422_working_console-log__;Iw!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjZZHVqhs$ 
>>>>>>>>>>> I look at the transition where the two differ and the crash happens
>>>>>>>>>>> and the one that works is much shorter. At line 319 in the
>>>>>> non-working
>>>>>>>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>>>>>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>>>>>> of
>>>>>>>>>>> the file is missing (4000 lines of it).
>>>>>>>>>>>
>>>>>>>>>>> B
>>>>>>>>>>>
>>>>>>>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>>>>>> wrote:
>>>>>>>>>>>> Thanks Bob.
>>>>>>>>>>>>
>>>>>>>>>>>> I did this and it did not fix it sadly.
>>>>>>>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>>>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>>>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>>>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>>>>>>>> system again):
>>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjrmA89co$ 
>>>>>>>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjfzfw5XY$ 
>>>>>>>>>>>>
>>>>>>>>>>>> I hope this is helpful. Please let me know if I need to dig more
>>>>>> and
>>>>>>>>>>>> recommendations for doing so.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> B
>>>>>>>>>>>>
>>>>>>>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>>>>>> tab
>>>>>>>>>>>>> under Security & Privacy system preferences.
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>>>>>>>> generally don't use R.app)
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>>>>>> brandon.hurr at gmail.com> wrote:
>>>>>>>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>>>>>> up
>>>>>>>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>>>>>> directories by
>>>>>>>>>>>>>> clicking on it.
>>>>>>>>>>>>>> That said, I've been having many issues locking up R-GUI on my
>>>>>> 2019
>>>>>>>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>>>>>> a
>>>>>>>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>>>>>> then
>>>>>>>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>>>>>> length
>>>>>>>>>>>>>> is the issue.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I played around with the console a bit and noticed these
>>>>>> messages pop
>>>>>>>>>>>>>> up when it locks up R:
>>>>>>>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>> Ltd)/Data
>>>>>>>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>> Ltd)/Data
>>>>>>>>>>>>>> standardisation/Database Converts
>>>>>>>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>> Ltd)/Data
>>>>>>>>>>>>>> standardisation
>>>>>>>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> A rough guess here is that the sandboxing isn't working right
>>>>>> (or is?)
>>>>>>>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>>>>>>>> because it's waiting for data?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Anyone else seeing this behavior and have a better idea how to
>>>>>> pin it down?
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>> B
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>>>>>>> Dear All,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Environment:
>>>>>>>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Description:
>>>>>>>>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>>>>>> double-clicked on Mojave and Catalina. The crash does not occur on High
>>>>>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>>>>>> and Catalina.
>>>>>>>>>>>>>>> How-To-Repeat:
>>>>>>>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>>>>>> Mojave.
>>>>>>>>>>>>>>> Fix:
>>>>>>>>>>>>>>> unknown
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Best regards,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>>>>>>>> Nagano University
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> test.R
>>>>>>>>>>>>>>>
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>> ###############################################################################
>>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> test2.R
>>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> system.log
>>>>>>>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>>>>>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From he||yj @end|ng |rom uc@d@edu  Sat May 23 22:17:36 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sat, 23 May 2020 13:17:36 -0700
Subject: [R-SIG-Mac] R.app GUI 1.71 (7827) crashes on Catalina: Problem
 identified
In-Reply-To: <3010465a-7f42-7468-8a84-a61bb8e2bc88@ucsd.edu>
References: <ADBBAF01-B30F-480C-8CB6-3BD4E0C44C18@nagano.ac.jp>
 <CAG2OMvt55zJ3OXBYucwFnv8ZtKx8tPkL0mW4Pj4j4sVGYTG+mg@mail.gmail.com>
 <CAA-FpKXuaJ1VqzV3e+B+bxkEvvvO0pN_RdQrcW2WPJs6qsZXBg@mail.gmail.com>
 <CAG2OMvukcnz=toBxUgUG+P53fi9M+9ELMiPXNXB+SxvmZDeTLQ@mail.gmail.com>
 <CAG2OMvunVCkt-hdDctBrnvvn92WseP1xQ0qH-_6qXZ6dLHk69w@mail.gmail.com>
 <D763C88A-F1E8-42C4-ABD1-B31A2458BFEE@nagano.ac.jp>
 <4CA35F30-4725-45BD-B7E6-C4C76200CB21@nagano.ac.jp>
 <CAA-FpKXb-pZtBpS=tbT07MZJFORSViQh=zYBUz6xgh8ouEYN2Q@mail.gmail.com>
 <CAG2OMvtx1+oOvUBExLoSpaF3dUX6F3v8h5TMiV0G1Du-icJ_Sw@mail.gmail.com>
 <F98F1B54-C9A3-439A-8356-1D5DC0AC463E@R-project.org>
 <CAG2OMvu4k++FyywYukv0iBMihb15K3=y81LhXZLcz8c2G6f+Fg@mail.gmail.com>
 <CAG2OMvu0yuAs8Hx6j45GTe_fcBLyK=PCEtx7MswXAUNQtU3WnQ@mail.gmail.com>
 <bc067c66-a717-b839-b548-345ef5791ccd@ucsd.edu>
 <79d42127-84a1-7b3f-1f09-23e1051360a8@ucsd.edu>
 <46d2e3a9-6d48-8235-346f-8aa3e3b10cb4@ucsd.edu>
 <3010465a-7f42-7468-8a84-a61bb8e2bc88@ucsd.edu>
Message-ID: <3ea814a5-98d0-c026-93cc-6fbdbaec6cb3@ucsd.edu>

Well, when I retry on 'clean' system, R.app runs fine even if the
*.plist file is there.?

J.


On 5/23/20 13:14, John Helly wrote:
> Aloha.
>
> If I delete:
>
> /Users/<user>/Library/Preferences/org.R-project.R.plist
>
> then R.app will work.? If that file is present it will not open
> anything.? Something is wrong with that file.? I assume on the clean
> Catalina system I tested on, it worked because that file did not yet
> exist.? I will confirm.
>
> J.
>
>
>
>
> On 5/23/20 13:03, John Helly wrote:
>> Aloha.
>>
>> If I setwd, the R.app works.? It will not work with whatever default it
>> is using.
>>
>> J.
>>
>> On 5/23/20 12:26, John Helly wrote:
>>> Aloha.
>>>
>>> Just tested R.app on a clean Catalina system and it opens the same file
>>> that fails on an upgraded system.? So next test should be after a
>>> complete uninstall of R.app (maybe R itself as well?).? How does one do
>>> a complete uninstall?
>>>
>>> J.
>>>
>>> On 5/23/20 12:08, John Helly wrote:
>>>> Aloha.
>>>>
>>>> I have the same problem.? Have deleted all the .R* files I can find and
>>>> still no joy.? FWIW, RStudio works fine.
>>>>
>>>> I assume R.app was tested before it was released and wonder if it was
>>>> tested on a brand-new Catalina or an upgrade (or both)??? I have a few
>>>> of these systems and could test on a 'clean' install if that would help.
>>>>
>>>> J.
>>>>
>>>> On 5/23/20 11:44, Brandon Hurr wrote:
>>>>> I jumped the gun on this. I rebooted and the pinwheel of death is back when
>>>>> I open a second file in the editor.
>>>>>
>>>>> Bummer.
>>>>>
>>>>> On Sat, May 23, 2020 at 11:31 AM Brandon Hurr <brandon.hurr at gmail.com>
>>>>> wrote:
>>>>>
>>>>>> Kevin had a suggestion that I toggle disk access in the Security settings,
>>>>>> building on Bob's original comment to give R full disk access. As soon as I
>>>>>> turned it off, it no longer crashed upon load. I turned it back on and it
>>>>>> didn't crash then either. I have been testing for a few days now and I can
>>>>>> no longer cause it to crash like it used to.
>>>>>>
>>>>>> Hiroshi, I suggest trying that as well and see if it solves your problem
>>>>>> too.
>>>>>>
>>>>>> Thanks for helping dig on this issue.
>>>>>> Brandon
>>>>>>
>>>>>> On Wed, May 20, 2020 at 4:24 PM Simon Urbanek <simon.urbanek at r-project.org>
>>>>>> wrote:
>>>>>>
>>>>>>> Unfortunately I cannot reproduce it. When opening a file in one of the
>>>>>>> protected folders with R 4.0.0 release on Catalina I get '"R" would like to
>>>>>>> access files in your Documents folder' - which you have to agree to (one of
>>>>>>> those Catalina annoyances). It only asks once - we don't explicitly control
>>>>>>> it, so I wonder if there is some interaction ?
>>>>>>>
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> On May 21, 2020, at 10:58 AM, Brandon Hurr <brandon.hurr at gmail.com>
>>>>>>> wrote:
>>>>>>>> I just want to add that this is still happening. The size of the
>>>>>>>> script seems to be irrelevant (10s of lines). If you double click
>>>>>>>> another .R file for R GUI to load it gives the beachball of death and
>>>>>>>> R maxes out 1 of my cores. Are there specific logs or files that would
>>>>>>>> be helpful beyond what has been supplied?
>>>>>>>>
>>>>>>>> Thanks,
>>>>>>>> Brandon
>>>>>>>>
>>>>>>>> On Mon, May 4, 2020 at 5:39 AM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>> Aye, I should have noted that Apple's `tccd` and entire TCC (privacy)
>>>>>>>>> subsystem is super buggy/noisy. Enough of them that there are a fw
>>>>>>>>> third-party apps like Taccy
>>>>>>>>> (
>>>>>>> https://urldefense.com/v3/__https://eclecticlight.co/taccy-signet-precize-alifix-utiutility-alisma/__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjTzjfoVM$ )
>>>>>>>>> to help privacy-perms issues. The GUI code does not try to do things
>>>>>>>>> `tccd` would balk at, and this particular sandbox error shows up in
>>>>>>>>> many general apps/FOSS projects outside of R GUI.
>>>>>>>>>
>>>>>>>>> On Mon, May 4, 2020 at 8:13 AM Hiroshi Hakoyama
>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>> The sandbox error also happened for test2.R that can open without
>>>>>>> trouble.
>>>>>>>>>> So, this might not be the critical error.
>>>>>>>>>>
>>>>>>>>>> I uploaded the two devices logs for test.R and test2.R:
>>>>>>>>>>
>>>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTj-SyhUy8$ 
>>>>>>>>>> https://urldefense.com/v3/__https://hako.space/R/devices_log_for_test2_R.txt__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjWtZz14g$ 
>>>>>>>>>>
>>>>>>>>>> Best regards,
>>>>>>>>>>
>>>>>>>>>> Hiroshi
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>> 2020/05/04 20:29?Hiroshi Hakoyama <hiroshi-hakoyama at nagano.ac.jp
>>>>>>>> ????:
>>>>>>>>>>> Thank you for responses.
>>>>>>>>>>>
>>>>>>>>>>> I installed the debug build R.app GUI 1.71 (7834) to MacBook Air
>>>>>>> (2012, 4G RAM, Catalina 10.15.4), and double-clicked test.R. The result is
>>>>>>> the same GUI hang. The following is a part of the device log:
>>>>>>>>>>> ...
>>>>>>>>>>> default       19:56:06.123133+0900    R        - 1 documents to open
>>>>>>>>>>> default       19:56:06.123188+0900    R        -
>>>>>>> application:openFile:/Users/hako/Desktop/test.R called
>>>>>>>>>>> default       19:56:06.123316+0900    R        - intial start,
>>>>>>> changing wd to pathname whic is /Users/hako/Desktop/
>>>>>>>>>>> error 19:56:06.126663+0900    tccd    {ID: com.apple.sandboxd,
>>>>>>> PID[155], auid: 0, euid: 0, binary path: '/usr/libexec/sandboxd'} attempted
>>>>>>> to call TCCAccessRequest without the
>>>>>>> com.apple.private.tcc.manager.check-by-audit-token entitlement
>>>>>>>>>>> default       19:56:06.127340+0900    tccd    PID[155] is checking
>>>>>>> access for target PID[655]
>>>>>>>>>>> default       19:56:06.136847+0900    tccd    -[TCCDAccessIdentity
>>>>>>> staticCode]: static code for: identifier org.R-project.R, type: 0:
>>>>>>> 0x7fa62ad38b10 at /Applications/R.app
>>>>>>>>>>> ...
>>>>>>>>>>>
>>>>>>>>>>> The error line seems to be similar with Brandon's cases.
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Best regards,
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Hiroshi
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>> 2020/05/02 11:18?Brandon Hurr <brandon.hurr at gmail.com>????:
>>>>>>>>>>>>
>>>>>>>>>>>> I have a mac mini as well that does not show this crash. It's much
>>>>>>>>>>>> beefier (6-core i7, 32 GB RAM probably not relevant).
>>>>>>>>>>>> Here is the same boot up log with the same file and it does not
>>>>>>> crash R.
>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/2a48fa3e6fd70ae1b974184ad7b947ba*file-r-gui_pid4422_working_console-log__;Iw!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjZZHVqhs$ 
>>>>>>>>>>>> I look at the transition where the two differ and the crash happens
>>>>>>>>>>>> and the one that works is much shorter. At line 319 in the
>>>>>>> non-working
>>>>>>>>>>>> MBA (PID 889) it "makes presenter" and then stops. Making presenter
>>>>>>>>>>>> doesn't happen until line 4261 in the working file. Lots of parsing
>>>>>>> of
>>>>>>>>>>>> the file is missing (4000 lines of it).
>>>>>>>>>>>>
>>>>>>>>>>>> B
>>>>>>>>>>>>
>>>>>>>>>>>> On Fri, May 1, 2020 at 6:48 PM Brandon Hurr <brandon.hurr at gmail.com>
>>>>>>> wrote:
>>>>>>>>>>>>> Thanks Bob.
>>>>>>>>>>>>>
>>>>>>>>>>>>> I did this and it did not fix it sadly.
>>>>>>>>>>>>> I downloaded the Debug version of R-GUI and captured the following
>>>>>>>>>>>>> after clicking on the same file (which did cause it to crash again)
>>>>>>>>>>>>> Here is the console log for the R PID (889 in this instance) from
>>>>>>>>>>>>> loading R to then clicking to load the same file (which froze my
>>>>>>>>>>>>> system again):
>>>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/5efa02237085c7a3ccf6d137e04f7c45__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjrmA89co$ 
>>>>>>>>>>>>> Here is the full Apple Crash Log that came up after I force quit R:
>>>>>>>>>>>>> https://urldefense.com/v3/__https://gist.github.com/bhive01/0eeb32d0a666f875e83440268b69aefd__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjfzfw5XY$ 
>>>>>>>>>>>>>
>>>>>>>>>>>>> I hope this is helpful. Please let me know if I need to dig more
>>>>>>> and
>>>>>>>>>>>>> recommendations for doing so.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>> B
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Fri, May 1, 2020 at 5:54 PM Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>>>>> Suggestion: try adding R.app to "Full Disk Access" in the Privacy
>>>>>>> tab
>>>>>>>>>>>>>> under Security & Privacy system preferences.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I'm not experiencing these issues (just now when I tried it; I
>>>>>>>>>>>>>> generally don't use R.app)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Fri, May 1, 2020 at 4:54 PM Brandon Hurr <
>>>>>>> brandon.hurr at gmail.com> wrote:
>>>>>>>>>>>>>>> I'm going to add to the pile on this one. It's hard to nail down
>>>>>>>>>>>>>>> though. I was able to load Hiroshi's test.R script after loading
>>>>>>> up
>>>>>>>>>>>>>>> R-GUI 7827 and just now 7832. I loaded it from multiple
>>>>>>> directories by
>>>>>>>>>>>>>>> clicking on it.
>>>>>>>>>>>>>>> That said, I've been having many issues locking up R-GUI on my
>>>>>>> 2019
>>>>>>>>>>>>>>> MBAir since upgrading to R4.0.0. I can click and load R-GUI with
>>>>>>> a
>>>>>>>>>>>>>>> script file, but if I want to load another script it gives me the
>>>>>>>>>>>>>>> colored pinwheel of death. Sometimes it will load up R-GUI, but
>>>>>>> then
>>>>>>>>>>>>>>> pinwheel of death on loading a lengthy script. I'm not sure the
>>>>>>> length
>>>>>>>>>>>>>>> is the issue.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I played around with the console a bit and noticed these
>>>>>>> messages pop
>>>>>>>>>>>>>>> up when it locks up R:
>>>>>>>>>>>>>>> error    13:49:54.173449-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>>> Ltd)/Data
>>>>>>>>>>>>>>> standardisation/Database Converts/Conversion script DEV.R
>>>>>>>>>>>>>>> error    13:49:54.243397-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>>> Ltd)/Data
>>>>>>>>>>>>>>> standardisation/Database Converts
>>>>>>>>>>>>>>> error    13:49:54.312989-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic
>>>>>>> Ltd)/Data
>>>>>>>>>>>>>>> standardisation
>>>>>>>>>>>>>>> error    13:49:54.344345-0700    kernel    Sandbox: garcon(763)
>>>>>>>>>>>>>>> deny(1) file-read-xattr /Users/brandonhurr/Dropbox (BioLumic Ltd)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> A rough guess here is that the sandboxing isn't working right
>>>>>>> (or is?)
>>>>>>>>>>>>>>> and is blocking access of R-GUI to the file which then locks up
>>>>>>>>>>>>>>> because it's waiting for data?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Anyone else seeing this behavior and have a better idea how to
>>>>>>> pin it down?
>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>> B
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Thu, Apr 30, 2020 at 6:07 AM Hiroshi Hakoyama
>>>>>>>>>>>>>>> <hiroshi-hakoyama at nagano.ac.jp> wrote:
>>>>>>>>>>>>>>>> Dear All,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Environment:
>>>>>>>>>>>>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>>>>>>>>>>>>> [R.app GUI 1.71 (7827) x86_64-apple-darwin17.0]
>>>>>>>>>>>>>>>> macOS: Mojave and Catalina
>>>>>>>>>>>>>>>> Removed file for the test: .Rapp.history
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Description:
>>>>>>>>>>>>>>>> R.app crashes when a large file (e.g., test.R) is
>>>>>>> double-clicked on Mojave and Catalina. The crash does not occur on High
>>>>>>> Sierra. Small source files (e.g., test2.R) do not cause the crash on Mojave
>>>>>>> and Catalina.
>>>>>>>>>>>>>>>> How-To-Repeat:
>>>>>>>>>>>>>>>> Double-click test.R (or open test.R using R.app) on Catalina or
>>>>>>> Mojave.
>>>>>>>>>>>>>>>> Fix:
>>>>>>>>>>>>>>>> unknown
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Crash Report is too large to paste to the email.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Best regards,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hiroshi Hakoyama
>>>>>>>>>>>>>>>> Nagano University
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> test.R
>>>>>>>>>>>>>>>>
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>> ###############################################################################
>>>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> test2.R
>>>>>>>>>>>>>>>> x <- rnorm(100000)
>>>>>>>>>>>>>>>> y <- rnorm(100000)
>>>>>>>>>>>>>>>> hist(x)
>>>>>>>>>>>>>>>> hist(y)
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> system.log
>>>>>>>>>>>>>>>> Apr 30 20:54:40 ec7 R[1147]: assertion failed: 19E287:
>>>>>>> libxpc.dylib + 92807 [32B0E31E-9DA3-328B-A962-BC9591B93537]: 0x89
>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 
>>>>>>>
>>>>> 	[[alternative HTML version deleted]]
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!RJVCh9VfCoz3T_2M05bjyLjXayhKn0WRsh2X4wrwNKDorPrQmKY4NxTjzw9O9rQ$ 

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From @|mon@urb@nek @end|ng |rom R-project@org  Sat May 23 22:31:04 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Sun, 24 May 2020 08:31:04 +1200
Subject: [R-SIG-Mac] Versions of spatial external software
In-Reply-To: <alpine.LFD.2.22.394.2005231237310.3095442@reclus.nhh.no>
References: <alpine.LFD.2.22.394.2005231237310.3095442@reclus.nhh.no>
Message-ID: <A9E6B837-816D-4013-AEB2-6C7752932F3E@R-project.org>

Roger,

as discussed at https://stat.ethz.ch/pipermail/r-sig-mac/2020-May/013524.html <https://stat.ethz.ch/pipermail/r-sig-mac/2020-May/013524.html> there is a well-defined way for package authors to request particular versions of macOS libraries they depend on If they so desire (I presume that?s why this discussion is on R-SIG-Mac and not R-SIG-Geo). In this case you are pretty much the only person who knows that your package has limited functionality with some versions as that information is not available in the package dependency entry.

Cheers,
Simon


> On May 23, 2020, at 10:50 PM, Roger Bivand <Roger.Bivand at nhh.no> wrote:
> 
> While sf/rgdal/rgeos etc. try to accommodate post-EOL versions of PROJ, GDAL and GEOS, it is not correct to assume that full functionality is available without (close to) current versions of these libraries and their metadata files. In a recent thread, it was sugggested that users can rely on full functionality when using very old versions of external software; this is not correct and has never been offered.
> 
> In particular, it is now very important to migrate all users of static builds to GDAL >= 3, PROJ >= 6. Current versions are GDAL 3.1.0 and PROJ 7.0.1. This is because of major breaking changes in coordinate reference system representation, from Proj4 strings to WKT2_2019 strings. See https://www.r-spatial.org/r/2020/03/17/wkt.html and https://rgdal.r-forge.r-project.org/articles/CRS_projections_transformations.html
> 
> I know this hurts, but Proj4 strings are unsustainable going forward, and developers of R spatial packages are not willing to keep things running using a defunct representation. We have been pointing this out for at least a year, so affected users and package maintainers should know already.
> 
> Roger
> 
> -- 
> Roger Bivand
> Department of Economics, Norwegian School of Economics,
> Helleveien 30, N-5045 Bergen, Norway.
> voice: +47 55 95 93 55; e-mail: Roger.Bivand at nhh.no
> https://orcid.org/0000-0003-2392-6140
> https://scholar.google.no/citations?user=AWeghB0AAAAJ&hl=en
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From m@p|no|@10 @end|ng |rom gm@||@com  Sun May 24 18:24:36 2020
From: m@p|no|@10 @end|ng |rom gm@||@com (=?UTF-8?Q?Manuel_Sp=C3=ADnola?=)
Date: Sun, 24 May 2020 10:24:36 -0600
Subject: [R-SIG-Mac] Update to versions GEOS 3.8.0,
 GDAL 3.0.4 and PROJ 7.0.0 in macOS Catalina
In-Reply-To: <CABkCotSuTgs9B2uACbvRtRjLN8zDUchaQCcNJUUhwhwE93bSFg@mail.gmail.com>
References: <CABkCotRv91gucwLt-U5K1NQS8+g0zsBKc-bTFJ9Zgwbd14CvxA@mail.gmail.com>
 <4714AC86-0649-4948-AB93-9AAC04681093@R-project.org>
 <CABkCotShR6P9X8x7BDuwM42XDzYKmGj9Aun7e47rG0FKhRwnoA@mail.gmail.com>
 <56DAC869-7118-4F7D-AABC-85AE9033D110@kjbeath.com.au>
 <CABkCotSuTgs9B2uACbvRtRjLN8zDUchaQCcNJUUhwhwE93bSFg@mail.gmail.com>
Message-ID: <CABkCotSWcjSr_qQawuOk9xvo7pij-1UvN13QBbJJO5uR0HoszQ@mail.gmail.com>

For those interested,

Alberto L?zaro-L?pez sent me this link for OSGeo4Mac which use homebrew:

https://github.com/OSGeo/homebrew-osgeo4mac


Manuel





El vie., 22 may. 2020 a las 19:45, Manuel Sp?nola (<mspinola10 at gmail.com>)
escribi?:

> Thank you very much Ken.  You are right.
>
> I think the developers of those packages are working with those updated
> versions.
>
> Manuel
>
>
> El vie., 22 may. 2020 a las 18:49, Ken Beath (<ken at kjbeath.com.au>)
> escribi?:
>
>> sf requires GDAL (>= 2.0.1), GEOS (>= 3.4.0), PROJ (>= 4.8.0) so I would
>> assume that its full functionality is available with these.
>>
>> Ken
>>
>> On 23 May 2020, at 10:08 am, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
>>
>> Thank you very much Simon.
>>
>> I don't know much about programming so I will keep the current versions.
>>
>> I was asking because some of the main spatial packages, as sf and terra, I
>> think require the latest versions of gdal and proj to be completely
>> functional. That is my understanding, may be I am wrong.
>>
>> Best,
>>
>> Manuel
>>
>>
>> El vie., 22 may. 2020 a las 16:56, Simon Urbanek (<
>> simon.urbanek at r-project.org>) escribi?:
>>
>> Manuel,
>>
>> see
>> https://github.com/R-macos/recipes
>> you can update the recipes to use the required versions to build a setup
>> that works for your package. Once you do you can issue a pull request so
>> we
>> can update CRAN accordingly.
>>
>> Please note that it is generally not a good idea to require latests
>> versions as that excludes a large number of users from using your package.
>> Many user don't have control over dependent libraries and must use
>> supported versions. The mainstream LTS versions right now are geos 3.6.2,
>> gdal 2.2.3 and proj 4.9.3 and latest non-LTS are geos 3.7.1, gdal 2.4.0
>> and
>> proj 5.2.0 which is pretty much the maximum you can realistically require.
>>
>> Cheers,
>> Simon
>>
>>
>> On May 23, 2020, at 7:41 AM, Manuel Sp?nola <mspinola10 at gmail.com> wrote:
>>
>> Dear list members,
>>
>> Sorry for crossposting.  I sent this message to the r-sig-geo but
>> apparently no many people know how to do this in MacOS.  I am working with
>> R 4.0.0 and macOS Catalina 10.15.4
>>
>> I am working with spatial package that to have full functionality depend
>> on
>> updated versions of:
>>
>> GEOS 3.8.0, GDAL 3.0.4 and PROJ 7.0.0
>>
>> Best,
>>
>> Manuel
>>
>> --
>> *Manuel Sp?nola, Ph.D.*
>> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
>> Universidad Nacional
>> Apartado 1350-3000
>> Heredia
>> COSTA RICA
>> mspinola at una.cr <mspinola at una.ac.cr>
>> mspinola10 at gmail.com
>> Tel?fono: (506) 8706 - 4662
>> Personal website: Lobito de r?o <
>> https://sites.google.com/site/lobitoderio/>
>> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>>
>> [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>>
>> --
>> *Manuel Sp?nola, Ph.D.*
>> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
>> Universidad Nacional
>> Apartado 1350-3000
>> Heredia
>> COSTA RICA
>> mspinola at una.cr <mspinola at una.ac.cr>
>> mspinola10 at gmail.com
>> Tel?fono: (506) 8706 - 4662
>> Personal website: Lobito de r?o <
>> https://sites.google.com/site/lobitoderio/>
>> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>>
>> [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>
> --
> *Manuel Sp?nola, Ph.D.*
> Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
> Universidad Nacional
> Apartado 1350-3000
> Heredia
> COSTA RICA
> mspinola at una.cr <mspinola at una.ac.cr>
> mspinola10 at gmail.com
> Tel?fono: (506) 8706 - 4662
> Personal website: Lobito de r?o
> <https://sites.google.com/site/lobitoderio/>
> Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>
>


-- 
*Manuel Sp?nola, Ph.D.*
Instituto Internacional en Conservaci?n y Manejo de Vida Silvestre
Universidad Nacional
Apartado 1350-3000
Heredia
COSTA RICA
mspinola at una.cr <mspinola at una.ac.cr>
mspinola10 at gmail.com
Tel?fono: (506) 8706 - 4662
Personal website: Lobito de r?o <https://sites.google.com/site/lobitoderio/>
Institutional website: ICOMVIS <http://www.icomvis.una.ac.cr/>

	[[alternative HTML version deleted]]


From roy@mende|@@ohn @end|ng |rom no@@@gov  Tue May 26 21:00:17 2020
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Tue, 26 May 2020 12:00:17 -0700
Subject: [R-SIG-Mac] R4.0.0 and Makevars
Message-ID: <3BE0F130-4FA8-492D-9A39-94876DF6F756@noaa.gov>

Hi All:

Awhile back Simon posted what if anything should be in your Makevars for R4.0.0 if you needed to compile packages from source.  I thought I had saved that email but i can't find it,  and I just looked at the archives and can't find it either.  If anyone has that info I would appreciate it.  I know you remove all the clang references that might have been there,  I have kept the gfortran to gfortran8.2,  is there anything else.

Thanks,

-Roy

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From b@|@mut2 @end|ng |rom ||||no|@@edu  Tue May 26 21:57:50 2020
From: b@|@mut2 @end|ng |rom ||||no|@@edu (Balamuta, James Joseph)
Date: Tue, 26 May 2020 19:57:50 +0000
Subject: [R-SIG-Mac] R4.0.0 and Makevars
In-Reply-To: <3BE0F130-4FA8-492D-9A39-94876DF6F756@noaa.gov>
References: <3BE0F130-4FA8-492D-9A39-94876DF6F756@noaa.gov>
Message-ID: <9DAFAE1B-673F-4C5D-8259-CED0ACC2B0BC@illinois.edu>

Roy,

For R 4.0.0, there is no need to keep Makevars or Renviron's PATH configuration as everything should just "work." The R 4.0.0 binary will look at the default installation location for OS-specific gfortran8.2 or gfortran6.3 version.

Having said this, there is also the OpenMP opt-in possibility for developers (avoid users) detailed here: 

http://mac.r-project.org/openmp/

Best,

JJB

?On 5/26/20, 2:00 PM, "R-SIG-Mac on behalf of Roy Mendelssohn - NOAA Federal via R-SIG-Mac" <r-sig-mac-bounces at r-project.org on behalf of r-sig-mac at r-project.org> wrote:

    Hi All:

    Awhile back Simon posted what if anything should be in your Makevars for R4.0.0 if you needed to compile packages from source.  I thought I had saved that email but i can't find it,  and I just looked at the archives and can't find it either.  If anyone has that info I would appreciate it.  I know you remove all the clang references that might have been there,  I have kept the gfortran to gfortran8.2,  is there anything else.

    Thanks,

    -Roy

    **********************
    "The contents of this message do not reflect any position of the U.S. Government or NOAA."
    **********************
    Roy Mendelssohn
    Supervisory Operations Research Analyst
    NOAA/NMFS
    Environmental Research Division
    Southwest Fisheries Science Center
    ***Note new street address***
    110 McAllister Way
    Santa Cruz, CA 95060
    Phone: (831)-420-3666
    Fax: (831) 420-3980
    e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/

    "Old age and treachery will overcome youth and skill."
    "From those who have been given much, much will be expected" 
    "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.

    _______________________________________________
    R-SIG-Mac mailing list
    R-SIG-Mac at r-project.org
    https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From roy@mende|@@ohn @end|ng |rom no@@@gov  Tue May 26 22:12:13 2020
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Tue, 26 May 2020 13:12:13 -0700
Subject: [R-SIG-Mac] R4.0.0 and Makevars
In-Reply-To: <9DAFAE1B-673F-4C5D-8259-CED0ACC2B0BC@illinois.edu>
References: <3BE0F130-4FA8-492D-9A39-94876DF6F756@noaa.gov>
 <9DAFAE1B-673F-4C5D-8259-CED0ACC2B0BC@illinois.edu>
Message-ID: <8B92F09F-0C44-4AEC-AF30-70D6B60BA44F@noaa.gov>

That's muchly.  That was my memory.  I just wanted to reconfirm.  I do have the emails about OpenMP.  Right now I don't need that,  but I might down the line.  I was just glad that I have been able to get the upgrade to go smoothly.  A fellow on R-bloggers posted a really nice script to upgrade.  What us nice is it re-installed not only packages from CRAN but from GIthub also.

-Roy


> On May 26, 2020, at 12:57 PM, Balamuta, James Joseph <balamut2 at illinois.edu> wrote:
> 
> Roy,
> 
> For R 4.0.0, there is no need to keep Makevars or Renviron's PATH configuration as everything should just "work." The R 4.0.0 binary will look at the default installation location for OS-specific gfortran8.2 or gfortran6.3 version.
> 
> Having said this, there is also the OpenMP opt-in possibility for developers (avoid users) detailed here: 
> 
> http://mac.r-project.org/openmp/
> 
> Best,
> 
> JJB
> 
> ?On 5/26/20, 2:00 PM, "R-SIG-Mac on behalf of Roy Mendelssohn - NOAA Federal via R-SIG-Mac" <r-sig-mac-bounces at r-project.org on behalf of r-sig-mac at r-project.org> wrote:
> 
>    Hi All:
> 
>    Awhile back Simon posted what if anything should be in your Makevars for R4.0.0 if you needed to compile packages from source.  I thought I had saved that email but i can't find it,  and I just looked at the archives and can't find it either.  If anyone has that info I would appreciate it.  I know you remove all the clang references that might have been there,  I have kept the gfortran to gfortran8.2,  is there anything else.
> 
>    Thanks,
> 
>    -Roy
> 
>    **********************
>    "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>    **********************
>    Roy Mendelssohn
>    Supervisory Operations Research Analyst
>    NOAA/NMFS
>    Environmental Research Division
>    Southwest Fisheries Science Center
>    ***Note new street address***
>    110 McAllister Way
>    Santa Cruz, CA 95060
>    Phone: (831)-420-3666
>    Fax: (831) 420-3980
>    e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/
> 
>    "Old age and treachery will overcome youth and skill."
>    "From those who have been given much, much will be expected" 
>    "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 
>    _______________________________________________
>    R-SIG-Mac mailing list
>    R-SIG-Mac at r-project.org
>    https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: https://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From brod|e@g@@|@m @end|ng |rom y@hoo@com  Fri May 29 00:23:44 2020
From: brod|e@g@@|@m @end|ng |rom y@hoo@com (brodie gaslam)
Date: Thu, 28 May 2020 22:23:44 +0000 (UTC)
Subject: [R-SIG-Mac] Binary R-devel Builds For OS-X
In-Reply-To: <7645F2ED-703F-4753-A41F-04D75F6852D5@gmail.com>
References: <CAF8bMcaGMe6msdo=WLQCD27gyjsw5g6_O32tG7S-Du+DiB4zVw@mail.gmail.com>
 <b599d955-9909-1fd9-773a-765b22b4a03f@fau.de>
 <24254.39939.916783.667450@stat.math.ethz.ch>
 <24254.49009.456954.147983@rob.eddelbuettel.com>
 <1298669161.298219.1589561287432@mail.yahoo.com>
 <0BB915D9-081F-4E0C-A2E3-A154CEC23FD5@gmail.com>
 <588729BF-F361-4F78-A424-FB7520992CAF@gmail.com>
 <646556235.1127378.1589588841207@mail.yahoo.com>
 <7645F2ED-703F-4753-A41F-04D75F6852D5@gmail.com>
Message-ID: <1091674053.1347348.1590704624136@mail.yahoo.com>

I just installed the 4.0 patched binary, and noticed that it is still at 5/24 (i.e. pre Beta, although I'm guessing that's a minor distinction).? 3.6 was updated yesterday.? Since I'm not too familiar with this process yet, what kind of update schedule should I expect for these binaries?

Best,

Brodie.






On Saturday, May 16, 2020, 4:22:40 AM EDT, peter dalgaard <pdalgd at gmail.com> wrote: 





Yes. Simon's policy is just to use the current x.y SVN branch (say R-4.0-branch) which goes through the alpha-beta-RC-(release)-Patched cycle. 

I.e. R-4.0-branch.pkg will _be_ the prerelease at the relevant stage of the development cycle.

(Nerdy details: There is only x.y.0 alpha, otherwise we go directly from, say, "4.0.0 Patched" to "4.0.1 beta"; or, differently put, R-patched _is_ the alpha for the next version. Also, the unqualified x.y.z name is only there while the relase tarball is being created, which is about 5 minutes on release day so never makes it to the nightly builds.)? 

-pd

> On 16 May 2020, at 02:27 , brodie gaslam <brodie.gaslam at yahoo.com> wrote:

> 
> 
> Presumably the alpha/RC releases are also posted to the mac.r-project.org page.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk? Priv: PDalgd at gmail.com


From pd@|gd @end|ng |rom gm@||@com  Fri May 29 10:06:06 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Fri, 29 May 2020 10:06:06 +0200
Subject: [R-SIG-Mac] Binary R-devel Builds For OS-X
In-Reply-To: <1091674053.1347348.1590704624136@mail.yahoo.com>
References: <CAF8bMcaGMe6msdo=WLQCD27gyjsw5g6_O32tG7S-Du+DiB4zVw@mail.gmail.com>
 <b599d955-9909-1fd9-773a-765b22b4a03f@fau.de>
 <24254.39939.916783.667450@stat.math.ethz.ch>
 <24254.49009.456954.147983@rob.eddelbuettel.com>
 <1298669161.298219.1589561287432@mail.yahoo.com>
 <0BB915D9-081F-4E0C-A2E3-A154CEC23FD5@gmail.com>
 <588729BF-F361-4F78-A424-FB7520992CAF@gmail.com>
 <646556235.1127378.1589588841207@mail.yahoo.com>
 <7645F2ED-703F-4753-A41F-04D75F6852D5@gmail.com>
 <1091674053.1347348.1590704624136@mail.yahoo.com>
Message-ID: <1E2B9718-BCAD-4B28-A7F8-C65A4090C976@gmail.com>

Simon is the one who has the full detail, but at this point, I get 

R version 4.0.1 beta (2020-05-28 r78607) -- "See Things Now"

According to mac.r-project.org, this was built at 19:29 on May 28. It's not really clear what time zone that is... The transition to beta was just after midnight CET on the 27th which is like 10AM in Auckland, so you'd expect it to be picked up for the May 27 build, but maybe something got stalled. Or there might be a delay between the SVN checkout and the .pkg build.

-pd

> On 29 May 2020, at 00:23 , brodie gaslam <brodie.gaslam at yahoo.com> wrote:
> 
> I just installed the 4.0 patched binary, and noticed that it is still at 5/24 (i.e. pre Beta, although I'm guessing that's a minor distinction).  3.6 was updated yesterday.  Since I'm not too familiar with this process yet, what kind of update schedule should I expect for these binaries?
> 
> Best,
> 
> Brodie.
> 
> 
> 
> 
> 
> 
> On Saturday, May 16, 2020, 4:22:40 AM EDT, peter dalgaard <pdalgd at gmail.com> wrote: 
> 
> 
> 
> 
> 
> Yes. Simon's policy is just to use the current x.y SVN branch (say R-4.0-branch) which goes through the alpha-beta-RC-(release)-Patched cycle. 
> 
> I.e. R-4.0-branch.pkg will _be_ the prerelease at the relevant stage of the development cycle.
> 
> (Nerdy details: There is only x.y.0 alpha, otherwise we go directly from, say, "4.0.0 Patched" to "4.0.1 beta"; or, differently put, R-patched _is_ the alpha for the next version. Also, the unqualified x.y.z name is only there while the relase tarball is being created, which is about 5 minutes on release day so never makes it to the nightly builds.)  
> 
> -pd
> 
>> On 16 May 2020, at 02:27 , brodie gaslam <brodie.gaslam at yahoo.com> wrote:
> 
>> 
>> 
>> Presumably the alpha/RC releases are also posted to the mac.r-project.org page.
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From @|mon@urb@nek @end|ng |rom R-project@org  Fri May 29 11:36:54 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Fri, 29 May 2020 21:36:54 +1200
Subject: [R-SIG-Mac] Binary R-devel Builds For OS-X
In-Reply-To: <1E2B9718-BCAD-4B28-A7F8-C65A4090C976@gmail.com>
References: <CAF8bMcaGMe6msdo=WLQCD27gyjsw5g6_O32tG7S-Du+DiB4zVw@mail.gmail.com>
 <b599d955-9909-1fd9-773a-765b22b4a03f@fau.de>
 <24254.39939.916783.667450@stat.math.ethz.ch>
 <24254.49009.456954.147983@rob.eddelbuettel.com>
 <1298669161.298219.1589561287432@mail.yahoo.com>
 <0BB915D9-081F-4E0C-A2E3-A154CEC23FD5@gmail.com>
 <588729BF-F361-4F78-A424-FB7520992CAF@gmail.com>
 <646556235.1127378.1589588841207@mail.yahoo.com>
 <7645F2ED-703F-4753-A41F-04D75F6852D5@gmail.com>
 <1091674053.1347348.1590704624136@mail.yahoo.com>
 <1E2B9718-BCAD-4B28-A7F8-C65A4090C976@gmail.com>
Message-ID: <409CD114-B489-4550-A9F5-4A866857583F@R-project.org>

Our build is currently a bit in flux since I was moving the CRAN machines back to the university. Also for the betas I am notarising the builds which includes a manual step (I don?t do that for the regular nightlies).

FWIW the time zone of the build machine is US/Eastern for historical reasons.

Cheers,
Simon


> On May 29, 2020, at 8:06 PM, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Simon is the one who has the full detail, but at this point, I get 
> 
> R version 4.0.1 beta (2020-05-28 r78607) -- "See Things Now"
> 
> According to mac.r-project.org, this was built at 19:29 on May 28. It's not really clear what time zone that is... The transition to beta was just after midnight CET on the 27th which is like 10AM in Auckland, so you'd expect it to be picked up for the May 27 build, but maybe something got stalled. Or there might be a delay between the SVN checkout and the .pkg build.
> 
> -pd
> 
>> On 29 May 2020, at 00:23 , brodie gaslam <brodie.gaslam at yahoo.com> wrote:
>> 
>> I just installed the 4.0 patched binary, and noticed that it is still at 5/24 (i.e. pre Beta, although I'm guessing that's a minor distinction).  3.6 was updated yesterday.  Since I'm not too familiar with this process yet, what kind of update schedule should I expect for these binaries?
>> 
>> Best,
>> 
>> Brodie.
>> 
>> 
>> 
>> 
>> 
>> 
>> On Saturday, May 16, 2020, 4:22:40 AM EDT, peter dalgaard <pdalgd at gmail.com> wrote: 
>> 
>> 
>> 
>> 
>> 
>> Yes. Simon's policy is just to use the current x.y SVN branch (say R-4.0-branch) which goes through the alpha-beta-RC-(release)-Patched cycle. 
>> 
>> I.e. R-4.0-branch.pkg will _be_ the prerelease at the relevant stage of the development cycle.
>> 
>> (Nerdy details: There is only x.y.0 alpha, otherwise we go directly from, say, "4.0.0 Patched" to "4.0.1 beta"; or, differently put, R-patched _is_ the alpha for the next version. Also, the unqualified x.y.z name is only there while the relase tarball is being created, which is about 5 minutes on release day so never makes it to the nightly builds.)  
>> 
>> -pd
>> 
>>> On 16 May 2020, at 02:27 , brodie gaslam <brodie.gaslam at yahoo.com> wrote:
>> 
>>> 
>>> 
>>> Presumably the alpha/RC releases are also posted to the mac.r-project.org page.
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 


From rmh @end|ng |rom temp|e@edu  Fri May 29 17:44:18 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Fri, 29 May 2020 11:44:18 -0400
Subject: [R-SIG-Mac] crash due to rgl and base graphics conflict
Message-ID: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>

R version 4.0.0 (2020-04-24) -- "Arbor Day"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> version
               _
platform       x86_64-apple-darwin17.0
arch           x86_64
os             darwin17.0
system         x86_64, darwin17.0
status
major          4
minor          0.0
year           2020
month          04
day            24
svn rev        78286
language       R
version.string R version 4.0.0 (2020-04-24)
nickname       Arbor Day
>
> library(rgl)
> plot(1:10)
>

Process R abort trap: 6 at Fri May 29 11:32:59 2020
2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
/AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
uncaught exception 'NSInternalInconsistencyException', reason:
'NSScreen reconfig must only happen on the main thread.'
*** First throw call stack:
(
0   CoreFoundation                      0x00007fff371698d7
__exceptionPreprocess + 250
1   libobjc.A.dylib                     0x00007fff6ff47a9e
objc_exception_throw + 48
2   CoreFoundation                      0x00007fff37192bb0
+[NSException raise:format:arguments:] + 88
3   Foundation                          0x00007fff398de456
-[NSAssertionHandler
handleFailureInFunction:file:lineNumber:description:] + 166
4   AppKit                              0x00007fff34503083
+[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
361
5   AppKit                              0x00007fff34e4bda8
_NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
6   AppKit                              0x00007fff34502c85
-[NSApplication(ScreenHandling) _reactToDockChanged] + 144
7   AppKit                              0x00007fff345024dc
_NSCGSDockMessageReceive + 268
8   HIToolbox                           0x00007fff35d34a3c
_ZL12DockCallbackjjPvS_ + 1987
9   HIServices                          0x00007fff3539c8ec
dockClientNotificationProc + 217
10  SkyLight                            0x00007fff6626f174
_ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
1002
11  SkyLight                            0x00007fff6626de71
CGSSnarfAndDispatchDatagrams + 1671
12  SkyLight                            0x00007fff6649d5a5
SLSGetNextEventRecordInternal + 83
13  SkyLight                            0x00007fff6633bfbe
SLEventCreateNextEvent + 136
14  libXplugin.1.dylib                  0x000000010ffa5f0c
___xp_init_service_cg_event_port_block_invoke + 104
15  libdispatch.dylib                   0x00007fff7108d658
_dispatch_client_callout + 8
16  libdispatch.dylib                   0x00007fff7108f818
_dispatch_continuation_pop + 414
17  libdispatch.dylib                   0x00007fff7109f4be
_dispatch_source_invoke + 2084
18  libdispatch.dylib                   0x00007fff71092af6
_dispatch_lane_serial_drain + 263
19  libdispatch.dylib                   0x00007fff710935d6
_dispatch_lane_invoke + 363
20  libdispatch.dylib                   0x00007fff7109cc09
_dispatch_workloop_worker_thread + 596
21  libsystem_pthread.dylib             0x00007fff712eba3d
_pthread_wqthread + 290
22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
)
libc++abi.dylib: terminating with uncaught exception of type NSException


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri May 29 18:16:35 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 29 May 2020 12:16:35 -0400
Subject: [R-SIG-Mac] crash due to rgl and base graphics conflict
In-Reply-To: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
Message-ID: <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>

I'm not seeing that with R-patched r78557, run from the console.  I'm 
not sure I have the same MacOS version as you (R prints the same thing, 
Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl 
0.100.54.  I'd guess the version of XQuartz may be important:  I'm not 
seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz 
2.7.11 (xorg-server 1.18.4)".

Duncan Murdoch



On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> Copyright (C) 2020 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin17.0 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>    Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
>> version
>                 _
> platform       x86_64-apple-darwin17.0
> arch           x86_64
> os             darwin17.0
> system         x86_64, darwin17.0
> status
> major          4
> minor          0.0
> year           2020
> month          04
> day            24
> svn rev        78286
> language       R
> version.string R version 4.0.0 (2020-04-24)
> nickname       Arbor Day
>>
>> library(rgl)
>> plot(1:10)
>>
> 
> Process R abort trap: 6 at Fri May 29 11:32:59 2020
> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> uncaught exception 'NSInternalInconsistencyException', reason:
> 'NSScreen reconfig must only happen on the main thread.'
> *** First throw call stack:
> (
> 0   CoreFoundation                      0x00007fff371698d7
> __exceptionPreprocess + 250
> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> objc_exception_throw + 48
> 2   CoreFoundation                      0x00007fff37192bb0
> +[NSException raise:format:arguments:] + 88
> 3   Foundation                          0x00007fff398de456
> -[NSAssertionHandler
> handleFailureInFunction:file:lineNumber:description:] + 166
> 4   AppKit                              0x00007fff34503083
> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> 361
> 5   AppKit                              0x00007fff34e4bda8
> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> 6   AppKit                              0x00007fff34502c85
> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> 7   AppKit                              0x00007fff345024dc
> _NSCGSDockMessageReceive + 268
> 8   HIToolbox                           0x00007fff35d34a3c
> _ZL12DockCallbackjjPvS_ + 1987
> 9   HIServices                          0x00007fff3539c8ec
> dockClientNotificationProc + 217
> 10  SkyLight                            0x00007fff6626f174
> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> 1002
> 11  SkyLight                            0x00007fff6626de71
> CGSSnarfAndDispatchDatagrams + 1671
> 12  SkyLight                            0x00007fff6649d5a5
> SLSGetNextEventRecordInternal + 83
> 13  SkyLight                            0x00007fff6633bfbe
> SLEventCreateNextEvent + 136
> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> ___xp_init_service_cg_event_port_block_invoke + 104
> 15  libdispatch.dylib                   0x00007fff7108d658
> _dispatch_client_callout + 8
> 16  libdispatch.dylib                   0x00007fff7108f818
> _dispatch_continuation_pop + 414
> 17  libdispatch.dylib                   0x00007fff7109f4be
> _dispatch_source_invoke + 2084
> 18  libdispatch.dylib                   0x00007fff71092af6
> _dispatch_lane_serial_drain + 263
> 19  libdispatch.dylib                   0x00007fff710935d6
> _dispatch_lane_invoke + 363
> 20  libdispatch.dylib                   0x00007fff7109cc09
> _dispatch_workloop_worker_thread + 596
> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> _pthread_wqthread + 290
> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> )
> libc++abi.dylib: terminating with uncaught exception of type NSException
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From rmh @end|ng |rom temp|e@edu  Fri May 29 18:35:41 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Fri, 29 May 2020 12:35:41 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
Message-ID: <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>

I have the same Xquartz as you.
I have rgl-0.100.50 from CRAN
Apple is macOS Catalina, Version 10.15.4
Do you need hardware information?
MacBpok Air (13 -inch, Mid 2012)
Processor 2GHz Dual-Core Intel Core i7
Memory 8 GB 1600 MHz DDR3
Graphics Intel HD Graphics 4000 1536 MB


from the Terminal App:
The Apple Crash Report is in the attached tmp.txt
I didn't send it to Apple.

R version 4.0.0 (2020-04-24) -- "Arbor Day"

Copyright (C) 2020 The R Foundation for Statistical Computing

Platform: x86_64-apple-darwin17.0 (64-bit)


R is free software and comes with ABSOLUTELY NO WARRANTY.

You are welcome to redistribute it under certain conditions.

Type 'license()' or 'licence()' for distribution details.


  Natural language support but running in an English locale


R is a collaborative project with many contributors.

Type 'contributors()' for more information and

'citation()' on how to cite R or R packages in publications.


Type 'demo()' for some demos, 'help()' for on-line help, or

'help.start()' for an HTML browser interface to help.

Type 'q()' to quit R.


> library(rgl)

> plot(1:10)

> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473

2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
uncaught exception 'NSInternalInconsistencyException', reason:
'NSScreen reconfig must only happen on the main thread.'

*** First throw call stack:

(

0   CoreFoundation                      0x00007fff371698d7
__exceptionPreprocess + 250

1   libobjc.A.dylib                     0x00007fff6ff47a9e
objc_exception_throw + 48

2   CoreFoundation                      0x00007fff37192bb0
+[NSException raise:format:arguments:] + 88

3   Foundation                          0x00007fff398de456
-[NSAssertionHandler
handleFailureInFunction:file:lineNumber:description:] + 166

4   AppKit                              0x00007fff34503083
+[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
361

5   AppKit                              0x00007fff34e4bda8
_NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243

6   AppKit                              0x00007fff34502c85
-[NSApplication(ScreenHandling) _reactToDockChanged] + 144

7   AppKit                              0x00007fff345024dc
_NSCGSDockMessageReceive + 268

8   HIToolbox                           0x00007fff35d34a3c
_ZL12DockCallbackjjPvS_ + 1987

9   HIServices                          0x00007fff3539c8ec
dockClientNotificationProc + 217

10  SkyLight                            0x00007fff6626f174
_ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
1002

11  SkyLight                            0x00007fff6626de71
CGSSnarfAndDispatchDatagrams + 1671

12  SkyLight                            0x00007fff6649d5a5
SLSGetNextEventRecordInternal + 83

13  SkyLight                            0x00007fff6633bfbe
SLEventCreateNextEvent + 136

14  libXplugin.1.dylib                  0x000000010686df0c
___xp_init_service_cg_event_port_block_invoke + 104

15  libdispatch.dylib                   0x00007fff7108d658
_dispatch_client_callout + 8

16  libdispatch.dylib                   0x00007fff7108f818
_dispatch_continuation_pop + 414

17  libdispatch.dylib                   0x00007fff7109f4be
_dispatch_source_invoke + 2084

18  libdispatch.dylib                   0x00007fff71092af6
_dispatch_lane_serial_drain + 263

19  libdispatch.dylib                   0x00007fff710935d6
_dispatch_lane_invoke + 363

20  libdispatch.dylib                   0x00007fff7109cc09
_dispatch_workloop_worker_thread + 596

21  libsystem_pthread.dylib             0x00007fff712eba3d
_pthread_wqthread + 290

22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15

)

libc++abi.dylib: terminating with uncaught exception of type NSException

zsh: abort      R

rmh at rmhs-Air ~ %


On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
>
> I'm not seeing that with R-patched r78557, run from the console.  I'm
> not sure I have the same MacOS version as you (R prints the same thing,
> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
> 2.7.11 (xorg-server 1.18.4)".
>
> Duncan Murdoch
>
>
>
> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > Copyright (C) 2020 The R Foundation for Statistical Computing
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type 'license()' or 'licence()' for distribution details.
> >
> >    Natural language support but running in an English locale
> >
> > R is a collaborative project with many contributors.
> > Type 'contributors()' for more information and
> > 'citation()' on how to cite R or R packages in publications.
> >
> > Type 'demo()' for some demos, 'help()' for on-line help, or
> > 'help.start()' for an HTML browser interface to help.
> > Type 'q()' to quit R.
> >
> >> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> >> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> >> version
> >                 _
> > platform       x86_64-apple-darwin17.0
> > arch           x86_64
> > os             darwin17.0
> > system         x86_64, darwin17.0
> > status
> > major          4
> > minor          0.0
> > year           2020
> > month          04
> > day            24
> > svn rev        78286
> > language       R
> > version.string R version 4.0.0 (2020-04-24)
> > nickname       Arbor Day
> >>
> >> library(rgl)
> >> plot(1:10)
> >>
> >
> > Process R abort trap: 6 at Fri May 29 11:32:59 2020
> > 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> > NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> > /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> > 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> > uncaught exception 'NSInternalInconsistencyException', reason:
> > 'NSScreen reconfig must only happen on the main thread.'
> > *** First throw call stack:
> > (
> > 0   CoreFoundation                      0x00007fff371698d7
> > __exceptionPreprocess + 250
> > 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > objc_exception_throw + 48
> > 2   CoreFoundation                      0x00007fff37192bb0
> > +[NSException raise:format:arguments:] + 88
> > 3   Foundation                          0x00007fff398de456
> > -[NSAssertionHandler
> > handleFailureInFunction:file:lineNumber:description:] + 166
> > 4   AppKit                              0x00007fff34503083
> > +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > 361
> > 5   AppKit                              0x00007fff34e4bda8
> > _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> > 6   AppKit                              0x00007fff34502c85
> > -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> > 7   AppKit                              0x00007fff345024dc
> > _NSCGSDockMessageReceive + 268
> > 8   HIToolbox                           0x00007fff35d34a3c
> > _ZL12DockCallbackjjPvS_ + 1987
> > 9   HIServices                          0x00007fff3539c8ec
> > dockClientNotificationProc + 217
> > 10  SkyLight                            0x00007fff6626f174
> > _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > 1002
> > 11  SkyLight                            0x00007fff6626de71
> > CGSSnarfAndDispatchDatagrams + 1671
> > 12  SkyLight                            0x00007fff6649d5a5
> > SLSGetNextEventRecordInternal + 83
> > 13  SkyLight                            0x00007fff6633bfbe
> > SLEventCreateNextEvent + 136
> > 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> > ___xp_init_service_cg_event_port_block_invoke + 104
> > 15  libdispatch.dylib                   0x00007fff7108d658
> > _dispatch_client_callout + 8
> > 16  libdispatch.dylib                   0x00007fff7108f818
> > _dispatch_continuation_pop + 414
> > 17  libdispatch.dylib                   0x00007fff7109f4be
> > _dispatch_source_invoke + 2084
> > 18  libdispatch.dylib                   0x00007fff71092af6
> > _dispatch_lane_serial_drain + 263
> > 19  libdispatch.dylib                   0x00007fff710935d6
> > _dispatch_lane_invoke + 363
> > 20  libdispatch.dylib                   0x00007fff7109cc09
> > _dispatch_workloop_worker_thread + 596
> > 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > _pthread_wqthread + 290
> > 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> > )
> > libc++abi.dylib: terminating with uncaught exception of type NSException
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: tmp.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200529/96c136a4/attachment-0001.txt>

From rmh @end|ng |rom temp|e@edu  Fri May 29 19:33:33 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Fri, 29 May 2020 13:33:33 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
Message-ID: <CAGx1TMCFfAf1h1RBhF4=0r8ytKBphSS6RS3zZGtLaEz=d-i_nA@mail.gmail.com>

this prevents the crash

> rgl.quit()
> plot(1:10)
>

On Fri, May 29, 2020 at 12:35 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>
> I have the same Xquartz as you.
> I have rgl-0.100.50 from CRAN
> Apple is macOS Catalina, Version 10.15.4
> Do you need hardware information?
> MacBpok Air (13 -inch, Mid 2012)
> Processor 2GHz Dual-Core Intel Core i7
> Memory 8 GB 1600 MHz DDR3
> Graphics Intel HD Graphics 4000 1536 MB
>
>
> from the Terminal App:
> The Apple Crash Report is in the attached tmp.txt
> I didn't send it to Apple.
>
> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>
> Copyright (C) 2020 The R Foundation for Statistical Computing
>
> Platform: x86_64-apple-darwin17.0 (64-bit)
>
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
>
> You are welcome to redistribute it under certain conditions.
>
> Type 'license()' or 'licence()' for distribution details.
>
>
>   Natural language support but running in an English locale
>
>
> R is a collaborative project with many contributors.
>
> Type 'contributors()' for more information and
>
> 'citation()' on how to cite R or R packages in publications.
>
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
>
> 'help.start()' for an HTML browser interface to help.
>
> Type 'q()' to quit R.
>
>
> > library(rgl)
>
> > plot(1:10)
>
> > 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
>
> 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
> uncaught exception 'NSInternalInconsistencyException', reason:
> 'NSScreen reconfig must only happen on the main thread.'
>
> *** First throw call stack:
>
> (
>
> 0   CoreFoundation                      0x00007fff371698d7
> __exceptionPreprocess + 250
>
> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> objc_exception_throw + 48
>
> 2   CoreFoundation                      0x00007fff37192bb0
> +[NSException raise:format:arguments:] + 88
>
> 3   Foundation                          0x00007fff398de456
> -[NSAssertionHandler
> handleFailureInFunction:file:lineNumber:description:] + 166
>
> 4   AppKit                              0x00007fff34503083
> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> 361
>
> 5   AppKit                              0x00007fff34e4bda8
> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
>
> 6   AppKit                              0x00007fff34502c85
> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
>
> 7   AppKit                              0x00007fff345024dc
> _NSCGSDockMessageReceive + 268
>
> 8   HIToolbox                           0x00007fff35d34a3c
> _ZL12DockCallbackjjPvS_ + 1987
>
> 9   HIServices                          0x00007fff3539c8ec
> dockClientNotificationProc + 217
>
> 10  SkyLight                            0x00007fff6626f174
> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> 1002
>
> 11  SkyLight                            0x00007fff6626de71
> CGSSnarfAndDispatchDatagrams + 1671
>
> 12  SkyLight                            0x00007fff6649d5a5
> SLSGetNextEventRecordInternal + 83
>
> 13  SkyLight                            0x00007fff6633bfbe
> SLEventCreateNextEvent + 136
>
> 14  libXplugin.1.dylib                  0x000000010686df0c
> ___xp_init_service_cg_event_port_block_invoke + 104
>
> 15  libdispatch.dylib                   0x00007fff7108d658
> _dispatch_client_callout + 8
>
> 16  libdispatch.dylib                   0x00007fff7108f818
> _dispatch_continuation_pop + 414
>
> 17  libdispatch.dylib                   0x00007fff7109f4be
> _dispatch_source_invoke + 2084
>
> 18  libdispatch.dylib                   0x00007fff71092af6
> _dispatch_lane_serial_drain + 263
>
> 19  libdispatch.dylib                   0x00007fff710935d6
> _dispatch_lane_invoke + 363
>
> 20  libdispatch.dylib                   0x00007fff7109cc09
> _dispatch_workloop_worker_thread + 596
>
> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> _pthread_wqthread + 290
>
> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
>
> )
>
> libc++abi.dylib: terminating with uncaught exception of type NSException
>
> zsh: abort      R
>
> rmh at rmhs-Air ~ %
>
>
> On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
> <murdoch.duncan at gmail.com> wrote:
> >
> > I'm not seeing that with R-patched r78557, run from the console.  I'm
> > not sure I have the same MacOS version as you (R prints the same thing,
> > Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
> > 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
> > seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
> > 2.7.11 (xorg-server 1.18.4)".
> >
> > Duncan Murdoch
> >
> >
> >
> > On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> > > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > > Copyright (C) 2020 The R Foundation for Statistical Computing
> > > Platform: x86_64-apple-darwin17.0 (64-bit)
> > >
> > > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > > You are welcome to redistribute it under certain conditions.
> > > Type 'license()' or 'licence()' for distribution details.
> > >
> > >    Natural language support but running in an English locale
> > >
> > > R is a collaborative project with many contributors.
> > > Type 'contributors()' for more information and
> > > 'citation()' on how to cite R or R packages in publications.
> > >
> > > Type 'demo()' for some demos, 'help()' for on-line help, or
> > > 'help.start()' for an HTML browser interface to help.
> > > Type 'q()' to quit R.
> > >
> > >> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> > >> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> > >> version
> > >                 _
> > > platform       x86_64-apple-darwin17.0
> > > arch           x86_64
> > > os             darwin17.0
> > > system         x86_64, darwin17.0
> > > status
> > > major          4
> > > minor          0.0
> > > year           2020
> > > month          04
> > > day            24
> > > svn rev        78286
> > > language       R
> > > version.string R version 4.0.0 (2020-04-24)
> > > nickname       Arbor Day
> > >>
> > >> library(rgl)
> > >> plot(1:10)
> > >>
> > >
> > > Process R abort trap: 6 at Fri May 29 11:32:59 2020
> > > 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> > > NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> > > /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> > > 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> > > uncaught exception 'NSInternalInconsistencyException', reason:
> > > 'NSScreen reconfig must only happen on the main thread.'
> > > *** First throw call stack:
> > > (
> > > 0   CoreFoundation                      0x00007fff371698d7
> > > __exceptionPreprocess + 250
> > > 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > > objc_exception_throw + 48
> > > 2   CoreFoundation                      0x00007fff37192bb0
> > > +[NSException raise:format:arguments:] + 88
> > > 3   Foundation                          0x00007fff398de456
> > > -[NSAssertionHandler
> > > handleFailureInFunction:file:lineNumber:description:] + 166
> > > 4   AppKit                              0x00007fff34503083
> > > +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > > 361
> > > 5   AppKit                              0x00007fff34e4bda8
> > > _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> > > 6   AppKit                              0x00007fff34502c85
> > > -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> > > 7   AppKit                              0x00007fff345024dc
> > > _NSCGSDockMessageReceive + 268
> > > 8   HIToolbox                           0x00007fff35d34a3c
> > > _ZL12DockCallbackjjPvS_ + 1987
> > > 9   HIServices                          0x00007fff3539c8ec
> > > dockClientNotificationProc + 217
> > > 10  SkyLight                            0x00007fff6626f174
> > > _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > > 1002
> > > 11  SkyLight                            0x00007fff6626de71
> > > CGSSnarfAndDispatchDatagrams + 1671
> > > 12  SkyLight                            0x00007fff6649d5a5
> > > SLSGetNextEventRecordInternal + 83
> > > 13  SkyLight                            0x00007fff6633bfbe
> > > SLEventCreateNextEvent + 136
> > > 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> > > ___xp_init_service_cg_event_port_block_invoke + 104
> > > 15  libdispatch.dylib                   0x00007fff7108d658
> > > _dispatch_client_callout + 8
> > > 16  libdispatch.dylib                   0x00007fff7108f818
> > > _dispatch_continuation_pop + 414
> > > 17  libdispatch.dylib                   0x00007fff7109f4be
> > > _dispatch_source_invoke + 2084
> > > 18  libdispatch.dylib                   0x00007fff71092af6
> > > _dispatch_lane_serial_drain + 263
> > > 19  libdispatch.dylib                   0x00007fff710935d6
> > > _dispatch_lane_invoke + 363
> > > 20  libdispatch.dylib                   0x00007fff7109cc09
> > > _dispatch_workloop_worker_thread + 596
> > > 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > > _pthread_wqthread + 290
> > > 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> > > )
> > > libc++abi.dylib: terminating with uncaught exception of type NSException
> > >
> > > _______________________________________________
> > > R-SIG-Mac mailing list
> > > R-SIG-Mac at r-project.org
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > >
> >


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri May 29 19:51:38 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 29 May 2020 13:51:38 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
Message-ID: <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>

On 29/05/2020 12:35 p.m., Richard M. Heiberger wrote:
> I have the same Xquartz as you.

I'd guess it should be updated.  Generally XQuartz needs updates with 
every MacOS release, and your 10.15.4 is two releases further along than 
my 10.13.6.

> I have rgl-0.100.50 from CRAN

You could update that, but I doubt if it would make any difference.

> Apple is macOS Catalina, Version 10.15.4
> Do you need hardware information?
> MacBpok Air (13 -inch, Mid 2012)
> Processor 2GHz Dual-Core Intel Core i7
> Memory 8 GB 1600 MHz DDR3
> Graphics Intel HD Graphics 4000 1536 MB

I think the XQuartz issue is most likely to help, but if it doesn't, I'm 
not sure what I could suggest:  I don't have Catalina.

Duncan Murdoch
> 
> 
> from the Terminal App:
> The Apple Crash Report is in the attached tmp.txt
> I didn't send it to Apple.
> 
> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> 
> Copyright (C) 2020 The R Foundation for Statistical Computing
> 
> Platform: x86_64-apple-darwin17.0 (64-bit)
> 
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> 
> You are welcome to redistribute it under certain conditions.
> 
> Type 'license()' or 'licence()' for distribution details.
> 
> 
>    Natural language support but running in an English locale
> 
> 
> R is a collaborative project with many contributors.
> 
> Type 'contributors()' for more information and
> 
> 'citation()' on how to cite R or R packages in publications.
> 
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 
> 'help.start()' for an HTML browser interface to help.
> 
> Type 'q()' to quit R.
> 
> 
>> library(rgl)
> 
>> plot(1:10)
> 
>> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> 
> 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
> uncaught exception 'NSInternalInconsistencyException', reason:
> 'NSScreen reconfig must only happen on the main thread.'
> 
> *** First throw call stack:
> 
> (
> 
> 0   CoreFoundation                      0x00007fff371698d7
> __exceptionPreprocess + 250
> 
> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> objc_exception_throw + 48
> 
> 2   CoreFoundation                      0x00007fff37192bb0
> +[NSException raise:format:arguments:] + 88
> 
> 3   Foundation                          0x00007fff398de456
> -[NSAssertionHandler
> handleFailureInFunction:file:lineNumber:description:] + 166
> 
> 4   AppKit                              0x00007fff34503083
> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> 361
> 
> 5   AppKit                              0x00007fff34e4bda8
> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> 
> 6   AppKit                              0x00007fff34502c85
> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> 
> 7   AppKit                              0x00007fff345024dc
> _NSCGSDockMessageReceive + 268
> 
> 8   HIToolbox                           0x00007fff35d34a3c
> _ZL12DockCallbackjjPvS_ + 1987
> 
> 9   HIServices                          0x00007fff3539c8ec
> dockClientNotificationProc + 217
> 
> 10  SkyLight                            0x00007fff6626f174
> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> 1002
> 
> 11  SkyLight                            0x00007fff6626de71
> CGSSnarfAndDispatchDatagrams + 1671
> 
> 12  SkyLight                            0x00007fff6649d5a5
> SLSGetNextEventRecordInternal + 83
> 
> 13  SkyLight                            0x00007fff6633bfbe
> SLEventCreateNextEvent + 136
> 
> 14  libXplugin.1.dylib                  0x000000010686df0c
> ___xp_init_service_cg_event_port_block_invoke + 104
> 
> 15  libdispatch.dylib                   0x00007fff7108d658
> _dispatch_client_callout + 8
> 
> 16  libdispatch.dylib                   0x00007fff7108f818
> _dispatch_continuation_pop + 414
> 
> 17  libdispatch.dylib                   0x00007fff7109f4be
> _dispatch_source_invoke + 2084
> 
> 18  libdispatch.dylib                   0x00007fff71092af6
> _dispatch_lane_serial_drain + 263
> 
> 19  libdispatch.dylib                   0x00007fff710935d6
> _dispatch_lane_invoke + 363
> 
> 20  libdispatch.dylib                   0x00007fff7109cc09
> _dispatch_workloop_worker_thread + 596
> 
> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> _pthread_wqthread + 290
> 
> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> 
> )
> 
> libc++abi.dylib: terminating with uncaught exception of type NSException
> 
> zsh: abort      R
> 
> rmh at rmhs-Air ~ %
> 
> 
> On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
> <murdoch.duncan at gmail.com> wrote:
>>
>> I'm not seeing that with R-patched r78557, run from the console.  I'm
>> not sure I have the same MacOS version as you (R prints the same thing,
>> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
>> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
>> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
>> 2.7.11 (xorg-server 1.18.4)".
>>
>> Duncan Murdoch
>>
>>
>>
>> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>> Copyright (C) 2020 The R Foundation for Statistical Computing
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>>
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>>
>>>     Natural language support but running in an English locale
>>>
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>>
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>>
>>>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
>>>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
>>>> version
>>>                  _
>>> platform       x86_64-apple-darwin17.0
>>> arch           x86_64
>>> os             darwin17.0
>>> system         x86_64, darwin17.0
>>> status
>>> major          4
>>> minor          0.0
>>> year           2020
>>> month          04
>>> day            24
>>> svn rev        78286
>>> language       R
>>> version.string R version 4.0.0 (2020-04-24)
>>> nickname       Arbor Day
>>>>
>>>> library(rgl)
>>>> plot(1:10)
>>>>
>>>
>>> Process R abort trap: 6 at Fri May 29 11:32:59 2020
>>> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
>>> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
>>> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
>>> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
>>> uncaught exception 'NSInternalInconsistencyException', reason:
>>> 'NSScreen reconfig must only happen on the main thread.'
>>> *** First throw call stack:
>>> (
>>> 0   CoreFoundation                      0x00007fff371698d7
>>> __exceptionPreprocess + 250
>>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
>>> objc_exception_throw + 48
>>> 2   CoreFoundation                      0x00007fff37192bb0
>>> +[NSException raise:format:arguments:] + 88
>>> 3   Foundation                          0x00007fff398de456
>>> -[NSAssertionHandler
>>> handleFailureInFunction:file:lineNumber:description:] + 166
>>> 4   AppKit                              0x00007fff34503083
>>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
>>> 361
>>> 5   AppKit                              0x00007fff34e4bda8
>>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
>>> 6   AppKit                              0x00007fff34502c85
>>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
>>> 7   AppKit                              0x00007fff345024dc
>>> _NSCGSDockMessageReceive + 268
>>> 8   HIToolbox                           0x00007fff35d34a3c
>>> _ZL12DockCallbackjjPvS_ + 1987
>>> 9   HIServices                          0x00007fff3539c8ec
>>> dockClientNotificationProc + 217
>>> 10  SkyLight                            0x00007fff6626f174
>>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
>>> 1002
>>> 11  SkyLight                            0x00007fff6626de71
>>> CGSSnarfAndDispatchDatagrams + 1671
>>> 12  SkyLight                            0x00007fff6649d5a5
>>> SLSGetNextEventRecordInternal + 83
>>> 13  SkyLight                            0x00007fff6633bfbe
>>> SLEventCreateNextEvent + 136
>>> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
>>> ___xp_init_service_cg_event_port_block_invoke + 104
>>> 15  libdispatch.dylib                   0x00007fff7108d658
>>> _dispatch_client_callout + 8
>>> 16  libdispatch.dylib                   0x00007fff7108f818
>>> _dispatch_continuation_pop + 414
>>> 17  libdispatch.dylib                   0x00007fff7109f4be
>>> _dispatch_source_invoke + 2084
>>> 18  libdispatch.dylib                   0x00007fff71092af6
>>> _dispatch_lane_serial_drain + 263
>>> 19  libdispatch.dylib                   0x00007fff710935d6
>>> _dispatch_lane_invoke + 363
>>> 20  libdispatch.dylib                   0x00007fff7109cc09
>>> _dispatch_workloop_worker_thread + 596
>>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
>>> _pthread_wqthread + 290
>>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
>>> )
>>> libc++abi.dylib: terminating with uncaught exception of type NSException
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>


From rmh @end|ng |rom temp|e@edu  Fri May 29 20:21:13 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Fri, 29 May 2020 14:21:13 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
 <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>
Message-ID: <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>

I attempted to update xquartz when I updated to Catalina, and the same
number is still the current version number.

Here is a related issue, attached tmp2.txt is the R transcript.
The interesting thing here is that rgl.quit() prevents rgl from being
reattached.

Is there an rgl equivalent for dev.cur()?

On Fri, May 29, 2020 at 1:51 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
> On 29/05/2020 12:35 p.m., Richard M. Heiberger wrote:
> > I have the same Xquartz as you.
>
> I'd guess it should be updated.  Generally XQuartz needs updates with
> every MacOS release, and your 10.15.4 is two releases further along than
> my 10.13.6.
>
> > I have rgl-0.100.50 from CRAN
>
> You could update that, but I doubt if it would make any difference.
>
> > Apple is macOS Catalina, Version 10.15.4
> > Do you need hardware information?
> > MacBpok Air (13 -inch, Mid 2012)
> > Processor 2GHz Dual-Core Intel Core i7
> > Memory 8 GB 1600 MHz DDR3
> > Graphics Intel HD Graphics 4000 1536 MB
>
> I think the XQuartz issue is most likely to help, but if it doesn't, I'm
> not sure what I could suggest:  I don't have Catalina.
>
> Duncan Murdoch
> >
> >
> > from the Terminal App:
> > The Apple Crash Report is in the attached tmp.txt
> > I didn't send it to Apple.
> >
> > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >
> > Copyright (C) 2020 The R Foundation for Statistical Computing
> >
> > Platform: x86_64-apple-darwin17.0 (64-bit)
> >
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> >
> > You are welcome to redistribute it under certain conditions.
> >
> > Type 'license()' or 'licence()' for distribution details.
> >
> >
> >    Natural language support but running in an English locale
> >
> >
> > R is a collaborative project with many contributors.
> >
> > Type 'contributors()' for more information and
> >
> > 'citation()' on how to cite R or R packages in publications.
> >
> >
> > Type 'demo()' for some demos, 'help()' for on-line help, or
> >
> > 'help.start()' for an HTML browser interface to help.
> >
> > Type 'q()' to quit R.
> >
> >
> >> library(rgl)
> >
> >> plot(1:10)
> >
> >> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> >
> > 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
> > uncaught exception 'NSInternalInconsistencyException', reason:
> > 'NSScreen reconfig must only happen on the main thread.'
> >
> > *** First throw call stack:
> >
> > (
> >
> > 0   CoreFoundation                      0x00007fff371698d7
> > __exceptionPreprocess + 250
> >
> > 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > objc_exception_throw + 48
> >
> > 2   CoreFoundation                      0x00007fff37192bb0
> > +[NSException raise:format:arguments:] + 88
> >
> > 3   Foundation                          0x00007fff398de456
> > -[NSAssertionHandler
> > handleFailureInFunction:file:lineNumber:description:] + 166
> >
> > 4   AppKit                              0x00007fff34503083
> > +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > 361
> >
> > 5   AppKit                              0x00007fff34e4bda8
> > _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> >
> > 6   AppKit                              0x00007fff34502c85
> > -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> >
> > 7   AppKit                              0x00007fff345024dc
> > _NSCGSDockMessageReceive + 268
> >
> > 8   HIToolbox                           0x00007fff35d34a3c
> > _ZL12DockCallbackjjPvS_ + 1987
> >
> > 9   HIServices                          0x00007fff3539c8ec
> > dockClientNotificationProc + 217
> >
> > 10  SkyLight                            0x00007fff6626f174
> > _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > 1002
> >
> > 11  SkyLight                            0x00007fff6626de71
> > CGSSnarfAndDispatchDatagrams + 1671
> >
> > 12  SkyLight                            0x00007fff6649d5a5
> > SLSGetNextEventRecordInternal + 83
> >
> > 13  SkyLight                            0x00007fff6633bfbe
> > SLEventCreateNextEvent + 136
> >
> > 14  libXplugin.1.dylib                  0x000000010686df0c
> > ___xp_init_service_cg_event_port_block_invoke + 104
> >
> > 15  libdispatch.dylib                   0x00007fff7108d658
> > _dispatch_client_callout + 8
> >
> > 16  libdispatch.dylib                   0x00007fff7108f818
> > _dispatch_continuation_pop + 414
> >
> > 17  libdispatch.dylib                   0x00007fff7109f4be
> > _dispatch_source_invoke + 2084
> >
> > 18  libdispatch.dylib                   0x00007fff71092af6
> > _dispatch_lane_serial_drain + 263
> >
> > 19  libdispatch.dylib                   0x00007fff710935d6
> > _dispatch_lane_invoke + 363
> >
> > 20  libdispatch.dylib                   0x00007fff7109cc09
> > _dispatch_workloop_worker_thread + 596
> >
> > 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > _pthread_wqthread + 290
> >
> > 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> >
> > )
> >
> > libc++abi.dylib: terminating with uncaught exception of type NSException
> >
> > zsh: abort      R
> >
> > rmh at rmhs-Air ~ %
> >
> >
> > On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
> > <murdoch.duncan at gmail.com> wrote:
> >>
> >> I'm not seeing that with R-patched r78557, run from the console.  I'm
> >> not sure I have the same MacOS version as you (R prints the same thing,
> >> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
> >> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
> >> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
> >> 2.7.11 (xorg-server 1.18.4)".
> >>
> >> Duncan Murdoch
> >>
> >>
> >>
> >> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> >>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >>> Copyright (C) 2020 The R Foundation for Statistical Computing
> >>> Platform: x86_64-apple-darwin17.0 (64-bit)
> >>>
> >>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> >>> You are welcome to redistribute it under certain conditions.
> >>> Type 'license()' or 'licence()' for distribution details.
> >>>
> >>>     Natural language support but running in an English locale
> >>>
> >>> R is a collaborative project with many contributors.
> >>> Type 'contributors()' for more information and
> >>> 'citation()' on how to cite R or R packages in publications.
> >>>
> >>> Type 'demo()' for some demos, 'help()' for on-line help, or
> >>> 'help.start()' for an HTML browser interface to help.
> >>> Type 'q()' to quit R.
> >>>
> >>>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> >>>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> >>>> version
> >>>                  _
> >>> platform       x86_64-apple-darwin17.0
> >>> arch           x86_64
> >>> os             darwin17.0
> >>> system         x86_64, darwin17.0
> >>> status
> >>> major          4
> >>> minor          0.0
> >>> year           2020
> >>> month          04
> >>> day            24
> >>> svn rev        78286
> >>> language       R
> >>> version.string R version 4.0.0 (2020-04-24)
> >>> nickname       Arbor Day
> >>>>
> >>>> library(rgl)
> >>>> plot(1:10)
> >>>>
> >>>
> >>> Process R abort trap: 6 at Fri May 29 11:32:59 2020
> >>> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> >>> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> >>> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> >>> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> >>> uncaught exception 'NSInternalInconsistencyException', reason:
> >>> 'NSScreen reconfig must only happen on the main thread.'
> >>> *** First throw call stack:
> >>> (
> >>> 0   CoreFoundation                      0x00007fff371698d7
> >>> __exceptionPreprocess + 250
> >>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> >>> objc_exception_throw + 48
> >>> 2   CoreFoundation                      0x00007fff37192bb0
> >>> +[NSException raise:format:arguments:] + 88
> >>> 3   Foundation                          0x00007fff398de456
> >>> -[NSAssertionHandler
> >>> handleFailureInFunction:file:lineNumber:description:] + 166
> >>> 4   AppKit                              0x00007fff34503083
> >>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> >>> 361
> >>> 5   AppKit                              0x00007fff34e4bda8
> >>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> >>> 6   AppKit                              0x00007fff34502c85
> >>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> >>> 7   AppKit                              0x00007fff345024dc
> >>> _NSCGSDockMessageReceive + 268
> >>> 8   HIToolbox                           0x00007fff35d34a3c
> >>> _ZL12DockCallbackjjPvS_ + 1987
> >>> 9   HIServices                          0x00007fff3539c8ec
> >>> dockClientNotificationProc + 217
> >>> 10  SkyLight                            0x00007fff6626f174
> >>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> >>> 1002
> >>> 11  SkyLight                            0x00007fff6626de71
> >>> CGSSnarfAndDispatchDatagrams + 1671
> >>> 12  SkyLight                            0x00007fff6649d5a5
> >>> SLSGetNextEventRecordInternal + 83
> >>> 13  SkyLight                            0x00007fff6633bfbe
> >>> SLEventCreateNextEvent + 136
> >>> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> >>> ___xp_init_service_cg_event_port_block_invoke + 104
> >>> 15  libdispatch.dylib                   0x00007fff7108d658
> >>> _dispatch_client_callout + 8
> >>> 16  libdispatch.dylib                   0x00007fff7108f818
> >>> _dispatch_continuation_pop + 414
> >>> 17  libdispatch.dylib                   0x00007fff7109f4be
> >>> _dispatch_source_invoke + 2084
> >>> 18  libdispatch.dylib                   0x00007fff71092af6
> >>> _dispatch_lane_serial_drain + 263
> >>> 19  libdispatch.dylib                   0x00007fff710935d6
> >>> _dispatch_lane_invoke + 363
> >>> 20  libdispatch.dylib                   0x00007fff7109cc09
> >>> _dispatch_workloop_worker_thread + 596
> >>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> >>> _pthread_wqthread + 290
> >>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> >>> )
> >>> libc++abi.dylib: terminating with uncaught exception of type NSException
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>
>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: tmp2.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20200529/aa427f3b/attachment.txt>

From rmh @end|ng |rom temp|e@edu  Fri May 29 20:28:05 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Fri, 29 May 2020 14:28:05 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
 <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>
 <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>
Message-ID: <CAGx1TMASgvkdqRVijDkozFSCUOH416virOFhXEYwux6zPcXwFQ@mail.gmail.com>

I tried the same thing in Windows.  R-3.6.3 and R-4.0.0


R version 3.6.3 (2020-02-29) -- "Holding the Windsock"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> > options(chmhelp=FALSE, help_type="text")
> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) # rather take the ESS one
+       options(pager='console')
> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient.exe', show.error.locations=TRUE)
> library(rgl)
> plot(1:10)
> rgl.quit()
> search()
 [1] ".GlobalEnv"        "ESSR"              "package:stats"
 [4] "package:graphics"  "package:grDevices" "package:utils"
 [7] "package:datasets"  "package:methods"   "Autoloads"
[10] "package:base"
> library(rgl)
Error: package or namespace load failed for 'rgl':
 .onLoad failed in loadNamespace() for 'rgl', details:
  call: rgl.init(initValue, onlyNULL)
  error: window class registration failed
>



R version 4.0.0 (2020-04-24) -- "Arbor Day"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-w64-mingw32/x64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> > options(chmhelp=FALSE, help_type="text")
> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) # rather take the ESS one
+       options(pager='console')
> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient.exe', show.error.locations=TRUE)
> library(rgl)
> search()
 [1] ".GlobalEnv"        "package:rgl"       "ESSR"
 [4] "package:stats"     "package:graphics"  "package:grDevices"
 [7] "package:utils"     "package:datasets"  "package:methods"
[10] "Autoloads"         "package:base"
> rgl.quit()
> library(rgl)
Error: package or namespace load failed for 'rgl':
 .onLoad failed in loadNamespace() for 'rgl', details:
  call: rgl.init(initValue, onlyNULL)
  error: window class registration failed
>

On Fri, May 29, 2020 at 2:21 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>
> I attempted to update xquartz when I updated to Catalina, and the same
> number is still the current version number.
>
> Here is a related issue, attached tmp2.txt is the R transcript.
> The interesting thing here is that rgl.quit() prevents rgl from being
> reattached.
>
> Is there an rgl equivalent for dev.cur()?
>
> On Fri, May 29, 2020 at 1:51 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> >
> > On 29/05/2020 12:35 p.m., Richard M. Heiberger wrote:
> > > I have the same Xquartz as you.
> >
> > I'd guess it should be updated.  Generally XQuartz needs updates with
> > every MacOS release, and your 10.15.4 is two releases further along than
> > my 10.13.6.
> >
> > > I have rgl-0.100.50 from CRAN
> >
> > You could update that, but I doubt if it would make any difference.
> >
> > > Apple is macOS Catalina, Version 10.15.4
> > > Do you need hardware information?
> > > MacBpok Air (13 -inch, Mid 2012)
> > > Processor 2GHz Dual-Core Intel Core i7
> > > Memory 8 GB 1600 MHz DDR3
> > > Graphics Intel HD Graphics 4000 1536 MB
> >
> > I think the XQuartz issue is most likely to help, but if it doesn't, I'm
> > not sure what I could suggest:  I don't have Catalina.
> >
> > Duncan Murdoch
> > >
> > >
> > > from the Terminal App:
> > > The Apple Crash Report is in the attached tmp.txt
> > > I didn't send it to Apple.
> > >
> > > R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > >
> > > Copyright (C) 2020 The R Foundation for Statistical Computing
> > >
> > > Platform: x86_64-apple-darwin17.0 (64-bit)
> > >
> > >
> > > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > >
> > > You are welcome to redistribute it under certain conditions.
> > >
> > > Type 'license()' or 'licence()' for distribution details.
> > >
> > >
> > >    Natural language support but running in an English locale
> > >
> > >
> > > R is a collaborative project with many contributors.
> > >
> > > Type 'contributors()' for more information and
> > >
> > > 'citation()' on how to cite R or R packages in publications.
> > >
> > >
> > > Type 'demo()' for some demos, 'help()' for on-line help, or
> > >
> > > 'help.start()' for an HTML browser interface to help.
> > >
> > > Type 'q()' to quit R.
> > >
> > >
> > >> library(rgl)
> > >
> > >> plot(1:10)
> > >
> > >> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> > >
> > > 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
> > > uncaught exception 'NSInternalInconsistencyException', reason:
> > > 'NSScreen reconfig must only happen on the main thread.'
> > >
> > > *** First throw call stack:
> > >
> > > (
> > >
> > > 0   CoreFoundation                      0x00007fff371698d7
> > > __exceptionPreprocess + 250
> > >
> > > 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > > objc_exception_throw + 48
> > >
> > > 2   CoreFoundation                      0x00007fff37192bb0
> > > +[NSException raise:format:arguments:] + 88
> > >
> > > 3   Foundation                          0x00007fff398de456
> > > -[NSAssertionHandler
> > > handleFailureInFunction:file:lineNumber:description:] + 166
> > >
> > > 4   AppKit                              0x00007fff34503083
> > > +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > > 361
> > >
> > > 5   AppKit                              0x00007fff34e4bda8
> > > _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> > >
> > > 6   AppKit                              0x00007fff34502c85
> > > -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> > >
> > > 7   AppKit                              0x00007fff345024dc
> > > _NSCGSDockMessageReceive + 268
> > >
> > > 8   HIToolbox                           0x00007fff35d34a3c
> > > _ZL12DockCallbackjjPvS_ + 1987
> > >
> > > 9   HIServices                          0x00007fff3539c8ec
> > > dockClientNotificationProc + 217
> > >
> > > 10  SkyLight                            0x00007fff6626f174
> > > _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > > 1002
> > >
> > > 11  SkyLight                            0x00007fff6626de71
> > > CGSSnarfAndDispatchDatagrams + 1671
> > >
> > > 12  SkyLight                            0x00007fff6649d5a5
> > > SLSGetNextEventRecordInternal + 83
> > >
> > > 13  SkyLight                            0x00007fff6633bfbe
> > > SLEventCreateNextEvent + 136
> > >
> > > 14  libXplugin.1.dylib                  0x000000010686df0c
> > > ___xp_init_service_cg_event_port_block_invoke + 104
> > >
> > > 15  libdispatch.dylib                   0x00007fff7108d658
> > > _dispatch_client_callout + 8
> > >
> > > 16  libdispatch.dylib                   0x00007fff7108f818
> > > _dispatch_continuation_pop + 414
> > >
> > > 17  libdispatch.dylib                   0x00007fff7109f4be
> > > _dispatch_source_invoke + 2084
> > >
> > > 18  libdispatch.dylib                   0x00007fff71092af6
> > > _dispatch_lane_serial_drain + 263
> > >
> > > 19  libdispatch.dylib                   0x00007fff710935d6
> > > _dispatch_lane_invoke + 363
> > >
> > > 20  libdispatch.dylib                   0x00007fff7109cc09
> > > _dispatch_workloop_worker_thread + 596
> > >
> > > 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > > _pthread_wqthread + 290
> > >
> > > 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> > >
> > > )
> > >
> > > libc++abi.dylib: terminating with uncaught exception of type NSException
> > >
> > > zsh: abort      R
> > >
> > > rmh at rmhs-Air ~ %
> > >
> > >
> > > On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
> > > <murdoch.duncan at gmail.com> wrote:
> > >>
> > >> I'm not seeing that with R-patched r78557, run from the console.  I'm
> > >> not sure I have the same MacOS version as you (R prints the same thing,
> > >> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
> > >> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
> > >> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
> > >> 2.7.11 (xorg-server 1.18.4)".
> > >>
> > >> Duncan Murdoch
> > >>
> > >>
> > >>
> > >> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> > >>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > >>> Copyright (C) 2020 The R Foundation for Statistical Computing
> > >>> Platform: x86_64-apple-darwin17.0 (64-bit)
> > >>>
> > >>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> > >>> You are welcome to redistribute it under certain conditions.
> > >>> Type 'license()' or 'licence()' for distribution details.
> > >>>
> > >>>     Natural language support but running in an English locale
> > >>>
> > >>> R is a collaborative project with many contributors.
> > >>> Type 'contributors()' for more information and
> > >>> 'citation()' on how to cite R or R packages in publications.
> > >>>
> > >>> Type 'demo()' for some demos, 'help()' for on-line help, or
> > >>> 'help.start()' for an HTML browser interface to help.
> > >>> Type 'q()' to quit R.
> > >>>
> > >>>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> > >>>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> > >>>> version
> > >>>                  _
> > >>> platform       x86_64-apple-darwin17.0
> > >>> arch           x86_64
> > >>> os             darwin17.0
> > >>> system         x86_64, darwin17.0
> > >>> status
> > >>> major          4
> > >>> minor          0.0
> > >>> year           2020
> > >>> month          04
> > >>> day            24
> > >>> svn rev        78286
> > >>> language       R
> > >>> version.string R version 4.0.0 (2020-04-24)
> > >>> nickname       Arbor Day
> > >>>>
> > >>>> library(rgl)
> > >>>> plot(1:10)
> > >>>>
> > >>>
> > >>> Process R abort trap: 6 at Fri May 29 11:32:59 2020
> > >>> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> > >>> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> > >>> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> > >>> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> > >>> uncaught exception 'NSInternalInconsistencyException', reason:
> > >>> 'NSScreen reconfig must only happen on the main thread.'
> > >>> *** First throw call stack:
> > >>> (
> > >>> 0   CoreFoundation                      0x00007fff371698d7
> > >>> __exceptionPreprocess + 250
> > >>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > >>> objc_exception_throw + 48
> > >>> 2   CoreFoundation                      0x00007fff37192bb0
> > >>> +[NSException raise:format:arguments:] + 88
> > >>> 3   Foundation                          0x00007fff398de456
> > >>> -[NSAssertionHandler
> > >>> handleFailureInFunction:file:lineNumber:description:] + 166
> > >>> 4   AppKit                              0x00007fff34503083
> > >>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > >>> 361
> > >>> 5   AppKit                              0x00007fff34e4bda8
> > >>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> > >>> 6   AppKit                              0x00007fff34502c85
> > >>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> > >>> 7   AppKit                              0x00007fff345024dc
> > >>> _NSCGSDockMessageReceive + 268
> > >>> 8   HIToolbox                           0x00007fff35d34a3c
> > >>> _ZL12DockCallbackjjPvS_ + 1987
> > >>> 9   HIServices                          0x00007fff3539c8ec
> > >>> dockClientNotificationProc + 217
> > >>> 10  SkyLight                            0x00007fff6626f174
> > >>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > >>> 1002
> > >>> 11  SkyLight                            0x00007fff6626de71
> > >>> CGSSnarfAndDispatchDatagrams + 1671
> > >>> 12  SkyLight                            0x00007fff6649d5a5
> > >>> SLSGetNextEventRecordInternal + 83
> > >>> 13  SkyLight                            0x00007fff6633bfbe
> > >>> SLEventCreateNextEvent + 136
> > >>> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> > >>> ___xp_init_service_cg_event_port_block_invoke + 104
> > >>> 15  libdispatch.dylib                   0x00007fff7108d658
> > >>> _dispatch_client_callout + 8
> > >>> 16  libdispatch.dylib                   0x00007fff7108f818
> > >>> _dispatch_continuation_pop + 414
> > >>> 17  libdispatch.dylib                   0x00007fff7109f4be
> > >>> _dispatch_source_invoke + 2084
> > >>> 18  libdispatch.dylib                   0x00007fff71092af6
> > >>> _dispatch_lane_serial_drain + 263
> > >>> 19  libdispatch.dylib                   0x00007fff710935d6
> > >>> _dispatch_lane_invoke + 363
> > >>> 20  libdispatch.dylib                   0x00007fff7109cc09
> > >>> _dispatch_workloop_worker_thread + 596
> > >>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > >>> _pthread_wqthread + 290
> > >>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> > >>> )
> > >>> libc++abi.dylib: terminating with uncaught exception of type NSException
> > >>>
> > >>> _______________________________________________
> > >>> R-SIG-Mac mailing list
> > >>> R-SIG-Mac at r-project.org
> > >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > >>>
> > >>
> >


From murdoch@dunc@n @end|ng |rom gm@||@com  Fri May 29 21:13:26 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Fri, 29 May 2020 15:13:26 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
 <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>
 <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>
Message-ID: <8d908d24-2b46-27ee-81c7-2a8cc8d6193b@gmail.com>

On 29/05/2020 2:21 p.m., Richard M. Heiberger wrote:
> I attempted to update xquartz when I updated to Catalina, and the same
> number is still the current version number.
> 
> Here is a related issue, attached tmp2.txt is the R transcript.
> The interesting thing here is that rgl.quit() prevents rgl from being
> reattached.

Generally speaking rgl doesn't want to be reloaded in the same R 
session:  detaching it doesn't clean up everything.  That's not 
something that I'd put any priority on fixing, whereas I would look at 
the problems you're having on startup if I could reproduce them.

I wonder if ESS is involved somehow:  your sessionInfo listed ESSR on 
the search list.  Do you have the same issues with plain R from the 
console, or R.app?

> Is there an rgl equivalent for dev.cur()?

There's rgl.cur().  rgl only supports two kinds of devices:  on a Mac or 
Linux they'd be displayed as glX or null.  Windows also supports the 
null device (which doesn't display anything), and a different one to 
display within R:  I forget how the name is displayed.

It might be that you'll need to set options(rgl.useNULL) before starting 
rgl, and only use the null device.  It won't display anything in R, but 
allows you to call rglwidget() for a display in a browser.

Duncan Murdoch

> On Fri, May 29, 2020 at 1:51 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>> On 29/05/2020 12:35 p.m., Richard M. Heiberger wrote:
>>> I have the same Xquartz as you.
>>
>> I'd guess it should be updated.  Generally XQuartz needs updates with
>> every MacOS release, and your 10.15.4 is two releases further along than
>> my 10.13.6.
>>
>>> I have rgl-0.100.50 from CRAN
>>
>> You could update that, but I doubt if it would make any difference.
>>
>>> Apple is macOS Catalina, Version 10.15.4
>>> Do you need hardware information?
>>> MacBpok Air (13 -inch, Mid 2012)
>>> Processor 2GHz Dual-Core Intel Core i7
>>> Memory 8 GB 1600 MHz DDR3
>>> Graphics Intel HD Graphics 4000 1536 MB
>>
>> I think the XQuartz issue is most likely to help, but if it doesn't, I'm
>> not sure what I could suggest:  I don't have Catalina.
>>
>> Duncan Murdoch
>>>
>>>
>>> from the Terminal App:
>>> The Apple Crash Report is in the attached tmp.txt
>>> I didn't send it to Apple.
>>>
>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>
>>> Copyright (C) 2020 The R Foundation for Statistical Computing
>>>
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>>
>>>
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>
>>> You are welcome to redistribute it under certain conditions.
>>>
>>> Type 'license()' or 'licence()' for distribution details.
>>>
>>>
>>>     Natural language support but running in an English locale
>>>
>>>
>>> R is a collaborative project with many contributors.
>>>
>>> Type 'contributors()' for more information and
>>>
>>> 'citation()' on how to cite R or R packages in publications.
>>>
>>>
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>
>>> 'help.start()' for an HTML browser interface to help.
>>>
>>> Type 'q()' to quit R.
>>>
>>>
>>>> library(rgl)
>>>
>>>> plot(1:10)
>>>
>>>> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
>>>
>>> 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
>>> uncaught exception 'NSInternalInconsistencyException', reason:
>>> 'NSScreen reconfig must only happen on the main thread.'
>>>
>>> *** First throw call stack:
>>>
>>> (
>>>
>>> 0   CoreFoundation                      0x00007fff371698d7
>>> __exceptionPreprocess + 250
>>>
>>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
>>> objc_exception_throw + 48
>>>
>>> 2   CoreFoundation                      0x00007fff37192bb0
>>> +[NSException raise:format:arguments:] + 88
>>>
>>> 3   Foundation                          0x00007fff398de456
>>> -[NSAssertionHandler
>>> handleFailureInFunction:file:lineNumber:description:] + 166
>>>
>>> 4   AppKit                              0x00007fff34503083
>>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
>>> 361
>>>
>>> 5   AppKit                              0x00007fff34e4bda8
>>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
>>>
>>> 6   AppKit                              0x00007fff34502c85
>>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
>>>
>>> 7   AppKit                              0x00007fff345024dc
>>> _NSCGSDockMessageReceive + 268
>>>
>>> 8   HIToolbox                           0x00007fff35d34a3c
>>> _ZL12DockCallbackjjPvS_ + 1987
>>>
>>> 9   HIServices                          0x00007fff3539c8ec
>>> dockClientNotificationProc + 217
>>>
>>> 10  SkyLight                            0x00007fff6626f174
>>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
>>> 1002
>>>
>>> 11  SkyLight                            0x00007fff6626de71
>>> CGSSnarfAndDispatchDatagrams + 1671
>>>
>>> 12  SkyLight                            0x00007fff6649d5a5
>>> SLSGetNextEventRecordInternal + 83
>>>
>>> 13  SkyLight                            0x00007fff6633bfbe
>>> SLEventCreateNextEvent + 136
>>>
>>> 14  libXplugin.1.dylib                  0x000000010686df0c
>>> ___xp_init_service_cg_event_port_block_invoke + 104
>>>
>>> 15  libdispatch.dylib                   0x00007fff7108d658
>>> _dispatch_client_callout + 8
>>>
>>> 16  libdispatch.dylib                   0x00007fff7108f818
>>> _dispatch_continuation_pop + 414
>>>
>>> 17  libdispatch.dylib                   0x00007fff7109f4be
>>> _dispatch_source_invoke + 2084
>>>
>>> 18  libdispatch.dylib                   0x00007fff71092af6
>>> _dispatch_lane_serial_drain + 263
>>>
>>> 19  libdispatch.dylib                   0x00007fff710935d6
>>> _dispatch_lane_invoke + 363
>>>
>>> 20  libdispatch.dylib                   0x00007fff7109cc09
>>> _dispatch_workloop_worker_thread + 596
>>>
>>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
>>> _pthread_wqthread + 290
>>>
>>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
>>>
>>> )
>>>
>>> libc++abi.dylib: terminating with uncaught exception of type NSException
>>>
>>> zsh: abort      R
>>>
>>> rmh at rmhs-Air ~ %
>>>
>>>
>>> On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
>>> <murdoch.duncan at gmail.com> wrote:
>>>>
>>>> I'm not seeing that with R-patched r78557, run from the console.  I'm
>>>> not sure I have the same MacOS version as you (R prints the same thing,
>>>> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
>>>> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
>>>> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
>>>> 2.7.11 (xorg-server 1.18.4)".
>>>>
>>>> Duncan Murdoch
>>>>
>>>>
>>>>
>>>> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
>>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
>>>>> Copyright (C) 2020 The R Foundation for Statistical Computing
>>>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>>>>
>>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>>> You are welcome to redistribute it under certain conditions.
>>>>> Type 'license()' or 'licence()' for distribution details.
>>>>>
>>>>>      Natural language support but running in an English locale
>>>>>
>>>>> R is a collaborative project with many contributors.
>>>>> Type 'contributors()' for more information and
>>>>> 'citation()' on how to cite R or R packages in publications.
>>>>>
>>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>>> 'help.start()' for an HTML browser interface to help.
>>>>> Type 'q()' to quit R.
>>>>>
>>>>>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
>>>>>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
>>>>>> version
>>>>>                   _
>>>>> platform       x86_64-apple-darwin17.0
>>>>> arch           x86_64
>>>>> os             darwin17.0
>>>>> system         x86_64, darwin17.0
>>>>> status
>>>>> major          4
>>>>> minor          0.0
>>>>> year           2020
>>>>> month          04
>>>>> day            24
>>>>> svn rev        78286
>>>>> language       R
>>>>> version.string R version 4.0.0 (2020-04-24)
>>>>> nickname       Arbor Day
>>>>>>
>>>>>> library(rgl)
>>>>>> plot(1:10)
>>>>>>
>>>>>
>>>>> Process R abort trap: 6 at Fri May 29 11:32:59 2020
>>>>> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
>>>>> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
>>>>> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
>>>>> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
>>>>> uncaught exception 'NSInternalInconsistencyException', reason:
>>>>> 'NSScreen reconfig must only happen on the main thread.'
>>>>> *** First throw call stack:
>>>>> (
>>>>> 0   CoreFoundation                      0x00007fff371698d7
>>>>> __exceptionPreprocess + 250
>>>>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
>>>>> objc_exception_throw + 48
>>>>> 2   CoreFoundation                      0x00007fff37192bb0
>>>>> +[NSException raise:format:arguments:] + 88
>>>>> 3   Foundation                          0x00007fff398de456
>>>>> -[NSAssertionHandler
>>>>> handleFailureInFunction:file:lineNumber:description:] + 166
>>>>> 4   AppKit                              0x00007fff34503083
>>>>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
>>>>> 361
>>>>> 5   AppKit                              0x00007fff34e4bda8
>>>>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
>>>>> 6   AppKit                              0x00007fff34502c85
>>>>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
>>>>> 7   AppKit                              0x00007fff345024dc
>>>>> _NSCGSDockMessageReceive + 268
>>>>> 8   HIToolbox                           0x00007fff35d34a3c
>>>>> _ZL12DockCallbackjjPvS_ + 1987
>>>>> 9   HIServices                          0x00007fff3539c8ec
>>>>> dockClientNotificationProc + 217
>>>>> 10  SkyLight                            0x00007fff6626f174
>>>>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
>>>>> 1002
>>>>> 11  SkyLight                            0x00007fff6626de71
>>>>> CGSSnarfAndDispatchDatagrams + 1671
>>>>> 12  SkyLight                            0x00007fff6649d5a5
>>>>> SLSGetNextEventRecordInternal + 83
>>>>> 13  SkyLight                            0x00007fff6633bfbe
>>>>> SLEventCreateNextEvent + 136
>>>>> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
>>>>> ___xp_init_service_cg_event_port_block_invoke + 104
>>>>> 15  libdispatch.dylib                   0x00007fff7108d658
>>>>> _dispatch_client_callout + 8
>>>>> 16  libdispatch.dylib                   0x00007fff7108f818
>>>>> _dispatch_continuation_pop + 414
>>>>> 17  libdispatch.dylib                   0x00007fff7109f4be
>>>>> _dispatch_source_invoke + 2084
>>>>> 18  libdispatch.dylib                   0x00007fff71092af6
>>>>> _dispatch_lane_serial_drain + 263
>>>>> 19  libdispatch.dylib                   0x00007fff710935d6
>>>>> _dispatch_lane_invoke + 363
>>>>> 20  libdispatch.dylib                   0x00007fff7109cc09
>>>>> _dispatch_workloop_worker_thread + 596
>>>>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
>>>>> _pthread_wqthread + 290
>>>>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
>>>>> )
>>>>> libc++abi.dylib: terminating with uncaught exception of type NSException
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>


From rmh @end|ng |rom temp|e@edu  Fri May 29 21:25:44 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Fri, 29 May 2020 15:25:44 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <8d908d24-2b46-27ee-81c7-2a8cc8d6193b@gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
 <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>
 <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>
 <8d908d24-2b46-27ee-81c7-2a8cc8d6193b@gmail.com>
Message-ID: <CAGx1TMCHm7zqEoX4B3u7-Ww+9sB8Mvuf+POQL=scTC=sk9CiSA@mail.gmail.com>

my 12:35 email and the attached tmp.txt are from the Terminal.app,
No emacs/ESS involved.

On Fri, May 29, 2020 at 3:13 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>
> On 29/05/2020 2:21 p.m., Richard M. Heiberger wrote:
> > I attempted to update xquartz when I updated to Catalina, and the same
> > number is still the current version number.
> >
> > Here is a related issue, attached tmp2.txt is the R transcript.
> > The interesting thing here is that rgl.quit() prevents rgl from being
> > reattached.
>
> Generally speaking rgl doesn't want to be reloaded in the same R
> session:  detaching it doesn't clean up everything.  That's not
> something that I'd put any priority on fixing, whereas I would look at
> the problems you're having on startup if I could reproduce them.
>
> I wonder if ESS is involved somehow:  your sessionInfo listed ESSR on
> the search list.  Do you have the same issues with plain R from the
> console, or R.app?
>
> > Is there an rgl equivalent for dev.cur()?
>
> There's rgl.cur().  rgl only supports two kinds of devices:  on a Mac or
> Linux they'd be displayed as glX or null.  Windows also supports the
> null device (which doesn't display anything), and a different one to
> display within R:  I forget how the name is displayed.
>
> It might be that you'll need to set options(rgl.useNULL) before starting
> rgl, and only use the null device.  It won't display anything in R, but
> allows you to call rglwidget() for a display in a browser.
>
> Duncan Murdoch
>
> > On Fri, May 29, 2020 at 1:51 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> >>
> >> On 29/05/2020 12:35 p.m., Richard M. Heiberger wrote:
> >>> I have the same Xquartz as you.
> >>
> >> I'd guess it should be updated.  Generally XQuartz needs updates with
> >> every MacOS release, and your 10.15.4 is two releases further along than
> >> my 10.13.6.
> >>
> >>> I have rgl-0.100.50 from CRAN
> >>
> >> You could update that, but I doubt if it would make any difference.
> >>
> >>> Apple is macOS Catalina, Version 10.15.4
> >>> Do you need hardware information?
> >>> MacBpok Air (13 -inch, Mid 2012)
> >>> Processor 2GHz Dual-Core Intel Core i7
> >>> Memory 8 GB 1600 MHz DDR3
> >>> Graphics Intel HD Graphics 4000 1536 MB
> >>
> >> I think the XQuartz issue is most likely to help, but if it doesn't, I'm
> >> not sure what I could suggest:  I don't have Catalina.
> >>
> >> Duncan Murdoch
> >>>
> >>>
> >>> from the Terminal App:
> >>> The Apple Crash Report is in the attached tmp.txt
> >>> I didn't send it to Apple.
> >>>
> >>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >>>
> >>> Copyright (C) 2020 The R Foundation for Statistical Computing
> >>>
> >>> Platform: x86_64-apple-darwin17.0 (64-bit)
> >>>
> >>>
> >>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> >>>
> >>> You are welcome to redistribute it under certain conditions.
> >>>
> >>> Type 'license()' or 'licence()' for distribution details.
> >>>
> >>>
> >>>     Natural language support but running in an English locale
> >>>
> >>>
> >>> R is a collaborative project with many contributors.
> >>>
> >>> Type 'contributors()' for more information and
> >>>
> >>> 'citation()' on how to cite R or R packages in publications.
> >>>
> >>>
> >>> Type 'demo()' for some demos, 'help()' for on-line help, or
> >>>
> >>> 'help.start()' for an HTML browser interface to help.
> >>>
> >>> Type 'q()' to quit R.
> >>>
> >>>
> >>>> library(rgl)
> >>>
> >>>> plot(1:10)
> >>>
> >>>> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> >>>
> >>> 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
> >>> uncaught exception 'NSInternalInconsistencyException', reason:
> >>> 'NSScreen reconfig must only happen on the main thread.'
> >>>
> >>> *** First throw call stack:
> >>>
> >>> (
> >>>
> >>> 0   CoreFoundation                      0x00007fff371698d7
> >>> __exceptionPreprocess + 250
> >>>
> >>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> >>> objc_exception_throw + 48
> >>>
> >>> 2   CoreFoundation                      0x00007fff37192bb0
> >>> +[NSException raise:format:arguments:] + 88
> >>>
> >>> 3   Foundation                          0x00007fff398de456
> >>> -[NSAssertionHandler
> >>> handleFailureInFunction:file:lineNumber:description:] + 166
> >>>
> >>> 4   AppKit                              0x00007fff34503083
> >>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> >>> 361
> >>>
> >>> 5   AppKit                              0x00007fff34e4bda8
> >>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> >>>
> >>> 6   AppKit                              0x00007fff34502c85
> >>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> >>>
> >>> 7   AppKit                              0x00007fff345024dc
> >>> _NSCGSDockMessageReceive + 268
> >>>
> >>> 8   HIToolbox                           0x00007fff35d34a3c
> >>> _ZL12DockCallbackjjPvS_ + 1987
> >>>
> >>> 9   HIServices                          0x00007fff3539c8ec
> >>> dockClientNotificationProc + 217
> >>>
> >>> 10  SkyLight                            0x00007fff6626f174
> >>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> >>> 1002
> >>>
> >>> 11  SkyLight                            0x00007fff6626de71
> >>> CGSSnarfAndDispatchDatagrams + 1671
> >>>
> >>> 12  SkyLight                            0x00007fff6649d5a5
> >>> SLSGetNextEventRecordInternal + 83
> >>>
> >>> 13  SkyLight                            0x00007fff6633bfbe
> >>> SLEventCreateNextEvent + 136
> >>>
> >>> 14  libXplugin.1.dylib                  0x000000010686df0c
> >>> ___xp_init_service_cg_event_port_block_invoke + 104
> >>>
> >>> 15  libdispatch.dylib                   0x00007fff7108d658
> >>> _dispatch_client_callout + 8
> >>>
> >>> 16  libdispatch.dylib                   0x00007fff7108f818
> >>> _dispatch_continuation_pop + 414
> >>>
> >>> 17  libdispatch.dylib                   0x00007fff7109f4be
> >>> _dispatch_source_invoke + 2084
> >>>
> >>> 18  libdispatch.dylib                   0x00007fff71092af6
> >>> _dispatch_lane_serial_drain + 263
> >>>
> >>> 19  libdispatch.dylib                   0x00007fff710935d6
> >>> _dispatch_lane_invoke + 363
> >>>
> >>> 20  libdispatch.dylib                   0x00007fff7109cc09
> >>> _dispatch_workloop_worker_thread + 596
> >>>
> >>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> >>> _pthread_wqthread + 290
> >>>
> >>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> >>>
> >>> )
> >>>
> >>> libc++abi.dylib: terminating with uncaught exception of type NSException
> >>>
> >>> zsh: abort      R
> >>>
> >>> rmh at rmhs-Air ~ %
> >>>
> >>>
> >>> On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
> >>> <murdoch.duncan at gmail.com> wrote:
> >>>>
> >>>> I'm not seeing that with R-patched r78557, run from the console.  I'm
> >>>> not sure I have the same MacOS version as you (R prints the same thing,
> >>>> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
> >>>> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
> >>>> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
> >>>> 2.7.11 (xorg-server 1.18.4)".
> >>>>
> >>>> Duncan Murdoch
> >>>>
> >>>>
> >>>>
> >>>> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> >>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> >>>>> Copyright (C) 2020 The R Foundation for Statistical Computing
> >>>>> Platform: x86_64-apple-darwin17.0 (64-bit)
> >>>>>
> >>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> >>>>> You are welcome to redistribute it under certain conditions.
> >>>>> Type 'license()' or 'licence()' for distribution details.
> >>>>>
> >>>>>      Natural language support but running in an English locale
> >>>>>
> >>>>> R is a collaborative project with many contributors.
> >>>>> Type 'contributors()' for more information and
> >>>>> 'citation()' on how to cite R or R packages in publications.
> >>>>>
> >>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
> >>>>> 'help.start()' for an HTML browser interface to help.
> >>>>> Type 'q()' to quit R.
> >>>>>
> >>>>>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> >>>>>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> >>>>>> version
> >>>>>                   _
> >>>>> platform       x86_64-apple-darwin17.0
> >>>>> arch           x86_64
> >>>>> os             darwin17.0
> >>>>> system         x86_64, darwin17.0
> >>>>> status
> >>>>> major          4
> >>>>> minor          0.0
> >>>>> year           2020
> >>>>> month          04
> >>>>> day            24
> >>>>> svn rev        78286
> >>>>> language       R
> >>>>> version.string R version 4.0.0 (2020-04-24)
> >>>>> nickname       Arbor Day
> >>>>>>
> >>>>>> library(rgl)
> >>>>>> plot(1:10)
> >>>>>>
> >>>>>
> >>>>> Process R abort trap: 6 at Fri May 29 11:32:59 2020
> >>>>> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> >>>>> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> >>>>> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> >>>>> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> >>>>> uncaught exception 'NSInternalInconsistencyException', reason:
> >>>>> 'NSScreen reconfig must only happen on the main thread.'
> >>>>> *** First throw call stack:
> >>>>> (
> >>>>> 0   CoreFoundation                      0x00007fff371698d7
> >>>>> __exceptionPreprocess + 250
> >>>>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> >>>>> objc_exception_throw + 48
> >>>>> 2   CoreFoundation                      0x00007fff37192bb0
> >>>>> +[NSException raise:format:arguments:] + 88
> >>>>> 3   Foundation                          0x00007fff398de456
> >>>>> -[NSAssertionHandler
> >>>>> handleFailureInFunction:file:lineNumber:description:] + 166
> >>>>> 4   AppKit                              0x00007fff34503083
> >>>>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> >>>>> 361
> >>>>> 5   AppKit                              0x00007fff34e4bda8
> >>>>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> >>>>> 6   AppKit                              0x00007fff34502c85
> >>>>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> >>>>> 7   AppKit                              0x00007fff345024dc
> >>>>> _NSCGSDockMessageReceive + 268
> >>>>> 8   HIToolbox                           0x00007fff35d34a3c
> >>>>> _ZL12DockCallbackjjPvS_ + 1987
> >>>>> 9   HIServices                          0x00007fff3539c8ec
> >>>>> dockClientNotificationProc + 217
> >>>>> 10  SkyLight                            0x00007fff6626f174
> >>>>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> >>>>> 1002
> >>>>> 11  SkyLight                            0x00007fff6626de71
> >>>>> CGSSnarfAndDispatchDatagrams + 1671
> >>>>> 12  SkyLight                            0x00007fff6649d5a5
> >>>>> SLSGetNextEventRecordInternal + 83
> >>>>> 13  SkyLight                            0x00007fff6633bfbe
> >>>>> SLEventCreateNextEvent + 136
> >>>>> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> >>>>> ___xp_init_service_cg_event_port_block_invoke + 104
> >>>>> 15  libdispatch.dylib                   0x00007fff7108d658
> >>>>> _dispatch_client_callout + 8
> >>>>> 16  libdispatch.dylib                   0x00007fff7108f818
> >>>>> _dispatch_continuation_pop + 414
> >>>>> 17  libdispatch.dylib                   0x00007fff7109f4be
> >>>>> _dispatch_source_invoke + 2084
> >>>>> 18  libdispatch.dylib                   0x00007fff71092af6
> >>>>> _dispatch_lane_serial_drain + 263
> >>>>> 19  libdispatch.dylib                   0x00007fff710935d6
> >>>>> _dispatch_lane_invoke + 363
> >>>>> 20  libdispatch.dylib                   0x00007fff7109cc09
> >>>>> _dispatch_workloop_worker_thread + 596
> >>>>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> >>>>> _pthread_wqthread + 290
> >>>>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> >>>>> )
> >>>>> libc++abi.dylib: terminating with uncaught exception of type NSException
> >>>>>
> >>>>> _______________________________________________
> >>>>> R-SIG-Mac mailing list
> >>>>> R-SIG-Mac at r-project.org
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>>
> >>>>
> >>
>


From rmh @end|ng |rom temp|e@edu  Sun May 31 22:44:24 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Sun, 31 May 2020 16:44:24 -0400
Subject: [R-SIG-Mac] [External] Re: crash due to rgl and base graphics
 conflict
In-Reply-To: <CAGx1TMCHm7zqEoX4B3u7-Ww+9sB8Mvuf+POQL=scTC=sk9CiSA@mail.gmail.com>
References: <CAGx1TMCi5HgiMyccsLV0Q+JXfFcsrpEaT7zYp0AC+zM5zCYkzA@mail.gmail.com>
 <6a2860c8-935f-b6a8-7eb8-e7281c18b94e@gmail.com>
 <CAGx1TMCDPbGpce8o_v3PSr658GAykfp4Wy8105GEL+9LQZ_LEg@mail.gmail.com>
 <91e5a5a9-0a42-dc94-7acb-03647a994a3e@gmail.com>
 <CAGx1TMBswW7BTXjzAhUjZYgR5NjsU=utwJWAxbOruNsr1ADVEQ@mail.gmail.com>
 <8d908d24-2b46-27ee-81c7-2a8cc8d6193b@gmail.com>
 <CAGx1TMCHm7zqEoX4B3u7-Ww+9sB8Mvuf+POQL=scTC=sk9CiSA@mail.gmail.com>
Message-ID: <CAGx1TMCtm_YK_VmKtwi0_MYAacGAjvs49ag1+KS6f6fFJ=Oatw@mail.gmail.com>

I upgraded last night to Catalina 10.15.5 (19F96).

The crash has gone away and that example now works normally.

On Fri, May 29, 2020 at 3:25 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>
> my 12:35 email and the attached tmp.txt are from the Terminal.app,
> No emacs/ESS involved.
>
> On Fri, May 29, 2020 at 3:13 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> >
> > On 29/05/2020 2:21 p.m., Richard M. Heiberger wrote:
> > > I attempted to update xquartz when I updated to Catalina, and the same
> > > number is still the current version number.
> > >
> > > Here is a related issue, attached tmp2.txt is the R transcript.
> > > The interesting thing here is that rgl.quit() prevents rgl from being
> > > reattached.
> >
> > Generally speaking rgl doesn't want to be reloaded in the same R
> > session:  detaching it doesn't clean up everything.  That's not
> > something that I'd put any priority on fixing, whereas I would look at
> > the problems you're having on startup if I could reproduce them.
> >
> > I wonder if ESS is involved somehow:  your sessionInfo listed ESSR on
> > the search list.  Do you have the same issues with plain R from the
> > console, or R.app?
> >
> > > Is there an rgl equivalent for dev.cur()?
> >
> > There's rgl.cur().  rgl only supports two kinds of devices:  on a Mac or
> > Linux they'd be displayed as glX or null.  Windows also supports the
> > null device (which doesn't display anything), and a different one to
> > display within R:  I forget how the name is displayed.
> >
> > It might be that you'll need to set options(rgl.useNULL) before starting
> > rgl, and only use the null device.  It won't display anything in R, but
> > allows you to call rglwidget() for a display in a browser.
> >
> > Duncan Murdoch
> >
> > > On Fri, May 29, 2020 at 1:51 PM Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> > >>
> > >> On 29/05/2020 12:35 p.m., Richard M. Heiberger wrote:
> > >>> I have the same Xquartz as you.
> > >>
> > >> I'd guess it should be updated.  Generally XQuartz needs updates with
> > >> every MacOS release, and your 10.15.4 is two releases further along than
> > >> my 10.13.6.
> > >>
> > >>> I have rgl-0.100.50 from CRAN
> > >>
> > >> You could update that, but I doubt if it would make any difference.
> > >>
> > >>> Apple is macOS Catalina, Version 10.15.4
> > >>> Do you need hardware information?
> > >>> MacBpok Air (13 -inch, Mid 2012)
> > >>> Processor 2GHz Dual-Core Intel Core i7
> > >>> Memory 8 GB 1600 MHz DDR3
> > >>> Graphics Intel HD Graphics 4000 1536 MB
> > >>
> > >> I think the XQuartz issue is most likely to help, but if it doesn't, I'm
> > >> not sure what I could suggest:  I don't have Catalina.
> > >>
> > >> Duncan Murdoch
> > >>>
> > >>>
> > >>> from the Terminal App:
> > >>> The Apple Crash Report is in the attached tmp.txt
> > >>> I didn't send it to Apple.
> > >>>
> > >>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > >>>
> > >>> Copyright (C) 2020 The R Foundation for Statistical Computing
> > >>>
> > >>> Platform: x86_64-apple-darwin17.0 (64-bit)
> > >>>
> > >>>
> > >>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> > >>>
> > >>> You are welcome to redistribute it under certain conditions.
> > >>>
> > >>> Type 'license()' or 'licence()' for distribution details.
> > >>>
> > >>>
> > >>>     Natural language support but running in an English locale
> > >>>
> > >>>
> > >>> R is a collaborative project with many contributors.
> > >>>
> > >>> Type 'contributors()' for more information and
> > >>>
> > >>> 'citation()' on how to cite R or R packages in publications.
> > >>>
> > >>>
> > >>> Type 'demo()' for some demos, 'help()' for on-line help, or
> > >>>
> > >>> 'help.start()' for an HTML browser interface to help.
> > >>>
> > >>> Type 'q()' to quit R.
> > >>>
> > >>>
> > >>>> library(rgl)
> > >>>
> > >>>> plot(1:10)
> > >>>
> > >>>> 2020-05-29 12:30:00.536 R[24961:3275889] *** Assertion failure in BOOL NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(), /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> > >>>
> > >>> 2020-05-29 12:30:00.543 R[24961:3275889] *** Terminating app due to
> > >>> uncaught exception 'NSInternalInconsistencyException', reason:
> > >>> 'NSScreen reconfig must only happen on the main thread.'
> > >>>
> > >>> *** First throw call stack:
> > >>>
> > >>> (
> > >>>
> > >>> 0   CoreFoundation                      0x00007fff371698d7
> > >>> __exceptionPreprocess + 250
> > >>>
> > >>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > >>> objc_exception_throw + 48
> > >>>
> > >>> 2   CoreFoundation                      0x00007fff37192bb0
> > >>> +[NSException raise:format:arguments:] + 88
> > >>>
> > >>> 3   Foundation                          0x00007fff398de456
> > >>> -[NSAssertionHandler
> > >>> handleFailureInFunction:file:lineNumber:description:] + 166
> > >>>
> > >>> 4   AppKit                              0x00007fff34503083
> > >>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > >>> 361
> > >>>
> > >>> 5   AppKit                              0x00007fff34e4bda8
> > >>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> > >>>
> > >>> 6   AppKit                              0x00007fff34502c85
> > >>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> > >>>
> > >>> 7   AppKit                              0x00007fff345024dc
> > >>> _NSCGSDockMessageReceive + 268
> > >>>
> > >>> 8   HIToolbox                           0x00007fff35d34a3c
> > >>> _ZL12DockCallbackjjPvS_ + 1987
> > >>>
> > >>> 9   HIServices                          0x00007fff3539c8ec
> > >>> dockClientNotificationProc + 217
> > >>>
> > >>> 10  SkyLight                            0x00007fff6626f174
> > >>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > >>> 1002
> > >>>
> > >>> 11  SkyLight                            0x00007fff6626de71
> > >>> CGSSnarfAndDispatchDatagrams + 1671
> > >>>
> > >>> 12  SkyLight                            0x00007fff6649d5a5
> > >>> SLSGetNextEventRecordInternal + 83
> > >>>
> > >>> 13  SkyLight                            0x00007fff6633bfbe
> > >>> SLEventCreateNextEvent + 136
> > >>>
> > >>> 14  libXplugin.1.dylib                  0x000000010686df0c
> > >>> ___xp_init_service_cg_event_port_block_invoke + 104
> > >>>
> > >>> 15  libdispatch.dylib                   0x00007fff7108d658
> > >>> _dispatch_client_callout + 8
> > >>>
> > >>> 16  libdispatch.dylib                   0x00007fff7108f818
> > >>> _dispatch_continuation_pop + 414
> > >>>
> > >>> 17  libdispatch.dylib                   0x00007fff7109f4be
> > >>> _dispatch_source_invoke + 2084
> > >>>
> > >>> 18  libdispatch.dylib                   0x00007fff71092af6
> > >>> _dispatch_lane_serial_drain + 263
> > >>>
> > >>> 19  libdispatch.dylib                   0x00007fff710935d6
> > >>> _dispatch_lane_invoke + 363
> > >>>
> > >>> 20  libdispatch.dylib                   0x00007fff7109cc09
> > >>> _dispatch_workloop_worker_thread + 596
> > >>>
> > >>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > >>> _pthread_wqthread + 290
> > >>>
> > >>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> > >>>
> > >>> )
> > >>>
> > >>> libc++abi.dylib: terminating with uncaught exception of type NSException
> > >>>
> > >>> zsh: abort      R
> > >>>
> > >>> rmh at rmhs-Air ~ %
> > >>>
> > >>>
> > >>> On Fri, May 29, 2020 at 12:16 PM Duncan Murdoch
> > >>> <murdoch.duncan at gmail.com> wrote:
> > >>>>
> > >>>> I'm not seeing that with R-patched r78557, run from the console.  I'm
> > >>>> not sure I have the same MacOS version as you (R prints the same thing,
> > >>>> Apple says High Sierra 10.13.6).  I tried with the CRAN binary of rgl
> > >>>> 0.100.54.  I'd guess the version of XQuartz may be important:  I'm not
> > >>>> seeing rgl in the call stack, but libXplugin is there.  Mine is "XQuartz
> > >>>> 2.7.11 (xorg-server 1.18.4)".
> > >>>>
> > >>>> Duncan Murdoch
> > >>>>
> > >>>>
> > >>>>
> > >>>> On 29/05/2020 11:44 a.m., Richard M. Heiberger wrote:
> > >>>>> R version 4.0.0 (2020-04-24) -- "Arbor Day"
> > >>>>> Copyright (C) 2020 The R Foundation for Statistical Computing
> > >>>>> Platform: x86_64-apple-darwin17.0 (64-bit)
> > >>>>>
> > >>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
> > >>>>> You are welcome to redistribute it under certain conditions.
> > >>>>> Type 'license()' or 'licence()' for distribution details.
> > >>>>>
> > >>>>>      Natural language support but running in an English locale
> > >>>>>
> > >>>>> R is a collaborative project with many contributors.
> > >>>>> Type 'contributors()' for more information and
> > >>>>> 'citation()' on how to cite R or R packages in publications.
> > >>>>>
> > >>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
> > >>>>> 'help.start()' for an HTML browser interface to help.
> > >>>>> Type 'q()' to quit R.
> > >>>>>
> > >>>>>> if(identical(getOption('pager'), file.path(R.home('bin'), 'pager'))) options(pager='cat') # rather take the ESS one
> > >>>>>> options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> > >>>>>> version
> > >>>>>                   _
> > >>>>> platform       x86_64-apple-darwin17.0
> > >>>>> arch           x86_64
> > >>>>> os             darwin17.0
> > >>>>> system         x86_64, darwin17.0
> > >>>>> status
> > >>>>> major          4
> > >>>>> minor          0.0
> > >>>>> year           2020
> > >>>>> month          04
> > >>>>> day            24
> > >>>>> svn rev        78286
> > >>>>> language       R
> > >>>>> version.string R version 4.0.0 (2020-04-24)
> > >>>>> nickname       Arbor Day
> > >>>>>>
> > >>>>>> library(rgl)
> > >>>>>> plot(1:10)
> > >>>>>>
> > >>>>>
> > >>>>> Process R abort trap: 6 at Fri May 29 11:32:59 2020
> > >>>>> 2020-05-29 11:32:59.542 R[24448:3255600] *** Assertion failure in BOOL
> > >>>>> NSScreenConfigurationInvalidateIfNeededForReason(_NSScreenConfigurationUpdateReason)(),
> > >>>>> /AppleInternal/BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1894.40.150/AppKit.subproj/NSScreenConfiguration.m:473
> > >>>>> 2020-05-29 11:32:59.560 R[24448:3255600] *** Terminating app due to
> > >>>>> uncaught exception 'NSInternalInconsistencyException', reason:
> > >>>>> 'NSScreen reconfig must only happen on the main thread.'
> > >>>>> *** First throw call stack:
> > >>>>> (
> > >>>>> 0   CoreFoundation                      0x00007fff371698d7
> > >>>>> __exceptionPreprocess + 250
> > >>>>> 1   libobjc.A.dylib                     0x00007fff6ff47a9e
> > >>>>> objc_exception_throw + 48
> > >>>>> 2   CoreFoundation                      0x00007fff37192bb0
> > >>>>> +[NSException raise:format:arguments:] + 88
> > >>>>> 3   Foundation                          0x00007fff398de456
> > >>>>> -[NSAssertionHandler
> > >>>>> handleFailureInFunction:file:lineNumber:description:] + 166
> > >>>>> 4   AppKit                              0x00007fff34503083
> > >>>>> +[_NSScreenConfiguration invalidateConfigurationIfNeededForReason:] +
> > >>>>> 361
> > >>>>> 5   AppKit                              0x00007fff34e4bda8
> > >>>>> _NSApplicationInvalidateScreenConfigurationMaybeIfNeeded + 243
> > >>>>> 6   AppKit                              0x00007fff34502c85
> > >>>>> -[NSApplication(ScreenHandling) _reactToDockChanged] + 144
> > >>>>> 7   AppKit                              0x00007fff345024dc
> > >>>>> _NSCGSDockMessageReceive + 268
> > >>>>> 8   HIToolbox                           0x00007fff35d34a3c
> > >>>>> _ZL12DockCallbackjjPvS_ + 1987
> > >>>>> 9   HIServices                          0x00007fff3539c8ec
> > >>>>> dockClientNotificationProc + 217
> > >>>>> 10  SkyLight                            0x00007fff6626f174
> > >>>>> _ZN12_GLOBAL__N_123notify_datagram_handlerEj15CGSDatagramTypePvmS1_ +
> > >>>>> 1002
> > >>>>> 11  SkyLight                            0x00007fff6626de71
> > >>>>> CGSSnarfAndDispatchDatagrams + 1671
> > >>>>> 12  SkyLight                            0x00007fff6649d5a5
> > >>>>> SLSGetNextEventRecordInternal + 83
> > >>>>> 13  SkyLight                            0x00007fff6633bfbe
> > >>>>> SLEventCreateNextEvent + 136
> > >>>>> 14  libXplugin.1.dylib                  0x000000010ffa5f0c
> > >>>>> ___xp_init_service_cg_event_port_block_invoke + 104
> > >>>>> 15  libdispatch.dylib                   0x00007fff7108d658
> > >>>>> _dispatch_client_callout + 8
> > >>>>> 16  libdispatch.dylib                   0x00007fff7108f818
> > >>>>> _dispatch_continuation_pop + 414
> > >>>>> 17  libdispatch.dylib                   0x00007fff7109f4be
> > >>>>> _dispatch_source_invoke + 2084
> > >>>>> 18  libdispatch.dylib                   0x00007fff71092af6
> > >>>>> _dispatch_lane_serial_drain + 263
> > >>>>> 19  libdispatch.dylib                   0x00007fff710935d6
> > >>>>> _dispatch_lane_invoke + 363
> > >>>>> 20  libdispatch.dylib                   0x00007fff7109cc09
> > >>>>> _dispatch_workloop_worker_thread + 596
> > >>>>> 21  libsystem_pthread.dylib             0x00007fff712eba3d
> > >>>>> _pthread_wqthread + 290
> > >>>>> 22  libsystem_pthread.dylib             0x00007fff712eab77 start_wqthread + 15
> > >>>>> )
> > >>>>> libc++abi.dylib: terminating with uncaught exception of type NSException
> > >>>>>
> > >>>>> _______________________________________________
> > >>>>> R-SIG-Mac mailing list
> > >>>>> R-SIG-Mac at r-project.org
> > >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > >>>>>
> > >>>>
> > >>
> >


From jv@nterpoo|1234 @end|ng |rom gm@||@com  Thu May 21 16:49:05 2020
From: jv@nterpoo|1234 @end|ng |rom gm@||@com (Joseph Vanterpool)
Date: Thu, 21 May 2020 09:49:05 -0500
Subject: [R-SIG-Mac] Catalina Crashes R
Message-ID: <75B72003-1D4C-444F-A6E7-DCEACE4D8FFE@gmail.com>

Hello,

Yesterday, I started using the John Hopkins course that includes R training. I currently have a Mac with Catalina (Version 10.15.4).

For simple examples, they have you install and load KernSmooth to view the copyright date. The first time I tried this, the installation was fine, but loading didn?t work. I tried a second time and it worked. 

I noticed on the forum that other people had similar problems, though were further along in their use of R. Have these problems been resolved?

Thanks,

Joseph

