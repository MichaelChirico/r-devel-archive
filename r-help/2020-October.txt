From drj|m|emon @end|ng |rom gm@||@com  Thu Oct  1 00:32:15 2020
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Thu, 1 Oct 2020 08:32:15 +1000
Subject: [R] 2 KM curves on the same plot
In-Reply-To: <1576196209.374733.1601484445685@mail.yahoo.com>
References: <2002394729.15283.1601339603771.ref@mail.yahoo.com>
 <2002394729.15283.1601339603771@mail.yahoo.com>
 <CA+8X3fW8ZzeUD1-JcBPXTxHpoHgttWwLO5_g2CbjExOUrTigtg@mail.gmail.com>
 <1722291974.141481.1601432806327@mail.yahoo.com>
 <CA+8X3fV+Q9ag=AJjs-Hcn_L+fEPr6a+=P3f=LjKboDXBHAEFjw@mail.gmail.com>
 <2061719555.161645.1601438263925@mail.yahoo.com>
 <CA+8X3fW0qJruksWxJnwJvY13L0FcVcM2U9w0OS-Lvy1Ck4FKvw@mail.gmail.com>
 <1576196209.374733.1601484445685@mail.yahoo.com>
Message-ID: <CA+8X3fUB1DsOLAch3_DLh4CG63eX48pkr5hLsRc544Z-O69ErA@mail.gmail.com>

Hi John,
Brilliant solution and the best sort - when you finally solve your
problem by yourself.

Jim

On Thu, Oct 1, 2020 at 2:52 AM array chip <arrayprofile at yahoo.com> wrote:
>
> Hi Jim,
>
> I found out why clip() does not work with lines(survfit.object)!
>
> If you look at code of function survival:::lines.survfit, in th middle of the code:
>
>     do.clip <- getOption("plot.survfit")
>     if (!is.null(xx <- do.clip$plotclip))
>         clip(xx[1], xx[2], xx[3], xx[4])
>
> This will reset the clipping to the defualt plot region!
>
> So I just comment out the last 2 lines of the above 3 lines, and created a customized lines2 function. Now it works!
>
> It's fun to learn clip().
>
> Thanks,
>
> John
>
>
> On Wednesday, September 30, 2020, 01:47:55 AM PDT, Jim Lemon <drjimlemon at gmail.com> wrote:
>
>
> Hi John,
> Hmmm, this works:
>
> plot(1:10)
> xylim<-par("usr")
> clip(5,xylim[2],xylim[3],xylim[4])
> lines(10:1)
>
> so I suspect that there is a "lines" method that resets the clipping
> region out of sight. Fortunately Mark Schwartz provided a way to get
> your plot so I will give the wall against which I have been banging my
> head a break.
>
> Jim
>
> On Wed, Sep 30, 2020 at 1:57 PM array chip <arrayprofile at yahoo.com> wrote:
> >
> > Jim,
> >
> > I tried a few things, I found that clip() works if I just do some regular graphing tasks. But as long as I run lines(fit) with "fit" object is a survfit object, this would reset to default plot region. See the ovarian example below:
> >
> > library(survival)
> > ovarian1<-ovarian
> > ovarian1$fustat[ovarian$futime>450]<-0
> > ovarian1$futime[ovarian$futime>450]<-450
> > ovarian2<-subset(ovarian,futime>450)
> >
> > fit1 <- survfit(Surv(futime, fustat) ~ rx, data = ovarian1)
> > fit2 <- survfit(Surv(futime, fustat) ~ rx, data = ovarian2)
> >
> > plot(fit1, xlim=c(0,1200), col = 1:2)
> > abline(v=450)
> > xylim<-par("usr")
> > points(-1,-1)
> > clip(450,xylim[2],xylim[3],xylim[4])
> > abline(h=0.5,col=2)      ### YES, clipping() works!
> >
> > lines(fit2, col = 3:4,lty=2)  ### clipping does not work! reset to default plot region
> > abline(h=0.4,col=2)      ### NO, clipping() does not work!
> >
> > So disappointed with this, otherwise this would be such a simple method to do what I want.
> >
> > Thanks,
> >
> > John
> >
> > On Tuesday, September 29, 2020, 07:58:53 PM PDT, Jim Lemon <drjimlemon at gmail.com> wrote:
> >
> > Hi John,
> > I should have remembered this. For some reason, the clip() function
> > doesn't operate until you have issued a graphics command. Try:
> >
> > points(-1,-1)
> >
> > before calling lines()
> >
> > Jim
> >
> > On Wed, Sep 30, 2020 at 12:26 PM array chip <arrayprofile at yahoo.com> wrote:
> > >
> > > Hi Jim,
> > >
> > > I tried the clip() function below, surprisingly it did not work! I read the R help file and feel your script should work. To have a workable example, I used the ovarian dataset in the survival package as an example:
> > >
> > > ovarian1<-ovarian
> > > ovarian1$fustat[ovarian$futime>450]<-0
> > > ovarian1$futime[ovarian$futime>450]<-450
> > >
> > > ovarian2<-subset(ovarian,futime>450)
> > >
> > > fit1 <- survfit(Surv(futime, fustat) ~ rx, data = ovarian1)
> > > fit2 <- survfit(Surv(futime, fustat) ~ rx, data = ovarian2)
> > >
> > > plot(fit1, xlim=c(0,1200), col = 1:2)
> > > abline(v=450)
> > > xylim<-par("usr")
> > > clip(450,xylim[2],xylim[3],xylim[4])
> > > lines(fit2, col = 3:4,lty=2)
> > >
> > > I can still see that the extra horizontal line on the top.
> > >
> > > Can you or anyone have any suggestion what went wrong?
> > >
> > > Thanks,
> > >
> > > John
> > >
> > >
> > > On Tuesday, September 29, 2020, 01:35:48 AM PDT, Jim Lemon <drjimlemon at gmail.com> wrote:
> > >
> > >
> > >
> > >
> > >
> > > Hi John,
> > > Perhaps the most direct way would be:
> > >
> > > plot(fit1, col=1:2)
> > > xylim<-par("usr")
> > > clip(4,xylim[2],xylim[3],xylim[4])
> > > lines(fit2,col=1:2)
> > >
> > > Remember that the new clipping rectangle will persist until you or
> > > something else resets it.
> > >
> > > Jim
> > >
> > > On Tue, Sep 29, 2020 at 10:34 AM array chip via R-help
> > > <r-help at r-project.org> wrote:
> > > >
> > > > Hello,
> > > >
> > > > Can anyone suggest a simple way to generate a Kaplan-Meier plot with 2 survfit objects, just like this one:
> > > >
> > > > https://drive.google.com/file/d/1fEcpdIdE2xYtA6LBQN9ck3JkL6-goabX/view?usp=sharing
> > > >
> > > > Suppose I have 2 survfit objects: fit1 is for the curve on the left (survtime has been truncated to the cutoff line: year 5), fit2 is for the curve on the right (minimum survival time is at the cutoff line: year 5), but if I do the following:
> > > >
> > > > plot(fit1, col=1:2)
> > > > lines(fit2,col=1:2)
> > > >
> > > > Then I will have an horizontal line on the top that connect from 0 to 4 years, which I do not want that to be drawn (see blue arrow below):
> > > >
> > > > https://drive.google.com/file/d/178mQGlhnaOg9PA-oE-W_W5CtrGD03ljH/view?usp=sharing
> > > >
> > > > Can anyone have a strategy to make this kind of plot happen?
> > > >
> > > > Thanks,
> > > >
> > > > John
> > >
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible code.
> > >


From ch@kr@r@hu| @end|ng |rom gm@||@com  Thu Oct  1 08:24:47 2020
From: ch@kr@r@hu| @end|ng |rom gm@||@com (Rahul Chakraborty)
Date: Thu, 1 Oct 2020 11:54:47 +0530
Subject: [R] Help with the Error Message in R "Error in 1:nchid : result
 would be too long a vector"
In-Reply-To: <c220d8b2-96f9-e112-8f8c-fcb63a5ec274@sapo.pt>
References: <CAEmZPSmcJ10tMEv+4-9QQX-yXLbbau2sp55cOT6a76s4B6wcPw@mail.gmail.com>
 <e1b0bc48-4f5d-7cc2-4de9-b0321e8e35b7@comcast.net>
 <CAEmZPSnPRjFQBfk5GQGYxaqKaqtHqf=12GeAPtJ3aFOM3QxbUA@mail.gmail.com>
 <CAEmZPSntN9SXwY8z0vRVDXKciazcFviYZQvyrUrXEBJCs3cnUg@mail.gmail.com>
 <d7118822-f3a2-c6c2-df72-917089691de0@comcast.net>
 <CAEmZPSmKKLxS3=dwW2aGHK1JQqO1+WpbtiX6kGcf8Wp=J605NQ@mail.gmail.com>
 <ec59d668-2935-f829-ae63-c0418fcab34f@comcast.net>
 <dd66e9fc-0daf-73ab-96ce-37d70c4162bc@sapo.pt>
 <CAEmZPSnU===bm=ZdVVDmJx-a-Qd955yxjnDBHZkRFUyoUASyvQ@mail.gmail.com>
 <c220d8b2-96f9-e112-8f8c-fcb63a5ec274@sapo.pt>
Message-ID: <CAEmZPSkZqi_09En2fBBVTJZZsrRpNap9N7aZZp-mBmLe=gxWDw@mail.gmail.com>

Hello Rui,

Thanks a lot for your response. But, I will surely say that the data I
attached is in long format as it has 18 rows (3 alternatives*3
questions* 2 individuals). Had it been a wide format data it would
have had 6 rows (3 questions* 2 individuals). But, anyway thanks.

Best,
Rahul


On Wed, Sep 23, 2020 at 3:23 AM Rui Barradas <ruipbarradas at sapo.pt> wrote:
>
> Hello,
>
> Please keep this on the list so that others can give their contribution.
>
> If you have reshaped your data can you post the code you ran to reshape
> it? Right now we only have the original attachment, in wide format, not
> the long format data.
>
> Rui Barradas
>
> ?s 21:55 de 22/09/20, Rahul Chakraborty escreveu:
> > Hi,
> >
> > Thank you so much for your reply.
> > Yes, thank you for pointing that out, I apologise for that error in
> > the variable name. However, my data is in long format.
> >
> > See, my first column is IND which identifies my individuals,
> > second column is QES which identifies the question number each
> > individual faces, 3rd column is a stratification code that can be
> > ignored. Columns 6-13 are alternative specific variables and rest are
> > individual specific. So 1st 3 rows indicate 1st question faced by 1st
> > individual containing 3 alternatives, and so on. So, I have already
> > arranged the data in long format.
> >
> > With that in mind if I use shape="long" it still gives me error.
> >
> > Best  regards,
> >
> > On Tue, Sep 22, 2020 at 11:00 PM Rui Barradas <ruipbarradas at sapo.pt> wrote:
> >>
> >> Hello,
> >>
> >> I apologize if the rest of quotes prior to David's email are missing,
> >> for some reason today my mail client is not including them.
> >>
> >> As for the question, there are two other problems:
> >>
> >> 1) Alt_name is misspelled, it should be ALT_name;
> >>
> >> 2) the data is in wide, not long, format.
> >>
> >> A 3rd, problem is that in ?dfidx it says
> >>
> >> alt.var
> >> the name of the variable that contains the alternative index (for a long
> >> data.frame only) or the name under which the alternative index will be
> >> stored (the default name is alt)
> >>
> >>
> >> So if shape = "wide", alt.var is not needed.
> >> But I am not a user of package mlogit, I'm just guessing.
> >>
> >> The following seems to fix it (it doesn't throw errors).
> >>
> >>
> >> mldata1 <- dfidx(mydata, shape = "wide",
> >>                    #alt.var = "ALT_name",
> >>                    choice = "Choice_binary",
> >>                    id.var = "IND")
> >>
> >>
> >> Hope this helps,
> >>
> >> Rui Barradas
> >>
> >>
> >> ?s 16:15 de 22/09/20, David Winsemius escreveu:
> >>> You were told two things about your code:
> >>>
> >>>
> >>> 1) mlogit.data is deprecated by the package authors, so use dfidx.
> >>>
> >>> 2) dfidx does not allow duplicate ids in the first two columns.
> >>>
> >>>
> >>> Which one of those are you asserting is not accurate?
> >>>
> >>>
> >
> >
> >



-- 
Rahul Chakraborty
Research Fellow
National Institute of Public Finance and Policy
New Delhi- 110067


From m||||eeng @end|ng |rom gm@||@com  Thu Oct  1 09:30:28 2020
From: m||||eeng @end|ng |rom gm@||@com (Marte Lilleeng)
Date: Thu, 1 Oct 2020 09:30:28 +0200
Subject: [R] (no subject)
Message-ID: <CAM-hW5dc1FfAb-KPyBdgOJEHfnyqOkAb-AJEZJOzWA4b_xVN=Q@mail.gmail.com>

I want to unsubscribe from this list.

-- 
Mvh Marte Synn?ve Lilleeng
tlf 97 74 38 12

	[[alternative HTML version deleted]]


From pd@|gd @end|ng |rom gm@||@com  Thu Oct  1 09:58:02 2020
From: pd@|gd @end|ng |rom gm@||@com (Peter Dalgaard)
Date: Thu, 1 Oct 2020 09:58:02 +0200
Subject: [R] (no subject)
In-Reply-To: <CAM-hW5dc1FfAb-KPyBdgOJEHfnyqOkAb-AJEZJOzWA4b_xVN=Q@mail.gmail.com>
References: <CAM-hW5dc1FfAb-KPyBdgOJEHfnyqOkAb-AJEZJOzWA4b_xVN=Q@mail.gmail.com>
Message-ID: <7D3E5880-E2E2-4C8D-86E7-91CD332EEB73@gmail.com>

Then please follow the link in the footer. Other recipients can't help you.


> On 1 Oct 2020, at 09:30 , Marte Lilleeng <mlilleeng at gmail.com> wrote:
> 
> I want to unsubscribe from this list.
> 
> -- 
> Mvh Marte Synn?ve Lilleeng
> tlf 97 74 38 12
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Thu Oct  1 19:29:03 2020
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Thu, 1 Oct 2020 12:29:03 -0500
Subject: [R] summarize_all Function
References: <000001d69818$5bd1ee10$1375ca30$.ref@sbcglobal.net>
Message-ID: <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>

r-help Forum

 

I'm using the dplyr:: summarize_all(funs(sum)) function and am receiving a
warning message that the `funs()` is deprecated as of dplyr 0.8.0. Ok what
should I be using to summarize  all columns by sum?

 

Jeff


	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct  1 20:49:24 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 1 Oct 2020 19:49:24 +0100
Subject: [R] summarize_all Function
In-Reply-To: <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>
References: <000001d69818$5bd1ee10$1375ca30$.ref@sbcglobal.net>
 <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>
Message-ID: <a169ffac-3c3a-0d4b-329d-5eff95271169@sapo.pt>

Hello,

Any of the two will do, the first is now preferred.


library(dplyr)

mtcars %>%
   summarise(across(everything(), sum))

mtcars %>%
   summarise_all(sum)   # no need for `funs()`


Hope this helps,

Rui Barradas

?s 18:29 de 01/10/20, Jeff Reichman escreveu:
> r-help Forum
> 
>   
> 
> I'm using the dplyr:: summarize_all(funs(sum)) function and am receiving a
> warning message that the `funs()` is deprecated as of dplyr 0.8.0. Ok what
> should I be using to summarize  all columns by sum?
> 
>   
> 
> Jeff
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From w||||@mwdun|@p @end|ng |rom gm@||@com  Thu Oct  1 20:56:18 2020
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Thu, 1 Oct 2020 11:56:18 -0700
Subject: [R] summarize_all Function
In-Reply-To: <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>
References: <000001d69818$5bd1ee10$1375ca30$.ref@sbcglobal.net>
 <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>
Message-ID: <CAHqSRuSHSHcdZnq2QP-2_fkSJkrJYAJSk=-HyHVZu0nC-5Kn8A@mail.gmail.com>

The warning gives some suggestions.  E.g., replace funs(sum,prod) with
list(sum=sum,prod=prod).

% R CMD Rscript -e 'library(dplyr,warn.conflicts=FALSE);
data.frame(X=1:3,Y=c(11,13,17)) %>% summarize_all(funs(sum,prod))'
  X_sum Y_sum X_prod Y_prod
1     6    41      6   2431
Warning message:
`funs()` is deprecated as of dplyr 0.8.0.
Please use a list of either functions or lambdas:

  # Simple named list:
  list(mean = mean, median = median)

  # Auto named with `tibble::lst()`:
  tibble::lst(mean, median)

  # Using lambdas
  list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))
This warning is displayed once every 8 hours.
Call `lifecycle::last_warnings()` to see where this warning was generated.

% R CMD Rscript -e 'library(dplyr,warn.conflicts=FALSE);
data.frame(X=1:3,Y=c(11,13,17)) %>% summarize_all(list(sum=sum,prod=prod))'
  X_sum Y_sum X_prod Y_prod
1     6    41      6   2431

On Thu, Oct 1, 2020 at 10:29 AM Jeff Reichman <reichmanj at sbcglobal.net>
wrote:

> r-help Forum
>
>
>
> I'm using the dplyr:: summarize_all(funs(sum)) function and am receiving a
> warning message that the `funs()` is deprecated as of dplyr 0.8.0. Ok what
> should I be using to summarize  all columns by sum?
>
>
>
> Jeff
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From |@heemj@n93 @end|ng |rom y@hoo@com  Fri Oct  2 13:57:38 2020
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Fri, 2 Oct 2020 11:57:38 +0000 (UTC)
Subject: [R] help in R code
References: <1372789609.1054642.1601639858981.ref@mail.yahoo.com>
Message-ID: <1372789609.1054642.1601639858981@mail.yahoo.com>


Hello , i am working in the functional time series using the multivariate time series data(hourly time series data). Sir? i am using FAR model more than one order for which no statistical package is available in R, so for this i convert my data into functional form and obtained the functional principle component and from those FPCA i extract their corresponding? FPCscores. Know i use the VAR model on those FPCscores for the forecasting of each 24 hours through the VAR model, but the VAR give me the forecasted value for all 23hours? when i put phat=23, but whenever i put phat=24 i.e want to predict each 24 hours its give the results in the form of NA. the code is given below
fdata<- function(mat){? nb = 27 # number of basis functions for the data? fbf = create.fourier.basis(rangeval=c(0,1), nbasis=nb) # basis for data? args=seq(0,1,length=24)? fdata1=Data2fd(args,y=t(mat),fbf) # functions generated from discretized y? return(fdata1)}prediction.ffpe = function(fdata1){? n = ncol(fdata1$coef)? D = nrow(fdata1$coef)? #center the data? #mu = mean.fd(fdata1)? data = center.fd(fdata1)? #ffpe = fFPE(fdata1, Pmax=10)? #p.hat = ffpe[2] #order of the model? d.hat=23? p.hat=6? #fPCA? fpca = pca.fd(data,nharm=D, centerfns=TRUE)? scores = fpca$scores[,0:d.hat]? # to avoid warnings from vars predict function below? colnames(scores) <- as.character(seq(1:d.hat))? VAR.pre= predict(VAR(scores, p.hat), n.ahead=1, type="const")$fcst??}
kindly guide me that how can i solve out my problem or what error i doing. THANKS

	[[alternative HTML version deleted]]


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Fri Oct  2 16:35:47 2020
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Fri, 2 Oct 2020 09:35:47 -0500
Subject: [R] summarize_all Function
In-Reply-To: <a169ffac-3c3a-0d4b-329d-5eff95271169@sapo.pt>
References: <000001d69818$5bd1ee10$1375ca30$.ref@sbcglobal.net>
 <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>
 <a169ffac-3c3a-0d4b-329d-5eff95271169@sapo.pt>
Message-ID: <000b01d698c9$51a2cac0$f4e86040$@sbcglobal.net>

Thanks Rui

-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt> 
Sent: Thursday, October 1, 2020 1:49 PM
To: reichmanj at sbcglobal.net; r-help at r-project.org
Subject: Re: [R] summarize_all Function

Hello,

Any of the two will do, the first is now preferred.


library(dplyr)

mtcars %>%
   summarise(across(everything(), sum))

mtcars %>%
   summarise_all(sum)   # no need for `funs()`


Hope this helps,

Rui Barradas

?s 18:29 de 01/10/20, Jeff Reichman escreveu:
> r-help Forum
> 
>   
> 
> I'm using the dplyr:: summarize_all(funs(sum)) function and am 
> receiving a warning message that the `funs()` is deprecated as of 
> dplyr 0.8.0. Ok what should I be using to summarize  all columns by sum?
> 
>   
> 
> Jeff
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Fri Oct  2 16:36:18 2020
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Fri, 2 Oct 2020 09:36:18 -0500
Subject: [R] summarize_all Function
In-Reply-To: <CAHqSRuSHSHcdZnq2QP-2_fkSJkrJYAJSk=-HyHVZu0nC-5Kn8A@mail.gmail.com>
References: <000001d69818$5bd1ee10$1375ca30$.ref@sbcglobal.net>
 <000001d69818$5bd1ee10$1375ca30$@sbcglobal.net>
 <CAHqSRuSHSHcdZnq2QP-2_fkSJkrJYAJSk=-HyHVZu0nC-5Kn8A@mail.gmail.com>
Message-ID: <000c01d698c9$644091d0$2cc1b570$@sbcglobal.net>

Thanks Bill ? got it

 

From: Bill Dunlap <williamwdunlap at gmail.com> 
Sent: Thursday, October 1, 2020 1:56 PM
To: reichmanj at sbcglobal.net
Cc: r-help at r-project.org
Subject: Re: [R] summarize_all Function

 

The warning gives some suggestions.  E.g., replace funs(sum,prod) with list(sum=sum,prod=prod).

 

% R CMD Rscript -e 'library(dplyr,warn.conflicts=FALSE); data.frame(X=1:3,Y=c(11,13,17)) %>% summarize_all(funs(sum,prod))'
  X_sum Y_sum X_prod Y_prod
1     6    41      6   2431
Warning message:
`funs()` is deprecated as of dplyr 0.8.0.
Please use a list of either functions or lambdas:

  # Simple named list:
  list(mean = mean, median = median)

  # Auto named with `tibble::lst()`:
  tibble::lst(mean, median)

  # Using lambdas
  list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))
This warning is displayed once every 8 hours.
Call `lifecycle::last_warnings()` to see where this warning was generated.

% R CMD Rscript -e 'library(dplyr,warn.conflicts=FALSE); data.frame(X=1:3,Y=c(11,13,17)) %>% summarize_all(list(sum=sum,prod=prod))'
  X_sum Y_sum X_prod Y_prod
1     6    41      6   2431

 

On Thu, Oct 1, 2020 at 10:29 AM Jeff Reichman <reichmanj at sbcglobal.net <mailto:reichmanj at sbcglobal.net> > wrote:

r-help Forum



I'm using the dplyr:: summarize_all(funs(sum)) function and am receiving a
warning message that the `funs()` is deprecated as of dplyr 0.8.0. Ok what
should I be using to summarize  all columns by sum?



Jeff


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


	[[alternative HTML version deleted]]


From cd@@ek m@iii@g oii posteo@de  Fri Oct  2 14:27:32 2020
From: cd@@ek m@iii@g oii posteo@de (cd@@ek m@iii@g oii posteo@de)
Date: Fri, 02 Oct 2020 14:27:32 +0200
Subject: [R] =?utf-8?q?What_is_the_threshold_for_=60useRaster=60_of_graph?=
 =?utf-8?b?aWNzOjppbWFnZSgpPw==?=
Message-ID: <1e5aeb11de454645ecfcc38f8d62f756@posteo.de>

 Hi R-help list

What is the threshold for the `useRaster` argument of graphics::image()
to decide whether a grid is "regular" or not (i.e. the usage of
useRaster=T is allowed or not). My
`dev.capabilities("rasterImage")$rasterImage` is "yes".

I could not find this information in the internet. I also could not find
the source code of the graphics::image() function (I would answer the
question by myself then). Where can I find the source code?

Thanks a lot for any help and kind regards,
Chris

packageDescription("graphics")
Package: graphics
Version: 4.0.2
Built: R 4.0.2; x86_64-pc-linux-gnu; 2020-06-22 08:33:40 UTC; unix

 
	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Oct  2 20:59:39 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 2 Oct 2020 11:59:39 -0700
Subject: [R] What is the threshold for `useRaster` of graphics::image()?
In-Reply-To: <1e5aeb11de454645ecfcc38f8d62f756@posteo.de>
References: <1e5aeb11de454645ecfcc38f8d62f756@posteo.de>
Message-ID: <CAGxFJbR1EYAp_1mJ+2PmAVNO4DoRXQyxUU4L3Z+WtOyL-bN=rA@mail.gmail.com>

Clearly you need to spend some more time studying basic docs on how R
works. R is open source: **all** code is available, though in different
locations and with different means to access it.

Typing:
> graphics::image
at the console returns

function (x, ...)
UseMethod("image")
<bytecode: 0x7f8d4ca1d448>
<environment: namespace:graphics>

This tells us that image() is an S3 method for the "image" generic (read
the necessary docs if you don't know what this means).

> methods("image")
[1] image.default
see '?methods' for accessing help and source code

This tells us that there is only one method with the packages I have loaded
in my session, image.default()

> image.default
now gives the code:

function (x = seq(0, 1, length.out = nrow(z)), y = seq(0, 1,
    length.out = ncol(z)), z, zlim = range(z[is.finite(z)]),
    xlim = range(x), ylim = range(y), col = hcl.colors(12, "YlOrRd",
        rev = TRUE), add = FALSE, xaxs = "i", yaxs = "i", xlab,
    ylab, breaks, oldstyle = FALSE, useRaster, ...)
{
## many lines of code
}

which includes a call to C code "C_image" for which you would have to look
elsewhere.
The R Internals doc that ships with R tells you how to find that. Or just
googling on "find C code in R" may give you more convenient options (e.g.
through the pryr package).

Cheers,

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Fri, Oct 2, 2020 at 11:28 AM <cdanek at posteo.de> wrote:

>  Hi R-help list
>
> What is the threshold for the `useRaster` argument of graphics::image()
> to decide whether a grid is "regular" or not (i.e. the usage of
> useRaster=T is allowed or not). My
> `dev.capabilities("rasterImage")$rasterImage` is "yes".
>
> I could not find this information in the internet. I also could not find
> the source code of the graphics::image() function (I would answer the
> question by myself then). Where can I find the source code?
>
> Thanks a lot for any help and kind regards,
> Chris
>
> packageDescription("graphics")
> Package: graphics
> Version: 4.0.2
> Built: R 4.0.2; x86_64-pc-linux-gnu; 2020-06-22 08:33:40 UTC; unix
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @te|@no@bor|n| @end|ng |rom @@tr@zenec@@com  Fri Oct  2 09:41:25 2020
From: @te|@no@bor|n| @end|ng |rom @@tr@zenec@@com (Borini, Stefano)
Date: Fri, 2 Oct 2020 07:41:25 +0000
Subject: [R] Unable to compile with R CMD INSTALL on windows when sourcing
 from Rprofile
Message-ID: <5D43260A-1A4D-4941-A2F5-2ADD9EEB56F2@contoso.com>

Hello,

I am currently facing a rather unusual situation. I am running the following command on two windows 10 machines:

C:\\Program Files\\R\\R-3.6.3\\bin\\R.exe CMD INSTALL -l ".envs\\default\\lib" "C:\\Windows\\system32\\config\\systemprofile\\.rip\\cache\\repos\\cloud.r-project.org\\8a5edab282632443219e051e4ade2d1d5bbc671c781051bf1437897cbdfea0f1\\assertthat\\assertthat_0.2.1.tar.gz"

Nothing unusual. I just compile assertthat from targz.

However, I have the following statement in my .Rprofile. (NOTE: .Rprofile, NOT ~/.Rprofile)

print(getwd())
# >>> created by rip
enabled_env <- "default"
source(file.path(".envs", enabled_env, "init.R"))
# <<< created by rip

This init.R file exists and it's correctly sourced, and contains

print('Using environment default')
.libPaths(c('.envs/default/lib'))

The problem occurs on one windows machine, but not the other. On one windows machine I obtain the following, which seems to work (discussion of the differences after the paste):

[1] "C:/<omitted>/Work/my-r-library"
[1] Using environment default
processing 'C:\<omitted>\.rip\cache\repos\cloud.r-project.org\8a5edab282632443219e051e4ade2d1d5bbc671c781051bf1437897cbdfea0f1\assertthat\assertthat_0.2.1.tar.gz'
a file
* build_help_types=html
* DBG: 'R CMD INSTALL' now doing do_install()
* created lock directory 'C:/<omitted>/Work/my-r-library/.envs/default/lib/00LOCK-assertthat'
* installing *source* package 'assertthat' ...
** package 'assertthat' successfully unpacked and MD5 sums checked
** backing up earlier installation
** using staged installation
** R
** byte-compile and prepare package for lazy loading
** help
*** installing help indices
converting help for package 'assertthat'
finding HTML links ... done
<omitted>
** testing if installed package keeps a record of temporary installation path
* DONE (assertthat)

As you can see, nothing unusual. The package is correctly compiled and deployed in the right place. However, on another windows machine, I obtain:

[1] "D:\tomcat-jenkins\workspace\checkout-base-dir\"
[1] "Using environment default"
powershell.exe : * installing *source* package 'assertthat' ...
At D:\tomcat-jenkins\workspace\checkout-base-dir at tmp\durable-37e772e4\powershellWrapper.ps1:3 char:1
+ & powershell -NoProfile -NonInteractive -ExecutionPolicy Bypass -Comm ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (* installing *s...assertthat' ...    :String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError

** package 'assertthat' successfully unpacked and MD5 sums checked
** using staged installation
** R
** byte-compile and prepare package for lazy loading
[1] "C:/Windows/TEMP/RtmpGUTcDs/R.INSTALLeaf825ec54e2/assertthat" ############## <- here [b]
Error in file(filename, "r", encoding = encoding) :
  cannot open the connection
Calls: source -> file
In addition: Warning message:
In file(filename, "r", encoding = encoding) :
  cannot open file '.envs/default/init.R': No such file or directory
Execution halted
ERROR: lazy loading failed for package 'assertthat'
* removing 'D:/tomcat-jenkins/workspace/checkout-base-dir /.envs/default/lib/assertthat'


Discussion:

It seems that R CMD INSTALL spawns, on the second windows, a second R execution instance (seems confirmed in R sources in src/library/tools/R/install.R), however, in the first windows machine, this spawning seems not to happen (or the second R is spawned, but the .Rprofile is never sourced, because as you can see there's no printing of the cwd, see my Rprofile).

All of this is rather absurd, because if the execution fails with being unable to open init.R, it means that it's in the path of the .Rprofile (otherwise the source() statement would never be executed), which also means it should be able to find the path of the init.R because it's in the same directory (relatively speaking)

So the issue seems to happen because the second instance is spawned in the TEMP directory, and the Rprofile is either copied or somehow executed anyway, even if the cwd has changed to the TEMP directory

Do you have any clue of what's going on?

Thanks


--

Stefano Borini
Principal Analytical Tools Developer
AstraZeneca R&D BioPharmaceuticals | Data Science & AI | Early Biometrics & Statistical Innovation




________________________________


AstraZeneca UK Limited is a company incorporated in England and Wales with registered number:03674842 and its registered office at 1 Francis Crick Avenue, Cambridge Biomedical Campus, Cambridge, CB2 0AA.

This e-mail and its attachments are intended for the above named recipient only and may contain confidential and privileged information. If they have come to you in error, you must not copy or show them to anyone; instead, please reply to this e-mail, highlighting the error to the sender and then immediately delete the message. For information about how AstraZeneca UK Limited and its affiliates may process information, personal data and monitor communications, please see our privacy notice at www.astrazeneca.com<https://www.astrazeneca.com>

From herd_dog @end|ng |rom cox@net  Sat Oct  3 00:38:15 2020
From: herd_dog @end|ng |rom cox@net (Philip)
Date: Fri, 2 Oct 2020 15:38:15 -0700
Subject: [R] Lahman Baseball Data Using R DBI Package
Message-ID: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>

I?m trying to pull data from one table (batting) in the Lahman Baseball database.  Notice X2B for doubles and X3B for triples ? fourth and fifth from the right.  

The dbGetQuery function runs fine when I leave there two out but I get error messages (in red) when I include 2B/3B or X2B/X3B.

Can anyone give me some direction?

Thanks,
Philip Heinrich
***************************************************************************************************************************************************
tail(dbReadTable(Lahman,"batting"))

ID                       playerID      yearID    stint teamID team_ID lgID   G        G_batting   AB     R     H       X2B    X3B   HR   RBI   SB
107414 107414 yastrmi01      2019       1       SFN       2920      NL     107        NA          371   64  101      22       3     21     55    2
107416 107416 yelicch01      2019        1       MIL       2911      NL     130        NA          489 100  161      29       3     44    97   30
107419 107419 youngal01     2019       1       ARI        2896      NL       17        NA            25     1      1        0       0       0      0     0
107420 107420 zagunma01   2019        1      CHN       2901      NL      30        NA             36     2      9        3       0      0       5     0
107422 107422 zavalse01      2019        1      CHA       2900      AL        5        NA             12     1      1        0       0      0       0     0
107427 107427 zimmery01     2019        1      WAS      2925      NL      52        NA           171   20    44        9      0      6      27     0
107428 107428 zobribe01       2019        1      CHN      2901      NL      47        NA           150   24   39         5      0      1      17     0
107429 107429 zuninmi01       2019        1      TBA       2922      AL      90        NA           266    30  44       10      1      9      32     0


Hack11Batting <- dbGetQuery(Lahman,"SELECT playerID,yearID,AB,R,H,2B,3B,HR,
                            RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM batting
                            WHERE yearID = 2018 AND AB >99")
Error: unrecognized token: "2B"

 Hack11Batting <- dbGetQuery(Lahman,"SELECT playerID,yearID,AB,R,H,X2B,X3B,HR,
                            RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM batting
                            WHERE yearID = 2018 AND AB >99")
Error: no such column: X2B

	[[alternative HTML version deleted]]


From w||||@mwdun|@p @end|ng |rom gm@||@com  Sat Oct  3 00:54:15 2020
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Fri, 2 Oct 2020 15:54:15 -0700
Subject: [R] Lahman Baseball Data Using R DBI Package
In-Reply-To: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>
References: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>
Message-ID: <CAHqSRuR-NmoGaEW9YavHxVNitZmezK_rcnwpRzuoHik657wtVQ@mail.gmail.com>

Have you tried putting double quotes around 2B and 3B:  "...2B, 3B, ..." ->
"...\"2B\",\"3B\",..."?

-Bill

On Fri, Oct 2, 2020 at 3:49 PM Philip <herd_dog at cox.net> wrote:

> I?m trying to pull data from one table (batting) in the Lahman Baseball
> database.  Notice X2B for doubles and X3B for triples ? fourth and fifth
> from the right.
>
> The dbGetQuery function runs fine when I leave there two out but I get
> error messages (in red) when I include 2B/3B or X2B/X3B.
>
> Can anyone give me some direction?
>
> Thanks,
> Philip Heinrich
>
> ***************************************************************************************************************************************************
> tail(dbReadTable(Lahman,"batting"))
>
> ID                       playerID      yearID    stint teamID team_ID
> lgID   G        G_batting   AB     R     H       X2B    X3B   HR   RBI   SB
> 107414 107414 yastrmi01      2019       1       SFN       2920      NL
>  107        NA          371   64  101      22       3     21     55    2
> 107416 107416 yelicch01      2019        1       MIL       2911      NL
>  130        NA          489 100  161      29       3     44    97   30
> 107419 107419 youngal01     2019       1       ARI        2896      NL
>    17        NA            25     1      1        0       0       0      0
>    0
> 107420 107420 zagunma01   2019        1      CHN       2901      NL
> 30        NA             36     2      9        3       0      0       5
>  0
> 107422 107422 zavalse01      2019        1      CHA       2900      AL
>     5        NA             12     1      1        0       0      0
>  0     0
> 107427 107427 zimmery01     2019        1      WAS      2925      NL
> 52        NA           171   20    44        9      0      6      27     0
> 107428 107428 zobribe01       2019        1      CHN      2901      NL
>   47        NA           150   24   39         5      0      1      17     0
> 107429 107429 zuninmi01       2019        1      TBA       2922      AL
>   90        NA           266    30  44       10      1      9      32     0
>
>
> Hack11Batting <- dbGetQuery(Lahman,"SELECT playerID,yearID,AB,R,H,2B,3B,HR,
>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM batting
>                             WHERE yearID = 2018 AND AB >99")
> Error: unrecognized token: "2B"
>
>  Hack11Batting <- dbGetQuery(Lahman,"SELECT
> playerID,yearID,AB,R,H,X2B,X3B,HR,
>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM batting
>                             WHERE yearID = 2018 AND AB >99")
> Error: no such column: X2B
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Sat Oct  3 01:58:08 2020
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Sat, 3 Oct 2020 09:58:08 +1000
Subject: [R] help in R code
In-Reply-To: <1372789609.1054642.1601639858981@mail.yahoo.com>
References: <1372789609.1054642.1601639858981.ref@mail.yahoo.com>
 <1372789609.1054642.1601639858981@mail.yahoo.com>
Message-ID: <CA+8X3fV9DqFHLO1Eck1Wr-TbZbi95FXnCGxb=-WyNFV3H5Cm3Q@mail.gmail.com>

Hi Faheem,
This is a complete guess, but the hours of the day may range from 0 to
23 not 1 to 24. So you may be asking for an out of range hour.

Jim

On Fri, Oct 2, 2020 at 10:00 PM Faheem Jan via R-help
<r-help at r-project.org> wrote:
>
>
> Hello , i am working in the functional time series using the multivariate time series data(hourly time series data). Sir  i am using FAR model more than one order for which no statistical package is available in R, so for this i convert my data into functional form and obtained the functional principle component and from those FPCA i extract their corresponding  FPCscores. Know i use the VAR model on those FPCscores for the forecasting of each 24 hours through the VAR model, but the VAR give me the forecasted value for all 23hours  when i put phat=23, but whenever i put phat=24 i.e want to predict each 24 hours its give the results in the form of NA. the code is given below
> fdata<- function(mat){  nb = 27 # number of basis functions for the data  fbf = create.fourier.basis(rangeval=c(0,1), nbasis=nb) # basis for data  args=seq(0,1,length=24)  fdata1=Data2fd(args,y=t(mat),fbf) # functions generated from discretized y  return(fdata1)}prediction.ffpe = function(fdata1){  n = ncol(fdata1$coef)  D = nrow(fdata1$coef)  #center the data  #mu = mean.fd(fdata1)  data = center.fd(fdata1)  #ffpe = fFPE(fdata1, Pmax=10)  #p.hat = ffpe[2] #order of the model  d.hat=23  p.hat=6  #fPCA  fpca = pca.fd(data,nharm=D, centerfns=TRUE)  scores = fpca$scores[,0:d.hat]  # to avoid warnings from vars predict function below  colnames(scores) <- as.character(seq(1:d.hat))  VAR.pre= predict(VAR(scores, p.hat), n.ahead=1, type="const")$fcst  }
> kindly guide me that how can i solve out my problem or what error i doing. THANKS
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From w||||@mwdun|@p @end|ng |rom gm@||@com  Sat Oct  3 04:34:02 2020
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Fri, 2 Oct 2020 19:34:02 -0700
Subject: [R] Lahman Baseball Data Using R DBI Package
In-Reply-To: <C44F824A74414353A579A0B468883116@OWNERPC>
References: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>
 <CAHqSRuR-NmoGaEW9YavHxVNitZmezK_rcnwpRzuoHik657wtVQ@mail.gmail.com>
 <C44F824A74414353A579A0B468883116@OWNERPC>
Message-ID: <CAHqSRuRoLcUw0mOJ_aDud8rivbdCvxtOreRjdp-N8AJ0nnv8ow@mail.gmail.com>

The double quotes are required by SQL if a name is not of the form
letter-followed-by-any-number-of-letters-or-numbers or if the name is a SQL
keyword like 'where' or 'select'.  If you are doing this from a function,
you may as well quote all the names.

-Bill

On Fri, Oct 2, 2020 at 6:18 PM Philip <herd_dog at cox.net> wrote:

> The \?2B\? worked.  Have no idea why.  Can you point me somewhere that can
> explain this to me.
>
> Thanks,
> Philip
>
> *From:* Bill Dunlap
> *Sent:* Friday, October 2, 2020 3:54 PM
> *To:* Philip
> *Cc:* r-help
> *Subject:* Re: [R] Lahman Baseball Data Using R DBI Package
>
> Have you tried putting double quotes around 2B and 3B:  "...2B, 3B, ..."
> -> "...\"2B\",\"3B\",..."?
>
> -Bill
>
> On Fri, Oct 2, 2020 at 3:49 PM Philip <herd_dog at cox.net> wrote:
>
>> I?m trying to pull data from one table (batting) in the Lahman Baseball
>> database.  Notice X2B for doubles and X3B for triples ? fourth and fifth
>> from the right.
>>
>> The dbGetQuery function runs fine when I leave there two out but I get
>> error messages (in red) when I include 2B/3B or X2B/X3B.
>>
>> Can anyone give me some direction?
>>
>> Thanks,
>> Philip Heinrich
>>
>> ***************************************************************************************************************************************************
>> tail(dbReadTable(Lahman,"batting"))
>>
>> ID                       playerID      yearID    stint teamID team_ID
>> lgID   G        G_batting   AB     R     H       X2B    X3B   HR   RBI   SB
>> 107414 107414 yastrmi01      2019       1       SFN       2920
>> NL     107        NA          371   64  101      22       3     21
>> 55    2
>> 107416 107416 yelicch01      2019        1       MIL       2911
>> NL     130        NA          489 100  161      29       3     44    97   30
>> 107419 107419 youngal01     2019       1       ARI        2896
>> NL       17        NA            25     1      1        0       0
>> 0      0     0
>> 107420 107420 zagunma01   2019        1      CHN       2901      NL
>> 30        NA             36     2      9        3       0      0
>> 5     0
>> 107422 107422 zavalse01      2019        1      CHA       2900
>> AL        5        NA             12     1      1        0       0
>> 0       0     0
>> 107427 107427 zimmery01     2019        1      WAS      2925      NL
>> 52        NA           171   20    44        9      0      6      27     0
>> 107428 107428 zobribe01       2019        1      CHN      2901
>> NL      47        NA           150   24   39         5      0      1
>> 17     0
>> 107429 107429 zuninmi01       2019        1      TBA       2922
>> AL      90        NA           266    30  44       10      1      9
>> 32     0
>>
>>
>> Hack11Batting <- dbGetQuery(Lahman,"SELECT
>> playerID,yearID,AB,R,H,2B,3B,HR,
>>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
>> batting
>>                             WHERE yearID = 2018 AND AB >99")
>> Error: unrecognized token: "2B"
>>
>> Hack11Batting <- dbGetQuery(Lahman,"SELECT
>> playerID,yearID,AB,R,H,X2B,X3B,HR,
>>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
>> batting
>>                             WHERE yearID = 2018 AND AB >99")
>> Error: no such column: X2B
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>

	[[alternative HTML version deleted]]


From |@heemj@n93 @end|ng |rom y@hoo@com  Sun Oct  4 18:25:12 2020
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Sun, 4 Oct 2020 16:25:12 +0000 (UTC)
Subject: [R] Help in R code
References: <1382336013.1600875.1601828712450.ref@mail.yahoo.com>
Message-ID: <1382336013.1600875.1601828712450@mail.yahoo.com>

Hello , i am working in the functional time series using themultivariate time series data(hourly time series data). Sir? i am usingFAR model more than one order for which no statistical package is available inR, so for this i convert my data into functional form and obtained thefunctional principle component and from those FPCA i extract theircorresponding? FPCscores. Know i use the VAR model on those FPCscores forthe forecasting of each 24 hours through the VAR model, but the VAR give me theforecasted value for all 23hours? when i put phat=23, but whenever i putphat=24 i.e want to predict each 24 hours its give the results in the form ofNA. the code is given below

?

fdata<- function(mat){

? nb = 27 # number of basis functions for the data

? fbf = create.fourier.basis(rangeval=c(0,1), nbasis=nb) #basis for data

? args=seq(0,1,length=24)

? fdata1=Data2fd(args,y=t(mat),fbf) # functions generatedfrom discretized y

? return(fdata1)

}

prediction.ffpe = function(fdata1){

? n = ncol(fdata1$coef)

? D = nrow(fdata1$coef)

? #center the data

? #mu = mean.fd(fdata1)

? data = center.fd(fdata1)

? #ffpe = fFPE(fdata1, Pmax=10)

? #p.hat = ffpe[2] #order of the model

? d.hat=23

? p.hat=6

? #fPCA

? fpca = pca.fd(data,nharm=D, centerfns=TRUE)

? scores = fpca$scores[,0:d.hat]

? # to avoid warnings from vars predict function below

? colnames(scores) <- as.character(seq(1:d.hat))

? VAR.pre= predict(VAR(scores, p.hat), n.ahead=1,type="const")$fcst

??

}

?

kindly guide me that how can i solve out my problem or whaterror i doing. THANKS


	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Oct  4 19:30:12 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 4 Oct 2020 18:30:12 +0100
Subject: [R] Help in R code
In-Reply-To: <1382336013.1600875.1601828712450@mail.yahoo.com>
References: <1382336013.1600875.1601828712450.ref@mail.yahoo.com>
 <1382336013.1600875.1601828712450@mail.yahoo.com>
Message-ID: <447eb36d-573f-4f05-4ca2-383ab39c397c@sapo.pt>

Hello,

This is cross-posted, you have posted the same question in SO[1].
Cross-posting is not well seen, post the question in one place and 
please wait a few days for an answer before posting here.

[1] 
https://stackoverflow.com/questions/64197235/forecasting-of-multivariate-data-through-vector-autoregression-model

Hope this helps,

Rui Barradas

?s 17:25 de 04/10/20, Faheem Jan via R-help escreveu:
> Hello , i am working in the functional time series using themultivariate time series data(hourly time series data). Sir? i am usingFAR model more than one order for which no statistical package is available inR, so for this i convert my data into functional form and obtained thefunctional principle component and from those FPCA i extract theircorresponding? FPCscores. Know i use the VAR model on those FPCscores forthe forecasting of each 24 hours through the VAR model, but the VAR give me theforecasted value for all 23hours? when i put phat=23, but whenever i putphat=24 i.e want to predict each 24 hours its give the results in the form ofNA. the code is given below
> 
>   
> 
> fdata<- function(mat){
> 
>  ? nb = 27 # number of basis functions for the data
> 
>  ? fbf = create.fourier.basis(rangeval=c(0,1), nbasis=nb) #basis for data
> 
>  ? args=seq(0,1,length=24)
> 
>  ? fdata1=Data2fd(args,y=t(mat),fbf) # functions generatedfrom discretized y
> 
>  ? return(fdata1)
> 
> }
> 
> prediction.ffpe = function(fdata1){
> 
>  ? n = ncol(fdata1$coef)
> 
>  ? D = nrow(fdata1$coef)
> 
>  ? #center the data
> 
>  ? #mu = mean.fd(fdata1)
> 
>  ? data = center.fd(fdata1)
> 
>  ? #ffpe = fFPE(fdata1, Pmax=10)
> 
>  ? #p.hat = ffpe[2] #order of the model
> 
>  ? d.hat=23
> 
>  ? p.hat=6
> 
>  ? #fPCA
> 
>  ? fpca = pca.fd(data,nharm=D, centerfns=TRUE)
> 
>  ? scores = fpca$scores[,0:d.hat]
> 
>  ? # to avoid warnings from vars predict function below
> 
>  ? colnames(scores) <- as.character(seq(1:d.hat))
> 
>  ? VAR.pre= predict(VAR(scores, p.hat), n.ahead=1,type="const")$fcst
> 
>    
> 
> }
> 
>   
> 
> kindly guide me that how can i solve out my problem or whaterror i doing. THANKS
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From vodvo@ @end|ng |rom zoho@com  Mon Oct  5 00:47:19 2020
From: vodvo@ @end|ng |rom zoho@com (vod vos)
Date: Sun, 04 Oct 2020 15:47:19 -0700
Subject: [R] how to get a numeric vector?
Message-ID: <174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>

Hi,

a <- c(1, 4)
b <- c(5, 8)

a:b

[1] 1 2 3 4 5
Warning messages:
1: In a:b : numerical expression has 2 elements: only the first used
2: In a:b : numerical expression has 2 elements: only the first used

how to get:

c(1:5, 4:8)

Thanks.


From j|ox @end|ng |rom mcm@@ter@c@  Mon Oct  5 00:59:51 2020
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Sun, 4 Oct 2020 18:59:51 -0400
Subject: [R] how to get a numeric vector?
In-Reply-To: <25229_1601851661_094MlZII012760_174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
References: <25229_1601851661_094MlZII012760_174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
Message-ID: <66a36517-d139-a931-e124-f30a52a519d0@mcmaster.ca>

Dear vod vos,

On 2020-10-04 6:47 p.m., vod vos via R-help wrote:
> Hi,
> 
> a <- c(1, 4)
> b <- c(5, 8)
> 
> a:b
> 
> [1] 1 2 3 4 5
> Warning messages:
> 1: In a:b : numerical expression has 2 elements: only the first used
> 2: In a:b : numerical expression has 2 elements: only the first used
> 
> how to get:
> 
> c(1:5, 4:8)

The simplest way is c(1:5, 4:8) but I don't suppose that's what you 
really want. Perhaps the following is what you have in mind:

 > unlist(mapply(':', c(1, 4), c(5, 8), SIMPLIFY=FALSE))
  [1] 1 2 3 4 5 4 5 6 7 8

In your case, but not more generally,

 > as.vector(mapply(':', c(1, 4), c(5, 8)))
  [1] 1 2 3 4 5 4 5 6 7 8

also works.

I hope this helps,
  John

John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://socialsciences.mcmaster.ca/jfox/


> 
> Thanks.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From m|r@@@|@m @end|ng |rom ue|@||  Mon Oct  5 00:09:15 2020
From: m|r@@@|@m @end|ng |rom ue|@|| (Mir Md. Abdus Salam)
Date: Sun, 4 Oct 2020 22:09:15 +0000
Subject: [R] data error problem
Message-ID: <HE1PR0102MB3067DE52FB651EA579F934B9870F0@HE1PR0102MB3067.eurprd01.prod.exchangelabs.com>

Dear all,

I need urgent help. I am a new user of R. I got the following error

anovamine<-read.table("spike cu.txt",header=TRUE)

Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  :
line 1 did not have 9 elements

Can anybody please help me to solve this problem why I am getting such kind of error?

Thanks


	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Mon Oct  5 01:50:43 2020
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Sun, 4 Oct 2020 19:50:43 -0400
Subject: [R] how to get a numeric vector?
In-Reply-To: <174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
References: <174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
Message-ID: <026101d69aa9$2c31f3b0$8495db10$@verizon.net>

Always hard to tell if THIS is a homework project. As with most things in R,
if you can not find at least a dozen ways to do it, it is not worth doing.

The question (way below) was how to take two vectors of length two and make
a longer results based on using the ":" operator to generate a range between
the first element of each array and then between the second elements and
return the combined results as a vector.

Using simple loops on the length of the two vectors you want combined this
way can be done either in-line or by making a simple function.

Something like this:

results = c()

for (index in 1:length(a)) {
  results <- c(results, a[index]:b[index])
}

The above generalizes to any size vectors of the same length.

There are probably lots of ways to do this using functional programming
(after loading the tidyverse or just purrr)  but here is one:

unlist( map2(a, b, `:`) )

Or more explicitly in an extended length-4 vector example:

Library(purr)
alpha <- c(1, 4, 10, 20)
beta  <- c(5, 8, 19, 27)
unlist(map2(.x=alpha, 
            .y=beta, 
            .f=`:`))

Result:

[1]  1  2  3  4  5  4  5  6  7  8 10 11 12 13 14 15 16 17 18 19 20 21 22 23
24 25 26 27

Be warned the `:` operator happily works with descending or negative numbers
as well as  numbers with decimal points. You do NOT want to call the above
uses of `:`  unless you have no NA or NaN or Inf  in your original vectors.






-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of vod vos via R-help
Sent: Sunday, October 4, 2020 6:47 PM
To: r-help <r-help at r-project.org>
Subject: [R] how to get a numeric vector?

Hi,

a <- c(1, 4)
b <- c(5, 8)

a:b

[1] 1 2 3 4 5
Warning messages:
1: In a:b : numerical expression has 2 elements: only the first used
2: In a:b : numerical expression has 2 elements: only the first used

how to get:

c(1:5, 4:8)

Thanks.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From cem@||on @end|ng |rom uch|c@go@edu  Mon Oct  5 03:04:28 2020
From: cem@||on @end|ng |rom uch|c@go@edu (Casey Mallon)
Date: Mon, 5 Oct 2020 01:04:28 +0000
Subject: [R] Simultaneous Equation Model with Dichotomous Dependent Variables
Message-ID: <BN6PR11MB3923E8C1CA8779117BAF1087B60C0@BN6PR11MB3923.namprd11.prod.outlook.com>

Hello everyone!

I am currently working with a time series panel data set measuring six dependent variables:
4 of which are binary and 2 of which are count data.

I am interested in constructing a model to measure if the dependent variables influence one another.

For example: DV1~ DV2 + IV1+IV2+ Controls and DV2~ DV1 + IV1+ IV2+ Controls
(where IV stands for independent variable, not instrumental).

My current code looks like:
glm(DV1~ IV1+ Control1+ Control2+ DV4+ DV5+ DV6, family="binomial", data= data)
which I repeat for each of the 6 DVs.


I realize that I need to run a series of simultaneous equation models, but I am not having much luck figuring out how to run an SEM with binary data in R. The zelig package used to have a bivariate logit command, but zelig does not work with the most current version of R. Additionally, I would run into issues later on using that command since 2 of my variables are not binary.

Any ideas? Thanks for your help!

Casey

---

Ph.D student, Political Science

University of Chicago

	[[alternative HTML version deleted]]


From m@@hr@ng@ @end|ng |rom y@hoo@com  Mon Oct  5 09:14:08 2020
From: m@@hr@ng@ @end|ng |rom y@hoo@com (Mohammad Tanvir Ahamed)
Date: Mon, 5 Oct 2020 07:14:08 +0000 (UTC)
Subject: [R] data error problem
In-Reply-To: <HE1PR0102MB3067DE52FB651EA579F934B9870F0@HE1PR0102MB3067.eurprd01.prod.exchangelabs.com>
References: <HE1PR0102MB3067DE52FB651EA579F934B9870F0@HE1PR0102MB3067.eurprd01.prod.exchangelabs.com>
Message-ID: <2140964770.1942324.1601882048161@mail.yahoo.com>

Hi,?In your data file, the first row does not have an equal number of column like the rest of the row.Check your data file. Specially 1st row.??
Regards.............Tanvir Ahamed    Stockholm, Sweden     |  mashranga at yahoo.com  

    On Monday, 5 October 2020, 08:11:48 am GMT+2, Mir Md. Abdus Salam <mir.salam at uef.fi> wrote:  
 
 Dear all,

I need urgent help. I am a new user of R. I got the following error

anovamine<-read.table("spike cu.txt",header=TRUE)

Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,? :
line 1 did not have 9 elements

Can anybody please help me to solve this problem why I am getting such kind of error?

Thanks


??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
  
	[[alternative HTML version deleted]]


From m@@hr@ng@ @end|ng |rom y@hoo@com  Mon Oct  5 09:45:32 2020
From: m@@hr@ng@ @end|ng |rom y@hoo@com (Mohammad Tanvir Ahamed)
Date: Mon, 5 Oct 2020 07:45:32 +0000 (UTC)
Subject: [R] how to get a numeric vector?
In-Reply-To: <174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
References: <174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
Message-ID: <570178310.1948231.1601883932078@mail.yahoo.com>

Hi,?
You can try this.?

Example: 1
a <- c(1, 4)
b <- c(5, 8)
unlist(as.vector(mapply(seq,a,b)))
> [1]??1 2 3 4 5 4 5 6 7 8


a <- c(1, 4, 2)
b <- c(5, 8, 10)
unlist(as.vector(mapply(seq,a,b)))
>? [1]? 1? 2? 3? 4? 5? 4? 5? 6? 7? 8? 2? 3? 4? 5? 6? 7? 8? 9 10


Regards.............
Tanvir Ahamed 
Stockholm, Sweden???? |??mashranga at yahoo.com 






On Monday, 5 October 2020, 12:47:52 am GMT+2, vod vos via R-help <r-help at r-project.org> wrote: 





Hi,

a <- c(1, 4)
b <- c(5, 8)

a:b

[1] 1 2 3 4 5
Warning messages:
1: In a:b : numerical expression has 2 elements: only the first used
2: In a:b : numerical expression has 2 elements: only the first used

how to get:

c(1:5, 4:8)

Thanks.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From @tyen @end|ng |rom ntu@edu@tw  Mon Oct  5 09:56:56 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Mon, 5 Oct 2020 15:56:56 +0800
Subject: [R] unable to access index for repository...
Message-ID: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>

I had to install/use an older version of (R-3.0.3) for a reason. While 
installing a package from CRAN (either in RStudio or R), I received the 
following warning message saying unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In 
this case, I tried to install "aod". The install nevertheless went 
through, as confirmed by the library statement (I did not try to use 
it). Any idea? Thank you.

=====

Warning: unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to 
access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0 > 
install.packages("aod") Warning in install.packages : unable to access 
index for repository http://cran.rstudio.com/bin/windows/contrib/3.0 
Warning in install.packages : unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is 
available as a source package but not as a binary Warning in 
install.packages : package ?aod? is not available (for R version 3.0.3) 
 > library(aod)


	[[alternative HTML version deleted]]


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Oct  5 10:12:04 2020
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 5 Oct 2020 10:12:04 +0200
Subject: [R] unable to access index for repository...
In-Reply-To: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
Message-ID: <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>

From

../ReadMe
in the mentioned web resource:

"Packages for R >= 1.7.0 and R < 3.2.0 are available from
https://cran-archive.r-project.org/bin/windows/contrib/"

We do not hold binaries of several year old versions of R on CRAN.

Note that R 3.0.0 is 7 years old. You shoudl realy consider to update to 
4.0.2.

Best,
Uwe Ligges




On 05.10.2020 09:56, Steven Yen wrote:
> I had to install/use an older version of (R-3.0.3) for a reason. While
> installing a package from CRAN (either in RStudio or R), I received the
> following warning message saying unable to access index for repository
> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
> this case, I tried to install "aod". The install nevertheless went
> through, as confirmed by the library statement (I did not try to use
> it). Any idea? Thank you.
> 
> =====
> 
> Warning: unable to access index for repository
> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
> access index for repository
> http://cran.rstudio.com/bin/windows/contrib/3.0 >
> install.packages("aod") Warning in install.packages : unable to access
> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
> Warning in install.packages : unable to access index for repository
> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
> available as a source package but not as a binary Warning in
> install.packages : package ?aod? is not available (for R version 3.0.3)
>   > library(aod)
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From drj|m|emon @end|ng |rom gm@||@com  Mon Oct  5 10:28:22 2020
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 5 Oct 2020 19:28:22 +1100
Subject: [R] data error problem
In-Reply-To: <2140964770.1942324.1601882048161@mail.yahoo.com>
References: <HE1PR0102MB3067DE52FB651EA579F934B9870F0@HE1PR0102MB3067.eurprd01.prod.exchangelabs.com>
 <2140964770.1942324.1601882048161@mail.yahoo.com>
Message-ID: <CA+8X3fWBaYgLa_ikHM2M1Z1QiwXcg4Mp56B+nDjbOJuVJAQKjA@mail.gmail.com>

Hi Mir,
Without knowing what the data looks like, this is only a guess.
read.table() expects a white space delimiter and if you have a space
in one of your column names it will consider it as two names instead
of one. How many columns do you expect?

Jim

On Mon, Oct 5, 2020 at 6:14 PM Mohammad Tanvir Ahamed via R-help
<r-help at r-project.org> wrote:
>
> Hi, In your data file, the first row does not have an equal number of column like the rest of the row.Check your data file. Specially 1st row.
> Regards.............Tanvir Ahamed    Stockholm, Sweden     |  mashranga at yahoo.com
>
>     On Monday, 5 October 2020, 08:11:48 am GMT+2, Mir Md. Abdus Salam <mir.salam at uef.fi> wrote:
>
>  Dear all,
>
> I need urgent help. I am a new user of R. I got the following error
>
> anovamine<-read.table("spike cu.txt",header=TRUE)
>
> Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  :
> line 1 did not have 9 elements
>
> Can anybody please help me to solve this problem why I am getting such kind of error?
>
> Thanks
>
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @tyen @end|ng |rom ntu@edu@tw  Mon Oct  5 10:47:13 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Mon, 5 Oct 2020 16:47:13 +0800
Subject: [R] unable to access index for repository...
In-Reply-To: <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
Message-ID: <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>

Thanks for the help. I do update to the latest R-4.0.2. As I said, for 
reasons that's hard to explain, some of my tasks are better handled with 
an older version of R, in this case R-3.0.3. Please just help me install 
packages successfully with this older version of R.

I ran the following line but obviously was not getting it across.

=====

> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/')  Warning in install.packages : unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in 
install.packages : unable to access index for repository 
https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
Warning in install.packages : package ?aod? is not available (for R 
version 3.0.3)

On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
> From
>
> ../ReadMe
> in the mentioned web resource:
>
> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
> https://cran-archive.r-project.org/bin/windows/contrib/"
>
> We do not hold binaries of several year old versions of R on CRAN.
>
> Note that R 3.0.0 is 7 years old. You shoudl realy consider to update 
> to 4.0.2.
>
> Best,
> Uwe Ligges
>
>
>
>
> On 05.10.2020 09:56, Steven Yen wrote:
>> I had to install/use an older version of (R-3.0.3) for a reason. While
>> installing a package from CRAN (either in RStudio or R), I received the
>> following warning message saying unable to access index for repository
>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
>> this case, I tried to install "aod". The install nevertheless went
>> through, as confirmed by the library statement (I did not try to use
>> it). Any idea? Thank you.
>>
>> =====
>>
>> Warning: unable to access index for repository
>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>> access index for repository
>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>> install.packages("aod") Warning in install.packages : unable to access
>> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
>> Warning in install.packages : unable to access index for repository
>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>> available as a source package but not as a binary Warning in
>> install.packages : package ?aod? is not available (for R version 3.0.3)
>> ? > library(aod)
>>
>>
>> ????[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>

	[[alternative HTML version deleted]]


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Mon Oct  5 10:57:49 2020
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Mon, 5 Oct 2020 10:57:49 +0200
Subject: [R] how to get a numeric vector?
In-Reply-To: <026101d69aa9$2c31f3b0$8495db10$@verizon.net>
References: <174f5cc4615.118e08d5f41167.4318777779995958885@zoho.com>
 <026101d69aa9$2c31f3b0$8495db10$@verizon.net>
Message-ID: <24442.57357.70461.717756@stat.math.ethz.ch>

>>>>> Avi Gross via R-help 
>>>>>     on Sun, 4 Oct 2020 19:50:43 -0400 writes:

    > Always hard to tell if THIS is a homework project. As with
    > most things in R, if you can not find at least a dozen
    > ways to do it, it is not worth doing.

    > The question (way below) was how to take two vectors of
    > length two and make a longer results based on using the
    > ":" operator to generate a range between the first element
    > of each array and then between the second elements and
    > return the combined results as a vector.

    > Using simple loops on the length of the two vectors you
    > want combined this way can be done either in-line or by
    > making a simple function.

    > Something like this:

    > results = c()

    > for (index in 1:length(a)) {
    >   results <- c(results, a[index]:b[index])
    > }

    > The above generalizes to any size vectors of the same length.

    > There are probably lots of ways to do this using functional programming
    > (after loading the tidyverse or just purrr)  

Well, no (to your "(....)") !

Functional programming is part of base R; no need to install any
tidy or untidy package : 

  a <- c(1, 4)
  b <- c(5, 8)

  unlist(  Map(`:`, a,b)  )

works perfectly.

... as does the also nice and simple (base R)
solution that  Tanvir Ahamed  already posted :

  unlist(as.vector(mapply(seq,a,b)))


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Oct  5 10:58:10 2020
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 5 Oct 2020 10:58:10 +0200
Subject: [R] unable to access index for repository...
In-Reply-To: <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
Message-ID: <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>

Then you'd rather need

install.packages("aod",repos='https://cran-archive.r-project.org')

or use the contrib.url argument.

Best,
Uwe Ligges


On 05.10.2020 10:47, Steven Yen wrote:
> Thanks for the help. I do update to the latest R-4.0.2. As I said, for 
> reasons that's hard to explain, some of my tasks are better handled with 
> an older version of R, in this case R-3.0.3. Please just help me install 
> packages successfully with this older version of R.
> 
> I ran the following line but obviously was not getting it across.
> 
> =====
> 
>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') Warning in 
> install.packages : unable to access index for repository 
> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in 
> install.packages : unable to access index for repository 
> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
> Warning in install.packages : package ?aod? is not available (for R 
> version 3.0.3)
> 
> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>> From
>>
>> ../ReadMe
>> in the mentioned web resource:
>>
>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>
>> We do not hold binaries of several year old versions of R on CRAN.
>>
>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to update 
>> to 4.0.2.
>>
>> Best,
>> Uwe Ligges
>>
>>
>>
>>
>> On 05.10.2020 09:56, Steven Yen wrote:
>>> I had to install/use an older version of (R-3.0.3) for a reason. While
>>> installing a package from CRAN (either in RStudio or R), I received the
>>> following warning message saying unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
>>> this case, I tried to install "aod". The install nevertheless went
>>> through, as confirmed by the library statement (I did not try to use
>>> it). Any idea? Thank you.
>>>
>>> =====
>>>
>>> Warning: unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>> access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>> install.packages("aod") Warning in install.packages : unable to access
>>> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
>>> Warning in install.packages : unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>> available as a source package but not as a binary Warning in
>>> install.packages : package ?aod? is not available (for R version 3.0.3)
>>> ? > library(aod)
>>>
>>>
>>> ????[[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>


From @tyen @end|ng |rom ntu@edu@tw  Mon Oct  5 11:10:24 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Mon, 5 Oct 2020 17:10:24 +0800
Subject: [R] unable to access index for repository...
In-Reply-To: <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
Message-ID: <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>

Thanks. I did as suggested but still received a warning, though the 
installation went through. Anything I could do to install without the 
warning message.

What is the contrib.url argument?

 > install.packages("aod",repos='https://cran-archive.r-project.org')
Warning in install.packages :
 ? unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0
trying URL 
'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
Content type 'application/zip' length 225712 bytes (220 Kb)
opened URL
downloaded 220 Kb

package ?aod? successfully unpacked and MD5 sums checked

The downloaded binary packages are in
C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
 >

On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
> Then you'd rather need
>
> install.packages("aod",repos='https://cran-archive.r-project.org')
>
> or use the contrib.url argument.
>
> Best,
> Uwe Ligges
>
>
> On 05.10.2020 10:47, Steven Yen wrote:
>> Thanks for the help. I do update to the latest R-4.0.2. As I said, 
>> for reasons that's hard to explain, some of my tasks are better 
>> handled with an older version of R, in this case R-3.0.3. Please just 
>> help me install packages successfully with this older version of R.
>>
>> I ran the following line but obviously was not getting it across.
>>
>> =====
>>
>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') 
>>> Warning in 
>> install.packages : unable to access index for repository 
>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in 
>> install.packages : unable to access index for repository 
>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
>> Warning in install.packages : package ?aod? is not available (for R 
>> version 3.0.3)
>>
>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>> From
>>>
>>> ../ReadMe
>>> in the mentioned web resource:
>>>
>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>
>>> We do not hold binaries of several year old versions of R on CRAN.
>>>
>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to 
>>> update to 4.0.2.
>>>
>>> Best,
>>> Uwe Ligges
>>>
>>>
>>>
>>>
>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>> I had to install/use an older version of (R-3.0.3) for a reason. While
>>>> installing a package from CRAN (either in RStudio or R), I received 
>>>> the
>>>> following warning message saying unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
>>>> this case, I tried to install "aod". The install nevertheless went
>>>> through, as confirmed by the library statement (I did not try to use
>>>> it). Any idea? Thank you.
>>>>
>>>> =====
>>>>
>>>> Warning: unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>>> access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>> install.packages("aod") Warning in install.packages : unable to access
>>>> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
>>>> Warning in install.packages : unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>> available as a source package but not as a binary Warning in
>>>> install.packages : package ?aod? is not available (for R version 
>>>> 3.0.3)
>>>> ? > library(aod)
>>>>
>>>>
>>>> ????[[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>


From pd@me@ @end|ng |rom cb@@dk  Mon Oct  5 13:20:54 2020
From: pd@me@ @end|ng |rom cb@@dk (Peter Dalgaard)
Date: Mon, 5 Oct 2020 11:20:54 +0000
Subject: [R] [Rd] R 4.0.3 scheduled for October 10
Message-ID: <89372DD0-8E05-4A32-B87F-3E96246BAA6D@cbs.dk>

[Oops, this apparently got omitted during release scheduling]

Full schedule is available on developer.r-project.org.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From @@e||ck @end|ng |rom gm@||@com  Mon Oct  5 13:21:57 2020
From: @@e||ck @end|ng |rom gm@||@com (stephen sefick)
Date: Mon, 5 Oct 2020 07:21:57 -0400
Subject: [R] Simultaneous Equation Model with Dichotomous Dependent
 Variables
In-Reply-To: <BN6PR11MB3923E8C1CA8779117BAF1087B60C0@BN6PR11MB3923.namprd11.prod.outlook.com>
References: <BN6PR11MB3923E8C1CA8779117BAF1087B60C0@BN6PR11MB3923.namprd11.prod.outlook.com>
Message-ID: <CADKEMqi7n_Hco7rk_eSQkEWY+q1XYj83mgAh5=HdLr=Kg2KuSw@mail.gmail.com>

Casey, I have used laavan for sem in the past.

Stephen Sefick, PhD

On Mon, Oct 5, 2020, 02:12 Casey Mallon <cemallon at uchicago.edu> wrote:

> Hello everyone!
>
> I am currently working with a time series panel data set measuring six
> dependent variables:
> 4 of which are binary and 2 of which are count data.
>
> I am interested in constructing a model to measure if the dependent
> variables influence one another.
>
> For example: DV1~ DV2 + IV1+IV2+ Controls and DV2~ DV1 + IV1+ IV2+ Controls
> (where IV stands for independent variable, not instrumental).
>
> My current code looks like:
> glm(DV1~ IV1+ Control1+ Control2+ DV4+ DV5+ DV6, family="binomial", data=
> data)
> which I repeat for each of the 6 DVs.
>
>
> I realize that I need to run a series of simultaneous equation models, but
> I am not having much luck figuring out how to run an SEM with binary data
> in R. The zelig package used to have a bivariate logit command, but zelig
> does not work with the most current version of R. Additionally, I would run
> into issues later on using that command since 2 of my variables are not
> binary.
>
> Any ideas? Thanks for your help!
>
> Casey
>
> ---
>
> Ph.D student, Political Science
>
> University of Chicago
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From t|m@t@y|or @end|ng |rom h|ddene|eph@nt@@co@uk  Mon Oct  5 18:44:05 2020
From: t|m@t@y|or @end|ng |rom h|ddene|eph@nt@@co@uk (Tim Taylor)
Date: Mon, 5 Oct 2020 17:44:05 +0100
Subject: [R] understanding as.list(substitute(...()))
Message-ID: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>

Could someone explain what is happening with the ...() of the
following function:

dots <- function(...) as.list(substitute(...()))

I understand what I'm getting as a result but not why.   ?dots and
?substitute leave me none the wiser.

regards
Tim


From |zm|r||g @end|ng |rom m@||@n|h@gov  Mon Oct  5 19:05:51 2020
From: |zm|r||g @end|ng |rom m@||@n|h@gov (Izmirlian, Grant (NIH/NCI) [E])
Date: Mon, 5 Oct 2020 17:05:51 +0000
Subject: [R] R-help Digest, Vol 212, Issue 4
In-Reply-To: <mailman.360954.0.1601892221.47640.r-help@r-project.org>
References: <mailman.360954.0.1601892221.47640.r-help@r-project.org>
Message-ID: <DM6PR09MB578481A3986AFCE8BA243DA8E50C0@DM6PR09MB5784.namprd09.prod.outlook.com>

Hi -- there are lots of replies --I have not read them all, if someone else suggested this, sorry for duplication. This is similar to the suggestion using mapply, but not specific to matrices. In fact it's a kludge that applies to many settings. You 'sapply' over the index 1:2, and pass a, b as arguments:


a <- c(1,4)
 b <- c(5,8)

sapply(1:2, FUN=function(x, a, b)a[x]:b[x], a=a,b=b)


-----Original Message-----
From: r-help-request at r-project.org <r-help-request at r-project.org> 
Sent: Monday, October 05, 2020 6:04 AM
To: r-help at r-project.org
Subject: R-help Digest, Vol 212, Issue 4

Send R-help mailing list submissions to
	r-help at r-project.org

To subscribe or unsubscribe via the World Wide Web, visit
	https://stat.ethz.ch/mailman/listinfo/r-help
or, via email, send a message with subject or body 'help' to
	r-help-request at r-project.org

You can reach the person managing the list at
	r-help-owner at r-project.org

When replying, please edit your Subject line so it is more specific than "Re: Contents of R-help digest..."


From bgunter@4567 @end|ng |rom gm@||@com  Tue Oct  6 06:30:41 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 5 Oct 2020 21:30:41 -0700
Subject: [R] understanding as.list(substitute(...()))
In-Reply-To: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>
References: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>
Message-ID: <CAGxFJbTvDCSyA8Mo25CADw56u5h=zAoOepEV6vYAtwjJMNyuuQ@mail.gmail.com>

You need to understand what substitute() does -- see ?substitute and/or a
tutorial on "R computing on the language" or similar.

Here is a simple example that may clarify:

> dots <- function(...) as.list(substitute(...()))
> dots(log(foo))
[[1]]
log(foo)  ## a call, a language object

> dots2 <- function(...) as.list(...)
> dots2(log(foo))
Error in as.list(...) : object 'foo' not found
## substitute() does not evaluate its argument; as.list() does

Cheers,
Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Oct 5, 2020 at 1:37 PM Tim Taylor <tim.taylor at hiddenelephants.co.uk>
wrote:

> Could someone explain what is happening with the ...() of the
> following function:
>
> dots <- function(...) as.list(substitute(...()))
>
> I understand what I'm getting as a result but not why.   ?dots and
> ?substitute leave me none the wiser.
>
> regards
> Tim
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From t|m@t@y|or @end|ng |rom h|ddene|eph@nt@@co@uk  Tue Oct  6 08:38:27 2020
From: t|m@t@y|or @end|ng |rom h|ddene|eph@nt@@co@uk (Tim Taylor)
Date: Tue, 6 Oct 2020 07:38:27 +0100
Subject: [R] understanding as.list(substitute(...()))
In-Reply-To: <CAGxFJbTvDCSyA8Mo25CADw56u5h=zAoOepEV6vYAtwjJMNyuuQ@mail.gmail.com>
References: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>
 <CAGxFJbTvDCSyA8Mo25CADw56u5h=zAoOepEV6vYAtwjJMNyuuQ@mail.gmail.com>
Message-ID: <CAFLvaCmLSkC_96_4a41f1+Z+VDSxoJLr78sLG31BDXmnzirdDQ@mail.gmail.com>

I probably need to be more specific.  What confuses me is not the use
of substitute, but the parenthesis after the dots.  It clearly works
and I can make guesses as to why but it is definitely not obvious.
The following function gives the same final result but I can
understand what is happening.

dots <- function (...) {
   exprs <- substitute(list(...))
   as.list(exprs[-1])
}

In the original,     dots <- function(...) as.list(substitute(...())),
   Does ...() get parsed in a special way?

Tim

On Tue, 6 Oct 2020 at 05:30, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> You need to understand what substitute() does -- see ?substitute and/or a tutorial on "R computing on the language" or similar.
>
> Here is a simple example that may clarify:
>
> > dots <- function(...) as.list(substitute(...()))
> > dots(log(foo))
> [[1]]
> log(foo)  ## a call, a language object
>
> > dots2 <- function(...) as.list(...)
> > dots2(log(foo))
> Error in as.list(...) : object 'foo' not found
> ## substitute() does not evaluate its argument; as.list() does
>
> Cheers,
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Mon, Oct 5, 2020 at 1:37 PM Tim Taylor <tim.taylor at hiddenelephants.co.uk> wrote:
>>
>> Could someone explain what is happening with the ...() of the
>> following function:
>>
>> dots <- function(...) as.list(substitute(...()))
>>
>> I understand what I'm getting as a result but not why.   ?dots and
>> ?substitute leave me none the wiser.
>>
>> regards
>> Tim
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From toth@dene@ @end|ng |rom kogentum@hu  Tue Oct  6 09:22:40 2020
From: toth@dene@ @end|ng |rom kogentum@hu (=?UTF-8?B?RMOpbmVzIFTDs3Ro?=)
Date: Tue, 6 Oct 2020 09:22:40 +0200
Subject: [R] understanding as.list(substitute(...()))
In-Reply-To: <CAFLvaCmLSkC_96_4a41f1+Z+VDSxoJLr78sLG31BDXmnzirdDQ@mail.gmail.com>
References: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>
 <CAGxFJbTvDCSyA8Mo25CADw56u5h=zAoOepEV6vYAtwjJMNyuuQ@mail.gmail.com>
 <CAFLvaCmLSkC_96_4a41f1+Z+VDSxoJLr78sLG31BDXmnzirdDQ@mail.gmail.com>
Message-ID: <e1be8163-8e27-d177-33da-d2287de8cada@kogentum.hu>

Hi Tim,

I have also asked a similar question a couple of months ago, and someone 
else did the same recently, maybe on r-devel.

We received no "official" response, but Deepayan Sarkar (R Core Team 
member) claimed that:

"
There is no documented reason for this to work (AFAIK), so again, I
would guess this is a side-effect of the implementation, and not a API
feature you should rely on. This is somewhat borne out by the
following:

 > foo <- function(...) substitute({...()})
 > foo(abc$de, fg[h], i)
{
    pairlist(abc$de, fg[h], i)
}
 > foo(abc$de, fg[h], , i) # add a missing argument for extra fun
{
    as.pairlist(alist(abc$de, fg[h], , i))
}

which is not something you would expect to see at the user level. So
my recommendation: don't use ...() and pretend that you never
discovered it in the first place. Use match.call() instead, as
suggested by Serguei.

[Disclaimer: I have no idea what is actually going on, so these are
just guesses. There are some hints at
https://cran.r-project.org/doc/manuals/r-devel/R-ints.html#Dot_002ddot_002ddot-arguments
if you want to folllow up.]
"

Cheers,
Denes




On 10/6/20 8:38 AM, Tim Taylor wrote:
> I probably need to be more specific.  What confuses me is not the use
> of substitute, but the parenthesis after the dots.  It clearly works
> and I can make guesses as to why but it is definitely not obvious.
> The following function gives the same final result but I can
> understand what is happening.
> 
> dots <- function (...) {
>     exprs <- substitute(list(...))
>     as.list(exprs[-1])
> }
> 
> In the original,     dots <- function(...) as.list(substitute(...())),
>     Does ...() get parsed in a special way?
> 
> Tim
> 
> On Tue, 6 Oct 2020 at 05:30, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>
>> You need to understand what substitute() does -- see ?substitute and/or a tutorial on "R computing on the language" or similar.
>>
>> Here is a simple example that may clarify:
>>
>>> dots <- function(...) as.list(substitute(...()))
>>> dots(log(foo))
>> [[1]]
>> log(foo)  ## a call, a language object
>>
>>> dots2 <- function(...) as.list(...)
>>> dots2(log(foo))
>> Error in as.list(...) : object 'foo' not found
>> ## substitute() does not evaluate its argument; as.list() does
>>
>> Cheers,
>> Bert Gunter
>>
>> "The trouble with having an open mind is that people keep coming along and sticking things into it."
>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>
>>
>> On Mon, Oct 5, 2020 at 1:37 PM Tim Taylor <tim.taylor at hiddenelephants.co.uk> wrote:
>>>
>>> Could someone explain what is happening with the ...() of the
>>> following function:
>>>
>>> dots <- function(...) as.list(substitute(...()))
>>>
>>> I understand what I'm getting as a result but not why.   ?dots and
>>> ?substitute leave me none the wiser.
>>>
>>> regards
>>> Tim
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From t|m@t@y|or @end|ng |rom h|ddene|eph@nt@@co@uk  Tue Oct  6 09:44:47 2020
From: t|m@t@y|or @end|ng |rom h|ddene|eph@nt@@co@uk (Tim Taylor)
Date: Tue, 6 Oct 2020 08:44:47 +0100
Subject: [R] understanding as.list(substitute(...()))
In-Reply-To: <e1be8163-8e27-d177-33da-d2287de8cada@kogentum.hu>
References: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>
 <CAGxFJbTvDCSyA8Mo25CADw56u5h=zAoOepEV6vYAtwjJMNyuuQ@mail.gmail.com>
 <CAFLvaCmLSkC_96_4a41f1+Z+VDSxoJLr78sLG31BDXmnzirdDQ@mail.gmail.com>
 <e1be8163-8e27-d177-33da-d2287de8cada@kogentum.hu>
Message-ID: <CAFLvaC=o2vvHUgwOBMv1KjiGU3sszZYhPuKeH8Nna20JKiYjAg@mail.gmail.com>

Cheers Denes,

That's useful to know.  I'll stick with the match.call version
instead.  Interestingly I initially tried to post to R-devel (as I
thought it may involve something internal) but was asked to post here
instead.

Best

Tim


On Tue, 6 Oct 2020 at 08:22, D?nes T?th <toth.denes at kogentum.hu> wrote:
>
> Hi Tim,
>
> I have also asked a similar question a couple of months ago, and someone
> else did the same recently, maybe on r-devel.
>
> We received no "official" response, but Deepayan Sarkar (R Core Team
> member) claimed that:
>
> "
> There is no documented reason for this to work (AFAIK), so again, I
> would guess this is a side-effect of the implementation, and not a API
> feature you should rely on. This is somewhat borne out by the
> following:
>
>  > foo <- function(...) substitute({...()})
>  > foo(abc$de, fg[h], i)
> {
>     pairlist(abc$de, fg[h], i)
> }
>  > foo(abc$de, fg[h], , i) # add a missing argument for extra fun
> {
>     as.pairlist(alist(abc$de, fg[h], , i))
> }
>
> which is not something you would expect to see at the user level. So
> my recommendation: don't use ...() and pretend that you never
> discovered it in the first place. Use match.call() instead, as
> suggested by Serguei.
>
> [Disclaimer: I have no idea what is actually going on, so these are
> just guesses. There are some hints at
> https://cran.r-project.org/doc/manuals/r-devel/R-ints.html#Dot_002ddot_002ddot-arguments
> if you want to folllow up.]
> "
>
> Cheers,
> Denes
>
>
>
>
> On 10/6/20 8:38 AM, Tim Taylor wrote:
> > I probably need to be more specific.  What confuses me is not the use
> > of substitute, but the parenthesis after the dots.  It clearly works
> > and I can make guesses as to why but it is definitely not obvious.
> > The following function gives the same final result but I can
> > understand what is happening.
> >
> > dots <- function (...) {
> >     exprs <- substitute(list(...))
> >     as.list(exprs[-1])
> > }
> >
> > In the original,     dots <- function(...) as.list(substitute(...())),
> >     Does ...() get parsed in a special way?
> >
> > Tim
> >
> > On Tue, 6 Oct 2020 at 05:30, Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >>
> >> You need to understand what substitute() does -- see ?substitute and/or a tutorial on "R computing on the language" or similar.
> >>
> >> Here is a simple example that may clarify:
> >>
> >>> dots <- function(...) as.list(substitute(...()))
> >>> dots(log(foo))
> >> [[1]]
> >> log(foo)  ## a call, a language object
> >>
> >>> dots2 <- function(...) as.list(...)
> >>> dots2(log(foo))
> >> Error in as.list(...) : object 'foo' not found
> >> ## substitute() does not evaluate its argument; as.list() does
> >>
> >> Cheers,
> >> Bert Gunter
> >>
> >> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> >> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >>
> >>
> >> On Mon, Oct 5, 2020 at 1:37 PM Tim Taylor <tim.taylor at hiddenelephants.co.uk> wrote:
> >>>
> >>> Could someone explain what is happening with the ...() of the
> >>> following function:
> >>>
> >>> dots <- function(...) as.list(substitute(...()))
> >>>
> >>> I understand what I'm getting as a result but not why.   ?dots and
> >>> ?substitute leave me none the wiser.
> >>>
> >>> regards
> >>> Tim
> >>>
> >>> ______________________________________________
> >>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >>> and provide commented, minimal, self-contained, reproducible code.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >


From pd@|gd @end|ng |rom gm@||@com  Tue Oct  6 11:23:07 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 6 Oct 2020 11:23:07 +0200
Subject: [R] understanding as.list(substitute(...()))
In-Reply-To: <e1be8163-8e27-d177-33da-d2287de8cada@kogentum.hu>
References: <CAFLvaCmUSvbTpoBMnkuq_cN_yQSam+Uhm-s5c4WD3NtsikWDtA@mail.gmail.com>
 <CAGxFJbTvDCSyA8Mo25CADw56u5h=zAoOepEV6vYAtwjJMNyuuQ@mail.gmail.com>
 <CAFLvaCmLSkC_96_4a41f1+Z+VDSxoJLr78sLG31BDXmnzirdDQ@mail.gmail.com>
 <e1be8163-8e27-d177-33da-d2287de8cada@kogentum.hu>
Message-ID: <8C175EFE-5B49-4A80-B1FB-615DDE3A91B3@gmail.com>



> On 6 Oct 2020, at 09:22 , D?nes T?th <toth.denes at kogentum.hu> wrote:
> 
> > foo <- function(...) substitute({...()})
> > foo(abc$de, fg[h], i)
> {
>   pairlist(abc$de, fg[h], i)
> }
> > foo(abc$de, fg[h], , i) # add a missing argument for extra fun
> {
>   as.pairlist(alist(abc$de, fg[h], , i))
> }
> 

The 2nd one here is actually an artifact of deparse(). The result is still a pairlist, just one that pairlist(....) cannot reproduce:

> e <- foo(abc$de, fg[h], , i) 
> e[[2]]
[[1]]
abc$de

[[2]]
fg[h]

[[3]]


[[4]]
i

> deparse(e[[2]])
[1] "as.pairlist(alist(abc$de, fg[h], , i))"
> dput(e[[2]])
as.pairlist(alist(abc$de, fg[h], , i))
> mode(e[[2]])
[1] "pairlist"
> mode(e[[2]][[3]])
[1] "name"

I.e. the list in e[2] contains the missing indicator (an empty name). (I'm slightly puzzled why we need the curlies to trigger a deparse, though) 



-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From @v|gro@@ @end|ng |rom ver|zon@net  Tue Oct  6 05:03:57 2020
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Mon, 5 Oct 2020 23:03:57 -0400
Subject: [R] R-help Digest, Vol 212, Issue 4
In-Reply-To: <DM6PR09MB578481A3986AFCE8BA243DA8E50C0@DM6PR09MB5784.namprd09.prod.outlook.com>
References: <mailman.360954.0.1601892221.47640.r-help@r-project.org>
 <DM6PR09MB578481A3986AFCE8BA243DA8E50C0@DM6PR09MB5784.namprd09.prod.outlook.com>
Message-ID: <048501d69b8d$557b5b50$007211f0$@verizon.net>

Nice alternative for some cases but I do not get the desires result as one
long vector. I would change the last line to this:

unlist(as.vector(sapply(1:length(a), 
                        FUN=function(x, 
                                     a, 
                                     b) a[x]:b[x], 
                        a=a,
                        b=b)))

The indenting works better using a constant-width font, LOL.

With all these twists, including using the base R methods like uppercase
Map, the relative speed of these methods comes to mind. No doubt someone
will suggest rewriting this as yet another C function for speed.

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Izmirlian, Grant
(NIH/NCI) [E] via R-help
Sent: Monday, October 5, 2020 1:06 PM
To: 'r-help at r-project.org' <r-help at r-project.org>
Subject: Re: [R] R-help Digest, Vol 212, Issue 4

Hi -- there are lots of replies --I have not read them all, if someone else
suggested this, sorry for duplication. This is similar to the suggestion
using mapply, but not specific to matrices. In fact it's a kludge that
applies to many settings. You 'sapply' over the index 1:2, and pass a, b as
arguments:


a <- c(1,4)
 b <- c(5,8)

sapply(1:2, FUN=function(x, a, b)a[x]:b[x], a=a,b=b)

-----Original Message-----
From: r-help-request at r-project.org <r-help-request at r-project.org>
Sent: Monday, October 05, 2020 6:04 AM
To: r-help at r-project.org
Subject: R-help Digest, Vol 212, Issue 4

Send R-help mailing list submissions to
	r-help at r-project.org

To subscribe or unsubscribe via the World Wide Web, visit
	https://stat.ethz.ch/mailman/listinfo/r-help
or, via email, send a message with subject or body 'help' to
	r-help-request at r-project.org

You can reach the person managing the list at
	r-help-owner at r-project.org

When replying, please edit your Subject line so it is more specific than
"Re: Contents of R-help digest..."

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Tue Oct  6 17:00:59 2020
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Tue, 6 Oct 2020 15:00:59 +0000
Subject: [R] Solving a simple linear equation using uniroot give error
 object 'x' not found
Message-ID: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>

Colleagues,
I am trying to learn to use uniroot to solve a simple linear equation. I define the function, prove the function and a call to the function works. When I try to use uniroot to solve the equation I get an error message,
Error in yfu n(x,10,20) : object 'x' not found.

I hope someone can tell we how I can fix the problem

  if(!require(rootSolve)){install.packages("rootSolve")}
  library(rootSolve)

  # Define the function
  yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
  # Prove the function and a call to the function work
  yfun(10,100,10)
  # use uniroot to find a solution to the
  # function in the range -100 to 100
  uniroot(yfun(x,10,20),c(-100,100))


My output:
>   # Define the function
>   yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>   # Prove the function and a call to the funciton works
>   yfun(10,100,10)
[1] 9
>   # use uniroot to find a solution to the
>   # funciton in the range -100 to 100
>   uniroot(yfun(x,10,20),c(-100,100))
Error in yfun(x, 10, 20) : object 'x' not found

Thank you,
John


John David Sorkin M.D., Ph.D.
Professor of Medicine
Chief, Biostatistics and Informatics
University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
Baltimore VA Medical Center
10 North Greene Street
GRECC (BT/18/GR)
Baltimore, MD 21201-1524
(Phone) 410-605-7119
(Fax) 410-605-7913 (Please call phone number above prior to faxing)


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Oct  6 17:06:35 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 6 Oct 2020 11:06:35 -0400
Subject: [R] Solving a simple linear equation using uniroot give error
 object 'x' not found
In-Reply-To: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <235fa020-7d87-b5d1-e9a2-ee4b7de4ab9c@gmail.com>

On 06/10/2020 11:00 a.m., Sorkin, John wrote:
> Colleagues,
> I am trying to learn to use uniroot to solve a simple linear equation. I define the function, prove the function and a call to the function works. When I try to use uniroot to solve the equation I get an error message,
> Error in yfu n(x,10,20) : object 'x' not found.
> 
> I hope someone can tell we how I can fix the problem
> 
>    if(!require(rootSolve)){install.packages("rootSolve")}
>    library(rootSolve)
> 
>    # Define the function
>    yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>    # Prove the function and a call to the function work
>    yfun(10,100,10)
>    # use uniroot to find a solution to the
>    # function in the range -100 to 100
>    uniroot(yfun(x,10,20),c(-100,100))
> 
> 
> My output:
>>    # Define the function
>>    yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>>    # Prove the function and a call to the funciton works
>>    yfun(10,100,10)
> [1] 9
>>    # use uniroot to find a solution to the
>>    # funciton in the range -100 to 100
>>    uniroot(yfun(x,10,20),c(-100,100))
> Error in yfun(x, 10, 20) : object 'x' not found

The problem is that uniroot() wants a function as first argument, and 
yfun(x,10,20) is not a function, it's the value of a function.  You can 
do it with

  uniroot(function(x) yfun(x,10,20),c(-100,100))

which creates the anonymous function

   function(x) yfun(x,10,20)

and passes that to uniroot().

Duncan Murdoch
> 
> Thank you,
> John
> 
> 
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-7119
> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From herd_dog @end|ng |rom cox@net  Tue Oct  6 17:21:39 2020
From: herd_dog @end|ng |rom cox@net (Philip)
Date: Tue, 6 Oct 2020 08:21:39 -0700
Subject: [R] Installing Perl For Use in R
Message-ID: <65D9CF91F0C44A8BAFB49B41D00653B0@OWNERPC>

I?m getting nowhere with this.  From the website below  I clicked on the ActivePerl 5.26 button which seems to lead me into creating projects on the Cloud rather than downloading the software to my hard drive.

    https://www.activestate.com/products/perl/downloads/

Can someone give me some advise?  What the website is trying to do seems rather shady.

Thanks,
Philip
	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Oct  6 17:28:23 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 06 Oct 2020 08:28:23 -0700
Subject: [R] Solving a simple linear equation using uniroot give error
 object 'x' not found
In-Reply-To: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <83817A3A-DBCD-4D50-ADB6-A64593D38DF4@dcn.davis.ca.us>

Have you looked at the examples in ?uniroot? Don't call yfun... let uniroot do that.

On October 6, 2020 8:00:59 AM PDT, "Sorkin, John" <jsorkin at som.umaryland.edu> wrote:
>Colleagues,
>I am trying to learn to use uniroot to solve a simple linear equation.
>I define the function, prove the function and a call to the function
>works. When I try to use uniroot to solve the equation I get an error
>message,
>Error in yfu n(x,10,20) : object 'x' not found.
>
>I hope someone can tell we how I can fix the problem
>
>  if(!require(rootSolve)){install.packages("rootSolve")}
>  library(rootSolve)
>
>  # Define the function
>  yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>  # Prove the function and a call to the function work
>  yfun(10,100,10)
>  # use uniroot to find a solution to the
>  # function in the range -100 to 100
>  uniroot(yfun(x,10,20),c(-100,100))
>
>
>My output:
>>   # Define the function
>>   yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>>   # Prove the function and a call to the funciton works
>>   yfun(10,100,10)
>[1] 9
>>   # use uniroot to find a solution to the
>>   # funciton in the range -100 to 100
>>   uniroot(yfun(x,10,20),c(-100,100))
>Error in yfun(x, 10, 20) : object 'x' not found
>
>Thank you,
>John
>
>
>John David Sorkin M.D., Ph.D.
>Professor of Medicine
>Chief, Biostatistics and Informatics
>University of Maryland School of Medicine Division of Gerontology and
>Geriatric Medicine
>Baltimore VA Medical Center
>10 North Greene Street
>GRECC (BT/18/GR)
>Baltimore, MD 21201-1524
>(Phone) 410-605-7119
>(Fax) 410-605-7913 (Please call phone number above prior to faxing)
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From m@rc_@chw@rtz @end|ng |rom me@com  Tue Oct  6 17:32:29 2020
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Tue, 6 Oct 2020 11:32:29 -0400
Subject: [R] Installing Perl For Use in R
In-Reply-To: <65D9CF91F0C44A8BAFB49B41D00653B0@OWNERPC>
References: <65D9CF91F0C44A8BAFB49B41D00653B0@OWNERPC>
Message-ID: <DE32DC9E-9BD7-451C-8471-84012CB5D302@me.com>

Hi,

What OS are you on? 

It has been years since I used ActiveState, but it looks like you now need to create an account with them prior to downloading the installation files. They seem to give you the option of creating an account with them, or using Github. I would opt for the former, even though I have a Github account.

If you are on Windows, an alternative Perl distribution is Strawberry Perl:

  http://strawberryperl.com

Regards,

Marc Schwartz

> On Oct 6, 2020, at 11:21 AM, Philip <herd_dog at cox.net> wrote:
> 
> I?m getting nowhere with this.  From the website below  I clicked on the ActivePerl 5.26 button which seems to lead me into creating projects on the Cloud rather than downloading the software to my hard drive.
> 
>    https://www.activestate.com/products/perl/downloads/
> 
> Can someone give me some advise?  What the website is trying to do seems rather shady.
> 
> Thanks,
> Philip


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Oct  6 18:15:29 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 06 Oct 2020 09:15:29 -0700
Subject: [R] Solving a simple linear equation using uniroot give error
 object 'x' not found
In-Reply-To: <235fa020-7d87-b5d1-e9a2-ee4b7de4ab9c@gmail.com>
References: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
 <235fa020-7d87-b5d1-e9a2-ee4b7de4ab9c@gmail.com>
Message-ID: <E7C8BA19-F208-4290-BDC0-D6B3C2B31326@dcn.davis.ca.us>

... or

uniroot( yfun, c( -100, 100 ), diffMean=10, diffSE=20 )

On October 6, 2020 8:06:35 AM PDT, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>On 06/10/2020 11:00 a.m., Sorkin, John wrote:
>> Colleagues,
>> I am trying to learn to use uniroot to solve a simple linear
>equation. I define the function, prove the function and a call to the
>function works. When I try to use uniroot to solve the equation I get
>an error message,
>> Error in yfu n(x,10,20) : object 'x' not found.
>> 
>> I hope someone can tell we how I can fix the problem
>> 
>>    if(!require(rootSolve)){install.packages("rootSolve")}
>>    library(rootSolve)
>> 
>>    # Define the function
>>    yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>>    # Prove the function and a call to the function work
>>    yfun(10,100,10)
>>    # use uniroot to find a solution to the
>>    # function in the range -100 to 100
>>    uniroot(yfun(x,10,20),c(-100,100))
>> 
>> 
>> My output:
>>>    # Define the function
>>>    yfun <- function(x,diffMean,diffSE) ((abs(diffMean)-x)/diffSE)
>>>    # Prove the function and a call to the funciton works
>>>    yfun(10,100,10)
>> [1] 9
>>>    # use uniroot to find a solution to the
>>>    # funciton in the range -100 to 100
>>>    uniroot(yfun(x,10,20),c(-100,100))
>> Error in yfun(x, 10, 20) : object 'x' not found
>
>The problem is that uniroot() wants a function as first argument, and 
>yfun(x,10,20) is not a function, it's the value of a function.  You can
>
>do it with
>
>  uniroot(function(x) yfun(x,10,20),c(-100,100))
>
>which creates the anonymous function
>
>   function(x) yfun(x,10,20)
>
>and passes that to uniroot().
>
>Duncan Murdoch
>> 
>> Thank you,
>> John
>> 
>> 
>> John David Sorkin M.D., Ph.D.
>> Professor of Medicine
>> Chief, Biostatistics and Informatics
>> University of Maryland School of Medicine Division of Gerontology and
>Geriatric Medicine
>> Baltimore VA Medical Center
>> 10 North Greene Street
>> GRECC (BT/18/GR)
>> Baltimore, MD 21201-1524
>> (Phone) 410-605-7119
>> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From r@turner @end|ng |rom @uck|@nd@@c@nz  Tue Oct  6 23:30:37 2020
From: r@turner @end|ng |rom @uck|@nd@@c@nz (Rolf Turner)
Date: Wed, 7 Oct 2020 10:30:37 +1300
Subject: [R] Solving a simple linear equation using uniroot give error
 object 'x' not found
In-Reply-To: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB51674F5BDC93BE87BB873C20E20D0@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <20201007103037.351b85d2@rolf-Latitude-E7470>


On Tue, 6 Oct 2020 15:00:59 +0000
"Sorkin, John" <jsorkin at som.umaryland.edu> wrote:

> Colleagues,
> I am trying to learn to use uniroot to solve a simple linear
> equation. I define the function, prove the function and a call to the
> function works. When I try to use uniroot to solve the equation I get
> an error message, Error in yfu n(x,10,20) : object 'x' not found.
> 
> I hope someone can tell we how I can fix the problem
> 
>   if(!require(rootSolve)){install.packages("rootSolve")}
>   library(rootSolve)

Others have told you how to solve your problem.  I am curious to know
why on earth you are loading the rootSolve package.  The uniroot()
function is in package "stats" which is automatically available.

<SNIP>

cheers,

Rolf Turner

-- 
Honorary Research Fellow
Department of Statistics
University of Auckland
Phone: +64-9-373-7599 ext. 88276


From g||ted|||e2014 @end|ng |rom gm@||@com  Wed Oct  7 14:24:22 2020
From: g||ted|||e2014 @end|ng |rom gm@||@com (Ogbos Okike)
Date: Wed, 7 Oct 2020 13:24:22 +0100
Subject: [R] Fwd: Share your article [ATP_105460] published in Journal of
 Atmospheric and Solar-Terrestrial Physics
In-Reply-To: <0102017502786a84-e6e5bd89-93a3-46f9-8949-c5a08e14970f-000000@eu-west-1.amazonses.com>
References: <0102017502786a84-e6e5bd89-93a3-46f9-8949-c5a08e14970f-000000@eu-west-1.amazonses.com>
Message-ID: <CAC8ss30SBy9m4qZ0T3jFJfVfWJsR2GGFxgbS_svw5Ui4rp6w7w@mail.gmail.com>

Dear Friends,
I am really glad to share this link with you. Some of you have been
instrumental to the success of the work. You are acknowledged accordingly.
I am ever indebted.
Best wishes
Ogbos

---------- Forwarded message ---------
From: Elsevier - Article Status <Article_Status at elsevier.com>
Date: Wed, Oct 7, 2020 at 10:50 AM
Subject: Share your article [ATP_105460] published in Journal of
Atmospheric and Solar-Terrestrial Physics
To: <giftedlife2014 at gmail.com>


[image: Elsevier] <http://www.elsevier.com/>
Share your article!

[image: cover] <https://www.elsevier.com/locate/issn/1364-6826>

Dear Dr. Okike,

We are pleased to let you know that the final version of your article
*Automated
detection of simultaneous/non-simultaneous Forbush decreases and the
associated cosmic ray phenomena* is now available online, containing full
bibliographic details.

To help you access and share this work, we have created a Share Link ? a
personalized URL providing *50 days' free access* to your article. Anyone
clicking on this link before November 26, 2020 will be taken directly to
the final version of your article on ScienceDirect, which they are welcome
to read or download. No sign up, registration or fees are required.

Your personalized Share Link:
https://authors.elsevier.com/a/1bsqC4sIlkq7Kj

Click on the icons below to share with your network:
[image: Facebook]
<https://api.addthis.com/oexchange/0.8/forward/facebook/offer?url=https://authors.elsevier.com/a/1bsqC4sIlkq7Kj&pubid=ra-593812b0ff8778b4&title=AddThis%20%7C%20Home&ct=1>
[image:
Twitter]
<https://api.addthis.com/oexchange/0.8/forward/twitter/offer?url=https://authors.elsevier.com/a/1bsqC4sIlkq7Kj&pubid=ra-593812b0ff8778b4&title=AddThis%20%7C%20Home&ct=1>
[image:
LinkedIn]
<https://api.addthis.com/oexchange/0.8/forward/linkedin/offer?url=https://authors.elsevier.com/a/1bsqC4sIlkq7Kj&pubid=ra-593812b0ff8778b4&title=AddThis%20%7C%20Home&ct=1>
[image:
Mendeley]
<https://api.addthis.com/oexchange/0.8/forward/mendeley/offer?url=https://authors.elsevier.com/a/1bsqC4sIlkq7Kj&pubid=ra-42fed1e187bae420&title=AddThis%20%7C%20Home&ct=1>
[image:
WeChat]
<https://api.addthis.com/oexchange/0.8/forward/wechat/offer?url=https://authors.elsevier.com/a/1bsqC4sIlkq7Kj&pubid=ra-593812b0ff8778b4&title=New%20Paper%20Published%20%7C%20&ct=1>

We encourage you to use this Share Link to download a copy of the article
for your own archive. The URL is also a quick and easy way to share your
work with colleagues, co-authors and friends. And you are welcome to add
the Share Link to your homepage or social media profiles, such as Facebook
and Twitter.

You can find out more about Share Links on Elsevier.com
<https://www.elsevier.com/authors/journal-authors/submit-your-paper/sharing-and-promoting-your-article/share-link>
.

Did you know, as an author, you can use your article for a wide range of
scholarly, non-commercial purposes, and share and post your article online
in a variety of ways? For more information visit
www.elsevier.com/sharing-articles.

Kind regards,
Elsevier Researcher Support

*Increase your article's impact*
Our Get Noticed
<https://www.elsevier.com/__data/assets/pdf_file/0013/201325/Get-Noticed_Brochure_Sep2016.pdf>
guide contains a range of practical tips and advice to help you maximize
visibility of your article.

*Publishing Lab*
Do you have ideas on how we can improve the author experience? Sign up for
the Elsevier Publishing Lab <http://www.elsevier.com/publishing-lab> and
help us develop our publishing innovations!

*Have questions or need assistance?*
Please do not reply to this automated message.
For further assistance, please visit our Elsevier Support Center
<http://service.elsevier.com/> where you search for solutions on a range of
topics and find answers to frequently asked questions.
You can also talk to our researcher support team by phone 24 hours a day
from Monday-Friday and 24/7 by live chat and email.

*? 2018 Elsevier Ltd | Privacy Policy* http://www.elsevier.com/privacypolicy
Elsevier Limited, The Boulevard, Langford Lane, Kidlington, Oxford, OX5
1GB, United Kingdom, Registration No. 1982084. This e-mail has been sent to
you from Elsevier Ltd. To ensure delivery to your inbox (not bulk or junk
folders), please add article_status at elsevier.com to your address book or
safe senders list.

	[[alternative HTML version deleted]]


From g@y@thr|@n@g@r@j@n @end|ng |rom gm@||@com  Wed Oct  7 18:17:24 2020
From: g@y@thr|@n@g@r@j@n @end|ng |rom gm@||@com (Gayathri Nagarajan)
Date: Wed, 7 Oct 2020 09:17:24 -0700
Subject: [R] How to use R for Speech to text conversion
Message-ID: <CANt+qPiP7TRiYsicOPfAMHhfHON6vDro-N4X2OnmkXWJGxJuLQ@mail.gmail.com>

Hi

Iam a newbie to NLP and I would like to get some directions on how to
convert speech file to text

Google search leads me to using GoogleLanguageR Package and API's but these
need payments to be made for Google.

Can someone suggest ways in which I can do the speech to text conversion in
R studio ?

Thanks for your help and time

Regards
Gayathri

	[[alternative HTML version deleted]]


From M@Roo@ @end|ng |rom |1-out@ourc|ng@eu  Wed Oct  7 20:28:54 2020
From: M@Roo@ @end|ng |rom |1-out@ourc|ng@eu (Marc Roos)
Date: Wed, 7 Oct 2020 20:28:54 +0200
Subject: [R] How to use R for Speech to text conversion
In-Reply-To: <CANt+qPiP7TRiYsicOPfAMHhfHON6vDro-N4X2OnmkXWJGxJuLQ@mail.gmail.com>
Message-ID: <"H00000710017f41f.1602095333.sx.f1-outsourcing.eu*"@MHS>

 



I am also interested in this.
Maybe a start:
https://voice.mozilla.org/





-----Original Message-----
To: r-help at r-project.org
Subject: *****SPAM***** [R] How to use R for Speech to text conversion

Hi

Iam a newbie to NLP and I would like to get some directions on how to 
convert speech file to text

Google search leads me to using GoogleLanguageR Package and API's but 
these need payments to be made for Google.

Can someone suggest ways in which I can do the speech to text conversion 
in R studio ?

Thanks for your help and time

Regards
Gayathri

	[[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide 
http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Wed Oct  7 20:31:41 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 7 Oct 2020 11:31:41 -0700
Subject: [R] How to use R for Speech to text conversion
In-Reply-To: <CANt+qPiP7TRiYsicOPfAMHhfHON6vDro-N4X2OnmkXWJGxJuLQ@mail.gmail.com>
References: <CANt+qPiP7TRiYsicOPfAMHhfHON6vDro-N4X2OnmkXWJGxJuLQ@mail.gmail.com>
Message-ID: <CAGxFJbTAYkbs2XRKeDFjcvpowo6h0kAsgTg7pwvKzzcskaBdEA@mail.gmail.com>

Have you checked here:
https://cran.r-project.org/web/views/NaturalLanguageProcessing.html

Speech to text is a very complex, specialized task requiring, I would
expect, a lot of IP. It would not surprise
me if you have to resort to big time, specialized software products with or
without R. "Speech to text with R"
found some hits, but mostly the google package you refer to. You might do
better with Python.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, Oct 7, 2020 at 9:31 AM Gayathri Nagarajan <
gayathri.nagarajan at gmail.com> wrote:

> Hi
>
> Iam a newbie to NLP and I would like to get some directions on how to
> convert speech file to text
>
> Google search leads me to using GoogleLanguageR Package and API's but these
> need payments to be made for Google.
>
> Can someone suggest ways in which I can do the speech to text conversion in
> R studio ?
>
> Thanks for your help and time
>
> Regards
> Gayathri
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From w@gner@c|@r|@@e @end|ng |rom gm@||@com  Wed Oct  7 17:40:19 2020
From: w@gner@c|@r|@@e @end|ng |rom gm@||@com (Clarisse Wagner)
Date: Wed, 7 Oct 2020 16:40:19 +0100
Subject: [R] dynamic factor models
Message-ID: <CAOzsqq=h_LNSNhynNULf7zqZ89ozNxjn05OMLN+ivXR5Vgk=rg@mail.gmail.com>

  Please,

Would you kindly inform me if you have any course that includes "dynamic
factor models" ?

Thank you
Lisbon University
Portugal

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Oct  7 23:40:07 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 7 Oct 2020 22:40:07 +0100
Subject: [R] dynamic factor models
In-Reply-To: <CAOzsqq=h_LNSNhynNULf7zqZ89ozNxjn05OMLN+ivXR5Vgk=rg@mail.gmail.com>
References: <CAOzsqq=h_LNSNhynNULf7zqZ89ozNxjn05OMLN+ivXR5Vgk=rg@mail.gmail.com>
Message-ID: <2fa3ae5d-9464-3548-4a18-032cfdf364ee@sapo.pt>

Hello,

R-Help is a mailing list for questions on R code, it does not teach R.
(Well, many times it does, askers have doubts and the answers will 
hopefully teach something, try to make it clear.)

Can't you ask the department? In my time the Faculty of Sciences DEIO 
was the only university *department* of statistics, in all other 
Portuguese universities statistics was a section of the math dept.

Hope this helps,

Rui Barradas

?s 16:40 de 07/10/20, Clarisse Wagner escreveu:
>    Please,
> 
> Would you kindly inform me if you have any course that includes "dynamic
> factor models" ?
> 
> Thank you
> Lisbon University
> Portugal
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From ||@her @end|ng |rom p|e@@th@n@com  Thu Oct  8 00:26:07 2020
From: ||@her @end|ng |rom p|e@@th@n@com (Dennis Fisher)
Date: Wed, 7 Oct 2020 15:26:07 -0700
Subject: [R] Adding text to existing PDF's created with R
Message-ID: <280B0616-5644-4911-8077-C0374001624D@plessthan.com>

R 4.0.2
OS X

Colleagues

Does R have the capability of adding text (e.g., page numbers) to an existing PDF (previously created with R) -- other than adding this text, the PDF should be unchanged (except for a new filename).

The intent is as follows:  
	I have multiple PDFs that I eventually merge into a single PDF, separating each one with a separator page.  
	The content of the separator pages comes from a Word document.
	The task is performed with textreadr, officer, and pdftools.
I can insert page numbers into the separator pages (created as PDF documents).
I join the separator pages and the original PDFs using python's join command.
But I have not been able to figure out how to add page numbers to the existing PDF's.

Any help would be appreciated.

Dennis


Dennis Fisher MD
P < (The "P Less Than" Company)
Phone / Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com <http://www.plessthan.com/>





	[[alternative HTML version deleted]]


From ur@ @end|ng |rom k|e|nho|derm@nn@de  Thu Oct  8 01:55:30 2020
From: ur@ @end|ng |rom k|e|nho|derm@nn@de (Urs Kleinholdermann)
Date: Thu, 8 Oct 2020 01:55:30 +0200
Subject: [R] Adding text to existing PDF's created with R
In-Reply-To: <280B0616-5644-4911-8077-C0374001624D@plessthan.com>
References: <280B0616-5644-4911-8077-C0374001624D@plessthan.com>
Message-ID: <c92539eb-6074-48bd-73ee-214110337abd@kleinholdermann.de>

I don't know if R is capable of doing that.? What you want to do should 
be possible using pdftk with the multistamp option though:

1. create another pdf (pagenumbers.pdf) of the same length (same number 
of pages) which just has the page numbers on it

2. merge with existing, unnumbered text.pdf using

pdftk pagenumbers.pdf multistamp text.pdf output pagenumbers_and_text.pdf

On 08.10.20 00:26, Dennis Fisher wrote:
> R 4.0.2
> OS X
>
> Colleagues
>
> Does R have the capability of adding text (e.g., page numbers) to an existing PDF (previously created with R) -- other than adding this text, the PDF should be unchanged (except for a new filename).
>
> The intent is as follows:
> 	I have multiple PDFs that I eventually merge into a single PDF, separating each one with a separator page.
> 	The content of the separator pages comes from a Word document.
> 	The task is performed with textreadr, officer, and pdftools.
> I can insert page numbers into the separator pages (created as PDF documents).
> I join the separator pages and the original PDFs using python's join command.
> But I have not been able to figure out how to add page numbers to the existing PDF's.
>
> Any help would be appreciated.
>
> Dennis
>
>
> Dennis Fisher MD
> P < (The "P Less Than" Company)
> Phone / Fax: 1-866-PLessThan (1-866-753-7784)
> www.PLessThan.com <http://www.plessthan.com/>
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct  8 03:51:28 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 07 Oct 2020 18:51:28 -0700
Subject: [R] How to use R for Speech to text conversion
In-Reply-To: <CAGxFJbTAYkbs2XRKeDFjcvpowo6h0kAsgTg7pwvKzzcskaBdEA@mail.gmail.com>
References: <CANt+qPiP7TRiYsicOPfAMHhfHON6vDro-N4X2OnmkXWJGxJuLQ@mail.gmail.com>
 <CAGxFJbTAYkbs2XRKeDFjcvpowo6h0kAsgTg7pwvKzzcskaBdEA@mail.gmail.com>
Message-ID: <C756021C-3305-4BC5-95A4-CF4E8C315F0D@dcn.davis.ca.us>

Whether you use RStudio is up to you... the heavy lifting would be done by R anyway.

I am not a STT person, but TensorFlow was recently released on CRAN [1] so there may be more opportunities for R users to make headway in this area.

[1] https://tensorflow.rstudio.com/installation/

On October 7, 2020 11:31:41 AM PDT, Bert Gunter <bgunter.4567 at gmail.com> wrote:
>Have you checked here:
>https://cran.r-project.org/web/views/NaturalLanguageProcessing.html
>
>Speech to text is a very complex, specialized task requiring, I would
>expect, a lot of IP. It would not surprise
>me if you have to resort to big time, specialized software products
>with or
>without R. "Speech to text with R"
>found some hits, but mostly the google package you refer to. You might
>do
>better with Python.
>
>Bert Gunter
>
>"The trouble with having an open mind is that people keep coming along
>and
>sticking things into it."
>-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
>On Wed, Oct 7, 2020 at 9:31 AM Gayathri Nagarajan <
>gayathri.nagarajan at gmail.com> wrote:
>
>> Hi
>>
>> Iam a newbie to NLP and I would like to get some directions on how to
>> convert speech file to text
>>
>> Google search leads me to using GoogleLanguageR Package and API's but
>these
>> need payments to be made for Google.
>>
>> Can someone suggest ways in which I can do the speech to text
>conversion in
>> R studio ?
>>
>> Thanks for your help and time
>>
>> Regards
>> Gayathri
>>
>>         [[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From eh@@n@k@r|m @end|ng |rom gm@||@com  Thu Oct  8 02:25:28 2020
From: eh@@n@k@r|m @end|ng |rom gm@||@com (Ehsan Karim)
Date: Wed, 7 Oct 2020 17:25:28 -0700
Subject: [R] svyglm: p-values and confidence intervals contradictory
In-Reply-To: <CADGDKJig2m37E+rkG+598rkNf72GKMd36St8PiMoRo7-mGiF8Q@mail.gmail.com>
References: <CADGDKJig2m37E+rkG+598rkNf72GKMd36St8PiMoRo7-mGiF8Q@mail.gmail.com>
Message-ID: <CADGDKJijBppbhyLnGqppgoJn6dwC4KSMgN=opwq--wPSr7812w@mail.gmail.com>

Dear list:

I am getting p-values and confidence intervals contradictory in
svyglm() output from the survey package.

Here is a reproducible example:
https://ehsanx.github.io/SurveyDataAnalysis/#114_Regression_analysis

This problem can be easily fixed by setting appropriate df.resid in
the summary function though. But as a default option, contradictory
p-values and confidence intervals or Inf SEs is probably a bug, or I
may have missed something.

Regards,

Ehsan
https://ehsank.com/
----------------------------
packageVersion("survey")
?4.0?
R.version
               _
platform       x86_64-w64-mingw32
arch           x86_64
os             mingw32
system         x86_64, mingw32
status
major          4
minor          0.2
year           2020
month          06
day            22
svn rev        78730
language       R
version.string R version 4.0.2 (2020-06-22)
nickname       Taking Off Again


From wjm1 @end|ng |rom c@@@co|umb|@@edu  Thu Oct  8 06:56:59 2020
From: wjm1 @end|ng |rom c@@@co|umb|@@edu (William Michels)
Date: Wed, 7 Oct 2020 21:56:59 -0700
Subject: [R] Lahman Baseball Data Using R DBI Package
In-Reply-To: <CAHqSRuRoLcUw0mOJ_aDud8rivbdCvxtOreRjdp-N8AJ0nnv8ow@mail.gmail.com>
References: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>
 <CAHqSRuR-NmoGaEW9YavHxVNitZmezK_rcnwpRzuoHik657wtVQ@mail.gmail.com>
 <C44F824A74414353A579A0B468883116@OWNERPC>
 <CAHqSRuRoLcUw0mOJ_aDud8rivbdCvxtOreRjdp-N8AJ0nnv8ow@mail.gmail.com>
Message-ID: <CAA99HCxs_oeJhRGEeWAmoQ1CPNU9Pu8GqDbg-6ZAh1L7fvJS1w@mail.gmail.com>

Hi Philip,

You've probably realized by now that R doesn't like column names that
start with a number. If you try to access an R-dataframe column named
2B or 3B with the familiar "$" notation, you'll get an error:

> library(DBI)
> library(RSQLite)
> con2 <- dbConnect(SQLite(), "~/R_Dir/lahmansbaseballdb.sqlite")
> Hack12Batting <- dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600 ORDER BY AB DESC")
> Hack12Batting$AB
 [1] 664 661 639 632 632 632 626 623 620 618 617 613 606 605 602
> Hack12Batting$3B
Error: unexpected numeric constant in "Hack12Batting$3"

How to handle? You can rename columns on-the-fly by piping. See
reference [1] and use either library(magrittr) or library(dplyr) or a
combination thereof:

library(magrittr)
dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
ORDER BY AB DESC") %>% set_colnames(make.names(colnames(.)))

#OR one of the following:

library(dplyr)
dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
ORDER BY AB DESC") %>% rename(X2B = `2B`, X3B = `3B`)

library(dplyr)
dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
ORDER BY AB DESC") %>% `colnames<-`(make.names(colnames(.)))

library(dplyr)
dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
ORDER BY AB DESC") %>% magrittr::set_colnames(make.names(colnames(.)))

Best, Bill.

W. Michels, Ph.D.

[1] https://stackoverflow.com/questions/28100780/use-with-replacement-functions-like-colnames










On Fri, Oct 2, 2020 at 7:34 PM Bill Dunlap <williamwdunlap at gmail.com> wrote:
>
> The double quotes are required by SQL if a name is not of the form
> letter-followed-by-any-number-of-letters-or-numbers or if the name is a SQL
> keyword like 'where' or 'select'.  If you are doing this from a function,
> you may as well quote all the names.
>
> -Bill
>
> On Fri, Oct 2, 2020 at 6:18 PM Philip <herd_dog at cox.net> wrote:
>
> > The \?2B\? worked.  Have no idea why.  Can you point me somewhere that can
> > explain this to me.
> >
> > Thanks,
> > Philip
> >
> > *From:* Bill Dunlap
> > *Sent:* Friday, October 2, 2020 3:54 PM
> > *To:* Philip
> > *Cc:* r-help
> > *Subject:* Re: [R] Lahman Baseball Data Using R DBI Package
> >
> > Have you tried putting double quotes around 2B and 3B:  "...2B, 3B, ..."
> > -> "...\"2B\",\"3B\",..."?
> >
> > -Bill
> >
> > On Fri, Oct 2, 2020 at 3:49 PM Philip <herd_dog at cox.net> wrote:
> >
> >> I?m trying to pull data from one table (batting) in the Lahman Baseball
> >> database.  Notice X2B for doubles and X3B for triples ? fourth and fifth
> >> from the right.
> >>
> >> The dbGetQuery function runs fine when I leave there two out but I get
> >> error messages (in red) when I include 2B/3B or X2B/X3B.
> >>
> >> Can anyone give me some direction?
> >>
> >> Thanks,
> >> Philip Heinrich
> >>
> >> ***************************************************************************************************************************************************
> >> tail(dbReadTable(Lahman,"batting"))
> >>
> >> ID                       playerID      yearID    stint teamID team_ID
> >> lgID   G        G_batting   AB     R     H       X2B    X3B   HR   RBI   SB
> >> 107414 107414 yastrmi01      2019       1       SFN       2920
> >> NL     107        NA          371   64  101      22       3     21
> >> 55    2
> >> 107416 107416 yelicch01      2019        1       MIL       2911
> >> NL     130        NA          489 100  161      29       3     44    97   30
> >> 107419 107419 youngal01     2019       1       ARI        2896
> >> NL       17        NA            25     1      1        0       0
> >> 0      0     0
> >> 107420 107420 zagunma01   2019        1      CHN       2901      NL
> >> 30        NA             36     2      9        3       0      0
> >> 5     0
> >> 107422 107422 zavalse01      2019        1      CHA       2900
> >> AL        5        NA             12     1      1        0       0
> >> 0       0     0
> >> 107427 107427 zimmery01     2019        1      WAS      2925      NL
> >> 52        NA           171   20    44        9      0      6      27     0
> >> 107428 107428 zobribe01       2019        1      CHN      2901
> >> NL      47        NA           150   24   39         5      0      1
> >> 17     0
> >> 107429 107429 zuninmi01       2019        1      TBA       2922
> >> AL      90        NA           266    30  44       10      1      9
> >> 32     0
> >>
> >>
> >> Hack11Batting <- dbGetQuery(Lahman,"SELECT
> >> playerID,yearID,AB,R,H,2B,3B,HR,
> >>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
> >> batting
> >>                             WHERE yearID = 2018 AND AB >99")
> >> Error: unrecognized token: "2B"
> >>
> >> Hack11Batting <- dbGetQuery(Lahman,"SELECT
> >> playerID,yearID,AB,R,H,X2B,X3B,HR,
> >>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
> >> batting
> >>                             WHERE yearID = 2018 AND AB >99")
> >> Error: no such column: X2B
> >>
> >>         [[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Thu Oct  8 14:54:39 2020
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Thu, 8 Oct 2020 14:54:39 +0200
Subject: [R] unable to access index for repository...
In-Reply-To: <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
Message-ID: <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>

Drop the RStudio repos.

Best,
Uwe Ligges

On 05.10.2020 11:10, Steven Yen wrote:
> Thanks. I did as suggested but still received a warning, though the 
> installation went through. Anything I could do to install without the 
> warning message.
> 
> What is the contrib.url argument?
> 
>  > install.packages("aod",repos='https://cran-archive.r-project.org')
> Warning in install.packages :
>  ? unable to access index for repository 
> http://cran.rstudio.com/bin/windows/contrib/3.0
> trying URL 
> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
> Content type 'application/zip' length 225712 bytes (220 Kb)
> opened URL
> downloaded 220 Kb
> 
> package ?aod? successfully unpacked and MD5 sums checked
> 
> The downloaded binary packages are in
> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>  >
> 
> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>> Then you'd rather need
>>
>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>
>> or use the contrib.url argument.
>>
>> Best,
>> Uwe Ligges
>>
>>
>> On 05.10.2020 10:47, Steven Yen wrote:
>>> Thanks for the help. I do update to the latest R-4.0.2. As I said, 
>>> for reasons that's hard to explain, some of my tasks are better 
>>> handled with an older version of R, in this case R-3.0.3. Please just 
>>> help me install packages successfully with this older version of R.
>>>
>>> I ran the following line but obviously was not getting it across.
>>>
>>> =====
>>>
>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') 
>>>> Warning in 
>>> install.packages : unable to access index for repository 
>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in 
>>> install.packages : unable to access index for repository 
>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
>>> Warning in install.packages : package ?aod? is not available (for R 
>>> version 3.0.3)
>>>
>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>> From
>>>>
>>>> ../ReadMe
>>>> in the mentioned web resource:
>>>>
>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>
>>>> We do not hold binaries of several year old versions of R on CRAN.
>>>>
>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to 
>>>> update to 4.0.2.
>>>>
>>>> Best,
>>>> Uwe Ligges
>>>>
>>>>
>>>>
>>>>
>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>> I had to install/use an older version of (R-3.0.3) for a reason. While
>>>>> installing a package from CRAN (either in RStudio or R), I received 
>>>>> the
>>>>> following warning message saying unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
>>>>> this case, I tried to install "aod". The install nevertheless went
>>>>> through, as confirmed by the library statement (I did not try to use
>>>>> it). Any idea? Thank you.
>>>>>
>>>>> =====
>>>>>
>>>>> Warning: unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>>>> access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>> install.packages("aod") Warning in install.packages : unable to access
>>>>> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>> Warning in install.packages : unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>> available as a source package but not as a binary Warning in
>>>>> install.packages : package ?aod? is not available (for R version 
>>>>> 3.0.3)
>>>>> ? > library(aod)
>>>>>
>>>>>
>>>>> ????[[alternative HTML version deleted]]
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide 
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From |r1d_m@|| @end|ng |rom y@hoo@|r  Thu Oct  8 09:08:19 2020
From: |r1d_m@|| @end|ng |rom y@hoo@|r (fr1d_mail)
Date: Thu, 8 Oct 2020 09:08:19 +0200
Subject: [R] unable to plot bode - phase with control package
References: <7102d570-0a51-2279-d56a-2c31679c7348.ref@yahoo.fr>
Message-ID: <7102d570-0a51-2279-d56a-2c31679c7348@yahoo.fr>

Dear All

I hope my question is relevant on this forum, else very sorry for the 
disturbance

I want to simply plot a bode diagram of a siso model

using the 'bodeplot' command in the control package fail due to error in 
'issiso' evaluation...

Error in if (issiso(sys)) {:

then I try by myself some retro-engineering :)

the problem is when I use

H <- freqresp(syst, w)
mag = 20*log10(abs(H))
phase <- atan2(Im(H), Re(H)) * 180/pi

if the order of the system is higher than 2 it is wrong (result will be 
only between -pi / pi)

how to proceed ? for each evaluated point take a derivative and evaluate 
the order to add the proper number of pi ?

Thanks for the help !

Best

Fr?d?ric


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Oct  8 15:59:55 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 8 Oct 2020 09:59:55 -0400
Subject: [R] unable to access index for repository...
In-Reply-To: <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
Message-ID: <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>

He didn't specify the RStudio repos, though it's probably implicitly 
specified in getOption("repos").  I wonder why install.packages() is 
looking there, when repos is given explicitly?

On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
> Drop the RStudio repos.
> 
> Best,
> Uwe Ligges
> 
> On 05.10.2020 11:10, Steven Yen wrote:
>> Thanks. I did as suggested but still received a warning, though the
>> installation went through. Anything I could do to install without the
>> warning message.
>>
>> What is the contrib.url argument?
>>
>>   > install.packages("aod",repos='https://cran-archive.r-project.org')
>> Warning in install.packages :
>>   ? unable to access index for repository
>> http://cran.rstudio.com/bin/windows/contrib/3.0
>> trying URL
>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>> Content type 'application/zip' length 225712 bytes (220 Kb)
>> opened URL
>> downloaded 220 Kb
>>
>> package ?aod? successfully unpacked and MD5 sums checked
>>
>> The downloaded binary packages are in
>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>   >
>>
>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>> Then you'd rather need
>>>
>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>
>>> or use the contrib.url argument.
>>>
>>> Best,
>>> Uwe Ligges
>>>
>>>
>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>> Thanks for the help. I do update to the latest R-4.0.2. As I said,
>>>> for reasons that's hard to explain, some of my tasks are better
>>>> handled with an older version of R, in this case R-3.0.3. Please just
>>>> help me install packages successfully with this older version of R.
>>>>
>>>> I ran the following line but obviously was not getting it across.
>>>>
>>>> =====
>>>>
>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/')
>>>>> Warning in
>>>> install.packages : unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>> install.packages : unable to access index for repository
>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0
>>>> Warning in install.packages : package ?aod? is not available (for R
>>>> version 3.0.3)
>>>>
>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>> From
>>>>>
>>>>> ../ReadMe
>>>>> in the mentioned web resource:
>>>>>
>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>
>>>>> We do not hold binaries of several year old versions of R on CRAN.
>>>>>
>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>> update to 4.0.2.
>>>>>
>>>>> Best,
>>>>> Uwe Ligges
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>> I had to install/use an older version of (R-3.0.3) for a reason. While
>>>>>> installing a package from CRAN (either in RStudio or R), I received
>>>>>> the
>>>>>> following warning message saying unable to access index for repository
>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
>>>>>> this case, I tried to install "aod". The install nevertheless went
>>>>>> through, as confirmed by the library statement (I did not try to use
>>>>>> it). Any idea? Thank you.
>>>>>>
>>>>>> =====
>>>>>>
>>>>>> Warning: unable to access index for repository
>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>>>>> access index for repository
>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>> install.packages("aod") Warning in install.packages : unable to access
>>>>>> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>> Warning in install.packages : unable to access index for repository
>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>>> available as a source package but not as a binary Warning in
>>>>>> install.packages : package ?aod? is not available (for R version
>>>>>> 3.0.3)
>>>>>>  ? > library(aod)
>>>>>>
>>>>>>
>>>>>>  ????[[alternative HTML version deleted]]
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct  8 16:32:19 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 08 Oct 2020 07:32:19 -0700
Subject: [R] unable to plot bode - phase with control package
In-Reply-To: <7102d570-0a51-2279-d56a-2c31679c7348@yahoo.fr>
References: <7102d570-0a51-2279-d56a-2c31679c7348.ref@yahoo.fr>
 <7102d570-0a51-2279-d56a-2c31679c7348@yahoo.fr>
Message-ID: <CA797259-198D-4E86-A094-F9ACE9B68499@dcn.davis.ca.us>

a) What is so difficult about the idea that this list is about R, not theory? There do exist forums about control theory (e.g. engineering.stackexchange.com)

b) Using [-pi,+pi) is not "wrong"... it is numerically more precise, though it may not convey what you would prefer to convey.

c) The general case with poles and zeroes is more complicated than just adding the order of your system. Do a search on

"winding number" "bode"

But if by inspection you think that shortcut will work for your system then do what you need to.

d) If implementing a more general alternative solution is your itch, I am sure the maintainer of this _contributed package_ would welcome patches to add features.


On October 8, 2020 12:08:19 AM PDT, fr1d_mail via R-help <r-help at r-project.org> wrote:
>Dear All
>
>I hope my question is relevant on this forum, else very sorry for the 
>disturbance
>
>I want to simply plot a bode diagram of a siso model
>
>using the 'bodeplot' command in the control package fail due to error
>in 
>'issiso' evaluation...
>
>Error in if (issiso(sys)) {:
>
>then I try by myself some retro-engineering :)
>
>the problem is when I use
>
>H <- freqresp(syst, w)
>mag = 20*log10(abs(H))
>phase <- atan2(Im(H), Re(H)) * 180/pi
>
>if the order of the system is higher than 2 it is wrong (result will be
>
>only between -pi / pi)
>
>how to proceed ? for each evaluated point take a derivative and
>evaluate 
>the order to add the proper number of pi ?
>
>Thanks for the help !
>
>Best
>
>Fr?d?ric
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Oct  8 16:52:04 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 8 Oct 2020 10:52:04 -0400
Subject: [R] unable to access index for repository...
In-Reply-To: <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
Message-ID: <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>

Just remembered:  RStudio runs its own wrapper around 
install.packages().  Steven, you should try doing the install from 
outside of RStudio, and see if it makes a difference.

Duncan Murdoch

On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
> He didn't specify the RStudio repos, though it's probably implicitly
> specified in getOption("repos").  I wonder why install.packages() is
> looking there, when repos is given explicitly?
> 
> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>> Drop the RStudio repos.
>>
>> Best,
>> Uwe Ligges
>>
>> On 05.10.2020 11:10, Steven Yen wrote:
>>> Thanks. I did as suggested but still received a warning, though the
>>> installation went through. Anything I could do to install without the
>>> warning message.
>>>
>>> What is the contrib.url argument?
>>>
>>>    > install.packages("aod",repos='https://cran-archive.r-project.org')
>>> Warning in install.packages :
>>>    ? unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>> trying URL
>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>> opened URL
>>> downloaded 220 Kb
>>>
>>> package ?aod? successfully unpacked and MD5 sums checked
>>>
>>> The downloaded binary packages are in
>>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>    >
>>>
>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>> Then you'd rather need
>>>>
>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>
>>>> or use the contrib.url argument.
>>>>
>>>> Best,
>>>> Uwe Ligges
>>>>
>>>>
>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I said,
>>>>> for reasons that's hard to explain, some of my tasks are better
>>>>> handled with an older version of R, in this case R-3.0.3. Please just
>>>>> help me install packages successfully with this older version of R.
>>>>>
>>>>> I ran the following line but obviously was not getting it across.
>>>>>
>>>>> =====
>>>>>
>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/')
>>>>>> Warning in
>>>>> install.packages : unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>> install.packages : unable to access index for repository
>>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0
>>>>> Warning in install.packages : package ?aod? is not available (for R
>>>>> version 3.0.3)
>>>>>
>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>> From
>>>>>>
>>>>>> ../ReadMe
>>>>>> in the mentioned web resource:
>>>>>>
>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>
>>>>>> We do not hold binaries of several year old versions of R on CRAN.
>>>>>>
>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>>> update to 4.0.2.
>>>>>>
>>>>>> Best,
>>>>>> Uwe Ligges
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>> I had to install/use an older version of (R-3.0.3) for a reason. While
>>>>>>> installing a package from CRAN (either in RStudio or R), I received
>>>>>>> the
>>>>>>> following warning message saying unable to access index for repository
>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message below. In
>>>>>>> this case, I tried to install "aod". The install nevertheless went
>>>>>>> through, as confirmed by the library statement (I did not try to use
>>>>>>> it). Any idea? Thank you.
>>>>>>>
>>>>>>> =====
>>>>>>>
>>>>>>> Warning: unable to access index for repository
>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>>>>>> access index for repository
>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>> install.packages("aod") Warning in install.packages : unable to access
>>>>>>> index for repository http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>> Warning in install.packages : unable to access index for repository
>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>>>> available as a source package but not as a binary Warning in
>>>>>>> install.packages : package ?aod? is not available (for R version
>>>>>>> 3.0.3)
>>>>>>>   ? > library(aod)
>>>>>>>
>>>>>>>
>>>>>>>   ????[[alternative HTML version deleted]]
>>>>>>>
>>>>>>> ______________________________________________
>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>> PLEASE do read the posting guide
>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>


From wjm1 @end|ng |rom c@@@co|umb|@@edu  Thu Oct  8 17:18:06 2020
From: wjm1 @end|ng |rom c@@@co|umb|@@edu (William Michels)
Date: Thu, 8 Oct 2020 08:18:06 -0700
Subject: [R] Installing Perl For Use in R
In-Reply-To: <DE32DC9E-9BD7-451C-8471-84012CB5D302@me.com>
References: <65D9CF91F0C44A8BAFB49B41D00653B0@OWNERPC>
 <DE32DC9E-9BD7-451C-8471-84012CB5D302@me.com>
Message-ID: <CAA99HCwyotWpQ-9wV6-625byP==jsRGNkRUpv1-tzGJfZiM6Pg@mail.gmail.com>

Hi Philip,

"Perl Download"
https://www.perl.org/get.html

The above link gives you the option to install from source or from
ActiveState. The first link below (source) proudly proclaims, "Perl
compiles on over 100 platforms..." and the second link below (binary)
similarly proclaims, "Perl supports over 100 platforms!":

"Perl Source"
https://www.cpan.org/src/README.html

"Perl Ports (Binary Distributions)"
https://www.cpan.org/ports/index.html

HTH, Bill.

W. Michels, Ph.D.



On Tue, Oct 6, 2020 at 8:32 AM Marc Schwartz via R-help
<r-help at r-project.org> wrote:
>
> Hi,
>
> What OS are you on?
>
> It has been years since I used ActiveState, but it looks like you now need to create an account with them prior to downloading the installation files. They seem to give you the option of creating an account with them, or using Github. I would opt for the former, even though I have a Github account.
>
> If you are on Windows, an alternative Perl distribution is Strawberry Perl:
>
>   http://strawberryperl.com
>
> Regards,
>
> Marc Schwartz
>
> > On Oct 6, 2020, at 11:21 AM, Philip <herd_dog at cox.net> wrote:
> >
> > I?m getting nowhere with this.  From the website below  I clicked on the ActivePerl 5.26 button which seems to lead me into creating projects on the Cloud rather than downloading the software to my hard drive.
> >
> >    https://www.activestate.com/products/perl/downloads/
> >
> > Can someone give me some advise?  What the website is trying to do seems rather shady.
> >
> > Thanks,
> > Philip
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @tyen @end|ng |rom ntu@edu@tw  Thu Oct  8 17:54:09 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Thu, 8 Oct 2020 23:54:09 +0800
Subject: [R] unable to access index for repository...
In-Reply-To: <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
Message-ID: <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>

Thanks. You gentlemen please tell me what this means. In R (outside of 
RStudio) I ran:

install.packages("aod")

Received a warning (and installation did not seem to go through).

Then I tried

install.packages("aod",repos='https://cran-archive.r-project.org')

Received a warning but it went on to try

https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip

and it worked. See log below.

I expect to continue to use R-3.0.3 for a while and I very much like 
this to become a routine. Thank you all.

Steven Yen

 > install.packages("aod")
Warning in install.packages :
 ? unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0
Warning in install.packages :
 ? unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0

 ?? package ?aod? is available as a source package but not as a binary

Warning in install.packages :
 ? package ?aod? is not available (for R version 3.0.3)
 > install.packages("aod",repos='https://cran-archive.r-project.org')
Warning in install.packages :
 ? unable to access index for repository 
http://cran.rstudio.com/bin/windows/contrib/3.0
trying URL 
'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
Content type 'application/zip' length 225712 bytes (220 Kb)
opened URL
downloaded 220 Kb

package ?aod? successfully unpacked and MD5 sums checked

The downloaded binary packages are in
C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages

On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
> Just remembered:? RStudio runs its own wrapper around 
> install.packages().? Steven, you should try doing the install from 
> outside of RStudio, and see if it makes a difference.
>
> Duncan Murdoch
>
> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
>> He didn't specify the RStudio repos, though it's probably implicitly
>> specified in getOption("repos").? I wonder why install.packages() is
>> looking there, when repos is given explicitly?
>>
>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>>> Drop the RStudio repos.
>>>
>>> Best,
>>> Uwe Ligges
>>>
>>> On 05.10.2020 11:10, Steven Yen wrote:
>>>> Thanks. I did as suggested but still received a warning, though the
>>>> installation went through. Anything I could do to install without the
>>>> warning message.
>>>>
>>>> What is the contrib.url argument?
>>>>
>>>> ?? > 
>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>> Warning in install.packages :
>>>> ?? ? unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>> trying URL
>>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip' 
>>>>
>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>> opened URL
>>>> downloaded 220 Kb
>>>>
>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>
>>>> The downloaded binary packages are in
>>>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>> ?? >
>>>>
>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>>> Then you'd rather need
>>>>>
>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>
>>>>> or use the contrib.url argument.
>>>>>
>>>>> Best,
>>>>> Uwe Ligges
>>>>>
>>>>>
>>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I said,
>>>>>> for reasons that's hard to explain, some of my tasks are better
>>>>>> handled with an older version of R, in this case R-3.0.3. Please 
>>>>>> just
>>>>>> help me install packages successfully with this older version of R.
>>>>>>
>>>>>> I ran the following line but obviously was not getting it across.
>>>>>>
>>>>>> =====
>>>>>>
>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') 
>>>>>>>
>>>>>>> Warning in
>>>>>> install.packages : unable to access index for repository
>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>>> install.packages : unable to access index for repository
>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
>>>>>>
>>>>>> Warning in install.packages : package ?aod? is not available (for R
>>>>>> version 3.0.3)
>>>>>>
>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>>> From
>>>>>>>
>>>>>>> ../ReadMe
>>>>>>> in the mentioned web resource:
>>>>>>>
>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>>
>>>>>>> We do not hold binaries of several year old versions of R on CRAN.
>>>>>>>
>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>>>> update to 4.0.2.
>>>>>>>
>>>>>>> Best,
>>>>>>> Uwe Ligges
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>>> I had to install/use an older version of (R-3.0.3) for a 
>>>>>>>> reason. While
>>>>>>>> installing a package from CRAN (either in RStudio or R), I 
>>>>>>>> received
>>>>>>>> the
>>>>>>>> following warning message saying unable to access index for 
>>>>>>>> repository
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message 
>>>>>>>> below. In
>>>>>>>> this case, I tried to install "aod". The install nevertheless went
>>>>>>>> through, as confirmed by the library statement (I did not try 
>>>>>>>> to use
>>>>>>>> it). Any idea? Thank you.
>>>>>>>>
>>>>>>>> =====
>>>>>>>>
>>>>>>>> Warning: unable to access index for repository
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>>>>>>> access index for repository
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>>> install.packages("aod") Warning in install.packages : unable to 
>>>>>>>> access
>>>>>>>> index for repository 
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>> Warning in install.packages : unable to access index for 
>>>>>>>> repository
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>>>>> available as a source package but not as a binary Warning in
>>>>>>>> install.packages : package ?aod? is not available (for R version
>>>>>>>> 3.0.3)
>>>>>>>> ? ? > library(aod)
>>>>>>>>
>>>>>>>>
>>>>>>>> ? ????[[alternative HTML version deleted]]
>>>>>>>>
>>>>>>>> ______________________________________________
>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>> PLEASE do read the posting guide
>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>>
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>

	[[alternative HTML version deleted]]


From x@v|er@g@rc|@5 @end|ng |rom upr@edu  Thu Oct  8 10:10:43 2020
From: x@v|er@g@rc|@5 @end|ng |rom upr@edu (Xavier Garcia)
Date: Thu, 8 Oct 2020 04:10:43 -0400
Subject: [R] RStudio question
Message-ID: <CAHpkSYh_0o6-K91uXf3ExhnPnaRVd=mJU=eHbcptuDv1i1EhKQ@mail.gmail.com>

I'm solving the following problem: Create a variable (column) in the ?wf?
dataframe named ?Zone? that takes value of ?tropic? if Latitude is less
than or equal to 30, or ?non-tropic? for Latitude greater than 30. Show you
Zone variable. Latitude is a column of my dataframe. I don't know the
sintaxis and the process to create the column.

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Oct  8 18:02:56 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 8 Oct 2020 12:02:56 -0400
Subject: [R] unable to access index for repository...
In-Reply-To: <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
 <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
Message-ID: <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>

Okay, so it's not an RStudio issue.  However, I'd guess setting

   options(repos = "https://cran-archive.r-project.org")

at the start of your session could make everything work.  (I'm guessing 
you currently have it set to "http://cran.rstudio.com", which is the 
source of the last warning below, probably due to an R bug.  But since 
you're using an obsolete version of R, it shouldn't surprise you that it 
has bugs that nobody else is seeing.)

Duncan Murdoch

On 08/10/2020 11:54 a.m., Steven Yen wrote:
> Thanks. You gentlemen please tell me what this means. In R (outside of 
> RStudio) I ran:
> 
> install.packages("aod")
> 
> Received a warning (and installation did not seem to go through).
> 
> Then I tried
> 
> install.packages("aod",repos='https://cran-archive.r-project.org')
> 
> Received a warning but it went on to try
> 
> https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
> 
> and it worked. See log below.
> 
> I expect to continue to use R-3.0.3 for a while and I very much like 
> this to become a routine. Thank you all.
> 
> Steven Yen
> 
>  > install.packages("aod")
> Warning in install.packages :
>  ? unable to access index for repository 
> http://cran.rstudio.com/bin/windows/contrib/3.0
> Warning in install.packages :
>  ? unable to access index for repository 
> http://cran.rstudio.com/bin/windows/contrib/3.0
> 
>  ?? package ?aod? is available as a source package but not as a binary
> 
> Warning in install.packages :
>  ? package ?aod? is not available (for R version 3.0.3)
>  > install.packages("aod",repos='https://cran-archive.r-project.org')
> Warning in install.packages :
>  ? unable to access index for repository 
> http://cran.rstudio.com/bin/windows/contrib/3.0
> trying URL 
> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
> Content type 'application/zip' length 225712 bytes (220 Kb)
> opened URL
> downloaded 220 Kb
> 
> package ?aod? successfully unpacked and MD5 sums checked
> 
> The downloaded binary packages are in
> C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages
> 
> On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
>> Just remembered:? RStudio runs its own wrapper around 
>> install.packages().? Steven, you should try doing the install from 
>> outside of RStudio, and see if it makes a difference.
>>
>> Duncan Murdoch
>>
>> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
>>> He didn't specify the RStudio repos, though it's probably implicitly
>>> specified in getOption("repos").? I wonder why install.packages() is
>>> looking there, when repos is given explicitly?
>>>
>>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>>>> Drop the RStudio repos.
>>>>
>>>> Best,
>>>> Uwe Ligges
>>>>
>>>> On 05.10.2020 11:10, Steven Yen wrote:
>>>>> Thanks. I did as suggested but still received a warning, though the
>>>>> installation went through. Anything I could do to install without the
>>>>> warning message.
>>>>>
>>>>> What is the contrib.url argument?
>>>>>
>>>>> ?? > 
>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>> Warning in install.packages :
>>>>> ?? ? unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>> trying URL
>>>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip' 
>>>>>
>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>>> opened URL
>>>>> downloaded 220 Kb
>>>>>
>>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>>
>>>>> The downloaded binary packages are in
>>>>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>>> ?? >
>>>>>
>>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>>>> Then you'd rather need
>>>>>>
>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>>
>>>>>> or use the contrib.url argument.
>>>>>>
>>>>>> Best,
>>>>>> Uwe Ligges
>>>>>>
>>>>>>
>>>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I said,
>>>>>>> for reasons that's hard to explain, some of my tasks are better
>>>>>>> handled with an older version of R, in this case R-3.0.3. Please 
>>>>>>> just
>>>>>>> help me install packages successfully with this older version of R.
>>>>>>>
>>>>>>> I ran the following line but obviously was not getting it across.
>>>>>>>
>>>>>>> =====
>>>>>>>
>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') 
>>>>>>>>
>>>>>>>> Warning in
>>>>>>> install.packages : unable to access index for repository
>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>>>> install.packages : unable to access index for repository
>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
>>>>>>>
>>>>>>> Warning in install.packages : package ?aod? is not available (for R
>>>>>>> version 3.0.3)
>>>>>>>
>>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>>>> From
>>>>>>>>
>>>>>>>> ../ReadMe
>>>>>>>> in the mentioned web resource:
>>>>>>>>
>>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>>>
>>>>>>>> We do not hold binaries of several year old versions of R on CRAN.
>>>>>>>>
>>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>>>>> update to 4.0.2.
>>>>>>>>
>>>>>>>> Best,
>>>>>>>> Uwe Ligges
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>>>> I had to install/use an older version of (R-3.0.3) for a 
>>>>>>>>> reason. While
>>>>>>>>> installing a package from CRAN (either in RStudio or R), I 
>>>>>>>>> received
>>>>>>>>> the
>>>>>>>>> following warning message saying unable to access index for 
>>>>>>>>> repository
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message 
>>>>>>>>> below. In
>>>>>>>>> this case, I tried to install "aod". The install nevertheless went
>>>>>>>>> through, as confirmed by the library statement (I did not try 
>>>>>>>>> to use
>>>>>>>>> it). Any idea? Thank you.
>>>>>>>>>
>>>>>>>>> =====
>>>>>>>>>
>>>>>>>>> Warning: unable to access index for repository
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: unable to
>>>>>>>>> access index for repository
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>>>> install.packages("aod") Warning in install.packages : unable to 
>>>>>>>>> access
>>>>>>>>> index for repository 
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>>> Warning in install.packages : unable to access index for 
>>>>>>>>> repository
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>>>>>> available as a source package but not as a binary Warning in
>>>>>>>>> install.packages : package ?aod? is not available (for R version
>>>>>>>>> 3.0.3)
>>>>>>>>> ? ? > library(aod)
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> ? ????[[alternative HTML version deleted]]
>>>>>>>>>
>>>>>>>>> ______________________________________________
>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>>>
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>


From w||||@mwdun|@p @end|ng |rom gm@||@com  Thu Oct  8 18:26:29 2020
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Thu, 8 Oct 2020 09:26:29 -0700
Subject: [R] Lahman Baseball Data Using R DBI Package
In-Reply-To: <CAA99HCxs_oeJhRGEeWAmoQ1CPNU9Pu8GqDbg-6ZAh1L7fvJS1w@mail.gmail.com>
References: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>
 <CAHqSRuR-NmoGaEW9YavHxVNitZmezK_rcnwpRzuoHik657wtVQ@mail.gmail.com>
 <C44F824A74414353A579A0B468883116@OWNERPC>
 <CAHqSRuRoLcUw0mOJ_aDud8rivbdCvxtOreRjdp-N8AJ0nnv8ow@mail.gmail.com>
 <CAA99HCxs_oeJhRGEeWAmoQ1CPNU9Pu8GqDbg-6ZAh1L7fvJS1w@mail.gmail.com>
Message-ID: <CAHqSRuSPKww1fpFMebC6sWRT-VyCkvEM82A_AGqQWJS18jq4xg@mail.gmail.com>

This is really a feature of SQL, not R.  SQL requires that you double quote
column names that start with numbers, include spaces, etc., or that are SQL
key words.  E.g.,

> d <- data.frame(Order=c("sit","stay","heel"),
Where=c("here","there","there"), From=c("me","me","you"))
> sqldf::sqldf("select Order,Where,From from d WHERE From=\"me\"")
Error: near "Order": syntax error
> sqldf::sqldf("select \"Order\",\"Where\",\"From\" from d Where
\"From\"=\"me\"")
  Order Where From
1   sit  here   me
2  stay there   me

You may as well double quote all column names in SQL queries.

-Bill

On Wed, Oct 7, 2020 at 9:57 PM William Michels <wjm1 at caa.columbia.edu>
wrote:

> Hi Philip,
>
> You've probably realized by now that R doesn't like column names that
> start with a number. If you try to access an R-dataframe column named
> 2B or 3B with the familiar "$" notation, you'll get an error:
>
> > library(DBI)
> > library(RSQLite)
> > con2 <- dbConnect(SQLite(), "~/R_Dir/lahmansbaseballdb.sqlite")
> > Hack12Batting <- dbGetQuery(con2,"SELECT * FROM batting WHERE yearID =
> 2018 AND AB >600 ORDER BY AB DESC")
> > Hack12Batting$AB
>  [1] 664 661 639 632 632 632 626 623 620 618 617 613 606 605 602
> > Hack12Batting$3B
> Error: unexpected numeric constant in "Hack12Batting$3"
>
> How to handle? You can rename columns on-the-fly by piping. See
> reference [1] and use either library(magrittr) or library(dplyr) or a
> combination thereof:
>
> library(magrittr)
> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
> ORDER BY AB DESC") %>% set_colnames(make.names(colnames(.)))
>
> #OR one of the following:
>
> library(dplyr)
> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
> ORDER BY AB DESC") %>% rename(X2B = `2B`, X3B = `3B`)
>
> library(dplyr)
> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
> ORDER BY AB DESC") %>% `colnames<-`(make.names(colnames(.)))
>
> library(dplyr)
> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
> ORDER BY AB DESC") %>% magrittr::set_colnames(make.names(colnames(.)))
>
> Best, Bill.
>
> W. Michels, Ph.D.
>
> [1]
> https://stackoverflow.com/questions/28100780/use-with-replacement-functions-like-colnames
>
>
>
>
>
>
>
>
>
>
> On Fri, Oct 2, 2020 at 7:34 PM Bill Dunlap <williamwdunlap at gmail.com>
> wrote:
> >
> > The double quotes are required by SQL if a name is not of the form
> > letter-followed-by-any-number-of-letters-or-numbers or if the name is a
> SQL
> > keyword like 'where' or 'select'.  If you are doing this from a function,
> > you may as well quote all the names.
> >
> > -Bill
> >
> > On Fri, Oct 2, 2020 at 6:18 PM Philip <herd_dog at cox.net> wrote:
> >
> > > The \?2B\? worked.  Have no idea why.  Can you point me somewhere that
> can
> > > explain this to me.
> > >
> > > Thanks,
> > > Philip
> > >
> > > *From:* Bill Dunlap
> > > *Sent:* Friday, October 2, 2020 3:54 PM
> > > *To:* Philip
> > > *Cc:* r-help
> > > *Subject:* Re: [R] Lahman Baseball Data Using R DBI Package
> > >
> > > Have you tried putting double quotes around 2B and 3B:  "...2B, 3B,
> ..."
> > > -> "...\"2B\",\"3B\",..."?
> > >
> > > -Bill
> > >
> > > On Fri, Oct 2, 2020 at 3:49 PM Philip <herd_dog at cox.net> wrote:
> > >
> > >> I?m trying to pull data from one table (batting) in the Lahman
> Baseball
> > >> database.  Notice X2B for doubles and X3B for triples ? fourth and
> fifth
> > >> from the right.
> > >>
> > >> The dbGetQuery function runs fine when I leave there two out but I get
> > >> error messages (in red) when I include 2B/3B or X2B/X3B.
> > >>
> > >> Can anyone give me some direction?
> > >>
> > >> Thanks,
> > >> Philip Heinrich
> > >>
> > >>
> ***************************************************************************************************************************************************
> > >> tail(dbReadTable(Lahman,"batting"))
> > >>
> > >> ID                       playerID      yearID    stint teamID team_ID
> > >> lgID   G        G_batting   AB     R     H       X2B    X3B   HR
>  RBI   SB
> > >> 107414 107414 yastrmi01      2019       1       SFN       2920
> > >> NL     107        NA          371   64  101      22       3     21
> > >> 55    2
> > >> 107416 107416 yelicch01      2019        1       MIL       2911
> > >> NL     130        NA          489 100  161      29       3     44
> 97   30
> > >> 107419 107419 youngal01     2019       1       ARI        2896
> > >> NL       17        NA            25     1      1        0       0
> > >> 0      0     0
> > >> 107420 107420 zagunma01   2019        1      CHN       2901      NL
> > >> 30        NA             36     2      9        3       0      0
> > >> 5     0
> > >> 107422 107422 zavalse01      2019        1      CHA       2900
> > >> AL        5        NA             12     1      1        0       0
> > >> 0       0     0
> > >> 107427 107427 zimmery01     2019        1      WAS      2925      NL
> > >> 52        NA           171   20    44        9      0      6      27
>    0
> > >> 107428 107428 zobribe01       2019        1      CHN      2901
> > >> NL      47        NA           150   24   39         5      0      1
> > >> 17     0
> > >> 107429 107429 zuninmi01       2019        1      TBA       2922
> > >> AL      90        NA           266    30  44       10      1      9
> > >> 32     0
> > >>
> > >>
> > >> Hack11Batting <- dbGetQuery(Lahman,"SELECT
> > >> playerID,yearID,AB,R,H,2B,3B,HR,
> > >>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
> > >> batting
> > >>                             WHERE yearID = 2018 AND AB >99")
> > >> Error: unrecognized token: "2B"
> > >>
> > >> Hack11Batting <- dbGetQuery(Lahman,"SELECT
> > >> playerID,yearID,AB,R,H,X2B,X3B,HR,
> > >>                             RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
> > >> batting
> > >>                             WHERE yearID = 2018 AND AB >99")
> > >> Error: no such column: X2B
> > >>
> > >>         [[alternative HTML version deleted]]
> > >>
> > >> ______________________________________________
> > >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >> https://stat.ethz.ch/mailman/listinfo/r-help
> > >> PLEASE do read the posting guide
> > >> http://www.R-project.org/posting-guide.html
> > >> and provide commented, minimal, self-contained, reproducible code.
> > >>
> > >
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @tyen @end|ng |rom ntu@edu@tw  Thu Oct  8 18:38:24 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 9 Oct 2020 00:38:24 +0800
Subject: [R] unable to access index for repository...
In-Reply-To: <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
 <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
 <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>
Message-ID: <9dd5c768-3cbe-c128-d86d-1113f18bede4@ntu.edu.tw>

Sorry Gentlemen and all. Now this is becoming a joke (to me). I repeated 
what I did earlier, with and without the option to set repos suggested 
by Duncan. Now it does not work. I wonder whether it is dependent on the 
mirror I chose, but I do not remember the one I chose earlier when it work.

I need your help, gentlemen, as I need to use R-3.0.3 for my task.

 > options(repos="https://cran-archive.r-project.org")
 > chooseCRANmirror()
 > install.packages("aod")
Warning: unable to access index for repository 
https://cran-archive.r-project.org/bin/windows/contrib/3.0
Warning: unable to access index for repository 
http://lib.stat.cmu.edu/R/CRAN/bin/windows/contrib/3.0

 ?? package ?aod? is available as a source package but not as a binary

Warning message:
package ?aod? is not available (for R version 3.0.3)
 > install.packages("aod",repos='https://cran-archive.r-project.org')
Warning: unable to access index for repository 
https://cran-archive.r-project.org/bin/windows/contrib/3.0
Warning message:
package ?aod? is not available (for R version 3.0.3)

On 2020/10/9 ?? 12:02, Duncan Murdoch wrote:
> Okay, so it's not an RStudio issue.? However, I'd guess setting
>
> ? options(repos = "https://cran-archive.r-project.org")
>
> at the start of your session could make everything work.? (I'm 
> guessing you currently have it set to "http://cran.rstudio.com", which 
> is the source of the last warning below, probably due to an R bug.? 
> But since you're using an obsolete version of R, it shouldn't surprise 
> you that it has bugs that nobody else is seeing.)
>
> Duncan Murdoch
>
> On 08/10/2020 11:54 a.m., Steven Yen wrote:
>> Thanks. You gentlemen please tell me what this means. In R (outside 
>> of RStudio) I ran:
>>
>> install.packages("aod")
>>
>> Received a warning (and installation did not seem to go through).
>>
>> Then I tried
>>
>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>
>> Received a warning but it went on to try
>>
>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
>>
>> and it worked. See log below.
>>
>> I expect to continue to use R-3.0.3 for a while and I very much like 
>> this to become a routine. Thank you all.
>>
>> Steven Yen
>>
>> ?> install.packages("aod")
>> Warning in install.packages :
>> ?? unable to access index for repository 
>> http://cran.rstudio.com/bin/windows/contrib/3.0
>> Warning in install.packages :
>> ?? unable to access index for repository 
>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>
>> ??? package ?aod? is available as a source package but not as a binary
>>
>> Warning in install.packages :
>> ?? package ?aod? is not available (for R version 3.0.3)
>> ?> install.packages("aod",repos='https://cran-archive.r-project.org')
>> Warning in install.packages :
>> ?? unable to access index for repository 
>> http://cran.rstudio.com/bin/windows/contrib/3.0
>> trying URL 
>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>> Content type 'application/zip' length 225712 bytes (220 Kb)
>> opened URL
>> downloaded 220 Kb
>>
>> package ?aod? successfully unpacked and MD5 sums checked
>>
>> The downloaded binary packages are in
>> C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages
>>
>> On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
>>> Just remembered:? RStudio runs its own wrapper around 
>>> install.packages().? Steven, you should try doing the install from 
>>> outside of RStudio, and see if it makes a difference.
>>>
>>> Duncan Murdoch
>>>
>>> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
>>>> He didn't specify the RStudio repos, though it's probably implicitly
>>>> specified in getOption("repos").? I wonder why install.packages() is
>>>> looking there, when repos is given explicitly?
>>>>
>>>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>>>>> Drop the RStudio repos.
>>>>>
>>>>> Best,
>>>>> Uwe Ligges
>>>>>
>>>>> On 05.10.2020 11:10, Steven Yen wrote:
>>>>>> Thanks. I did as suggested but still received a warning, though the
>>>>>> installation went through. Anything I could do to install without 
>>>>>> the
>>>>>> warning message.
>>>>>>
>>>>>> What is the contrib.url argument?
>>>>>>
>>>>>> ?? > 
>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>> Warning in install.packages :
>>>>>> ?? ? unable to access index for repository
>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>> trying URL
>>>>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip' 
>>>>>>
>>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>>>> opened URL
>>>>>> downloaded 220 Kb
>>>>>>
>>>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>>>
>>>>>> The downloaded binary packages are in
>>>>>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>>>> ?? >
>>>>>>
>>>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>>>>> Then you'd rather need
>>>>>>>
>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>>>
>>>>>>> or use the contrib.url argument.
>>>>>>>
>>>>>>> Best,
>>>>>>> Uwe Ligges
>>>>>>>
>>>>>>>
>>>>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I said,
>>>>>>>> for reasons that's hard to explain, some of my tasks are better
>>>>>>>> handled with an older version of R, in this case R-3.0.3. 
>>>>>>>> Please just
>>>>>>>> help me install packages successfully with this older version 
>>>>>>>> of R.
>>>>>>>>
>>>>>>>> I ran the following line but obviously was not getting it across.
>>>>>>>>
>>>>>>>> =====
>>>>>>>>
>>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') 
>>>>>>>>>
>>>>>>>>> Warning in
>>>>>>>> install.packages : unable to access index for repository
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>>>>> install.packages : unable to access index for repository
>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
>>>>>>>>
>>>>>>>> Warning in install.packages : package ?aod? is not available 
>>>>>>>> (for R
>>>>>>>> version 3.0.3)
>>>>>>>>
>>>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>>>>> From
>>>>>>>>>
>>>>>>>>> ../ReadMe
>>>>>>>>> in the mentioned web resource:
>>>>>>>>>
>>>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>>>>
>>>>>>>>> We do not hold binaries of several year old versions of R on 
>>>>>>>>> CRAN.
>>>>>>>>>
>>>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>>>>>> update to 4.0.2.
>>>>>>>>>
>>>>>>>>> Best,
>>>>>>>>> Uwe Ligges
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>>>>> I had to install/use an older version of (R-3.0.3) for a 
>>>>>>>>>> reason. While
>>>>>>>>>> installing a package from CRAN (either in RStudio or R), I 
>>>>>>>>>> received
>>>>>>>>>> the
>>>>>>>>>> following warning message saying unable to access index for 
>>>>>>>>>> repository
>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message 
>>>>>>>>>> below. In
>>>>>>>>>> this case, I tried to install "aod". The install nevertheless 
>>>>>>>>>> went
>>>>>>>>>> through, as confirmed by the library statement (I did not try 
>>>>>>>>>> to use
>>>>>>>>>> it). Any idea? Thank you.
>>>>>>>>>>
>>>>>>>>>> =====
>>>>>>>>>>
>>>>>>>>>> Warning: unable to access index for repository
>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning: 
>>>>>>>>>> unable to
>>>>>>>>>> access index for repository
>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>>>>> install.packages("aod") Warning in install.packages : unable 
>>>>>>>>>> to access
>>>>>>>>>> index for repository 
>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>>>> Warning in install.packages : unable to access index for 
>>>>>>>>>> repository
>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>>>>>>> available as a source package but not as a binary Warning in
>>>>>>>>>> install.packages : package ?aod? is not available (for R version
>>>>>>>>>> 3.0.3)
>>>>>>>>>> ? ? > library(aod)
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> ? ????[[alternative HTML version deleted]]
>>>>>>>>>>
>>>>>>>>>> ______________________________________________
>>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, 
>>>>>>>>>> see
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>>> and provide commented, minimal, self-contained, reproducible 
>>>>>>>>>> code.
>>>>>>>>>>
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide 
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>
>


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Oct  8 18:49:17 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 8 Oct 2020 12:49:17 -0400
Subject: [R] unable to access index for repository...
In-Reply-To: <9dd5c768-3cbe-c128-d86d-1113f18bede4@ntu.edu.tw>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
 <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
 <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>
 <9dd5c768-3cbe-c128-d86d-1113f18bede4@ntu.edu.tw>
Message-ID: <85614667-c504-4668-2f05-6ff751e48992@gmail.com>

Don't choose a mirror.  That will override the repos choice.

Do update R to a current version if you aren't able to debug this 
yourself.

Duncan Murdoch

On 08/10/2020 12:38 p.m., Steven Yen wrote:
> Sorry Gentlemen and all. Now this is becoming a joke (to me). I repeated
> what I did earlier, with and without the option to set repos suggested
> by Duncan. Now it does not work. I wonder whether it is dependent on the
> mirror I chose, but I do not remember the one I chose earlier when it work.
> 
> I need your help, gentlemen, as I need to use R-3.0.3 for my task.
> 
>   > options(repos="https://cran-archive.r-project.org")
>   > chooseCRANmirror()
>   > install.packages("aod")
> Warning: unable to access index for repository
> https://cran-archive.r-project.org/bin/windows/contrib/3.0
> Warning: unable to access index for repository
> http://lib.stat.cmu.edu/R/CRAN/bin/windows/contrib/3.0
> 
>   ?? package ?aod? is available as a source package but not as a binary
> 
> Warning message:
> package ?aod? is not available (for R version 3.0.3)
>   > install.packages("aod",repos='https://cran-archive.r-project.org')
> Warning: unable to access index for repository
> https://cran-archive.r-project.org/bin/windows/contrib/3.0
> Warning message:
> package ?aod? is not available (for R version 3.0.3)
> 
> On 2020/10/9 ?? 12:02, Duncan Murdoch wrote:
>> Okay, so it's not an RStudio issue.? However, I'd guess setting
>>
>>  ? options(repos = "https://cran-archive.r-project.org")
>>
>> at the start of your session could make everything work.? (I'm
>> guessing you currently have it set to "http://cran.rstudio.com", which
>> is the source of the last warning below, probably due to an R bug.
>> But since you're using an obsolete version of R, it shouldn't surprise
>> you that it has bugs that nobody else is seeing.)
>>
>> Duncan Murdoch
>>
>> On 08/10/2020 11:54 a.m., Steven Yen wrote:
>>> Thanks. You gentlemen please tell me what this means. In R (outside
>>> of RStudio) I ran:
>>>
>>> install.packages("aod")
>>>
>>> Received a warning (and installation did not seem to go through).
>>>
>>> Then I tried
>>>
>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>
>>> Received a warning but it went on to try
>>>
>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
>>>
>>> and it worked. See log below.
>>>
>>> I expect to continue to use R-3.0.3 for a while and I very much like
>>> this to become a routine. Thank you all.
>>>
>>> Steven Yen
>>>
>>>  ?> install.packages("aod")
>>> Warning in install.packages :
>>>  ?? unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>> Warning in install.packages :
>>>  ?? unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>
>>>  ??? package ?aod? is available as a source package but not as a binary
>>>
>>> Warning in install.packages :
>>>  ?? package ?aod? is not available (for R version 3.0.3)
>>>  ?> install.packages("aod",repos='https://cran-archive.r-project.org')
>>> Warning in install.packages :
>>>  ?? unable to access index for repository
>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>> trying URL
>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>> opened URL
>>> downloaded 220 Kb
>>>
>>> package ?aod? successfully unpacked and MD5 sums checked
>>>
>>> The downloaded binary packages are in
>>> C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages
>>>
>>> On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
>>>> Just remembered:? RStudio runs its own wrapper around
>>>> install.packages().? Steven, you should try doing the install from
>>>> outside of RStudio, and see if it makes a difference.
>>>>
>>>> Duncan Murdoch
>>>>
>>>> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
>>>>> He didn't specify the RStudio repos, though it's probably implicitly
>>>>> specified in getOption("repos").? I wonder why install.packages() is
>>>>> looking there, when repos is given explicitly?
>>>>>
>>>>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>>>>>> Drop the RStudio repos.
>>>>>>
>>>>>> Best,
>>>>>> Uwe Ligges
>>>>>>
>>>>>> On 05.10.2020 11:10, Steven Yen wrote:
>>>>>>> Thanks. I did as suggested but still received a warning, though the
>>>>>>> installation went through. Anything I could do to install without
>>>>>>> the
>>>>>>> warning message.
>>>>>>>
>>>>>>> What is the contrib.url argument?
>>>>>>>
>>>>>>>  ?? >
>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>>> Warning in install.packages :
>>>>>>>  ?? ? unable to access index for repository
>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>> trying URL
>>>>>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>>>>>>>
>>>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>>>>> opened URL
>>>>>>> downloaded 220 Kb
>>>>>>>
>>>>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>>>>
>>>>>>> The downloaded binary packages are in
>>>>>>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>>>>>  ?? >
>>>>>>>
>>>>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>>>>>> Then you'd rather need
>>>>>>>>
>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>>>>
>>>>>>>> or use the contrib.url argument.
>>>>>>>>
>>>>>>>> Best,
>>>>>>>> Uwe Ligges
>>>>>>>>
>>>>>>>>
>>>>>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I said,
>>>>>>>>> for reasons that's hard to explain, some of my tasks are better
>>>>>>>>> handled with an older version of R, in this case R-3.0.3.
>>>>>>>>> Please just
>>>>>>>>> help me install packages successfully with this older version
>>>>>>>>> of R.
>>>>>>>>>
>>>>>>>>> I ran the following line but obviously was not getting it across.
>>>>>>>>>
>>>>>>>>> =====
>>>>>>>>>
>>>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/')
>>>>>>>>>>
>>>>>>>>>> Warning in
>>>>>>>>> install.packages : unable to access index for repository
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>>>>>> install.packages : unable to access index for repository
>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0
>>>>>>>>>
>>>>>>>>> Warning in install.packages : package ?aod? is not available
>>>>>>>>> (for R
>>>>>>>>> version 3.0.3)
>>>>>>>>>
>>>>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>>>>>> From
>>>>>>>>>>
>>>>>>>>>> ../ReadMe
>>>>>>>>>> in the mentioned web resource:
>>>>>>>>>>
>>>>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>>>>>
>>>>>>>>>> We do not hold binaries of several year old versions of R on
>>>>>>>>>> CRAN.
>>>>>>>>>>
>>>>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>>>>>>> update to 4.0.2.
>>>>>>>>>>
>>>>>>>>>> Best,
>>>>>>>>>> Uwe Ligges
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>>>>>> I had to install/use an older version of (R-3.0.3) for a
>>>>>>>>>>> reason. While
>>>>>>>>>>> installing a package from CRAN (either in RStudio or R), I
>>>>>>>>>>> received
>>>>>>>>>>> the
>>>>>>>>>>> following warning message saying unable to access index for
>>>>>>>>>>> repository
>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message
>>>>>>>>>>> below. In
>>>>>>>>>>> this case, I tried to install "aod". The install nevertheless
>>>>>>>>>>> went
>>>>>>>>>>> through, as confirmed by the library statement (I did not try
>>>>>>>>>>> to use
>>>>>>>>>>> it). Any idea? Thank you.
>>>>>>>>>>>
>>>>>>>>>>> =====
>>>>>>>>>>>
>>>>>>>>>>> Warning: unable to access index for repository
>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning:
>>>>>>>>>>> unable to
>>>>>>>>>>> access index for repository
>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>>>>>> install.packages("aod") Warning in install.packages : unable
>>>>>>>>>>> to access
>>>>>>>>>>> index for repository
>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>>>>> Warning in install.packages : unable to access index for
>>>>>>>>>>> repository
>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package ?aod? is
>>>>>>>>>>> available as a source package but not as a binary Warning in
>>>>>>>>>>> install.packages : package ?aod? is not available (for R version
>>>>>>>>>>> 3.0.3)
>>>>>>>>>>>  ? ? > library(aod)
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>  ? ????[[alternative HTML version deleted]]
>>>>>>>>>>>
>>>>>>>>>>> ______________________________________________
>>>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>>>>>>>>> see
>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>>>> and provide commented, minimal, self-contained, reproducible
>>>>>>>>>>> code.
>>>>>>>>>>>
>>>>>>>
>>>>>>> ______________________________________________
>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>> PLEASE do read the posting guide
>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>> ______________________________________________
>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>> PLEASE do read the posting guide
>>>>>> http://www.R-project.org/posting-guide.html
>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>
>>>>>
>>>>
>>


From @tyen @end|ng |rom ntu@edu@tw  Thu Oct  8 19:22:54 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 9 Oct 2020 01:22:54 +0800
Subject: [R] unable to access index for repository...
In-Reply-To: <85614667-c504-4668-2f05-6ff751e48992@gmail.com>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
 <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
 <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>
 <9dd5c768-3cbe-c128-d86d-1113f18bede4@ntu.edu.tw>
 <85614667-c504-4668-2f05-6ff751e48992@gmail.com>
Message-ID: <5d3ecbde-ea51-2854-bfe8-899d6a70d1c6@ntu.edu.tw>

Thanks for the help. I have a reason to continue with R-3.0.3. I used 
maxLik to estimate econometric models and some of them are better 
handled with R-3.0.3 (but not later)----a sad reality I do not like.

Here is what I did. I downloaded

https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip

and installed the zip file, which worked in both RStudio and R (without 
RStudio).

In RStudio, I go Tools -> Install packages -> Install from -> (Choose 
zip) -> (Browse to the zip file)

IN R, I go Packages -> Install packages from local file(s) -> (Browse to 
the zip file)...

Below is the command line generated and the prompt.

 > install.packages("C:/Users/USER/Downloads/aod_1.3.zip", repos = NULL, 
type = "win.binary")
package ?aod? successfully unpacked and MD5 sums checked

I will always be able to download the proper .zip file from CRAC 
Archive, right. So, this will always work for me? Thank you all !! If 
there are more direct options that work, I would still be interested to 
know.

Steven Yen

On 2020/10/9 ?? 12:49, Duncan Murdoch wrote:
> Don't choose a mirror.? That will override the repos choice.
>
> Do update R to a current version if you aren't able to debug this 
> yourself.
>
> Duncan Murdoch
>
> On 08/10/2020 12:38 p.m., Steven Yen wrote:
>> Sorry Gentlemen and all. Now this is becoming a joke (to me). I repeated
>> what I did earlier, with and without the option to set repos suggested
>> by Duncan. Now it does not work. I wonder whether it is dependent on the
>> mirror I chose, but I do not remember the one I chose earlier when it 
>> work.
>>
>> I need your help, gentlemen, as I need to use R-3.0.3 for my task.
>>
>> ? > options(repos="https://cran-archive.r-project.org")
>> ? > chooseCRANmirror()
>> ? > install.packages("aod")
>> Warning: unable to access index for repository
>> https://cran-archive.r-project.org/bin/windows/contrib/3.0
>> Warning: unable to access index for repository
>> http://lib.stat.cmu.edu/R/CRAN/bin/windows/contrib/3.0
>>
>> ? ?? package ?aod? is available as a source package but not as a binary
>>
>> Warning message:
>> package ?aod? is not available (for R version 3.0.3)
>> ? > install.packages("aod",repos='https://cran-archive.r-project.org')
>> Warning: unable to access index for repository
>> https://cran-archive.r-project.org/bin/windows/contrib/3.0
>> Warning message:
>> package ?aod? is not available (for R version 3.0.3)
>>
>> On 2020/10/9 ?? 12:02, Duncan Murdoch wrote:
>>> Okay, so it's not an RStudio issue. However, I'd guess setting
>>>
>>> ?? options(repos = "https://cran-archive.r-project.org")
>>>
>>> at the start of your session could make everything work.? (I'm
>>> guessing you currently have it set to "http://cran.rstudio.com", which
>>> is the source of the last warning below, probably due to an R bug.
>>> But since you're using an obsolete version of R, it shouldn't surprise
>>> you that it has bugs that nobody else is seeing.)
>>>
>>> Duncan Murdoch
>>>
>>> On 08/10/2020 11:54 a.m., Steven Yen wrote:
>>>> Thanks. You gentlemen please tell me what this means. In R (outside
>>>> of RStudio) I ran:
>>>>
>>>> install.packages("aod")
>>>>
>>>> Received a warning (and installation did not seem to go through).
>>>>
>>>> Then I tried
>>>>
>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>
>>>> Received a warning but it went on to try
>>>>
>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
>>>>
>>>> and it worked. See log below.
>>>>
>>>> I expect to continue to use R-3.0.3 for a while and I very much like
>>>> this to become a routine. Thank you all.
>>>>
>>>> Steven Yen
>>>>
>>>> ??> install.packages("aod")
>>>> Warning in install.packages :
>>>> ??? unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>> Warning in install.packages :
>>>> ??? unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>
>>>> ???? package ?aod? is available as a source package but not as a 
>>>> binary
>>>>
>>>> Warning in install.packages :
>>>> ??? package ?aod? is not available (for R version 3.0.3)
>>>> ??> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>> Warning in install.packages :
>>>> ??? unable to access index for repository
>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>> trying URL
>>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip' 
>>>>
>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>> opened URL
>>>> downloaded 220 Kb
>>>>
>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>
>>>> The downloaded binary packages are in
>>>> C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages
>>>>
>>>> On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
>>>>> Just remembered:? RStudio runs its own wrapper around
>>>>> install.packages().? Steven, you should try doing the install from
>>>>> outside of RStudio, and see if it makes a difference.
>>>>>
>>>>> Duncan Murdoch
>>>>>
>>>>> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
>>>>>> He didn't specify the RStudio repos, though it's probably implicitly
>>>>>> specified in getOption("repos").? I wonder why install.packages() is
>>>>>> looking there, when repos is given explicitly?
>>>>>>
>>>>>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>>>>>>> Drop the RStudio repos.
>>>>>>>
>>>>>>> Best,
>>>>>>> Uwe Ligges
>>>>>>>
>>>>>>> On 05.10.2020 11:10, Steven Yen wrote:
>>>>>>>> Thanks. I did as suggested but still received a warning, though 
>>>>>>>> the
>>>>>>>> installation went through. Anything I could do to install without
>>>>>>>> the
>>>>>>>> warning message.
>>>>>>>>
>>>>>>>> What is the contrib.url argument?
>>>>>>>>
>>>>>>>> ??? >
>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>>>> Warning in install.packages :
>>>>>>>> ??? ? unable to access index for repository
>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>> trying URL
>>>>>>>> 'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip' 
>>>>>>>>
>>>>>>>>
>>>>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>>>>>> opened URL
>>>>>>>> downloaded 220 Kb
>>>>>>>>
>>>>>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>>>>>
>>>>>>>> The downloaded binary packages are in
>>>>>>>> C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>>>>>> ??? >
>>>>>>>>
>>>>>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>>>>>>> Then you'd rather need
>>>>>>>>>
>>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org') 
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> or use the contrib.url argument.
>>>>>>>>>
>>>>>>>>> Best,
>>>>>>>>> Uwe Ligges
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I 
>>>>>>>>>> said,
>>>>>>>>>> for reasons that's hard to explain, some of my tasks are better
>>>>>>>>>> handled with an older version of R, in this case R-3.0.3.
>>>>>>>>>> Please just
>>>>>>>>>> help me install packages successfully with this older version
>>>>>>>>>> of R.
>>>>>>>>>>
>>>>>>>>>> I ran the following line but obviously was not getting it 
>>>>>>>>>> across.
>>>>>>>>>>
>>>>>>>>>> =====
>>>>>>>>>>
>>>>>>>>>>> install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/') 
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Warning in
>>>>>>>>>> install.packages : unable to access index for repository
>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>>>>>>> install.packages : unable to access index for repository
>>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0 
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Warning in install.packages : package ?aod? is not available
>>>>>>>>>> (for R
>>>>>>>>>> version 3.0.3)
>>>>>>>>>>
>>>>>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>>>>>>> From
>>>>>>>>>>>
>>>>>>>>>>> ../ReadMe
>>>>>>>>>>> in the mentioned web resource:
>>>>>>>>>>>
>>>>>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>>>>>>
>>>>>>>>>>> We do not hold binaries of several year old versions of R on
>>>>>>>>>>> CRAN.
>>>>>>>>>>>
>>>>>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider to
>>>>>>>>>>> update to 4.0.2.
>>>>>>>>>>>
>>>>>>>>>>> Best,
>>>>>>>>>>> Uwe Ligges
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>>>>>>> I had to install/use an older version of (R-3.0.3) for a
>>>>>>>>>>>> reason. While
>>>>>>>>>>>> installing a package from CRAN (either in RStudio or R), I
>>>>>>>>>>>> received
>>>>>>>>>>>> the
>>>>>>>>>>>> following warning message saying unable to access index for
>>>>>>>>>>>> repository
>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See message
>>>>>>>>>>>> below. In
>>>>>>>>>>>> this case, I tried to install "aod". The install nevertheless
>>>>>>>>>>>> went
>>>>>>>>>>>> through, as confirmed by the library statement (I did not try
>>>>>>>>>>>> to use
>>>>>>>>>>>> it). Any idea? Thank you.
>>>>>>>>>>>>
>>>>>>>>>>>> =====
>>>>>>>>>>>>
>>>>>>>>>>>> Warning: unable to access index for repository
>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning:
>>>>>>>>>>>> unable to
>>>>>>>>>>>> access index for repository
>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>>>>>>> install.packages("aod") Warning in install.packages : unable
>>>>>>>>>>>> to access
>>>>>>>>>>>> index for repository
>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>>>>>> Warning in install.packages : unable to access index for
>>>>>>>>>>>> repository
>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package 
>>>>>>>>>>>> ?aod? is
>>>>>>>>>>>> available as a source package but not as a binary Warning in
>>>>>>>>>>>> install.packages : package ?aod? is not available (for R 
>>>>>>>>>>>> version
>>>>>>>>>>>> 3.0.3)
>>>>>>>>>>>> ?? ? > library(aod)
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> ?? ????[[alternative HTML version deleted]]
>>>>>>>>>>>>
>>>>>>>>>>>> ______________________________________________
>>>>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>>>>>>>>>>>> see
>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>>>>> and provide commented, minimal, self-contained, reproducible
>>>>>>>>>>>> code.
>>>>>>>>>>>>
>>>>>>>>
>>>>>>>> ______________________________________________
>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>> PLEASE do read the posting guide
>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>
>>>>>>> ______________________________________________
>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>> PLEASE do read the posting guide
>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>>>
>>>>>>
>>>>>
>>>
>


From pd@|gd @end|ng |rom gm@||@com  Thu Oct  8 19:35:41 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Thu, 8 Oct 2020 19:35:41 +0200
Subject: [R] RStudio question
In-Reply-To: <CAHpkSYh_0o6-K91uXf3ExhnPnaRVd=mJU=eHbcptuDv1i1EhKQ@mail.gmail.com>
References: <CAHpkSYh_0o6-K91uXf3ExhnPnaRVd=mJU=eHbcptuDv1i1EhKQ@mail.gmail.com>
Message-ID: <2A932FDD-3516-4DC1-BC7A-F5E7162F11E8@gmail.com>

This list has a no-homework policy. I assume that your teaching material has examples that are sufficiently similar so that you should be able to modify them.

-pd

> On 8 Oct 2020, at 10:10 , Xavier Garcia via R-help <r-help at r-project.org> wrote:
> 
> I'm solving the following problem: Create a variable (column) in the ?wf?
> dataframe named ?Zone? that takes value of ?tropic? if Latitude is less
> than or equal to 30, or ?non-tropic? for Latitude greater than 30. Show you
> Zone variable. Latitude is a column of my dataframe. I don't know the
> sintaxis and the process to create the column.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Oct  8 19:37:42 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Thu, 08 Oct 2020 10:37:42 -0700
Subject: [R] unable to access index for repository...
In-Reply-To: <5d3ecbde-ea51-2854-bfe8-899d6a70d1c6@ntu.edu.tw>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
 <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
 <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>
 <9dd5c768-3cbe-c128-d86d-1113f18bede4@ntu.edu.tw>
 <85614667-c504-4668-2f05-6ff751e48992@gmail.com>
 <5d3ecbde-ea51-2854-bfe8-899d6a70d1c6@ntu.edu.tw>
Message-ID: <C894A000-B78E-45B1-B88F-1B79081DE4BD@dcn.davis.ca.us>

All support on this list is voluntary, and support for old versions of R is not even necessarily on-topic here which is why you keep getting nudged to upgrade. Your "need" for support for an old version is definitely not "our" problem, so I suggest you start looking for a consultant if this issue is that important to you. Such is the nature of volunteer-developed open source software... so support your local experts.

On October 8, 2020 10:22:54 AM PDT, Steven Yen <styen at ntu.edu.tw> wrote:
>Thanks for the help. I have a reason to continue with R-3.0.3. I used 
>maxLik to estimate econometric models and some of them are better 
>handled with R-3.0.3 (but not later)----a sad reality I do not like.
>
>Here is what I did. I downloaded
>
>https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
>
>and installed the zip file, which worked in both RStudio and R (without
>
>RStudio).
>
>In RStudio, I go Tools -> Install packages -> Install from -> (Choose 
>zip) -> (Browse to the zip file)
>
>IN R, I go Packages -> Install packages from local file(s) -> (Browse
>to 
>the zip file)...
>
>Below is the command line generated and the prompt.
>
>> install.packages("C:/Users/USER/Downloads/aod_1.3.zip", repos = NULL,
>
>type = "win.binary")
>package ?aod? successfully unpacked and MD5 sums checked
>
>I will always be able to download the proper .zip file from CRAC 
>Archive, right. So, this will always work for me? Thank you all !! If 
>there are more direct options that work, I would still be interested to
>
>know.
>
>Steven Yen
>
>On 2020/10/9 ?? 12:49, Duncan Murdoch wrote:
>> Don't choose a mirror.? That will override the repos choice.
>>
>> Do update R to a current version if you aren't able to debug this 
>> yourself.
>>
>> Duncan Murdoch
>>
>> On 08/10/2020 12:38 p.m., Steven Yen wrote:
>>> Sorry Gentlemen and all. Now this is becoming a joke (to me). I
>repeated
>>> what I did earlier, with and without the option to set repos
>suggested
>>> by Duncan. Now it does not work. I wonder whether it is dependent on
>the
>>> mirror I chose, but I do not remember the one I chose earlier when
>it 
>>> work.
>>>
>>> I need your help, gentlemen, as I need to use R-3.0.3 for my task.
>>>
>>> ? > options(repos="https://cran-archive.r-project.org")
>>> ? > chooseCRANmirror()
>>> ? > install.packages("aod")
>>> Warning: unable to access index for repository
>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0
>>> Warning: unable to access index for repository
>>> http://lib.stat.cmu.edu/R/CRAN/bin/windows/contrib/3.0
>>>
>>> ? ?? package ?aod? is available as a source package but not as a
>binary
>>>
>>> Warning message:
>>> package ?aod? is not available (for R version 3.0.3)
>>> ? >
>install.packages("aod",repos='https://cran-archive.r-project.org')
>>> Warning: unable to access index for repository
>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0
>>> Warning message:
>>> package ?aod? is not available (for R version 3.0.3)
>>>
>>> On 2020/10/9 ?? 12:02, Duncan Murdoch wrote:
>>>> Okay, so it's not an RStudio issue. However, I'd guess setting
>>>>
>>>> ?? options(repos = "https://cran-archive.r-project.org")
>>>>
>>>> at the start of your session could make everything work.? (I'm
>>>> guessing you currently have it set to "http://cran.rstudio.com",
>which
>>>> is the source of the last warning below, probably due to an R bug.
>>>> But since you're using an obsolete version of R, it shouldn't
>surprise
>>>> you that it has bugs that nobody else is seeing.)
>>>>
>>>> Duncan Murdoch
>>>>
>>>> On 08/10/2020 11:54 a.m., Steven Yen wrote:
>>>>> Thanks. You gentlemen please tell me what this means. In R
>(outside
>>>>> of RStudio) I ran:
>>>>>
>>>>> install.packages("aod")
>>>>>
>>>>> Received a warning (and installation did not seem to go through).
>>>>>
>>>>> Then I tried
>>>>>
>>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>
>>>>> Received a warning but it went on to try
>>>>>
>>>>>
>https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
>>>>>
>>>>> and it worked. See log below.
>>>>>
>>>>> I expect to continue to use R-3.0.3 for a while and I very much
>like
>>>>> this to become a routine. Thank you all.
>>>>>
>>>>> Steven Yen
>>>>>
>>>>> ??> install.packages("aod")
>>>>> Warning in install.packages :
>>>>> ??? unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>> Warning in install.packages :
>>>>> ??? unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>
>>>>> ???? package ?aod? is available as a source package but not as a 
>>>>> binary
>>>>>
>>>>> Warning in install.packages :
>>>>> ??? package ?aod? is not available (for R version 3.0.3)
>>>>> ??>
>install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>> Warning in install.packages :
>>>>> ??? unable to access index for repository
>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>> trying URL
>>>>>
>'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>
>>>>>
>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>>> opened URL
>>>>> downloaded 220 Kb
>>>>>
>>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>>
>>>>> The downloaded binary packages are in
>>>>> C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages
>>>>>
>>>>> On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
>>>>>> Just remembered:? RStudio runs its own wrapper around
>>>>>> install.packages().? Steven, you should try doing the install
>from
>>>>>> outside of RStudio, and see if it makes a difference.
>>>>>>
>>>>>> Duncan Murdoch
>>>>>>
>>>>>> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
>>>>>>> He didn't specify the RStudio repos, though it's probably
>implicitly
>>>>>>> specified in getOption("repos").? I wonder why
>install.packages() is
>>>>>>> looking there, when repos is given explicitly?
>>>>>>>
>>>>>>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
>>>>>>>> Drop the RStudio repos.
>>>>>>>>
>>>>>>>> Best,
>>>>>>>> Uwe Ligges
>>>>>>>>
>>>>>>>> On 05.10.2020 11:10, Steven Yen wrote:
>>>>>>>>> Thanks. I did as suggested but still received a warning,
>though 
>>>>>>>>> the
>>>>>>>>> installation went through. Anything I could do to install
>without
>>>>>>>>> the
>>>>>>>>> warning message.
>>>>>>>>>
>>>>>>>>> What is the contrib.url argument?
>>>>>>>>>
>>>>>>>>> ??? >
>>>>>>>>>
>install.packages("aod",repos='https://cran-archive.r-project.org')
>>>>>>>>> Warning in install.packages :
>>>>>>>>> ??? ? unable to access index for repository
>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>>> trying URL
>>>>>>>>>
>'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
>>>>>>>>> opened URL
>>>>>>>>> downloaded 220 Kb
>>>>>>>>>
>>>>>>>>> package ?aod? successfully unpacked and MD5 sums checked
>>>>>>>>>
>>>>>>>>> The downloaded binary packages are in
>>>>>>>>>
>C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
>>>>>>>>> ??? >
>>>>>>>>>
>>>>>>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
>>>>>>>>>> Then you'd rather need
>>>>>>>>>>
>>>>>>>>>>
>install.packages("aod",repos='https://cran-archive.r-project.org') 
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> or use the contrib.url argument.
>>>>>>>>>>
>>>>>>>>>> Best,
>>>>>>>>>> Uwe Ligges
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On 05.10.2020 10:47, Steven Yen wrote:
>>>>>>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I
>
>>>>>>>>>>> said,
>>>>>>>>>>> for reasons that's hard to explain, some of my tasks are
>better
>>>>>>>>>>> handled with an older version of R, in this case R-3.0.3.
>>>>>>>>>>> Please just
>>>>>>>>>>> help me install packages successfully with this older
>version
>>>>>>>>>>> of R.
>>>>>>>>>>>
>>>>>>>>>>> I ran the following line but obviously was not getting it 
>>>>>>>>>>> across.
>>>>>>>>>>>
>>>>>>>>>>> =====
>>>>>>>>>>>
>>>>>>>>>>>>
>install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/')
>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Warning in
>>>>>>>>>>> install.packages : unable to access index for repository
>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
>>>>>>>>>>> install.packages : unable to access index for repository
>>>>>>>>>>>
>https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0
>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Warning in install.packages : package ?aod? is not available
>>>>>>>>>>> (for R
>>>>>>>>>>> version 3.0.3)
>>>>>>>>>>>
>>>>>>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
>>>>>>>>>>>> From
>>>>>>>>>>>>
>>>>>>>>>>>> ../ReadMe
>>>>>>>>>>>> in the mentioned web resource:
>>>>>>>>>>>>
>>>>>>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
>>>>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
>>>>>>>>>>>>
>>>>>>>>>>>> We do not hold binaries of several year old versions of R
>on
>>>>>>>>>>>> CRAN.
>>>>>>>>>>>>
>>>>>>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider
>to
>>>>>>>>>>>> update to 4.0.2.
>>>>>>>>>>>>
>>>>>>>>>>>> Best,
>>>>>>>>>>>> Uwe Ligges
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
>>>>>>>>>>>>> I had to install/use an older version of (R-3.0.3) for a
>>>>>>>>>>>>> reason. While
>>>>>>>>>>>>> installing a package from CRAN (either in RStudio or R), I
>>>>>>>>>>>>> received
>>>>>>>>>>>>> the
>>>>>>>>>>>>> following warning message saying unable to access index
>for
>>>>>>>>>>>>> repository
>>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See
>message
>>>>>>>>>>>>> below. In
>>>>>>>>>>>>> this case, I tried to install "aod". The install
>nevertheless
>>>>>>>>>>>>> went
>>>>>>>>>>>>> through, as confirmed by the library statement (I did not
>try
>>>>>>>>>>>>> to use
>>>>>>>>>>>>> it). Any idea? Thank you.
>>>>>>>>>>>>>
>>>>>>>>>>>>> =====
>>>>>>>>>>>>>
>>>>>>>>>>>>> Warning: unable to access index for repository
>>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning:
>>>>>>>>>>>>> unable to
>>>>>>>>>>>>> access index for repository
>>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
>>>>>>>>>>>>> install.packages("aod") Warning in install.packages :
>unable
>>>>>>>>>>>>> to access
>>>>>>>>>>>>> index for repository
>>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
>>>>>>>>>>>>> Warning in install.packages : unable to access index for
>>>>>>>>>>>>> repository
>>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package 
>>>>>>>>>>>>> ?aod? is
>>>>>>>>>>>>> available as a source package but not as a binary Warning
>in
>>>>>>>>>>>>> install.packages : package ?aod? is not available (for R 
>>>>>>>>>>>>> version
>>>>>>>>>>>>> 3.0.3)
>>>>>>>>>>>>> ?? ? > library(aod)
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> ?? ????[[alternative HTML version deleted]]
>>>>>>>>>>>>>
>>>>>>>>>>>>> ______________________________________________
>>>>>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
>more,
>>>>>>>>>>>>> see
>>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>>>>>> and provide commented, minimal, self-contained,
>reproducible
>>>>>>>>>>>>> code.
>>>>>>>>>>>>>
>>>>>>>>>
>>>>>>>>> ______________________________________________
>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>see
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>>> PLEASE do read the posting guide
>>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>>> and provide commented, minimal, self-contained, reproducible
>code.
>>>>>>>>
>>>>>>>> ______________________________________________
>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
>see
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>>>>> PLEASE do read the posting guide
>>>>>>>> http://www.R-project.org/posting-guide.html
>>>>>>>> and provide commented, minimal, self-contained, reproducible
>code.
>>>>>>>>
>>>>>>>
>>>>>>
>>>>
>>
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From |r1d_m@|| @end|ng |rom y@hoo@|r  Thu Oct  8 19:43:09 2020
From: |r1d_m@|| @end|ng |rom y@hoo@|r (fr1d_mail)
Date: Thu, 8 Oct 2020 19:43:09 +0200
Subject: [R] unable to plot bode - phase with control package
In-Reply-To: <CA797259-198D-4E86-A094-F9ACE9B68499@dcn.davis.ca.us>
References: <7102d570-0a51-2279-d56a-2c31679c7348.ref@yahoo.fr>
 <7102d570-0a51-2279-d56a-2c31679c7348@yahoo.fr>
 <CA797259-198D-4E86-A094-F9ACE9B68499@dcn.davis.ca.us>
Message-ID: <25325b35-c49f-62c0-0bfd-ee26eeba39bf@yahoo.fr>

thank you for the reply !

Le 08/10/2020 ? 16:32, Jeff Newmiller a ?crit?:
> a) What is so difficult about the idea that this list is about R, not theory?

I don't need theory here, I just need the way specialist in R language 
will solve this *coding* issue.

Regarding the theory I think I have some solid background.

> There do exist forums about control theory (e.g. engineering.stackexchange.com)
irrelevant if not implemented in R
> b) Using [-pi,+pi) is not "wrong"... it is numerically more precise,

I never assume it was "wrong"

asymptotic analysis will provide valuable knowledge for stability if you 
reach phase information

why do you assume it is more precise ??

>   though it may not convey what you would prefer to convey.
>
> c) The general case with poles and zeroes is more complicated than just adding the order of your system. Do a search on
>
> "winding number" "bode"
in my case for 'siso' it is enough, physical systems I study are not 
exhibiting very complex behavior
> But if by inspection you think that shortcut will work for your system then do what you need to.
>
> d) If implementing a more general alternative solution is your itch, I am sure the maintainer of this _contributed package_ would welcome patches to add features.

not relevant as my level is R coding is low... sorry

Still looking for a *coding* solution to my issue...

Best,

Fr?d?ric



>
>
> On October 8, 2020 12:08:19 AM PDT, fr1d_mail via R-help <r-help at r-project.org> wrote:
>> Dear All
>>
>> I hope my question is relevant on this forum, else very sorry for the
>> disturbance
>>
>> I want to simply plot a bode diagram of a siso model
>>
>> using the 'bodeplot' command in the control package fail due to error
>> in
>> 'issiso' evaluation...
>>
>> Error in if (issiso(sys)) {:
>>
>> then I try by myself some retro-engineering :)
>>
>> the problem is when I use
>>
>> H <- freqresp(syst, w)
>> mag = 20*log10(abs(H))
>> phase <- atan2(Im(H), Re(H)) * 180/pi
>>
>> if the order of the system is higher than 2 it is wrong (result will be
>>
>> only between -pi / pi)
>>
>> how to proceed ? for each evaluated point take a derivative and
>> evaluate
>> the order to add the proper number of pi ?
>>
>> Thanks for the help !
>>
>> Best
>>
>> Fr?d?ric
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct  8 19:47:15 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 8 Oct 2020 18:47:15 +0100
Subject: [R] RStudio question
In-Reply-To: <CAHpkSYh_0o6-K91uXf3ExhnPnaRVd=mJU=eHbcptuDv1i1EhKQ@mail.gmail.com>
References: <CAHpkSYh_0o6-K91uXf3ExhnPnaRVd=mJU=eHbcptuDv1i1EhKQ@mail.gmail.com>
Message-ID: <1518f18e-18e2-8710-20b3-630a7763cbac@sapo.pt>

Hello,

This question looks like a homework question. The posting guide syas that

"Basic statistics and classroom homework: R-help is not intended for these."

I would take a look at

help('cut')  # pay attention to argument labels
help('ifelse')
help('findInterval')


Hope this helps,

Rui Barradas

?s 09:10 de 08/10/20, Xavier Garcia via R-help escreveu:
> I'm solving the following problem: Create a variable (column) in the ?wf?
> dataframe named ?Zone? that takes value of ?tropic? if Latitude is less
> than or equal to 30, or ?non-tropic? for Latitude greater than 30. Show you
> Zone variable. Latitude is a column of my dataframe. I don't know the
> sintaxis and the process to create the column.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From herd_dog @end|ng |rom cox@net  Thu Oct  8 19:52:47 2020
From: herd_dog @end|ng |rom cox@net (Philip)
Date: Thu, 8 Oct 2020 10:52:47 -0700
Subject: [R] Retrosheet Data
Message-ID: <BF6224199EB245D9B45473073049086B@OWNERPC>

Have used Jim Albert?s code to extract baseball data from Retrosheet.

function(team){
P <- getRetrosheet("play",2013,team)
   get_plays <- function(j) data.frame(Game=P[[j]]$id[1],P[[j]]$play)#from $id and $play section of retrosheet data
   do.call("rbind",lapply(1:length(P),get_plays))
}
all_plays <- do.call("rbind",lapply(Teams[1:30],get_team_plays))
head(all_plays,10)

I get the following six variables from the play section of the retrosheet data:

head(all_plays,10)
    Game                    inning team  retroID        count  pitches play
1  TEX201304050      1         0        troum001    01      CX         63/G
2  TEX201304050      1         0        aybae001    12      TBFX     7/F
3  TEX201304050      1         0        pujoa001     00      X           6/L
4  TEX201304050      1         1        kinsi001      02      FCX        53/G   

Very useful but I would also like to access the $info, $start, $sub, and $data sections.  I have tried replacing $play in the line below with $info, $start, etc. without success.  

 get_plays <- function(j) data.frame(Game=P[[j]]$id[1],P[[j]]$play) with 

get_plays <- function(j) data.frame(Game=P[[j]]$id[1],P[[j]]$info)

I keep getting the same Game, inning, team, etc. data.

Can anyone give me some direction.

Thanks,
Philip Heinrich

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Thu Oct  8 20:16:43 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Thu, 8 Oct 2020 19:16:43 +0100
Subject: [R] Lahman Baseball Data Using R DBI Package
In-Reply-To: <CAHqSRuSPKww1fpFMebC6sWRT-VyCkvEM82A_AGqQWJS18jq4xg@mail.gmail.com>
References: <523DDD41433C4810A1C1C8D755A1A940@OWNERPC>
 <CAHqSRuR-NmoGaEW9YavHxVNitZmezK_rcnwpRzuoHik657wtVQ@mail.gmail.com>
 <C44F824A74414353A579A0B468883116@OWNERPC>
 <CAHqSRuRoLcUw0mOJ_aDud8rivbdCvxtOreRjdp-N8AJ0nnv8ow@mail.gmail.com>
 <CAA99HCxs_oeJhRGEeWAmoQ1CPNU9Pu8GqDbg-6ZAh1L7fvJS1w@mail.gmail.com>
 <CAHqSRuSPKww1fpFMebC6sWRT-VyCkvEM82A_AGqQWJS18jq4xg@mail.gmail.com>
Message-ID: <e6aa8239-492c-4755-a895-96586735444b@sapo.pt>

Hello,


?s 17:26 de 08/10/20, Bill Dunlap escreveu:
> This is really a feature of SQL, not R.  SQL requires that you double quote
> column names that start with numbers, include spaces, etc., or that are SQL
> key words.  


Right, but there's no need to escape the double quotes, just put the SQL 
statement between single quotes and it becomes more readable.

sqldf::sqldf('select "Order","Where","From" from d WHERE "From"="me"')


Hope this helps,

Rui Barradas

E.g.,
> 
>> d <- data.frame(Order=c("sit","stay","heel"),
> Where=c("here","there","there"), From=c("me","me","you"))
>> sqldf::sqldf("select Order,Where,From from d WHERE From=\"me\"")
> Error: near "Order": syntax error
>> sqldf::sqldf("select \"Order\",\"Where\",\"From\" from d Where
> \"From\"=\"me\"")
>    Order Where From
> 1   sit  here   me
> 2  stay there   me
> 
> You may as well double quote all column names in SQL queries.
> 
> -Bill
> 
> On Wed, Oct 7, 2020 at 9:57 PM William Michels <wjm1 at caa.columbia.edu>
> wrote:
> 
>> Hi Philip,
>>
>> You've probably realized by now that R doesn't like column names that
>> start with a number. If you try to access an R-dataframe column named
>> 2B or 3B with the familiar "$" notation, you'll get an error:
>>
>>> library(DBI)
>>> library(RSQLite)
>>> con2 <- dbConnect(SQLite(), "~/R_Dir/lahmansbaseballdb.sqlite")
>>> Hack12Batting <- dbGetQuery(con2,"SELECT * FROM batting WHERE yearID =
>> 2018 AND AB >600 ORDER BY AB DESC")
>>> Hack12Batting$AB
>>   [1] 664 661 639 632 632 632 626 623 620 618 617 613 606 605 602
>>> Hack12Batting$3B
>> Error: unexpected numeric constant in "Hack12Batting$3"
>>
>> How to handle? You can rename columns on-the-fly by piping. See
>> reference [1] and use either library(magrittr) or library(dplyr) or a
>> combination thereof:
>>
>> library(magrittr)
>> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
>> ORDER BY AB DESC") %>% set_colnames(make.names(colnames(.)))
>>
>> #OR one of the following:
>>
>> library(dplyr)
>> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
>> ORDER BY AB DESC") %>% rename(X2B = `2B`, X3B = `3B`)
>>
>> library(dplyr)
>> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
>> ORDER BY AB DESC") %>% `colnames<-`(make.names(colnames(.)))
>>
>> library(dplyr)
>> dbGetQuery(con2,"SELECT * FROM batting WHERE yearID = 2018 AND AB >600
>> ORDER BY AB DESC") %>% magrittr::set_colnames(make.names(colnames(.)))
>>
>> Best, Bill.
>>
>> W. Michels, Ph.D.
>>
>> [1]
>> https://stackoverflow.com/questions/28100780/use-with-replacement-functions-like-colnames
>>
>>
>>
>>
>>
>>
>>
>>
>>
>>
>> On Fri, Oct 2, 2020 at 7:34 PM Bill Dunlap <williamwdunlap at gmail.com>
>> wrote:
>>>
>>> The double quotes are required by SQL if a name is not of the form
>>> letter-followed-by-any-number-of-letters-or-numbers or if the name is a
>> SQL
>>> keyword like 'where' or 'select'.  If you are doing this from a function,
>>> you may as well quote all the names.
>>>
>>> -Bill
>>>
>>> On Fri, Oct 2, 2020 at 6:18 PM Philip <herd_dog at cox.net> wrote:
>>>
>>>> The \?2B\? worked.  Have no idea why.  Can you point me somewhere that
>> can
>>>> explain this to me.
>>>>
>>>> Thanks,
>>>> Philip
>>>>
>>>> *From:* Bill Dunlap
>>>> *Sent:* Friday, October 2, 2020 3:54 PM
>>>> *To:* Philip
>>>> *Cc:* r-help
>>>> *Subject:* Re: [R] Lahman Baseball Data Using R DBI Package
>>>>
>>>> Have you tried putting double quotes around 2B and 3B:  "...2B, 3B,
>> ..."
>>>> -> "...\"2B\",\"3B\",..."?
>>>>
>>>> -Bill
>>>>
>>>> On Fri, Oct 2, 2020 at 3:49 PM Philip <herd_dog at cox.net> wrote:
>>>>
>>>>> I?m trying to pull data from one table (batting) in the Lahman
>> Baseball
>>>>> database.  Notice X2B for doubles and X3B for triples ? fourth and
>> fifth
>>>>> from the right.
>>>>>
>>>>> The dbGetQuery function runs fine when I leave there two out but I get
>>>>> error messages (in red) when I include 2B/3B or X2B/X3B.
>>>>>
>>>>> Can anyone give me some direction?
>>>>>
>>>>> Thanks,
>>>>> Philip Heinrich
>>>>>
>>>>>
>> ***************************************************************************************************************************************************
>>>>> tail(dbReadTable(Lahman,"batting"))
>>>>>
>>>>> ID                       playerID      yearID    stint teamID team_ID
>>>>> lgID   G        G_batting   AB     R     H       X2B    X3B   HR
>>   RBI   SB
>>>>> 107414 107414 yastrmi01      2019       1       SFN       2920
>>>>> NL     107        NA          371   64  101      22       3     21
>>>>> 55    2
>>>>> 107416 107416 yelicch01      2019        1       MIL       2911
>>>>> NL     130        NA          489 100  161      29       3     44
>> 97   30
>>>>> 107419 107419 youngal01     2019       1       ARI        2896
>>>>> NL       17        NA            25     1      1        0       0
>>>>> 0      0     0
>>>>> 107420 107420 zagunma01   2019        1      CHN       2901      NL
>>>>> 30        NA             36     2      9        3       0      0
>>>>> 5     0
>>>>> 107422 107422 zavalse01      2019        1      CHA       2900
>>>>> AL        5        NA             12     1      1        0       0
>>>>> 0       0     0
>>>>> 107427 107427 zimmery01     2019        1      WAS      2925      NL
>>>>> 52        NA           171   20    44        9      0      6      27
>>     0
>>>>> 107428 107428 zobribe01       2019        1      CHN      2901
>>>>> NL      47        NA           150   24   39         5      0      1
>>>>> 17     0
>>>>> 107429 107429 zuninmi01       2019        1      TBA       2922
>>>>> AL      90        NA           266    30  44       10      1      9
>>>>> 32     0
>>>>>
>>>>>
>>>>> Hack11Batting <- dbGetQuery(Lahman,"SELECT
>>>>> playerID,yearID,AB,R,H,2B,3B,HR,
>>>>>                              RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
>>>>> batting
>>>>>                              WHERE yearID = 2018 AND AB >99")
>>>>> Error: unrecognized token: "2B"
>>>>>
>>>>> Hack11Batting <- dbGetQuery(Lahman,"SELECT
>>>>> playerID,yearID,AB,R,H,X2B,X3B,HR,
>>>>>                              RBI,SB,CS,BB,SO,IBB,HBP,SH,SF,GIDP FROM
>>>>> batting
>>>>>                              WHERE yearID = 2018 AND AB >99")
>>>>> Error: no such column: X2B
>>>>>
>>>>>          [[alternative HTML version deleted]]
>>>>>
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide
>>>>> http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>>
>>>>
>>>
>>>          [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From rmh @end|ng |rom temp|e@edu  Thu Oct  8 20:17:15 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Thu, 8 Oct 2020 14:17:15 -0400
Subject: [R] [External] Re:  unable to access index for repository...
In-Reply-To: <C894A000-B78E-45B1-B88F-1B79081DE4BD@dcn.davis.ca.us>
References: <c613e086-3384-5ca2-8823-41ea3921ce94@ntu.edu.tw>
 <3e3350b5-63bd-e26e-3a2a-5b70076aa9ba@statistik.tu-dortmund.de>
 <f351e439-dbd3-1914-576c-a4df97ac52aa@ntu.edu.tw>
 <9dd0221b-f52c-d430-36fa-f5b3ce085697@statistik.tu-dortmund.de>
 <0800c67b-0aa9-b4ea-7dbd-574222f411d3@ntu.edu.tw>
 <e7894194-c685-711a-aee2-94337ef2bda0@statistik.tu-dortmund.de>
 <d8a04cdf-8185-986a-ef6a-52d935097405@gmail.com>
 <b644b187-c6fb-fe26-26a9-09c6df2a0013@gmail.com>
 <524b76ed-fd43-1591-f7d5-4b27e5537e9f@ntu.edu.tw>
 <3b19dd7f-8b87-2baf-573f-5b805a8fdcc5@gmail.com>
 <9dd5c768-3cbe-c128-d86d-1113f18bede4@ntu.edu.tw>
 <85614667-c504-4668-2f05-6ff751e48992@gmail.com>
 <5d3ecbde-ea51-2854-bfe8-899d6a70d1c6@ntu.edu.tw>
 <C894A000-B78E-45B1-B88F-1B79081DE4BD@dcn.davis.ca.us>
Message-ID: <CAGx1TMA2PEFwrfpnGdL5RqVujPFNaOXsC3w=O_i3ReTwXSijmA@mail.gmail.com>

I wonder if you are perhaps trying to solve the wrong problem.

If you like what the older version of the aod package does, but not
the current version,
then I think the solution is to propose an option to the aod
maintainer that would restore your
preferred algorithm into the current version, and then use the current R.

A less good, but possibly workable, option is to compile the old
version of aod into the current R.

On Thu, Oct 8, 2020 at 1:45 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
> All support on this list is voluntary, and support for old versions of R is not even necessarily on-topic here which is why you keep getting nudged to upgrade. Your "need" for support for an old version is definitely not "our" problem, so I suggest you start looking for a consultant if this issue is that important to you. Such is the nature of volunteer-developed open source software... so support your local experts.
>
> On October 8, 2020 10:22:54 AM PDT, Steven Yen <styen at ntu.edu.tw> wrote:
> >Thanks for the help. I have a reason to continue with R-3.0.3. I used
> >maxLik to estimate econometric models and some of them are better
> >handled with R-3.0.3 (but not later)----a sad reality I do not like.
> >
> >Here is what I did. I downloaded
> >
> >https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
> >
> >and installed the zip file, which worked in both RStudio and R (without
> >
> >RStudio).
> >
> >In RStudio, I go Tools -> Install packages -> Install from -> (Choose
> >zip) -> (Browse to the zip file)
> >
> >IN R, I go Packages -> Install packages from local file(s) -> (Browse
> >to
> >the zip file)...
> >
> >Below is the command line generated and the prompt.
> >
> >> install.packages("C:/Users/USER/Downloads/aod_1.3.zip", repos = NULL,
> >
> >type = "win.binary")
> >package ?aod? successfully unpacked and MD5 sums checked
> >
> >I will always be able to download the proper .zip file from CRAC
> >Archive, right. So, this will always work for me? Thank you all !! If
> >there are more direct options that work, I would still be interested to
> >
> >know.
> >
> >Steven Yen
> >
> >On 2020/10/9 ?? 12:49, Duncan Murdoch wrote:
> >> Don't choose a mirror.  That will override the repos choice.
> >>
> >> Do update R to a current version if you aren't able to debug this
> >> yourself.
> >>
> >> Duncan Murdoch
> >>
> >> On 08/10/2020 12:38 p.m., Steven Yen wrote:
> >>> Sorry Gentlemen and all. Now this is becoming a joke (to me). I
> >repeated
> >>> what I did earlier, with and without the option to set repos
> >suggested
> >>> by Duncan. Now it does not work. I wonder whether it is dependent on
> >the
> >>> mirror I chose, but I do not remember the one I chose earlier when
> >it
> >>> work.
> >>>
> >>> I need your help, gentlemen, as I need to use R-3.0.3 for my task.
> >>>
> >>>   > options(repos="https://cran-archive.r-project.org")
> >>>   > chooseCRANmirror()
> >>>   > install.packages("aod")
> >>> Warning: unable to access index for repository
> >>> https://cran-archive.r-project.org/bin/windows/contrib/3.0
> >>> Warning: unable to access index for repository
> >>> http://lib.stat.cmu.edu/R/CRAN/bin/windows/contrib/3.0
> >>>
> >>>      package ?aod? is available as a source package but not as a
> >binary
> >>>
> >>> Warning message:
> >>> package ?aod? is not available (for R version 3.0.3)
> >>>   >
> >install.packages("aod",repos='https://cran-archive.r-project.org')
> >>> Warning: unable to access index for repository
> >>> https://cran-archive.r-project.org/bin/windows/contrib/3.0
> >>> Warning message:
> >>> package ?aod? is not available (for R version 3.0.3)
> >>>
> >>> On 2020/10/9 ?? 12:02, Duncan Murdoch wrote:
> >>>> Okay, so it's not an RStudio issue. However, I'd guess setting
> >>>>
> >>>>    options(repos = "https://cran-archive.r-project.org")
> >>>>
> >>>> at the start of your session could make everything work.  (I'm
> >>>> guessing you currently have it set to "http://cran.rstudio.com",
> >which
> >>>> is the source of the last warning below, probably due to an R bug.
> >>>> But since you're using an obsolete version of R, it shouldn't
> >surprise
> >>>> you that it has bugs that nobody else is seeing.)
> >>>>
> >>>> Duncan Murdoch
> >>>>
> >>>> On 08/10/2020 11:54 a.m., Steven Yen wrote:
> >>>>> Thanks. You gentlemen please tell me what this means. In R
> >(outside
> >>>>> of RStudio) I ran:
> >>>>>
> >>>>> install.packages("aod")
> >>>>>
> >>>>> Received a warning (and installation did not seem to go through).
> >>>>>
> >>>>> Then I tried
> >>>>>
> >>>>> install.packages("aod",repos='https://cran-archive.r-project.org')
> >>>>>
> >>>>> Received a warning but it went on to try
> >>>>>
> >>>>>
> >https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
> >>>>>
> >>>>> and it worked. See log below.
> >>>>>
> >>>>> I expect to continue to use R-3.0.3 for a while and I very much
> >like
> >>>>> this to become a routine. Thank you all.
> >>>>>
> >>>>> Steven Yen
> >>>>>
> >>>>>   > install.packages("aod")
> >>>>> Warning in install.packages :
> >>>>>     unable to access index for repository
> >>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
> >>>>> Warning in install.packages :
> >>>>>     unable to access index for repository
> >>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
> >>>>>
> >>>>>      package ?aod? is available as a source package but not as a
> >>>>> binary
> >>>>>
> >>>>> Warning in install.packages :
> >>>>>     package ?aod? is not available (for R version 3.0.3)
> >>>>>   >
> >install.packages("aod",repos='https://cran-archive.r-project.org')
> >>>>> Warning in install.packages :
> >>>>>     unable to access index for repository
> >>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
> >>>>> trying URL
> >>>>>
> >'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
> >
> >>>>>
> >>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
> >>>>> opened URL
> >>>>> downloaded 220 Kb
> >>>>>
> >>>>> package ?aod? successfully unpacked and MD5 sums checked
> >>>>>
> >>>>> The downloaded binary packages are in
> >>>>> C:\Users\USER\AppData\Local\Temp\RtmpY7t6Ll\downloaded_packages
> >>>>>
> >>>>> On 2020/10/8 ?? 10:52, Duncan Murdoch wrote:
> >>>>>> Just remembered:  RStudio runs its own wrapper around
> >>>>>> install.packages().  Steven, you should try doing the install
> >from
> >>>>>> outside of RStudio, and see if it makes a difference.
> >>>>>>
> >>>>>> Duncan Murdoch
> >>>>>>
> >>>>>> On 08/10/2020 9:59 a.m., Duncan Murdoch wrote:
> >>>>>>> He didn't specify the RStudio repos, though it's probably
> >implicitly
> >>>>>>> specified in getOption("repos").  I wonder why
> >install.packages() is
> >>>>>>> looking there, when repos is given explicitly?
> >>>>>>>
> >>>>>>> On 08/10/2020 8:54 a.m., Uwe Ligges wrote:
> >>>>>>>> Drop the RStudio repos.
> >>>>>>>>
> >>>>>>>> Best,
> >>>>>>>> Uwe Ligges
> >>>>>>>>
> >>>>>>>> On 05.10.2020 11:10, Steven Yen wrote:
> >>>>>>>>> Thanks. I did as suggested but still received a warning,
> >though
> >>>>>>>>> the
> >>>>>>>>> installation went through. Anything I could do to install
> >without
> >>>>>>>>> the
> >>>>>>>>> warning message.
> >>>>>>>>>
> >>>>>>>>> What is the contrib.url argument?
> >>>>>>>>>
> >>>>>>>>>     >
> >>>>>>>>>
> >install.packages("aod",repos='https://cran-archive.r-project.org')
> >>>>>>>>> Warning in install.packages :
> >>>>>>>>>       unable to access index for repository
> >>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
> >>>>>>>>> trying URL
> >>>>>>>>>
> >'https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip'
> >
> >>>>>>>>>
> >>>>>>>>>
> >>>>>>>>> Content type 'application/zip' length 225712 bytes (220 Kb)
> >>>>>>>>> opened URL
> >>>>>>>>> downloaded 220 Kb
> >>>>>>>>>
> >>>>>>>>> package ?aod? successfully unpacked and MD5 sums checked
> >>>>>>>>>
> >>>>>>>>> The downloaded binary packages are in
> >>>>>>>>>
> >C:\Users\USER\AppData\Local\Temp\Rtmp46p9a3\downloaded_packages
> >>>>>>>>>     >
> >>>>>>>>>
> >>>>>>>>> On 2020/10/5 ?? 04:58, Uwe Ligges wrote:
> >>>>>>>>>> Then you'd rather need
> >>>>>>>>>>
> >>>>>>>>>>
> >install.packages("aod",repos='https://cran-archive.r-project.org')
> >>>>>>>>>>
> >>>>>>>>>>
> >>>>>>>>>> or use the contrib.url argument.
> >>>>>>>>>>
> >>>>>>>>>> Best,
> >>>>>>>>>> Uwe Ligges
> >>>>>>>>>>
> >>>>>>>>>>
> >>>>>>>>>> On 05.10.2020 10:47, Steven Yen wrote:
> >>>>>>>>>>> Thanks for the help. I do update to the latest R-4.0.2. As I
> >
> >>>>>>>>>>> said,
> >>>>>>>>>>> for reasons that's hard to explain, some of my tasks are
> >better
> >>>>>>>>>>> handled with an older version of R, in this case R-3.0.3.
> >>>>>>>>>>> Please just
> >>>>>>>>>>> help me install packages successfully with this older
> >version
> >>>>>>>>>>> of R.
> >>>>>>>>>>>
> >>>>>>>>>>> I ran the following line but obviously was not getting it
> >>>>>>>>>>> across.
> >>>>>>>>>>>
> >>>>>>>>>>> =====
> >>>>>>>>>>>
> >>>>>>>>>>>>
> >install.packages("aod",repos='https://cran-archive.r-project.org/bin/windows/contrib/3.0/')
> >
> >>>>>>>>>>>>
> >>>>>>>>>>>>
> >>>>>>>>>>>> Warning in
> >>>>>>>>>>> install.packages : unable to access index for repository
> >>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning in
> >>>>>>>>>>> install.packages : unable to access index for repository
> >>>>>>>>>>>
> >https://cran-archive.r-project.org/bin/windows/contrib/3.0/bin/windows/contrib/3.0
> >
> >>>>>>>>>>>
> >>>>>>>>>>>
> >>>>>>>>>>> Warning in install.packages : package ?aod? is not available
> >>>>>>>>>>> (for R
> >>>>>>>>>>> version 3.0.3)
> >>>>>>>>>>>
> >>>>>>>>>>> On 2020/10/5 ?? 04:12, Uwe Ligges wrote:
> >>>>>>>>>>>> From
> >>>>>>>>>>>>
> >>>>>>>>>>>> ../ReadMe
> >>>>>>>>>>>> in the mentioned web resource:
> >>>>>>>>>>>>
> >>>>>>>>>>>> "Packages for R >= 1.7.0 and R < 3.2.0 are available from
> >>>>>>>>>>>> https://cran-archive.r-project.org/bin/windows/contrib/"
> >>>>>>>>>>>>
> >>>>>>>>>>>> We do not hold binaries of several year old versions of R
> >on
> >>>>>>>>>>>> CRAN.
> >>>>>>>>>>>>
> >>>>>>>>>>>> Note that R 3.0.0 is 7 years old. You shoudl realy consider
> >to
> >>>>>>>>>>>> update to 4.0.2.
> >>>>>>>>>>>>
> >>>>>>>>>>>> Best,
> >>>>>>>>>>>> Uwe Ligges
> >>>>>>>>>>>>
> >>>>>>>>>>>>
> >>>>>>>>>>>>
> >>>>>>>>>>>>
> >>>>>>>>>>>> On 05.10.2020 09:56, Steven Yen wrote:
> >>>>>>>>>>>>> I had to install/use an older version of (R-3.0.3) for a
> >>>>>>>>>>>>> reason. While
> >>>>>>>>>>>>> installing a package from CRAN (either in RStudio or R), I
> >>>>>>>>>>>>> received
> >>>>>>>>>>>>> the
> >>>>>>>>>>>>> following warning message saying unable to access index
> >for
> >>>>>>>>>>>>> repository
> >>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0. See
> >message
> >>>>>>>>>>>>> below. In
> >>>>>>>>>>>>> this case, I tried to install "aod". The install
> >nevertheless
> >>>>>>>>>>>>> went
> >>>>>>>>>>>>> through, as confirmed by the library statement (I did not
> >try
> >>>>>>>>>>>>> to use
> >>>>>>>>>>>>> it). Any idea? Thank you.
> >>>>>>>>>>>>>
> >>>>>>>>>>>>> =====
> >>>>>>>>>>>>>
> >>>>>>>>>>>>> Warning: unable to access index for repository
> >>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 Warning:
> >>>>>>>>>>>>> unable to
> >>>>>>>>>>>>> access index for repository
> >>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 >
> >>>>>>>>>>>>> install.packages("aod") Warning in install.packages :
> >unable
> >>>>>>>>>>>>> to access
> >>>>>>>>>>>>> index for repository
> >>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0
> >>>>>>>>>>>>> Warning in install.packages : unable to access index for
> >>>>>>>>>>>>> repository
> >>>>>>>>>>>>> http://cran.rstudio.com/bin/windows/contrib/3.0 package
> >>>>>>>>>>>>> ?aod? is
> >>>>>>>>>>>>> available as a source package but not as a binary Warning
> >in
> >>>>>>>>>>>>> install.packages : package ?aod? is not available (for R
> >>>>>>>>>>>>> version
> >>>>>>>>>>>>> 3.0.3)
> >>>>>>>>>>>>>      > library(aod)
> >>>>>>>>>>>>>
> >>>>>>>>>>>>>
> >>>>>>>>>>>>>        [[alternative HTML version deleted]]
> >>>>>>>>>>>>>
> >>>>>>>>>>>>> ______________________________________________
> >>>>>>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and
> >more,
> >>>>>>>>>>>>> see
> >>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>>>>>>>>>> PLEASE do read the posting guide
> >>>>>>>>>>>>> http://www.R-project.org/posting-guide.html
> >>>>>>>>>>>>> and provide commented, minimal, self-contained,
> >reproducible
> >>>>>>>>>>>>> code.
> >>>>>>>>>>>>>
> >>>>>>>>>
> >>>>>>>>> ______________________________________________
> >>>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> >see
> >>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>>>>>> PLEASE do read the posting guide
> >>>>>>>>> http://www.R-project.org/posting-guide.html
> >>>>>>>>> and provide commented, minimal, self-contained, reproducible
> >code.
> >>>>>>>>
> >>>>>>>> ______________________________________________
> >>>>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more,
> >see
> >>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
> >>>>>>>> PLEASE do read the posting guide
> >>>>>>>> http://www.R-project.org/posting-guide.html
> >>>>>>>> and provide commented, minimal, self-contained, reproducible
> >code.
> >>>>>>>>
> >>>>>>>
> >>>>>>
> >>>>
> >>
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide
> >http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @tyen @end|ng |rom ntu@edu@tw  Thu Oct  8 20:47:22 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 9 Oct 2020 02:47:22 +0800
Subject: [R] [External] Re:  unable to access index for repository...
In-Reply-To: <CAGx1TMA2PEFwrfpnGdL5RqVujPFNaOXsC3w=O_i3ReTwXSijmA@mail.gmail.com>
References: <CAGx1TMA2PEFwrfpnGdL5RqVujPFNaOXsC3w=O_i3ReTwXSijmA@mail.gmail.com>
Message-ID: <E72ABB6F-7A06-4804-A195-197FD4595029@ntu.edu.tw>

Hmm. You raised an interesting point. Actually I am not having problems with aod per se?-it is just a supporting package I need while using old R. The essential package I need, maxLik, simply works better under R-3.0.3, for reason I do not understand?specifically the numerical gradients of the likelihood function are not evaluated as accurately in newer versions of R in my experience, which is why I continue to use R-3.0.3. Because I use this older version of R, naturally I need to install other supporting packages such as aod and AER. 
Certainly, I will install the zip file of the older version of maxLik to the latest R and see what happens. Thank you.

I will install the new maxLik in old R, and old maxLik in new R, and see what happens.

Sent from my iPhone
Beware: My autocorrect is crazy

> On Oct 9, 2020, at 2:17 AM, Richard M. Heiberger <rmh at temple.edu> wrote:
> 
> ?I wonder if you are perhaps trying to solve the wrong problem.
> 
> If you like what the older version of the aod package does, but not
> the current version,
> then I think the solution is to propose an option to the aod
> maintainer that would restore your
> preferred algorithm into the current version, and then use the current R.
> 
> A less good, but possibly workable, option is to compile the old
> version of aod into the current R.
> 
>> On Thu, Oct 8, 2020 at 1:45 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>> 
>> All support on this list is voluntary, and support for old versions of R is not even necessarily on-topic here which is why you keep getting nudged to upgrade. Your "need" for support for an old version is definitely not "our" problem, so I suggest you start looking for a consultant if this issue is that important to you. Such is the nature of volunteer-developed open source software... so support your local experts.
>> 
>>> On October 8, 2020 10:22:54 AM PDT, Steven Yen <styen at ntu.edu.tw> wrote:
>>> Thanks for the help. I have a reason to continue with R-3.0.3. I used
>>> maxLik to estimate econometric models and some of them are better
>>> handled with R-3.0.3 (but not later)----a sad reality I do not like.
>>> 
>>> Here is what I did. I downloaded
>>> 
>>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
>>> 
>>> and installed the zip file, which worked in both RStudio and R (without
>>> 
>>> RStudio).
>>> 
>>> In RStudio, I go Tools -> Install packages -> Install from -> (Choose
>>> zip) -> (Browse to the zip file)
>>> 
>>> IN R, I go Packages -> Install packages from local file(s) -> (Browse
>>> to
>>> the zip file)...


From @rne@henn|ng@en @end|ng |rom gm@||@com  Thu Oct  8 22:28:24 2020
From: @rne@henn|ng@en @end|ng |rom gm@||@com (Arne Henningsen)
Date: Thu, 8 Oct 2020 22:28:24 +0200
Subject: [R] [External] Re: unable to access index for repository...
In-Reply-To: <E72ABB6F-7A06-4804-A195-197FD4595029@ntu.edu.tw>
References: <CAGx1TMA2PEFwrfpnGdL5RqVujPFNaOXsC3w=O_i3ReTwXSijmA@mail.gmail.com>
 <E72ABB6F-7A06-4804-A195-197FD4595029@ntu.edu.tw>
Message-ID: <CAMTWbJh4zKtO-MoirxADs+gDGurQ5V3RFhDZ9qY2dXxQ+G=iKQ@mail.gmail.com>

Hi Steven

Which optimisation algorithms in maxLik work better under R-3.0.3 than
under the current version of R?

/Arne

On Thu, 8 Oct 2020 at 21:05, Steven Yen <styen at ntu.edu.tw> wrote:
>
> Hmm. You raised an interesting point. Actually I am not having problems with aod per se?-it is just a supporting package I need while using old R. The essential package I need, maxLik, simply works better under R-3.0.3, for reason I do not understand?specifically the numerical gradients of the likelihood function are not evaluated as accurately in newer versions of R in my experience, which is why I continue to use R-3.0.3. Because I use this older version of R, naturally I need to install other supporting packages such as aod and AER.
> Certainly, I will install the zip file of the older version of maxLik to the latest R and see what happens. Thank you.
>
> I will install the new maxLik in old R, and old maxLik in new R, and see what happens.
>
> Sent from my iPhone
> Beware: My autocorrect is crazy
>
> > On Oct 9, 2020, at 2:17 AM, Richard M. Heiberger <rmh at temple.edu> wrote:
> >
> > ?I wonder if you are perhaps trying to solve the wrong problem.
> >
> > If you like what the older version of the aod package does, but not
> > the current version,
> > then I think the solution is to propose an option to the aod
> > maintainer that would restore your
> > preferred algorithm into the current version, and then use the current R.
> >
> > A less good, but possibly workable, option is to compile the old
> > version of aod into the current R.
> >
> >> On Thu, Oct 8, 2020 at 1:45 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
> >>
> >> All support on this list is voluntary, and support for old versions of R is not even necessarily on-topic here which is why you keep getting nudged to upgrade. Your "need" for support for an old version is definitely not "our" problem, so I suggest you start looking for a consultant if this issue is that important to you. Such is the nature of volunteer-developed open source software... so support your local experts.
> >>
> >>> On October 8, 2020 10:22:54 AM PDT, Steven Yen <styen at ntu.edu.tw> wrote:
> >>> Thanks for the help. I have a reason to continue with R-3.0.3. I used
> >>> maxLik to estimate econometric models and some of them are better
> >>> handled with R-3.0.3 (but not later)----a sad reality I do not like.
> >>>
> >>> Here is what I did. I downloaded
> >>>
> >>> https://cran-archive.r-project.org/bin/windows/contrib/3.0/aod_1.3.zip
> >>>
> >>> and installed the zip file, which worked in both RStudio and R (without
> >>>
> >>> RStudio).
> >>>
> >>> In RStudio, I go Tools -> Install packages -> Install from -> (Choose
> >>> zip) -> (Browse to the zip file)
> >>>
> >>> IN R, I go Packages -> Install packages from local file(s) -> (Browse
> >>> to
> >>> the zip file)...
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Arne Henningsen
http://www.arne-henningsen.name


From @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com  Thu Oct  8 22:52:12 2020
From: @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com (Ana Marija)
Date: Thu, 8 Oct 2020 15:52:12 -0500
Subject: [R] 2 D density plot interpretation and manipulating the data
Message-ID: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>

Hello,

I have a data frame like this:

> head(SNP)
               mean      var     sd
FQC.10090295 0.0327 0.002678 0.0517
FQC.10119363 0.0220 0.000978 0.0313
FQC.10132112 0.0275 0.002088 0.0457
FQC.10201128 0.0169 0.000289 0.0170
FQC.10208432 0.0443 0.004081 0.0639
FQC.10218466 0.0116 0.000131 0.0115
...

and I am creating plot like this:

s <- ggplot(SNP, mapping = aes(x = mean, y = var))
s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
s

I am getting plot in attach.

My question is how do I:
1.interpret the inclusion versus exclusion within the ellipses-contours?

2. how do I extract from my data frame the points which are outside of ellipses?

Thanks
Ana

-------------- next part --------------
A non-text attachment was scrubbed...
Name: snps.pdf
Type: application/pdf
Size: 27821 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20201008/d35a5c66/attachment.pdf>

From @tyen @end|ng |rom ntu@edu@tw  Thu Oct  8 23:39:48 2020
From: @tyen @end|ng |rom ntu@edu@tw (Steven Yen)
Date: Fri, 9 Oct 2020 05:39:48 +0800
Subject: [R] [External] Re: unable to access index for repository...
In-Reply-To: <CAMTWbJh4zKtO-MoirxADs+gDGurQ5V3RFhDZ9qY2dXxQ+G=iKQ@mail.gmail.com>
References: <CAMTWbJh4zKtO-MoirxADs+gDGurQ5V3RFhDZ9qY2dXxQ+G=iKQ@mail.gmail.com>
Message-ID: <62B6F1EC-A314-4EDD-B7F2-52044F83AE23@ntu.edu.tw>

Oh Hi Arne,
You may recall we visited with this before. I do not believe the problem is algorithm specific. The algorithms I use the most often are BFGS and BHHH (or maxBFGS and maxBHHH). For simple econometric models such as probit, Tobit, and evening sample selection models, old and new versions of R work equally well (I write my own programs  and do not use ones from AER or sampleSekection). For more complicated models the newer R would converge with not-so-nice gradients while R-3.0.3 would still do nicely (good gradient). I use numerical graduent of course. I wonder whether numerical gradient routine were revised at the time of transition from R-3.0.3 to newer. Not knowing how different your versions of maxLik are between, I will try as I said I would, that is, use new version of maxLik from old R and vice versa, and see what happens.

Sent from my iPhone
Beware: My autocorrect is crazy

> On Oct 9, 2020, at 4:28 AM, Arne Henningsen <arne.henningsen at gmail.com> wrote:
> 
> ?Hi Steven
> 
> Which optimisation algorithms in maxLik work better under R-3.0.3 than
> under the current version of R?
> 
> /Arne
> 
>> On Thu, 8 Oct 2020 at 21:05, Steven Yen <styen at ntu.edu.tw> wrote:
>> 
>> Hmm. You raised an interesting point. Actually I am not having problems with aod per se?-it is just a supporting package I need while using old R. The essential package I need, maxLik, simply works better under R-3.0.3, for reason I do not understand?specifically the numerical gradients of the likelihood function are not evaluated as accurately in newer versions of R in my experience, which is why I continue to use R-3.0.3. Because I use this older version of R, naturally I need to install other supporting packages such as aod and AER.
>> Certainly, I will install the zip file of the older version of maxLik to the latest R and see what happens. Thank you.
>> 
>> I will install the new maxLik in old R, and old maxLik in new R, and see what happens.
>> 
>> Sent from my iPhone
>> Beware: My autocorrect is crazy
>> 
>>>> On Oct 9, 2020, at 2:17 AM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>> 
>>> ?I wonder if you are perhaps trying to solve the wrong problem.
>>> 
>>> If you like what the older version of the aod package does, but not
>>> the current version,
>>> then I think the solution is to propose an option to the aod
>>> maintainer that would restore your
>>> preferred algorithm into the current version, and then use the current R.
>>> 
>>> A less good, but possibly workable, option is to compile the old
>>> version of aod into the current R.


From @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com  Fri Oct  9 03:35:37 2020
From: @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com (Ana Marija)
Date: Thu, 8 Oct 2020 20:35:37 -0500
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
Message-ID: <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>

My understanding is that this represents bivariate normal
approximation of the data which uses the kernel density function to
test for inclusion within a level set. (please correct me)

In order to exclude the outlier to these ellipses/contours is it
advisable to do something like this:

SNP$density <- get_density(SNP$mean, SNP$var)
> summary(SNP$density)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
      0     383     696     738    1170    1789

where get_density() is function from here:
https://slowkow.com/notes/ggplot2-color-by-density/

and then do something like this:

a=SNP[SNP$density>400,]

and plot it again:

p <- ggplot(a, mapping = aes(x = mean, y = var))
p <- p +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPS_red")

On Thu, Oct 8, 2020 at 3:52 PM Ana Marija <sokovic.anamarija at gmail.com> wrote:
>
> Hello,
>
> I have a data frame like this:
>
> > head(SNP)
>                mean      var     sd
> FQC.10090295 0.0327 0.002678 0.0517
> FQC.10119363 0.0220 0.000978 0.0313
> FQC.10132112 0.0275 0.002088 0.0457
> FQC.10201128 0.0169 0.000289 0.0170
> FQC.10208432 0.0443 0.004081 0.0639
> FQC.10218466 0.0116 0.000131 0.0115
> ...
>
> and I am creating plot like this:
>
> s <- ggplot(SNP, mapping = aes(x = mean, y = var))
> s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
> s
>
> I am getting plot in attach.
>
> My question is how do I:
> 1.interpret the inclusion versus exclusion within the ellipses-contours?
>
> 2. how do I extract from my data frame the points which are outside of ellipses?
>
> Thanks
> Ana


From @purd|e@@ @end|ng |rom gm@||@com  Fri Oct  9 09:12:27 2020
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Fri, 9 Oct 2020 20:12:27 +1300
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
Message-ID: <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>

> My understanding is that this represents bivariate normal
> approximation of the data which uses the kernel density function to
> test for inclusion within a level set. (please correct me)

You can fit a bivariate normal distribution by computing five parameters.
Two means, two standard deviations (or two variances) and one
correlation (or covariance) coefficient.
The bivariate normal *has* elliptical contours.

A kernel density estimate is usually regarded as an estimate of an
unknown density function.
Often they use a normal (or Gaussian) kernel, but I wouldn't describe
them as normal approximations.
In general, bivariate kernel density estimates do *not* have
elliptical contours.
But in saying that, if the data is close to normality, then contours
will be close to elliptical.

Kernel density estimates do not test for inclusion, as such.
(But technically, there are some exceptions to that).

I'm not sure what you're trying to achieve here.


From gr|gh| @end|ng |rom ug@@edu  Thu Oct  8 22:52:02 2020
From: gr|gh| @end|ng |rom ug@@edu (Giovanni Righi)
Date: Thu, 8 Oct 2020 20:52:02 +0000
Subject: [R] exiting mclapply early on error
Message-ID: <C74A5A25-8609-4F91-9654-FF558140DCE7@uga.edu>

Hey folks,

Is there any way to exit an mclapply early on error?

For example, in the following mclapply loop, I have to wait for all the processes to finish before the error is returned. 

```
mclapply(X = 1:12, FUN = function(x) {Sys.sleep(0.1); if(x == 4) stop()}, mc.cores = 4, mc.preschedule = F)
```

When there are many calculations in FUN, it takes a long time before the error is returned. It would be nice if there were an option to exit (all child processes) early on error. Is there any way to do this?

Thanks,
Giovanni Righi


From m@ech|er @end|ng |rom @t@t@m@th@ethz@ch  Fri Oct  9 12:27:49 2020
From: m@ech|er @end|ng |rom @t@t@m@th@ethz@ch (Martin Maechler)
Date: Fri, 9 Oct 2020 12:27:49 +0200
Subject: [R] [External] Re: unable to access index for repository...
In-Reply-To: <62B6F1EC-A314-4EDD-B7F2-52044F83AE23@ntu.edu.tw>
References: <CAMTWbJh4zKtO-MoirxADs+gDGurQ5V3RFhDZ9qY2dXxQ+G=iKQ@mail.gmail.com>
 <62B6F1EC-A314-4EDD-B7F2-52044F83AE23@ntu.edu.tw>
Message-ID: <24448.15141.721049.228340@stat.math.ethz.ch>

>>>>> Steven Yen 
>>>>>     on Fri, 9 Oct 2020 05:39:48 +0800 writes:

    > Oh Hi Arne, You may recall we visited with this before. I
    > do not believe the problem is algorithm specific. The
    > algorithms I use the most often are BFGS and BHHH (or
    > maxBFGS and maxBHHH). For simple econometric models such
    > as probit, Tobit, and evening sample selection models, old
    > and new versions of R work equally well (I write my own
    > programs and do not use ones from AER or
    > sampleSekection). For more complicated models the newer R
    > would converge with not-so-nice gradients while R-3.0.3
    > would still do nicely (good gradient). I use numerical
    > graduent of course. I wonder whether numerical gradient
    > routine were revised at the time of transition from
    > R-3.0.3 to newer. 

As R-core member, particularly interested in numerical accuracy
etc, I'm also interested in learning what's going on here.

I think we (R core) have never heard of anything numerically deteriorating
going from R 3.0.x to R 4.0.x,  and now you are claiming that in
public, you should really post *reproducible* code giving
evidence to your claim.

As was mentioned earlier, the difference may not be in R, but
rather in the versions of the (non-base R, but "extension") R
packages you use;  and you were saying earlier you will check
that (using the old version of the 'maxLik' package with a newer
version of R and vice verso) and tell us about it.

Thank you in advance on being careful and rational about such
findings.

With regards,

Martin Maechler
ETH Zurich  and  R core team

    > Not knowing how different your versions of maxLik are
    > between, I will try as I said I would, that is, use new
    > version of maxLik from old R and vice versa, and see what
    > happens.

    > Sent from my iPhone Beware: My autocorrect is crazy

    >> On Oct 9, 2020, at 4:28 AM, Arne Henningsen
    >> <arne.henningsen at gmail.com> wrote:
    >> 
    >> ?Hi Steven
    >> 
    >> Which optimisation algorithms in maxLik work better under
    >> R-3.0.3 than under the current version of R?
    >> 
    >> /Arne
    >> 
    >>> On Thu, 8 Oct 2020 at 21:05, Steven Yen
    >>> <styen at ntu.edu.tw> wrote:
    >>> 
    >>> Hmm. You raised an interesting point. Actually I am not
    >>> having problems with aod per se?-it is just a supporting
    >>> package I need while using old R. The essential package
    >>> I need, maxLik, simply works better under R-3.0.3, for
    >>> reason I do not understand?specifically the numerical
    >>> gradients of the likelihood function are not evaluated
    >>> as accurately in newer versions of R in my experience,
    >>> which is why I continue to use R-3.0.3. Because I use
    >>> this older version of R, naturally I need to install
    >>> other supporting packages such as aod and AER.
    >>> Certainly, I will install the zip file of the older
    >>> version of maxLik to the latest R and see what
    >>> happens. Thank you.
    >>> 
    >>> I will install the new maxLik in old R, and old maxLik
    >>> in new R, and see what happens.
    >>> 
    >>> Sent from my iPhone Beware: My autocorrect is crazy
    >>> 
    >>>>> On Oct 9, 2020, at 2:17 AM, Richard M. Heiberger
    >>>>> <rmh at temple.edu> wrote:
    >>>> 
    >>>> ?I wonder if you are perhaps trying to solve the wrong
    >>>> problem.
    >>>> 
    >>>> If you like what the older version of the aod package
    >>>> does, but not the current version, then I think the
    >>>> solution is to propose an option to the aod maintainer
    >>>> that would restore your preferred algorithm into the
    >>>> current version, and then use the current R.
    >>>> 
    >>>> A less good, but possibly workable, option is to
    >>>> compile the old version of aod into the current R.

    > ______________________________________________
    > R-help at r-project.org mailing list -- To UNSUBSCRIBE and
    > more, see https://stat.ethz.ch/mailman/listinfo/r-help
    > PLEASE do read the posting guide
    > http://www.R-project.org/posting-guide.html and provide
    > commented, minimal, self-contained, reproducible code.


From @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com  Fri Oct  9 17:24:44 2020
From: @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com (Ana Marija)
Date: Fri, 9 Oct 2020 10:24:44 -0500
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
 <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
Message-ID: <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>

Hi Abby,

thank you for getting back to me and for this useful information.

I'm trying to detect the outliers in my distribution based of mean and
variance. Can I see that from the plot I provided? Would outliers be
outside of ellipses? If so how do I extract those from my data frame,
based on which parameter?

So I am trying to connect outliers based on what the plot is showing:
s <- ggplot(SNP, mapping = aes(x = mean, y = var))
s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")

versus what is in the data:

> head(SNP)
               mean      var     sd
FQC.10090295 0.0327 0.002678 0.0517
FQC.10119363 0.0220 0.000978 0.0313
FQC.10132112 0.0275 0.002088 0.0457
FQC.10201128 0.0169 0.000289 0.0170
FQC.10208432 0.0443 0.004081 0.0639
FQC.10218466 0.0116 0.000131 0.0115
...

the distribution is not normal, it is right-skewed.

Cheers,
Ana

On Fri, Oct 9, 2020 at 2:13 AM Abby Spurdle <spurdle.a at gmail.com> wrote:
>
> > My understanding is that this represents bivariate normal
> > approximation of the data which uses the kernel density function to
> > test for inclusion within a level set. (please correct me)
>
> You can fit a bivariate normal distribution by computing five parameters.
> Two means, two standard deviations (or two variances) and one
> correlation (or covariance) coefficient.
> The bivariate normal *has* elliptical contours.
>
> A kernel density estimate is usually regarded as an estimate of an
> unknown density function.
> Often they use a normal (or Gaussian) kernel, but I wouldn't describe
> them as normal approximations.
> In general, bivariate kernel density estimates do *not* have
> elliptical contours.
> But in saying that, if the data is close to normality, then contours
> will be close to elliptical.
>
> Kernel density estimates do not test for inclusion, as such.
> (But technically, there are some exceptions to that).
>
> I'm not sure what you're trying to achieve here.


From bgunter@4567 @end|ng |rom gm@||@com  Fri Oct  9 18:31:37 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 9 Oct 2020 09:31:37 -0700
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
 <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
 <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>
Message-ID: <CAGxFJbR-0BSgm5tPC9Nht-UvL4SNiWV11R+HaiHUj7aiNMQueQ@mail.gmail.com>

I recommend that you consult with a local statistical expert. Much of what
you say (outliers?!?) seems to make little sense, and your statistical
knowledge seems minimal. Perhaps more to the point, none of your questions
can be properly answered without subject matter context, which this list is
not designed to provide. That's why I believe you need local expertise.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Fri, Oct 9, 2020 at 8:25 AM Ana Marija <sokovic.anamarija at gmail.com>
wrote:

> Hi Abby,
>
> thank you for getting back to me and for this useful information.
>
> I'm trying to detect the outliers in my distribution based of mean and
> variance. Can I see that from the plot I provided? Would outliers be
> outside of ellipses? If so how do I extract those from my data frame,
> based on which parameter?
>
> So I am trying to connect outliers based on what the plot is showing:
> s <- ggplot(SNP, mapping = aes(x = mean, y = var))
> s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
>
> versus what is in the data:
>
> > head(SNP)
>                mean      var     sd
> FQC.10090295 0.0327 0.002678 0.0517
> FQC.10119363 0.0220 0.000978 0.0313
> FQC.10132112 0.0275 0.002088 0.0457
> FQC.10201128 0.0169 0.000289 0.0170
> FQC.10208432 0.0443 0.004081 0.0639
> FQC.10218466 0.0116 0.000131 0.0115
> ...
>
> the distribution is not normal, it is right-skewed.
>
> Cheers,
> Ana
>
> On Fri, Oct 9, 2020 at 2:13 AM Abby Spurdle <spurdle.a at gmail.com> wrote:
> >
> > > My understanding is that this represents bivariate normal
> > > approximation of the data which uses the kernel density function to
> > > test for inclusion within a level set. (please correct me)
> >
> > You can fit a bivariate normal distribution by computing five parameters.
> > Two means, two standard deviations (or two variances) and one
> > correlation (or covariance) coefficient.
> > The bivariate normal *has* elliptical contours.
> >
> > A kernel density estimate is usually regarded as an estimate of an
> > unknown density function.
> > Often they use a normal (or Gaussian) kernel, but I wouldn't describe
> > them as normal approximations.
> > In general, bivariate kernel density estimates do *not* have
> > elliptical contours.
> > But in saying that, if the data is close to normality, then contours
> > will be close to elliptical.
> >
> > Kernel density estimates do not test for inclusion, as such.
> > (But technically, there are some exceptions to that).
> >
> > I'm not sure what you're trying to achieve here.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com  Fri Oct  9 18:47:19 2020
From: @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com (Ana Marija)
Date: Fri, 9 Oct 2020 11:47:19 -0500
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAGxFJbR-0BSgm5tPC9Nht-UvL4SNiWV11R+HaiHUj7aiNMQueQ@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
 <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
 <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>
 <CAGxFJbR-0BSgm5tPC9Nht-UvL4SNiWV11R+HaiHUj7aiNMQueQ@mail.gmail.com>
Message-ID: <CAF9-5jPW47nMV_9U0mCoW2OD9P91foMP-2NCXPgfS-+JMFQyTA@mail.gmail.com>

Hi Bert,

Another confrontational response from you...

You might have noticed that I use the word "outlier" carefully in this
post and only in relation to the plotted ellipses. I do not know the
underlying algorithm of geom_density_2d() and therefore I am having an
issue of how to interpret the plot. I was hoping someone here knows
that and can help me.

Ana

On Fri, Oct 9, 2020 at 11:31 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> I recommend that you consult with a local statistical expert. Much of what you say (outliers?!?) seems to make little sense, and your statistical knowledge seems minimal. Perhaps more to the point, none of your questions can be properly answered without subject matter context, which this list is not designed to provide. That's why I believe you need local expertise.
>
> Bert Gunter
>
> "The trouble with having an open mind is that people keep coming along and sticking things into it."
> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>
>
> On Fri, Oct 9, 2020 at 8:25 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
>>
>> Hi Abby,
>>
>> thank you for getting back to me and for this useful information.
>>
>> I'm trying to detect the outliers in my distribution based of mean and
>> variance. Can I see that from the plot I provided? Would outliers be
>> outside of ellipses? If so how do I extract those from my data frame,
>> based on which parameter?
>>
>> So I am trying to connect outliers based on what the plot is showing:
>> s <- ggplot(SNP, mapping = aes(x = mean, y = var))
>> s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
>>
>> versus what is in the data:
>>
>> > head(SNP)
>>                mean      var     sd
>> FQC.10090295 0.0327 0.002678 0.0517
>> FQC.10119363 0.0220 0.000978 0.0313
>> FQC.10132112 0.0275 0.002088 0.0457
>> FQC.10201128 0.0169 0.000289 0.0170
>> FQC.10208432 0.0443 0.004081 0.0639
>> FQC.10218466 0.0116 0.000131 0.0115
>> ...
>>
>> the distribution is not normal, it is right-skewed.
>>
>> Cheers,
>> Ana
>>
>> On Fri, Oct 9, 2020 at 2:13 AM Abby Spurdle <spurdle.a at gmail.com> wrote:
>> >
>> > > My understanding is that this represents bivariate normal
>> > > approximation of the data which uses the kernel density function to
>> > > test for inclusion within a level set. (please correct me)
>> >
>> > You can fit a bivariate normal distribution by computing five parameters.
>> > Two means, two standard deviations (or two variances) and one
>> > correlation (or covariance) coefficient.
>> > The bivariate normal *has* elliptical contours.
>> >
>> > A kernel density estimate is usually regarded as an estimate of an
>> > unknown density function.
>> > Often they use a normal (or Gaussian) kernel, but I wouldn't describe
>> > them as normal approximations.
>> > In general, bivariate kernel density estimates do *not* have
>> > elliptical contours.
>> > But in saying that, if the data is close to normality, then contours
>> > will be close to elliptical.
>> >
>> > Kernel density estimates do not test for inclusion, as such.
>> > (But technically, there are some exceptions to that).
>> >
>> > I'm not sure what you're trying to achieve here.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Fri Oct  9 22:45:27 2020
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Fri, 9 Oct 2020 20:45:27 +0000
Subject: [R] eps parameer in equiv.test
Message-ID: <CH2PR03MB5158480B6F8F00AC0891659BE2080@CH2PR03MB5158.namprd03.prod.outlook.com>

I am trying to understand the meaning of the eps parameter of the equiv.test parameter of the equiv.test function (package equivUMP)

The help file for equiv.test states that the parameter eps is "a single strictly positive number giving the equivalence limits"
What is the scale of measurement of eps? It does not appear to be the same scale as the scale used for the two vectors that are passed to, and which are tested. Is the eps' scale of measurement the pooled SD of the two vectors, is it the SD of the difference, is it the pooled SE of the difference, is it the SE of the difference? Perhaps it is something entirely different.
Thank you,
John





John David Sorkin M.D., Ph.D.
Professor of Medicine
Chief, Biostatistics and Informatics
University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
Baltimore VA Medical Center
10 North Greene Street
GRECC (BT/18/GR)
Baltimore, MD 21201-1524
(Phone) 410-605-7119
(Fax) 410-605-7913 (Please call phone number above prior to faxing)



	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Fri Oct  9 23:08:34 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Fri, 9 Oct 2020 14:08:34 -0700
Subject: [R] eps parameer in equiv.test
In-Reply-To: <CH2PR03MB5158480B6F8F00AC0891659BE2080@CH2PR03MB5158.namprd03.prod.outlook.com>
References: <CH2PR03MB5158480B6F8F00AC0891659BE2080@CH2PR03MB5158.namprd03.prod.outlook.com>
Message-ID: <CAGxFJbQQRqH0e6Le-q_6OpzPPDdXavjHVP98yw6c0mWWuWfr3g@mail.gmail.com>

See the "details" section, which clearly states:

"*theta = (mu_x - mu_y - mu) / sigma "*

where mu is an optional shift parameter. For simplicity, let mu = 0 ,and
the text in the details section
shows that eps is on the theta scale, i.e. the "standardized" difference.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Fri, Oct 9, 2020 at 1:45 PM Sorkin, John <jsorkin at som.umaryland.edu>
wrote:

> I am trying to understand the meaning of the eps parameter of the
> equiv.test parameter of the equiv.test function (package equivUMP)
>
> The help file for equiv.test states that the parameter eps is "a single
> strictly positive number giving the equivalence limits"
> What is the scale of measurement of eps? It does not appear to be the same
> scale as the scale used for the two vectors that are passed to, and which
> are tested. Is the eps' scale of measurement the pooled SD of the two
> vectors, is it the SD of the difference, is it the pooled SE of the
> difference, is it the SE of the difference? Perhaps it is something
> entirely different.
> Thank you,
> John
>
>
>
>
>
> John David Sorkin M.D., Ph.D.
> Professor of Medicine
> Chief, Biostatistics and Informatics
> University of Maryland School of Medicine Division of Gerontology and
> Geriatric Medicine
> Baltimore VA Medical Center
> 10 North Greene Street
> GRECC (BT/18/GR)
> Baltimore, MD 21201-1524
> (Phone) 410-605-7119
> (Fax) 410-605-7913 (Please call phone number above prior to faxing)
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From jerem|eju@te @end|ng |rom gm@||@com  Sat Oct 10 00:05:35 2020
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Sat, 10 Oct 2020 00:05:35 +0200
Subject: [R] exiting mclapply early on error
In-Reply-To: <C74A5A25-8609-4F91-9654-FF558140DCE7@uga.edu> (Giovanni Righi's
 message of "Thu, 8 Oct 2020 20:52:02 +0000")
References: <C74A5A25-8609-4F91-9654-FF558140DCE7@uga.edu>
Message-ID: <87h7r32gy8.fsf@gmail.com>

Hello Giovanni,

I don't know if my workflow would suit you but I tend to want the
opposite when I launch a parallel process. I tend to want to keep the
processes alive as long as they can. If the computation time is long I
would not want to lose everything.

lapply..8 <- function(X,FUN,...){
    max..cores <- as.numeric(system("grep ^processor /proc/cpuinfo 2>/dev/null | wc -l",TRUE))
    mclapply(X,FUN,mc.cores=min(max..cores,8))
}

lapply_with_error..8 <- function(X,FUN,...) {    
    lapply..8(X, function(x, ...) tryCatch(FUN(x, ...),
                                            error=function(e){
                                       print(e)
                                       e}
                                       ))
}

res <- lapply_with_error..8(X = 1:12, FUN = function(x) {Sys.sleep(0.1); if(x == 4) stop()})

Then we can investigate the problem for the element that generated
errors. It is even better if we could anticipate the errors and avoid
surprises  by well _testing_ the function before launching a long
process. 

If you want the processes to fail fast, I fear that you want to launch the parallel process too soon without
having tested your function enough.  

HTH,

Jeremie


From D@n@Ry@n @end|ng |rom unbc@c@  Fri Oct  9 18:11:30 2020
From: D@n@Ry@n @end|ng |rom unbc@c@ (Dan Ryan)
Date: Fri, 9 Oct 2020 16:11:30 +0000
Subject: [R] Help using the exclude option in the neuralnet package
Message-ID: <e2edc63e6ccf45ffa1fd8855fdb66eb1@pg-adr-exch-01.adr.unbc.ca>

Good Morning,

I am using the neuralnet package in R, and am able to produce some basic neural nets, and use the output.

I would like to exclude some of the weights and biases from the iteration process and fix their values.

However I do not seem to be able to correctly define the exclude and constant.weights vectors.

Question:  Can someone point me to an example where exclude and contant.weights are used.  I have search the R help archive, and haven't found any examples which use these on the web.

Thank you in advance for any help.

Sincerely

Dan

	[[alternative HTML version deleted]]


From m@r|@cr|@t|n@@m@ur|z|o @end|ng |rom gm@||@com  Fri Oct  9 19:39:10 2020
From: m@r|@cr|@t|n@@m@ur|z|o @end|ng |rom gm@||@com (Maria Cristina Maurizio)
Date: Fri, 9 Oct 2020 19:39:10 +0200
Subject: [R] Question about the package "MatchIt"
Message-ID: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>

Hi! I'm trying to perform propensity score matching on survey data and so
for each individual observation I have a statistical weight attached. My
question is: is there a way within the package to consider these weights in
the matching procedure?
Thank you very much.

-- 
Maria Cristina Maurizio

	[[alternative HTML version deleted]]


From @purd|e@@ @end|ng |rom gm@||@com  Sat Oct 10 01:08:40 2020
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Sat, 10 Oct 2020 12:08:40 +1300
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAF9-5jPW47nMV_9U0mCoW2OD9P91foMP-2NCXPgfS-+JMFQyTA@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
 <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
 <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>
 <CAGxFJbR-0BSgm5tPC9Nht-UvL4SNiWV11R+HaiHUj7aiNMQueQ@mail.gmail.com>
 <CAF9-5jPW47nMV_9U0mCoW2OD9P91foMP-2NCXPgfS-+JMFQyTA@mail.gmail.com>
Message-ID: <CAB8pepxWeofqdGfrynM97JyMCaPxF66GTRT5TR=dWLJZB_-d_g@mail.gmail.com>

You could assign a density value to each point.
Maybe you've done that already...?

Then trim the lowest n (number of) data points
Or trim the lowest p (proportion of) data points.

e.g.
Remove the data points with the 20 lowest density values.
Or remove the data points with the lowest 5% of density values.

I'll let you decide whether that is a good idea or a bad idea.
And if it's a good idea, then how much to trim.


On Sat, Oct 10, 2020 at 5:47 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
>
> Hi Bert,
>
> Another confrontational response from you...
>
> You might have noticed that I use the word "outlier" carefully in this
> post and only in relation to the plotted ellipses. I do not know the
> underlying algorithm of geom_density_2d() and therefore I am having an
> issue of how to interpret the plot. I was hoping someone here knows
> that and can help me.
>
> Ana
>
> On Fri, Oct 9, 2020 at 11:31 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
> >
> > I recommend that you consult with a local statistical expert. Much of what you say (outliers?!?) seems to make little sense, and your statistical knowledge seems minimal. Perhaps more to the point, none of your questions can be properly answered without subject matter context, which this list is not designed to provide. That's why I believe you need local expertise.
> >
> > Bert Gunter
> >
> > "The trouble with having an open mind is that people keep coming along and sticking things into it."
> > -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> >
> >
> > On Fri, Oct 9, 2020 at 8:25 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
> >>
> >> Hi Abby,
> >>
> >> thank you for getting back to me and for this useful information.
> >>
> >> I'm trying to detect the outliers in my distribution based of mean and
> >> variance. Can I see that from the plot I provided? Would outliers be
> >> outside of ellipses? If so how do I extract those from my data frame,
> >> based on which parameter?
> >>
> >> So I am trying to connect outliers based on what the plot is showing:
> >> s <- ggplot(SNP, mapping = aes(x = mean, y = var))
> >> s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
> >>
> >> versus what is in the data:
> >>
> >> > head(SNP)
> >>                mean      var     sd
> >> FQC.10090295 0.0327 0.002678 0.0517
> >> FQC.10119363 0.0220 0.000978 0.0313
> >> FQC.10132112 0.0275 0.002088 0.0457
> >> FQC.10201128 0.0169 0.000289 0.0170
> >> FQC.10208432 0.0443 0.004081 0.0639
> >> FQC.10218466 0.0116 0.000131 0.0115
> >> ...
> >>
> >> the distribution is not normal, it is right-skewed.
> >>
> >> Cheers,
> >> Ana
> >>
> >> On Fri, Oct 9, 2020 at 2:13 AM Abby Spurdle <spurdle.a at gmail.com> wrote:
> >> >
> >> > > My understanding is that this represents bivariate normal
> >> > > approximation of the data which uses the kernel density function to
> >> > > test for inclusion within a level set. (please correct me)
> >> >
> >> > You can fit a bivariate normal distribution by computing five parameters.
> >> > Two means, two standard deviations (or two variances) and one
> >> > correlation (or covariance) coefficient.
> >> > The bivariate normal *has* elliptical contours.
> >> >
> >> > A kernel density estimate is usually regarded as an estimate of an
> >> > unknown density function.
> >> > Often they use a normal (or Gaussian) kernel, but I wouldn't describe
> >> > them as normal approximations.
> >> > In general, bivariate kernel density estimates do *not* have
> >> > elliptical contours.
> >> > But in saying that, if the data is close to normality, then contours
> >> > will be close to elliptical.
> >> >
> >> > Kernel density estimates do not test for inclusion, as such.
> >> > (But technically, there are some exceptions to that).
> >> >
> >> > I'm not sure what you're trying to achieve here.
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.


From @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com  Sat Oct 10 01:21:03 2020
From: @okov|c@@n@m@r|j@ @end|ng |rom gm@||@com (Ana Marija)
Date: Fri, 9 Oct 2020 18:21:03 -0500
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAB8pepxWeofqdGfrynM97JyMCaPxF66GTRT5TR=dWLJZB_-d_g@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
 <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
 <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>
 <CAGxFJbR-0BSgm5tPC9Nht-UvL4SNiWV11R+HaiHUj7aiNMQueQ@mail.gmail.com>
 <CAF9-5jPW47nMV_9U0mCoW2OD9P91foMP-2NCXPgfS-+JMFQyTA@mail.gmail.com>
 <CAB8pepxWeofqdGfrynM97JyMCaPxF66GTRT5TR=dWLJZB_-d_g@mail.gmail.com>
Message-ID: <CAF9-5jPZDaKShvN4F5AFs6XO3j4uzZiZndt1K_kwiEwpJD=R0A@mail.gmail.com>

Hi Abby,

Thanks for getting back to me, yes I believe I did that by doing this:

SNP$density <- get_density(SNP$mean, SNP$var)
> summary(SNP$density)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
      0     383     696     738    1170    1789

where get_density() is function from here:
https://slowkow.com/notes/ggplot2-color-by-density/

and keep only entries with density > 400

a=SNP[SNP$density>400,]

and plot it again:

p <- ggplot(a, mapping = aes(x = mean, y = var))
p <- p +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPS_red")

and probably I can increase that threshold...

Any idea how do I interpret data points that are left contained within
the ellipses?

On Fri, Oct 9, 2020 at 6:09 PM Abby Spurdle <spurdle.a at gmail.com> wrote:
>
> You could assign a density value to each point.
> Maybe you've done that already...?
>
> Then trim the lowest n (number of) data points
> Or trim the lowest p (proportion of) data points.
>
> e.g.
> Remove the data points with the 20 lowest density values.
> Or remove the data points with the lowest 5% of density values.
>
> I'll let you decide whether that is a good idea or a bad idea.
> And if it's a good idea, then how much to trim.
>
>
> On Sat, Oct 10, 2020 at 5:47 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
> >
> > Hi Bert,
> >
> > Another confrontational response from you...
> >
> > You might have noticed that I use the word "outlier" carefully in this
> > post and only in relation to the plotted ellipses. I do not know the
> > underlying algorithm of geom_density_2d() and therefore I am having an
> > issue of how to interpret the plot. I was hoping someone here knows
> > that and can help me.
> >
> > Ana
> >
> > On Fri, Oct 9, 2020 at 11:31 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
> > >
> > > I recommend that you consult with a local statistical expert. Much of what you say (outliers?!?) seems to make little sense, and your statistical knowledge seems minimal. Perhaps more to the point, none of your questions can be properly answered without subject matter context, which this list is not designed to provide. That's why I believe you need local expertise.
> > >
> > > Bert Gunter
> > >
> > > "The trouble with having an open mind is that people keep coming along and sticking things into it."
> > > -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
> > >
> > >
> > > On Fri, Oct 9, 2020 at 8:25 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
> > >>
> > >> Hi Abby,
> > >>
> > >> thank you for getting back to me and for this useful information.
> > >>
> > >> I'm trying to detect the outliers in my distribution based of mean and
> > >> variance. Can I see that from the plot I provided? Would outliers be
> > >> outside of ellipses? If so how do I extract those from my data frame,
> > >> based on which parameter?
> > >>
> > >> So I am trying to connect outliers based on what the plot is showing:
> > >> s <- ggplot(SNP, mapping = aes(x = mean, y = var))
> > >> s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
> > >>
> > >> versus what is in the data:
> > >>
> > >> > head(SNP)
> > >>                mean      var     sd
> > >> FQC.10090295 0.0327 0.002678 0.0517
> > >> FQC.10119363 0.0220 0.000978 0.0313
> > >> FQC.10132112 0.0275 0.002088 0.0457
> > >> FQC.10201128 0.0169 0.000289 0.0170
> > >> FQC.10208432 0.0443 0.004081 0.0639
> > >> FQC.10218466 0.0116 0.000131 0.0115
> > >> ...
> > >>
> > >> the distribution is not normal, it is right-skewed.
> > >>
> > >> Cheers,
> > >> Ana
> > >>
> > >> On Fri, Oct 9, 2020 at 2:13 AM Abby Spurdle <spurdle.a at gmail.com> wrote:
> > >> >
> > >> > > My understanding is that this represents bivariate normal
> > >> > > approximation of the data which uses the kernel density function to
> > >> > > test for inclusion within a level set. (please correct me)
> > >> >
> > >> > You can fit a bivariate normal distribution by computing five parameters.
> > >> > Two means, two standard deviations (or two variances) and one
> > >> > correlation (or covariance) coefficient.
> > >> > The bivariate normal *has* elliptical contours.
> > >> >
> > >> > A kernel density estimate is usually regarded as an estimate of an
> > >> > unknown density function.
> > >> > Often they use a normal (or Gaussian) kernel, but I wouldn't describe
> > >> > them as normal approximations.
> > >> > In general, bivariate kernel density estimates do *not* have
> > >> > elliptical contours.
> > >> > But in saying that, if the data is close to normality, then contours
> > >> > will be close to elliptical.
> > >> >
> > >> > Kernel density estimates do not test for inclusion, as such.
> > >> > (But technically, there are some exceptions to that).
> > >> >
> > >> > I'm not sure what you're trying to achieve here.
> > >>
> > >> ______________________________________________
> > >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > >> https://stat.ethz.ch/mailman/listinfo/r-help
> > >> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > >> and provide commented, minimal, self-contained, reproducible code.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: snps_red.pdf
Type: application/pdf
Size: 29558 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-help/attachments/20201009/090e5bd6/attachment.pdf>

From z|xu@n@q| @end|ng |rom duke@edu  Sat Oct 10 02:13:30 2020
From: z|xu@n@q| @end|ng |rom duke@edu (Zixuan Qi)
Date: Sat, 10 Oct 2020 00:13:30 +0000
Subject: [R] highfrequency package-jump test
Message-ID: <SN6PR05MB5214311B0683CD5A71C7509198090@SN6PR05MB5214.namprd05.prod.outlook.com>

Hello,

My programming is as follows.

library(highfrequency)
library(data.table)
library(xts)
tm<-seq.POSIXt(from = as.POSIXct("2020-08-20 09:30:00"),to = as.POSIXct("2020-08-20 15:59:00"),by='min')
data<-xts(x=data$PRICE,order.by=tm)
data <- as.data.table(data)
setnames(data,c('index'),c('DT'))
setnames(data,c('V1'),c('PRICE'))
LMtest <- intradayJumpTest(pData = data,volEstimator = "RM", driftEstimator = "none",RM = "bipower", lookBackPeriod = 20,on = 'minutes', k = 5, marketOpen = "09:30:00",marketClose = "15:59:00")
plot(LMtest)

However, the error is that ''Error in xy.coords(x, y, setLab = FALSE) : 'x' and 'y' lengths differ''. I don't know how to correct it.


	[[alternative HTML version deleted]]


From @purd|e@@ @end|ng |rom gm@||@com  Sat Oct 10 02:22:25 2020
From: @purd|e@@ @end|ng |rom gm@||@com (Abby Spurdle)
Date: Sat, 10 Oct 2020 13:22:25 +1300
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAF9-5jPZDaKShvN4F5AFs6XO3j4uzZiZndt1K_kwiEwpJD=R0A@mail.gmail.com>
References: <CAF9-5jOJjPsx9a8v1J=LwZ+PXJKhDdYZ2iR=ZMZYB95x_T+jZw@mail.gmail.com>
 <CAF9-5jO3KS58hLwrf9pqr_UQ7uysVPCM07cCyrPdK3i9XRVj4A@mail.gmail.com>
 <CAB8pepxu3KqTuEx+8TCn2fObBPrBAM4t9S6tP=pC_TBf5L5rww@mail.gmail.com>
 <CAF9-5jOJCMt71b5Km-8=mqdRhNDGLrsnNVexv7Y4JXwAm7tExg@mail.gmail.com>
 <CAGxFJbR-0BSgm5tPC9Nht-UvL4SNiWV11R+HaiHUj7aiNMQueQ@mail.gmail.com>
 <CAF9-5jPW47nMV_9U0mCoW2OD9P91foMP-2NCXPgfS-+JMFQyTA@mail.gmail.com>
 <CAB8pepxWeofqdGfrynM97JyMCaPxF66GTRT5TR=dWLJZB_-d_g@mail.gmail.com>
 <CAF9-5jPZDaKShvN4F5AFs6XO3j4uzZiZndt1K_kwiEwpJD=R0A@mail.gmail.com>
Message-ID: <CAB8pepxCNahVbG-yn85gwRpmgK+npNqAnpfG=mbLA-WX+Qeugg@mail.gmail.com>

> SNP$density <- get_density(SNP$mean, SNP$var)
> > summary(SNP$density)
>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
>       0     383     696     738    1170    1789

This doesn't look accurate.
The density values shouldn't all be integers.
And I wouldn't expect the smallest density to be zero, if using a
Gaussian kernel.

Are these values rounded or formatted?

(Recombined Excerpts)
> and keep only entries with density > 400
> a=SNP[SNP$density>400,]
> Any idea how do I interpret data points that are left contained within
the ellipses?

Reiterating, they're contour lines, but they should *not* be ellipses.

You could work out the proportion of "densities" > 400.

    d <- SNP$density
    p.remain <- length (d [d > 400]) / length (d)
    p.remain

Or a more succinct version:

    p.remain <- sum (SNP$density > 400) / nrow (SNP)

Then you can say that you've plotted data with the highest <p.remain> densities.


From dw|n@em|u@ @end|ng |rom comc@@t@net  Sat Oct 10 02:29:42 2020
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Fri, 9 Oct 2020 17:29:42 -0700
Subject: [R] 2 D density plot interpretation and manipulating the data
In-Reply-To: <CAF9-5jPZDaKShvN4F5AFs6XO3j4uzZiZndt1K_kwiEwpJD=R0A@mail.gmail.com>
References: <CAF9-5jPZDaKShvN4F5AFs6XO3j4uzZiZndt1K_kwiEwpJD=R0A@mail.gmail.com>
Message-ID: <074B4F34-16D0-4055-8566-1784B64A0A14@comcast.net>

I?m wondering if you do any searching of the Web or use the help facilities before asking questions? When I posed the question to Google?s search facilities I immediately was directed to, unsurprisingly, the help page text in a webpage format:

https://ggplot2.tidyverse.org/reference/geom_density_2d.html

In many situations I find it very difficult to pry code out of ggplot functions, but that help page says it?s a routine found in the MASS package which is very well documented. 
? 
David. 

Sent from my iPhone

> On Oct 9, 2020, at 4:23 PM, Ana Marija <sokovic.anamarija at gmail.com> wrote:
> 
> ?Hi Abby,
> 
> Thanks for getting back to me, yes I believe I did that by doing this:
> 
> SNP$density <- get_density(SNP$mean, SNP$var)
>> summary(SNP$density)
>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
>      0     383     696     738    1170    1789
> 
> where get_density() is function from here:
> https://slowkow.com/notes/ggplot2-color-by-density/
> 
> and keep only entries with density > 400
> 
> a=SNP[SNP$density>400,]
> 
> and plot it again:
> 
> p <- ggplot(a, mapping = aes(x = mean, y = var))
> p <- p +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPS_red")
> 
> and probably I can increase that threshold...
> 
> Any idea how do I interpret data points that are left contained within
> the ellipses?
> 
>> On Fri, Oct 9, 2020 at 6:09 PM Abby Spurdle <spurdle.a at gmail.com> wrote:
>> 
>> You could assign a density value to each point.
>> Maybe you've done that already...?
>> 
>> Then trim the lowest n (number of) data points
>> Or trim the lowest p (proportion of) data points.
>> 
>> e.g.
>> Remove the data points with the 20 lowest density values.
>> Or remove the data points with the lowest 5% of density values.
>> 
>> I'll let you decide whether that is a good idea or a bad idea.
>> And if it's a good idea, then how much to trim.
>> 
>> 
>>> On Sat, Oct 10, 2020 at 5:47 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
>>> 
>>> Hi Bert,
>>> 
>>> Another confrontational response from you...
>>> 
>>> You might have noticed that I use the word "outlier" carefully in this
>>> post and only in relation to the plotted ellipses. I do not know the
>>> underlying algorithm of geom_density_2d() and therefore I am having an
>>> issue of how to interpret the plot. I was hoping someone here knows
>>> that and can help me.
>>> 
>>> Ana
>>> 
>>> On Fri, Oct 9, 2020 at 11:31 AM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>>>> 
>>>> I recommend that you consult with a local statistical expert. Much of what you say (outliers?!?) seems to make little sense, and your statistical knowledge seems minimal. Perhaps more to the point, none of your questions can be properly answered without subject matter context, which this list is not designed to provide. That's why I believe you need local expertise.
>>>> 
>>>> Bert Gunter
>>>> 
>>>> "The trouble with having an open mind is that people keep coming along and sticking things into it."
>>>> -- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )
>>>> 
>>>> 
>>>> On Fri, Oct 9, 2020 at 8:25 AM Ana Marija <sokovic.anamarija at gmail.com> wrote:
>>>>> 
>>>>> Hi Abby,
>>>>> 
>>>>> thank you for getting back to me and for this useful information.
>>>>> 
>>>>> I'm trying to detect the outliers in my distribution based of mean and
>>>>> variance. Can I see that from the plot I provided? Would outliers be
>>>>> outside of ellipses? If so how do I extract those from my data frame,
>>>>> based on which parameter?
>>>>> 
>>>>> So I am trying to connect outliers based on what the plot is showing:
>>>>> s <- ggplot(SNP, mapping = aes(x = mean, y = var))
>>>>> s <- s +  geom_density_2d() + geom_point() + my.theme + ggtitle("SNPs")
>>>>> 
>>>>> versus what is in the data:
>>>>> 
>>>>>> head(SNP)
>>>>>               mean      var     sd
>>>>> FQC.10090295 0.0327 0.002678 0.0517
>>>>> FQC.10119363 0.0220 0.000978 0.0313
>>>>> FQC.10132112 0.0275 0.002088 0.0457
>>>>> FQC.10201128 0.0169 0.000289 0.0170
>>>>> FQC.10208432 0.0443 0.004081 0.0639
>>>>> FQC.10218466 0.0116 0.000131 0.0115
>>>>> ...
>>>>> 
>>>>> the distribution is not normal, it is right-skewed.
>>>>> 
>>>>> Cheers,
>>>>> Ana
>>>>> 
>>>>> On Fri, Oct 9, 2020 at 2:13 AM Abby Spurdle <spurdle.a at gmail.com> wrote:
>>>>>> 
>>>>>>> My understanding is that this represents bivariate normal
>>>>>>> approximation of the data which uses the kernel density function to
>>>>>>> test for inclusion within a level set. (please correct me)
>>>>>> 
>>>>>> You can fit a bivariate normal distribution by computing five parameters.
>>>>>> Two means, two standard deviations (or two variances) and one
>>>>>> correlation (or covariance) coefficient.
>>>>>> The bivariate normal *has* elliptical contours.
>>>>>> 
>>>>>> A kernel density estimate is usually regarded as an estimate of an
>>>>>> unknown density function.
>>>>>> Often they use a normal (or Gaussian) kernel, but I wouldn't describe
>>>>>> them as normal approximations.
>>>>>> In general, bivariate kernel density estimates do *not* have
>>>>>> elliptical contours.
>>>>>> But in saying that, if the data is close to normality, then contours
>>>>>> will be close to elliptical.
>>>>>> 
>>>>>> Kernel density estimates do not test for inclusion, as such.
>>>>>> (But technically, there are some exceptions to that).
>>>>>> 
>>>>>> I'm not sure what you're trying to achieve here.
>>>>> 
>>>>> ______________________________________________
>>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>>> and provide commented, minimal, self-contained, reproducible code.
> <snps_red.pdf>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @b|@yeng@|@b@ @end|ng |rom gm@||@com  Fri Oct  9 13:31:39 2020
From: @b|@yeng@|@b@ @end|ng |rom gm@||@com (Ablaye Ngalaba)
Date: Fri, 9 Oct 2020 13:31:39 +0200
Subject: [R] Aide pour finaliser ce code
Message-ID: <CAOkWQv1WSzRbCKhXEECz_gJpX5gmO_kNHHmH+TJKQeRyEcQvSQ@mail.gmail.com>

Hello.
Here is my R code. I used the functional data . Now I need to use the
functional data by applying the kernels instead of the xi, yi functions.


Bonjour.
Voici mon code en R . J'ai utiliser les donn?es fonctionnelles . Maintenant
j'ai besoin d'utiliser les donn?es fonctionnelles en appliquant les noyaux
? la place des fontions xi, yi





library(MASS)

CentrageV<-function(X,Ms,n){
# cette fonction centre les donn?es de X
X1=X*0
for (i in 1:n){
X1[i,]=X[i,]-Ms
}
return(X1)
}


# Fonction N?2
SqrtMatrice0<-function(M) {
# Cette fonction nous permet de calculer la racine carr?e d'une matrice
# en utilisant la d?composition M=PDQ o? Q est l'inverse de P
# ici les valeurs propres n?gatives sont remplac?es par zero
 a=eigen(M,TRUE)
 b=a$values
 b[b<0]=0
 c=a$vectors
 d=diag(sqrt(b))
 b=solve(c)
 a=c%*%d%*%b
return(a)
}


# d?claration des parametres
m1=0.01 # valeur de alpha (risque de 1%)
m2=0.05 # valeur de alpha (risque de 5%)
m3=0.1 # valeur de alpha (risque de 10%)
nbrefoissim=100 # nbrefois que le programme tourne
p=2 #dimension de la variable X
q=3 #dimension de la variable Y
R=c(2,3,2);# Nbre de partition de chaque composante de la variable Y
if(length(R) != q) stop("La taille de R doit ?tre ?gale ? q")
n=25 # Taille echantillon
N=c(25,50,100,200,300,400,500,1000) #differentes tailles de l'?chantillion
N=c(25,50) #differentes tailles de l'?chantillion

K=0
MV=matrix(0,nr=2,nc=4)
dimnames(MV)[[2]]=c("n","r1%","r5%","r10%")


#Debut du programme

 for (n in N){


l1=0 # initialisation de la valeur permettant calculer le niveau de test ?
1%
l2=0 # initialisation de la valeur permettant calculer le niveau de test ?
5%
l3=0 # initialisation de la valeur permettant calculer le niveau de test ?
10%

# Cr?ation d'une liste n11 qui contient les tailles des differents groupes
n11=list()
for (i in 1:q){
n11[[i]]=rep(as.integer(n/R[i]),R[i])
n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
}


# Cr?ation des listes  P11 et P12 qui contient les probabilit?s et
# les inverses des probabilites empiriques des differents groupes
respectivement

P11=list()
P12=list()
for (i in 1:q){
P11[[i]]=n11[[i]]/n
P12[[i]]=n/n11[[i]]

}

# cr?ation d'une liste contenant les matrices W
W=list()
for (i in 1:q){
w=matrix(0,n,R[i])
w[1:n11[[i]][1],1]=1
for (j in 2:R[i]){
s1=sum(n11[[i]][1:(j-1)])
w[(1+s1):(s1+n11[[i]][j]),j]=1
}
W[[i]]=w
}

for (i1 in 1:nbrefoissim){

# g?neration des donn?es
VA1=mvrnorm(n,rep(0,(p+q)),diag((p+q)))
X=VA1[,1:p]
Y=VA1[,(p+1):(p+q)]

# Calcul de Xbar
Xbar=colMeans(X)

# Calcul des Xjh bar
Xjhbar=list()
for (i in 1:q){
  w=matrix(0,R[i],p)
  for (j in 1:R[i]){
     w[j,]=colSums(W[[i]][,j]*X)/n11[[i]][j]
  }
  Xjhbar[[i]]=w
}

#calcul des TO jh

TO.jh=list()
for (i in 1:q){
  w=Xjhbar[[i]]
  to=w*0
  for (j in 1:R[i]){
     to[j,]=w[j,]-Xbar
  }
  TO.jh[[i]]=to
}

#calcul des Lamda J

Lamda=matrix(0,p,p)
for (i in 1:q){
  to=TO.jh[[i]]
  w=matrix(0,p,p)
  for (j in 1:R[i]){
     w=w+(P11[[i]][j]*(to[j,]%*%t(to[j,])))
  }
  Lamda=Lamda+w
}

tr1=n*sum(diag(Lamda))

# Calcul de Gamma

GGamma=matrix(0,p*sum(R),p*sum(R))
PGamma=kronecker(diag(P11[[1]]),diag(p))
Ifin=p*R[1]
GGamma[1:Ifin,1:Ifin]=PGamma
for (i in 2:q){
  PGamma=kronecker(diag(P11[[i]]),diag(p))
  Idebut=((p*sum(R[1:(i-1)]))+1)
  Ifin=(p*sum(R[1:i]))
  GGamma[Idebut:Ifin,Idebut:Ifin]=PGamma
}

#Calcul de Sigma

  # Calcul de Vn
  X1=CentrageV(X,Xbar,n)
  Vn=t(X1)%*%X1/n

## Construction de Sigma
GSigma=matrix(0,p*sum(R),p*sum(R))
for (i in 1:q ){
   for (j in 1:R[i] ){
      for (k in 1:q ){
         for (l in 1:R[k]){
            Xij=CentrageV(X,Xjhbar[[i]][j,],n)
            Xkl=CentrageV(X,Xjhbar[[k]][l,],n)
            Vijkl=t(W[[i]][j]*Xij)%*%(W[[k]][l]*Xkl)/n
            Vij=t(W[[i]][j]*Xij)%*%Xij/n11[[i]][j]
            Vkl=t(W[[k]][l]*Xkl)%*%Xkl/n11[[k]][l]
            if (i==1) Idebut=((j-1)*p)+1 else
Idebut=((sum(R[1:(i-1)])+j-1)*p)+1
   if (i==1) Idebut1=(j*p) else Idebut1=((sum(R[1:(i-1)])+j)*p)
            if (k==1) Ifin=((l-1)*p)+1 else Ifin=((sum(R[1:(k-1)])+l-1)*p)+1
   if (k==1) Ifin1=(l*p) else Ifin1=((sum(R[1:(k-1)])+l)*p)

 GSigma[Idebut:Idebut1,Ifin:Ifin1]=Vijkl+(P11[[i]][j]*P11[[k]][l]*(Vn-Vij-Vkl))
}
     }
   }
 }


# D?terminations des valeurs propres de sigma epsilon
pa=SqrtMatrice0(GSigma)
mq= pa %*% GGamma %*% pa
u=Re(eigen(mq)$values)


# d?termination de d?gr? de libert? et valeur c not? va
dl=(sum(u)^2)/(sum(u^2))
va=(sum(u^2))/(sum(u))
pc=1-pchisq(tr1/va, df= dl)

# Test de la valeur obtenue
if (pc>m1) d1=0 else d1=1
if (pc>m2) d2=0 else d2=1
if (pc>m3) d3=0 else d3=1
l1=l1+d1
l2=l2+d2
l3=l3+d3
}
K=K+1
MV[K,1]=n
MV[K,2]=l1/nbrefoissim
MV[K,3]=l2/nbrefoissim
MV[K,4]=l3/nbrefoissim
}

	[[alternative HTML version deleted]]


From jerem|eju@te @end|ng |rom gm@||@com  Sat Oct 10 08:38:27 2020
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Sat, 10 Oct 2020 08:38:27 +0200
Subject: [R] Question about the package "MatchIt"
In-Reply-To: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>
 (Maria Cristina Maurizio's message of "Fri, 9 Oct 2020 19:39:10
 +0200")
References: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>
Message-ID: <87d01q37rw.fsf@gmail.com>

Hello Maria Cristina,

On Friday,  9 Oct 2020 at 19:39, Maria Cristina Maurizio wrote:
> Hi! I'm trying to perform propensity score matching on survey data and so
> for each individual observation I have a statistical weight attached. My
> question is: is there a way within the package to consider these weights in
> the matching procedure?
I'm afraid it is difficult to help you based on the information you have provided.

Could you please provide more information about your issue ?
A minimal reproducible code would be of great help to have a more
precise idea of the problem you are facing.


PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

Best regards,
-- 
Jeremie Juste


From jerem|eju@te @end|ng |rom gm@||@com  Sat Oct 10 08:46:23 2020
From: jerem|eju@te @end|ng |rom gm@||@com (Jeremie Juste)
Date: Sat, 10 Oct 2020 08:46:23 +0200
Subject: [R] Aide pour finaliser ce code
In-Reply-To: <CAOkWQv1WSzRbCKhXEECz_gJpX5gmO_kNHHmH+TJKQeRyEcQvSQ@mail.gmail.com>
 (Ablaye Ngalaba's message of "Fri, 9 Oct 2020 13:31:39 +0200")
References: <CAOkWQv1WSzRbCKhXEECz_gJpX5gmO_kNHHmH+TJKQeRyEcQvSQ@mail.gmail.com>
Message-ID: <877dry37eo.fsf@gmail.com>

Hello Ablaye,

I didn't find any function xi ,yi.

This is an english mailing list. You will maximize your chance of
getting help by sticking to english.

I would also recommend that you comment your code in English, it will be
easier to share. But on this one it is your call.

PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

Best regards,
Jeremie Juste

On Friday,  9 Oct 2020 at 13:31, Ablaye Ngalaba wrote:
> Hello.
> Here is my R code. I used the functional data . Now I need to use the
> functional data by applying the kernels instead of the xi, yi functions.
>
> Bonjour.
> Voici mon code en R . J'ai utiliser les donn?es fonctionnelles . Maintenant
> j'ai besoin d'utiliser les donn?es fonctionnelles en appliquant les noyaux
> ? la place des fontions xi, yi
>
> library(MASS)
>
> CentrageV<-function(X,Ms,n){
> # cette fonction centre les donn?es de X
> X1=X*0
> for (i in 1:n){
> X1[i,]=X[i,]-Ms
> }
> return(X1)
> }
>
> # Fonction N?2
> SqrtMatrice0<-function(M) {
> # Cette fonction nous permet de calculer la racine carr?e d'une matrice
> # en utilisant la d?composition M=PDQ o? Q est l'inverse de P
> # ici les valeurs propres n?gatives sont remplac?es par zero
>  a=eigen(M,TRUE)
>  b=a$values
>  b[b<0]=0
>  c=a$vectors
>  d=diag(sqrt(b))
>  b=solve(c)
>  a=c%*%d%*%b
> return(a)
> }
>
> # d?claration des parametres
> m1=0.01 # valeur de alpha (risque de 1%)
> m2=0.05 # valeur de alpha (risque de 5%)
> m3=0.1 # valeur de alpha (risque de 10%)
> nbrefoissim=100 # nbrefois que le programme tourne
> p=2 #dimension de la variable X
> q=3 #dimension de la variable Y
> R=c(2,3,2);# Nbre de partition de chaque composante de la variable Y
> if(length(R) != q) stop("La taille de R doit ?tre ?gale ? q")
> n=25 # Taille echantillon
> N=c(25,50,100,200,300,400,500,1000) #differentes tailles de l'?chantillion
> N=c(25,50) #differentes tailles de l'?chantillion
>
> K=0
> MV=matrix(0,nr=2,nc=4)
> dimnames(MV)[[2]]=c("n","r1%","r5%","r10%")
>
> #Debut du programme
>
>  for (n in N){
>
> l1=0 # initialisation de la valeur permettant calculer le niveau de test ?
> 1%
> l2=0 # initialisation de la valeur permettant calculer le niveau de test ?
> 5%
> l3=0 # initialisation de la valeur permettant calculer le niveau de test ?
> 10%
>
> # Cr?ation d'une liste n11 qui contient les tailles des differents groupes
> n11=list()
> for (i in 1:q){
> n11[[i]]=rep(as.integer(n/R[i]),R[i])
> n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
> }
>
> # Cr?ation des listes  P11 et P12 qui contient les probabilit?s et
> # les inverses des probabilites empiriques des differents groupes
> respectivement
>
> P11=list()
> P12=list()
> for (i in 1:q){
> P11[[i]]=n11[[i]]/n
> P12[[i]]=n/n11[[i]]
>
> }
>
> # cr?ation d'une liste contenant les matrices W
> W=list()
> for (i in 1:q){
> w=matrix(0,n,R[i])
> w[1:n11[[i]][1],1]=1
> for (j in 2:R[i]){
> s1=sum(n11[[i]][1:(j-1)])
> w[(1+s1):(s1+n11[[i]][j]),j]=1
> }
> W[[i]]=w
> }
>
> for (i1 in 1:nbrefoissim){
>
> # g?neration des donn?es
> VA1=mvrnorm(n,rep(0,(p+q)),diag((p+q)))
> X=VA1[,1:p]
> Y=VA1[,(p+1):(p+q)]
>
> # Calcul de Xbar
> Xbar=colMeans(X)
>
> # Calcul des Xjh bar
> Xjhbar=list()
> for (i in 1:q){
>   w=matrix(0,R[i],p)
>   for (j in 1:R[i]){
>      w[j,]=colSums(W[[i]][,j]*X)/n11[[i]][j]
>   }
>   Xjhbar[[i]]=w
> }
>
> #calcul des TO jh
>
> TO.jh=list()
> for (i in 1:q){
>   w=Xjhbar[[i]]
>   to=w*0
>   for (j in 1:R[i]){
>      to[j,]=w[j,]-Xbar
>   }
>   TO.jh[[i]]=to
> }
>
> #calcul des Lamda J
>
> Lamda=matrix(0,p,p)
> for (i in 1:q){
>   to=TO.jh[[i]]
>   w=matrix(0,p,p)
>   for (j in 1:R[i]){
>      w=w+(P11[[i]][j]*(to[j,]%*%t(to[j,])))
>   }
>   Lamda=Lamda+w
> }
>
> tr1=n*sum(diag(Lamda))
>
> # Calcul de Gamma
>
> GGamma=matrix(0,p*sum(R),p*sum(R))
> PGamma=kronecker(diag(P11[[1]]),diag(p))
> Ifin=p*R[1]
> GGamma[1:Ifin,1:Ifin]=PGamma
> for (i in 2:q){
>   PGamma=kronecker(diag(P11[[i]]),diag(p))
>   Idebut=((p*sum(R[1:(i-1)]))+1)
>   Ifin=(p*sum(R[1:i]))
>   GGamma[Idebut:Ifin,Idebut:Ifin]=PGamma
> }
>
> #Calcul de Sigma
>
>   # Calcul de Vn
>   X1=CentrageV(X,Xbar,n)
>   Vn=t(X1)%*%X1/n
>
> ## Construction de Sigma
> GSigma=matrix(0,p*sum(R),p*sum(R))
> for (i in 1:q ){
>    for (j in 1:R[i] ){
>       for (k in 1:q ){
>          for (l in 1:R[k]){
>             Xij=CentrageV(X,Xjhbar[[i]][j,],n)
>             Xkl=CentrageV(X,Xjhbar[[k]][l,],n)
>             Vijkl=t(W[[i]][j]*Xij)%*%(W[[k]][l]*Xkl)/n
>             Vij=t(W[[i]][j]*Xij)%*%Xij/n11[[i]][j]
>             Vkl=t(W[[k]][l]*Xkl)%*%Xkl/n11[[k]][l]
>             if (i==1) Idebut=((j-1)*p)+1 else
> Idebut=((sum(R[1:(i-1)])+j-1)*p)+1
>    if (i==1) Idebut1=(j*p) else Idebut1=((sum(R[1:(i-1)])+j)*p)
>             if (k==1) Ifin=((l-1)*p)+1 else Ifin=((sum(R[1:(k-1)])+l-1)*p)+1
>    if (k==1) Ifin1=(l*p) else Ifin1=((sum(R[1:(k-1)])+l)*p)
>
>  GSigma[Idebut:Idebut1,Ifin:Ifin1]=Vijkl+(P11[[i]][j]*P11[[k]][l]*(Vn-Vij-Vkl))
> }
>      }
>    }
>  }
>
> # D?terminations des valeurs propres de sigma epsilon
> pa=SqrtMatrice0(GSigma)
> mq= pa %*% GGamma %*% pa
> u=Re(eigen(mq)$values)
>
> # d?termination de d?gr? de libert? et valeur c not? va
> dl=(sum(u)^2)/(sum(u^2))
> va=(sum(u^2))/(sum(u))
> pc=1-pchisq(tr1/va, df= dl)
>
> # Test de la valeur obtenue
> if (pc>m1) d1=0 else d1=1
> if (pc>m2) d2=0 else d2=1
> if (pc>m3) d3=0 else d3=1
> l1=l1+d1
> l2=l2+d2
> l3=l3+d3
> }
> K=K+1
> MV[K,1]=n
> MV[K,2]=l1/nbrefoissim
> MV[K,3]=l2/nbrefoissim
> MV[K,4]=l3/nbrefoissim
> }
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From pd@|gd @end|ng |rom gm@||@com  Sat Oct 10 10:11:50 2020
From: pd@|gd @end|ng |rom gm@||@com (Peter Dalgaard)
Date: Sat, 10 Oct 2020 10:11:50 +0200
Subject: [R] [Rd] R 4.0.3 is released
Message-ID: <67241C9F-68B4-4998-81B6-79019F9AB852@gmail.com>

The build system rolled up R-4.0.3.tar.gz (codename "Bunny-Wunnies Freak Out") this morning.

The list below details the changes in this release.

You can get the source code from

https://cran.r-project.org/src/base/R-4/R-4.0.3.tar.gz

or wait for it to be mirrored at a CRAN site nearer to you.

Binaries for various platforms will appear in due course.


For the R Core Team,

Peter Dalgaard

These are the checksums (md5 and SHA-256) for the freshly created files, in case you wish
to check that they are uncorrupted:

MD5 (AUTHORS) = b9c44f9f78cab3184ad9898bebc854b4
MD5 (COPYING) = eb723b61539feef013de476e68b5c50a
MD5 (COPYING.LIB) = a6f89e2100d9b6cdffcea4f398e37343
MD5 (FAQ) = 5be656453b81e9393e2a0c42688b04b8
MD5 (INSTALL) = 7893f754308ca31f1ccf62055090ad7b
MD5 (NEWS) = 71728ef32a09c5b9df36b496b52d5c8e
MD5 (NEWS.0) = bfcd7c147251b5474d96848c6f57e5a8
MD5 (NEWS.1) = eb78c4d053ec9c32b815cf0c2ebea801
MD5 (NEWS.2) = 496062c138e2def06cebccddfb814ac6
MD5 (NEWS.3) = 012e7f4a80cc8ec947bf3f0ff6117ec8
MD5 (R-latest.tar.gz) = 8ecf46afa36c9aff9904aad5ca422c6d
MD5 (README) = f468f281c919665e276a1b691decbbe6
MD5 (RESOURCES) = 529223fd3ffef95731d0a87353108435
MD5 (THANKS) = 251d20510bfc3cc93b82c5a99f7efcc6
MD5 (VERSION-INFO.dcf) = bfbcfb2f4ef4416b635087160f965904
MD5 (R-4/R-4.0.3.tar.gz) = 8ecf46afa36c9aff9904aad5ca422c6d

2cde824a7b18958e5f06b391c801c8288be0f84fa8934b7ddefef23c67e60c09  AUTHORS
e6d6a009505e345fe949e1310334fcb0747f28dae2856759de102ab66b722cb4  COPYING
6095e9ffa777dd22839f7801aa845b31c9ed07f3d6bf8a26dc5d2dec8ccc0ef3  COPYING.LIB
4390543804392e072378b2d75cd3fb0d57e9885f9dc38ddd5a2ff780487b9d97  FAQ
f87461be6cbaecc4dce44ac58e5bd52364b0491ccdadaf846cb9b452e9550f31  INSTALL
895ba3f810fd33d3be63deb6c4588be1f7ba3f5bf80e10ffeafc194221dd5ba9  NEWS
4e21b62f515b749f80997063fceab626d7258c7d650e81a662ba8e0640f12f62  NEWS.0
12b30c724117b1b2b11484673906a6dcd48a361f69fc420b36194f9218692d01  NEWS.1
e80de410c77f05ff2012fa70051b89119845f734a7fa5c55857e61e4ed7d5f6e  NEWS.2
7201d139947afa52b5e09d26dc01445edf444506264355b2185122bc1ed3dce0  NEWS.3
09983a8a78d5fb6bc45d27b1c55f9ba5265f78fa54a55c13ae691f87c5bb9e0d  R-latest.tar.gz
2fdd3e90f23f32692d4b3a0c0452f2c219a10882033d1774f8cadf25886c3ddc  README
408737572ecc6e1135fdb2cf7a9dbb1a6cb27967c757f1771b8c39d1fd2f1ab9  RESOURCES
c9c7cb32308b4e560a22c858819ade9de524a602abd4e92d1c328c89f8037d73  THANKS
cd9666c09064b120655598c1ac792266ad20adb57c36aab4d094dedc7e480fa6  VERSION-INFO.dcf
09983a8a78d5fb6bc45d27b1c55f9ba5265f78fa54a55c13ae691f87c5bb9e0d  R-4/R-4.0.3.tar.gz

This is the relevant part of the NEWS file

CHANGES IN R 4.0.3:

  NEW FEATURES:

    * On platforms using configure option --with-internal-tzcode,
      additional values "internal" and (on macOS only) "macOS" are
      accepted for the environment variable TZDIR.  (See ?TZDIR.)

      On macOS, "macOS" is used by default if the system timezone
      database is a newer version than that in the R installation.

    * When install.packages(type = "source") fails to find a package in
      a repository it mentions package versions which are excluded by
      their R version requirement and links to hints on why a package
      might not be found.

    * The default value for options("timeout") can be set from
      enviromnent variable R_DEFAULT_INTERNET_TIMEOUT, still defaulting
      to 60 (seconds) if that is not set or invalid.

      This may be needed when child R processes are doing downloads,
      for example during the installation of source packages which
      download jars or other forms of data.

  LINK-TIME OPTIMIZATION on a UNIX-ALIKE:

    * There is now support for parallelized Link-Time Optimization
      (LTO) with GCC and for 'thin' LTO with clang _via_ setting the
      LTO macro.

    * There is support for setting a different LTO flag for the Fortran
      compiler, including to empty when mixing clang and gfortran (as
      on macOS).  See file config.site.

    * There is a new LTO_LD macro to set linker options for LTO
      compilation, for example to select an alternative linker or to
      parallelize thin LTO.

  DEPRECATED AND DEFUNCT:

    * The LINPACK argument to chol.default(), chol2inv(),
      solve.default() and svd() has been defunct since R 3.1.0.  Using
      it now gives a warning which will become an error in R 4.1.0.

  BUG FIXES:

    * The code mitigating stack overflow with PCRE regexps on very long
      strings is enabled for PCRE2 < 10.30 also when JIT is enabled,
      since stack overflows have been seen in that case.

    * Fix to correctly show the group labels in dotchart() (which where
      lost in the ylab improvement for R 4.0.0).

    * addmargins(*, ..) now also works when fn() is a local function,
      thanks to bug report and patch PR#17124 from Alex Bertram.

    * rank(x) and hence sort(x) now work when x is an object (as per
      is.object(x)) of type "raw" _and_ provides a valid `[` method,
      e.g., for gmp::as.bigz(.) numbers.

    * chisq.test(*, simulate.p.value=TRUE) and r2dtable() now work
      correctly for large table entries (in the millions).  Reported by
      Sebastian Meyer and investigated by more helpers in PR#16184.

    * Low-level socket read/write operations have been fixed to
      correctly signal communication errors. Previously, such errors
      could lead to a segfault due to invalid memory access. Reported
      and debugged by Dmitriy Selivanov in PR#17850.

    * quantile(x, pr) works more consistently for pr values slightly
      outside [0,1], thanks to Suharto Anggono's PR#17891.

      Further, quantile(x, prN, names=FALSE) now works even when prN
      contains NAs, thanks to Anggono's PR#17892.  Ditto for ordered
      factors or Date objects when type = 1 or 3, thanks to PR#17899.

    * Libcurl-based internet access, including curlGetHeaders(), was
      not respecting the "timeout" option.  If this causes
      unanticipated timeouts, consider increasing the default by
      setting R_DEFAULT_INTERNET_TIMEOUT.

    * as.Date(<char>) now also works with an initial "", thanks to
      Michael Chirico's PR#17909.

    * isS3stdGeneric(f) now detects an S3 generic also when it it is
      trace()d, thanks to Gabe Becker's PR#17917.

    * R_allocLD() has been fixed to return memory aligned for long
      double type PR#16534.

    * fisher.test() no longer segfaults when called again after its
      internal stack has been exceeded PR#17904.

    * Accessing a long vector represented by a compact integer sequence
      no longer segfaults (reported and debugged by Hugh Parsonage).

    * duplicated() now works also for strings with multiple encodings
      inside a single vector PR#17809.

    * phyper(11, 15, 0, 12, log.p=TRUE) no longer gives NaN; reported
      as PR#17271 by Alexey Stukalov.

    * Fix incorrect calculation in logLik.nls() PR#16100, patch from
      Sebastian Meyer.

    * A very old bug could cause a segfault in model.matrix() when
      terms involved logical variables.  Part of PR#17879.

    * model.frame.default() allowed data = 1, leading to involuntary
      variable capture (rest of PR#17879).

    * tar() no longer skips non-directory files, thanks to a patch by
      Sebastian Meyer, fixing the remaining part of PR#16716.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel

_______________________________________________
R-announce at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-announce


From er|cjberger @end|ng |rom gm@||@com  Sat Oct 10 12:33:37 2020
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Sat, 10 Oct 2020 13:33:37 +0300
Subject: [R] highfrequency package-jump test
In-Reply-To: <SN6PR05MB5214311B0683CD5A71C7509198090@SN6PR05MB5214.namprd05.prod.outlook.com>
References: <SN6PR05MB5214311B0683CD5A71C7509198090@SN6PR05MB5214.namprd05.prod.outlook.com>
Message-ID: <CAGgJW77_dOLMrzLH_fAEcDU=bNBF-+7-i8-gN5KEmq+PrzV9AQ@mail.gmail.com>

Hi,
I tried running your code but it is not complete. When you create the xts
you refer to data$PRICE but this has never been defined.

I generated synthetic data and used that to create the xts object as
follows:

x <- runif( length(tm), min=90, max=110 )
data<-xts(x=x,order.by=tm)

When I used this modified code the program executed with no problem.

I hope that helps,
Eric






On Sat, Oct 10, 2020 at 3:13 AM Zixuan Qi <zixuan.qi at duke.edu> wrote:

> Hello,
>
> My programming is as follows.
>
> library(highfrequency)
> library(data.table)
> library(xts)
> tm<-seq.POSIXt(from = as.POSIXct("2020-08-20 09:30:00"),to =
> as.POSIXct("2020-08-20 15:59:00"),by='min')
> data<-xts(x=data$PRICE,order.by=tm)
> data <- as.data.table(data)
> setnames(data,c('index'),c('DT'))
> setnames(data,c('V1'),c('PRICE'))
> LMtest <- intradayJumpTest(pData = data,volEstimator = "RM",
> driftEstimator = "none",RM = "bipower", lookBackPeriod = 20,on = 'minutes',
> k = 5, marketOpen = "09:30:00",marketClose = "15:59:00")
> plot(LMtest)
>
> However, the error is that ''Error in xy.coords(x, y, setLab = FALSE) :
> 'x' and 'y' lengths differ''. I don't know how to correct it.
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sat Oct 10 12:55:41 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sat, 10 Oct 2020 11:55:41 +0100
Subject: [R] highfrequency package-jump test
In-Reply-To: <SN6PR05MB5214311B0683CD5A71C7509198090@SN6PR05MB5214.namprd05.prod.outlook.com>
References: <SN6PR05MB5214311B0683CD5A71C7509198090@SN6PR05MB5214.namprd05.prod.outlook.com>
Message-ID: <bee419fc-a274-2986-2a5d-e70d0a4120be@sapo.pt>

Hello,

The error is not reproducible, the second code line gives:


data<-xts(x=data$PRICE,order.by=tm)
#Error in data$PRICE : object of type 'closure' is not subsettable


Please post a data example in dput format.

dput(head(data, 30))    # post the output of this or similar

Hope this helps,

Rui Barradas

?s 01:13 de 10/10/20, Zixuan Qi escreveu:
> Hello,
> 
> My programming is as follows.
> 
> library(highfrequency)
> library(data.table)
> library(xts)
> tm<-seq.POSIXt(from = as.POSIXct("2020-08-20 09:30:00"),to = as.POSIXct("2020-08-20 15:59:00"),by='min')
> data<-xts(x=data$PRICE,order.by=tm)
> data <- as.data.table(data)
> setnames(data,c('index'),c('DT'))
> setnames(data,c('V1'),c('PRICE'))
> LMtest <- intradayJumpTest(pData = data,volEstimator = "RM", driftEstimator = "none",RM = "bipower", lookBackPeriod = 20,on = 'minutes', k = 5, marketOpen = "09:30:00",marketClose = "15:59:00")
> plot(LMtest)
> 
> However, the error is that ''Error in xy.coords(x, y, setLab = FALSE) : 'x' and 'y' lengths differ''. I don't know how to correct it.
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From m@|one @end|ng |rom m@|onequ@nt|t@t|ve@com  Sat Oct 10 18:28:20 2020
From: m@|one @end|ng |rom m@|onequ@nt|t@t|ve@com (Patrick (Malone Quantitative))
Date: Sat, 10 Oct 2020 12:28:20 -0400
Subject: [R] Question about the package "MatchIt"
In-Reply-To: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>
References: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>
Message-ID: <CAJc=yOEwduE+Svi9f6yYND51d1x+r4pwYhrZhBcKwpTeLHxAEw@mail.gmail.com>

Maria Cristina,

The MatchIt homepage at https://gking.harvard.edu/matchit has a link
to a mailing list specific to the package and it has searchable
archives. You will probably have better luck there than a general R
programming list. Though a quick perusal of the user guide at that
site makes me think the answer is probably "no."

Pat


On Fri, Oct 9, 2020 at 7:02 PM Maria Cristina Maurizio
<mariacristina.maurizio at gmail.com> wrote:
>
> Hi! I'm trying to perform propensity score matching on survey data and so
> for each individual observation I have a statistical weight attached. My
> question is: is there a way within the package to consider these weights in
> the matching procedure?
> Thank you very much.
>
> --
> Maria Cristina Maurizio
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Patrick S. Malone, Ph.D., Malone Quantitative
NEW Service Models: http://malonequantitative.com

He/Him/His


From eh@@n@k@r|m @end|ng |rom gm@||@com  Sat Oct 10 18:58:43 2020
From: eh@@n@k@r|m @end|ng |rom gm@||@com (Ehsan Karim)
Date: Sat, 10 Oct 2020 09:58:43 -0700
Subject: [R] Question about the package "MatchIt"
In-Reply-To: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>
References: <CABGzq1U0oQ+Ho-Ejo9j9KGzuETWZ63HATtARCsbEbYiMA1or2Q@mail.gmail.com>
Message-ID: <CADGDKJge9VMSwbJStTRX=fBFVHmDqnPJG9Zu+fz+66=Njc5B6A@mail.gmail.com>

Maria:

What you are looking for (propensity score matching on survey data) is
discussed in lab 5 components of this series using matchit and matching
package:

https://www.youtube.com/playlist?list=PL2yD6frXhFob_Mvfg21Y01t_yu1aC9NnP

Regards,

Ehsan
https://ehsank.com/


On Fri., Oct. 9, 2020, 4:02 p.m. Maria Cristina Maurizio, <
mariacristina.maurizio at gmail.com> wrote:

> Hi! I'm trying to perform propensity score matching on survey data and so
> for each individual observation I have a statistical weight attached. My
> question is: is there a way within the package to consider these weights in
> the matching procedure?
> Thank you very much.
>
> --
> Maria Cristina Maurizio
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @b|@yeng@|@b@ @end|ng |rom gm@||@com  Sat Oct 10 21:24:08 2020
From: @b|@yeng@|@b@ @end|ng |rom gm@||@com (Ablaye Ngalaba)
Date: Sat, 10 Oct 2020 21:24:08 +0200
Subject: [R] Please need help to finalize my code
Message-ID: <CAOkWQv1UHh8UVHpoo0vs4-9Yu-Lo4nxssQffE6QOGRZ_sjmYmw@mail.gmail.com>

Good evening dear administrators,
It is with pleasure that I am writing to you to ask for help to finalize my
R programming algorithm.

Indeed, I attach this note to my code which deals with a case of
independence test statistic . My request is to introduce the kernels using
the functional data for this same code that I am sending you. So I list the
lines for which we need to introduce the functional data using the kernels
below.

First of all for this code we need to use the functional data. I have
numbered the lines myself from the original code to give some indication
about the lines of code to introduce the kernel.
1)Centering of redescription function phi(xi) (just use the kernel)
2)this function centers the functional data phi(xi) (just use the kernel)
3)phi(x1) (or kernel k( ., .) )
5)Even here the kernel with the functional data is used.
7)return the kernel
28) kernel dimension
29) kernel dimension
30)kernel dimension
73) redescription function phi(xi) or the kernel k(. , .)
74)redescription function phi(yi) or the kernel k(. , .)
76)redescription function phi(xbar) or the kernel k(. , .)
77)redescription function phi(xjhbar) or the kernel k(. , .)
82)redescription function phi(xi) or the kernel k(. , .) introduced instead
of x
84)redescription function phi(xjhbar) or the kernel k(. , .)
89)w= redescription function phi(xbar) or the kernel k(. , .)
120) we center the redescription function phi(xi) or the kernel k(. , .)
121)Vn is a kernel function, so we use ph(xi) or the kernel k(. , , .)
126)centering of the redescription function phi(xji) or the kernel k(. , .)
127)Vij is computed using redescription function phi(xi) or the kernel k(.
, .) instead of X.
130)centering redescription function phi(Xkl) or the kernel k(. , .)
131)Vijkl always using the kernel function as precedent
132)Vkl always using the kernel function as precedent

 I look forward to your help and sincere request.


                             Yours sincerely

library(MASS)

1 CenteringV<-function(X,Ms,n){
2 # this function centers the data of X
3 X1=X*0
4 for (i in 1:n){
5 X1[i,]=X[i,]-Ms
6 }
7 return(X1)
8 }


9 # Function N?2
10 SqrtMatrix0<-function(M) {
11 # This function allows us to compute the square root of a matrix
12 # using the decomposition M=PDQ where Q is the inverse of P
13 # here negative eigenvalues are replaced by zero
 14 a=eigen(M,TRUE)
 15 b=a$values
 16 b[b<0]=0
 17 c=a$vectors
18 d=diag(sqrt(b))
 19 b=solve(c)
20 a=c%*%d%*%b
21 return(a)
22 }


23 # declaration of parameters
24 m1=0.01 # alpha value (1% risk)
25 m2=0.05 # alpha value (5% risk)
26 m3=0.1 # alpha value (10% risk)
27 nbrefoissim=100 # # times the program is running
28 p=3 #dimension of variable X
29 q=3 #dimension of variable Y
30 R=c(5,4,3);# Number of partition of each component of variable Y
31 if(length(R) != q) stop("The size of R must be equal to q")
32 n=25 # Sample size
33 N=c(25,50,100,200,300,400,500,1000) #different sample sizes
34 #N=c(25,50) #different sample sizes
35 pc1=rep(0.100)
36 K=0
37 MV=matrix(0,nr=8,nc=4)
38 dimnames(MV)[[2]]=c("n","r1%","r5%","r10%")


39 #Beginning of the program

 40 for (n in N){


41 l1=0 # initialization of the value to calculate the test level at 1%.
42 l2=0 # initialization of the value to calculate the test level at 5%.
43 l3=0 # initialization of the value to calculate the test level at 10%.

44 # Creation of an n11 list containing the sizes of the different groups
45 n11=list()
46 for (i in 1:q){
47 n11[[i]]=rep(as.integer(n/R[i]),R[i])
48 n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
49 }


50 # Creation of lists P11 and P12 which contain the probabilities and
51 # the inverses of the empirical probabilities of the different groups
respectively

52 P11=list()
53 P12=list()
54 for (i in 1:q){
55 P11[[i]]=n11[[i]]/n
56 P12[[i]]=n/n11[[i]

57 }

58 # creation of a list containing the W matrices
59 W=list()
60 for (i in 1:q){
61 w=matrix(0,n,R[i])
62 w[1:n11[[i]][1],1]=1
63 if (R[i]>1){
64 for (j in 2:R[i]){
65 s1=sum(n11[[i]][1:(j-1)])
66 w[(1+s1):(s1+n11[[i]][j]),j]=1
67 }}
68 W[[i]]=w
69 }

70 for (i1 in 1:nbrefoissim){

71 # data generation
72 VA1=mvrnorm(n,rep(0,(p+q)),diag((p+q)))
73 X=VA1[,1:p]
74 Y=VA1[,(p+1):(p+q)]

75 # Xbar calculation
76 Xbar=colMeans(X)

77 # Calculation of Xjh bar
78 Xjhbar=list()
79 for (i in 1:q){
80 w=matrix(0,R[i],p)
81 for (j in 1:R[i]){
82 w[j,]=colSums(W[[i]][,j]*X)/n11[[i]][j]
83 }
84 Xjhbar[[i]]=w
85 }

86 #calculation of TO jh

87 TO.jh=list()
88 for (i in 1:q){
89 w=Xjhbar[[i]]
90 to=w*0
91 for (j in 1:R[i]){
92 to[j,]=w[j,]-Xbar
93 }
94 TO.jh[[i]]=to
95 }

96 #calculation of Lamda J

97 Lamda=matrix(0,p,p)
98 for (i in 1:q){
99 to=TO.jh[[i]]
100 w=matrix(0,p,p)
101 for (j in 1:R[i]){
102 w=w+(P11[[i]][j]*(to[j,]%*%t(to[j,])))
103 }
104 Lamda=Lamda+w
105 }

106 tr1=n*sum(diag(Lamda))

107 # Gamma Calculation

108 GGamma=matrix(0,p*sum(R),p*sum(R))
109 PGamma=kronecker(diag(P12[[1]]),diag(p))
110 Ifin=p*R [1]
111 GGamma[1:Ifin,1:Ifin]=PGamma
112 for (i in 2:q){
113 PGamma=kronecker(diag(P12[[i]]),diag(p))
114 Idebut=((p*sum(R[1:(i-1)]))+1)
115 Ifin=(p*sum(R[1:i]))
116 GGamma [Idebut:Ifin,Idebut:Ifin]=PGamma
117 }

118 #Sigma calculation

119 # Calculation of Vn
120 X1=CenteringV(X,Xbar,n)
121 Vn=t(X1)%*%X1/n

122 ## Construction of Sigma
123 GSigma=matrix(0,p*sum(R),p*sum(R))
124 for (i in 1:q ){
125 for (j in 1:R[i] ){
126 Xij=CenteringV(X,Xjhbar[[i]][j,],n)
127 Vij=t(W[[i]][,j]*Xij)%*%Xij/n11[[i]][j]

128 for (k in 1:q ){
129 for (l in 1:R[k]){

130 Xkl=CenteringV(X,Xjhbar[[k]][l,],n)
131 Vijkl=t(W[[i]][,j]*Xij)%*%(W[[k]][,l]*Xkl)/n

132 Vkl=t(W[[k]][,l]*Xkl)%*%Xkl/n11[[k]][l]
133 if (i==1) Idebut=((j-1)*p)+1 else Idebut=((sum(R[1:(i-1)])+j-1)*p)+1
134 if (i==1) Idebut1=(j*p) else Idebut1=((sum(R[1:(i-1)])+j)*p)
135 if (k==1) Ifin=((l-1)*p)+1 else Ifin=((sum(R[1:(k-1)])+l-1)*p)+1
136 if (k==1) Ifin1=(l*p) else Ifin1=((sum(R[1:(k-1)])+l)*p)

137
GSigma[Idebut:Idebut1,Ifin:Ifin1]=Vijkl+(P11[[i]][j]*P11[[k]][l]*(Vn-Vij-Vkl))
138 }
139 }
140 }
141 }


141 # Determinations of the eigenvalues of sigma epsilon
142 pa=SqrtMatrix0(GSigma)
143 mq= pa %*% GGamma %*% pa
144 u=Re(eigen(mq)$values)


145 # determination of degree of freedom and value c noted va
146 dl=(sum(u)^2)/(sum(u^2))
147 va=(sum(u^2))/(sum(u))
148 pc=1-pchisq(tr1/va, df= dl)
149 pc1[i1]=pc

150 # Test of the value obtained
151 if (pc>m1) d1=0 else d1=1
152 if (pc>m2) d2=0 else d2=1
153 if (pc>m3) d3=0 else d3=1
154 l1=l1+d1
155 l2=l2+d2
156 l3=l3+d3
157 }
158 K=K+1
159 MV [K,1]=n
160 MV [K,2]=l1/number of timessim
161 MV [K,3]=l2/number of timessim
162 MV[K,4]=l3/number of timessim
163 }






l

	[[alternative HTML version deleted]]


From @rne@henn|ng@en @end|ng |rom gm@||@com  Sat Oct 10 22:52:27 2020
From: @rne@henn|ng@en @end|ng |rom gm@||@com (Arne Henningsen)
Date: Sat, 10 Oct 2020 22:52:27 +0200
Subject: [R] [External] Re: unable to access index for repository...
In-Reply-To: <24448.15141.721049.228340@stat.math.ethz.ch>
References: <CAMTWbJh4zKtO-MoirxADs+gDGurQ5V3RFhDZ9qY2dXxQ+G=iKQ@mail.gmail.com>
 <62B6F1EC-A314-4EDD-B7F2-52044F83AE23@ntu.edu.tw>
 <24448.15141.721049.228340@stat.math.ethz.ch>
Message-ID: <CAMTWbJjmbCRASdTedcOLDJXUOSPCpboW-EG+rjN6QtJzkTUosQ@mail.gmail.com>

On Fri, 9 Oct 2020 at 12:28, Martin Maechler <maechler at stat.math.ethz.ch> wrote:
>
> >>>>> Steven Yen
> >>>>>     on Fri, 9 Oct 2020 05:39:48 +0800 writes:
>
>     > Oh Hi Arne, You may recall we visited with this before. I
>     > do not believe the problem is algorithm specific. The
>     > algorithms I use the most often are BFGS and BHHH (or
>     > maxBFGS and maxBHHH). For simple econometric models such
>     > as probit, Tobit, and evening sample selection models, old
>     > and new versions of R work equally well (I write my own
>     > programs and do not use ones from AER or
>     > sampleSekection). For more complicated models the newer R
>     > would converge with not-so-nice gradients while R-3.0.3
>     > would still do nicely (good gradient). I use numerical
>     > graduent of course. I wonder whether numerical gradient
>     > routine were revised at the time of transition from
>     > R-3.0.3 to newer.
>
> As R-core member, particularly interested in numerical accuracy
> etc, I'm also interested in learning what's going on here.
>
> I think we (R core) have never heard of anything numerically deteriorating
> going from R 3.0.x to R 4.0.x,  and now you are claiming that in
> public, you should really post *reproducible* code giving
> evidence to your claim.
>
> As was mentioned earlier, the difference may not be in R, but
> rather in the versions of the (non-base R, but "extension") R
> packages you use;  and you were saying earlier you will check
> that (using the old version of the 'maxLik' package with a newer
> version of R and vice verso) and tell us about it.
>
> Thank you in advance on being careful and rational about such
> findings.

I totally agree with Martin: It would be good if Steven could run his
code with different combinations of versions of R and maxLik so that
we know whether the problem is caused by newer versions of R or by
newer versions of maxLik (and hopefully also which version introduced
the problem). Steven wrote that the problem appeared both in maxBFGS()
and in maxBHHH(). This is somewhat surprising because maxBFGS() uses
for the optimisation optim() which is implemented in R's base package
"stats", while maxBHHH() uses for the optimisation maxNR() which is
implemented in the maxLik package. Hence, it would be a very unlikely
coincidence if the optimisation routines in optim() and maxNR() would
become worse at the same time. I remember that we slightly changed the
user interface and the default values of some arguments of some
function in the maxLik package (e.g., maxBFGS, maxBHHH, maxNR, ...) a
long time ago. I suggest that Steven checks whether he needs to update
his code to reflect the changes in the user interface and/or in the
default values of some arguments.

Best wishes,
Arne

--
Arne Henningsen
http://www.arne-henningsen.name


From kch@mber|n @end|ng |rom gm@||@com  Sun Oct 11 01:24:40 2020
From: kch@mber|n @end|ng |rom gm@||@com (1/k^c)
Date: Sat, 10 Oct 2020 17:24:40 -0600
Subject: [R] which() vs. just logical selection in df
Message-ID: <CAJjKGBQnr_vQHMR3VOmAFH9AfgegBfzck7Pw+smHENAL27THsA@mail.gmail.com>

Hi R-helpers,

Does anyone know why adding which() makes the select call more
efficient than just using logical selection in a dataframe? Doesn't
which() technically add another conversion/function call on top of the
logical selection? Here is a reproducible example with a slight
difference in timing.

# Surrogate data - the timing here isn't interesting
urltext <- paste("https://drive.google.com/",
                 "uc?id=1AZ-s1EgZXs4M_XF3YYEaKjjMMvRQ7",
                 "-h8&export=download", sep="")
download.file(url=urltext, destfile="tempfile.csv") # download file first
dat <- read.csv("tempfile.csv", stringsAsFactors = FALSE, header=TRUE,
                  nrows=2.5e6) # read the file; 'nrows' is a slight
                                         # overestimate
dat <- dat[,1:3] # select just the first 3 columns
head(dat, 10) # print the first 10 rows

# Select using which() as the final step ~ 90ms total time on my macbook air
system.time(
  head(
    dat[which(dat$gender2=="other"),],),
  gcFirst=TRUE)

# Select skipping which() ~130ms total time
system.time(
  head(
    dat[dat$gender2=="other", ]),
  gcFirst=TRUE)

Now I would think that the second one without which() would be more
efficient. However, every time I run these, the first version, with
which() is more efficient by about 20ms of system time and 20ms of
user time. Does anyone know why this is?

Cheers!
Keith


From he||o @end|ng |rom @eb@@t|@nm@dev  Sun Oct 11 03:23:43 2020
From: he||o @end|ng |rom @eb@@t|@nm@dev (Sebastian Mueller)
Date: Sun, 11 Oct 2020 03:23:43 +0200
Subject: [R] Help using the exclude option in the neuralnet package
In-Reply-To: <e2edc63e6ccf45ffa1fd8855fdb66eb1@pg-adr-exch-01.adr.unbc.ca>
References: <e2edc63e6ccf45ffa1fd8855fdb66eb1@pg-adr-exch-01.adr.unbc.ca>
Message-ID: <f9baca8e-4f5b-1bf2-4086-897946f6448c@sebastianm.dev>

Hi Dan,

the easiest way to declare `exclude` and `constant.weights` is as a 
vector of indices. You can determine the index of the neuron as follows:

The layers are arranged in sequence, with the bias neuron being the 
first in each layer. So in a neural net with 6 input neurons and a layer 
of 3 hidden neurons, the bias neurons would be at indices 1 and 8.

HTH.

Sebastian


From |@heemj@n93 @end|ng |rom y@hoo@com  Sun Oct 11 11:01:24 2020
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Sun, 11 Oct 2020 09:01:24 +0000 (UTC)
Subject: [R] Installing a Package
References: <448339610.179682.1602406884218.ref@mail.yahoo.com>
Message-ID: <448339610.179682.1602406884218@mail.yahoo.com>



Hello, I am working in the nonparametric functional data analysis, i stack in a simple problem is that i am? going to install a package in the name of nfda which is not present in the? R Cran, know how i am going to install this package in R studio from archives or some thing else. please guide? me i am just a beginner in R, Thanks?
	[[alternative HTML version deleted]]


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Oct 11 11:27:33 2020
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 11 Oct 2020 10:27:33 +0100
Subject: [R] Installing a Package
In-Reply-To: <448339610.179682.1602406884218@mail.yahoo.com>
References: <448339610.179682.1602406884218.ref@mail.yahoo.com>
 <448339610.179682.1602406884218@mail.yahoo.com>
Message-ID: <da089485-d266-afe9-9200-458b2e39a66a@sapo.pt>

Hello,

What OS are you running? If it's Windows you will need Rtools [1] to 
install a source package. Otherwise the following usually works.

1. Download the tar.gz package file (say, package_version.tar.gz) to 
your disk.
2. Go to the directory where this file is.

3.a. From within RStudio run

install.packages(path_to_tar_gz_file, repos = NULL, type = "source")

3.b. From the command line run

R CMD INSTALL package_version.tar.gz


[1] https://cran.r-project.org/bin/windows/Rtools/

Hope this helps,

Rui Barradas


?s 10:01 de 11/10/20, Faheem Jan via R-help escreveu:
> 
> 
> Hello, I am working in the nonparametric functional data analysis, i stack in a simple problem is that i am? going to install a package in the name of nfda which is not present in the? R Cran, know how i am going to install this package in R studio from archives or some thing else. please guide? me i am just a beginner in R, Thanks
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Oct 11 17:10:09 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 11 Oct 2020 08:10:09 -0700
Subject: [R] Installing a Package
In-Reply-To: <448339610.179682.1602406884218@mail.yahoo.com>
References: <448339610.179682.1602406884218.ref@mail.yahoo.com>
 <448339610.179682.1602406884218@mail.yahoo.com>
Message-ID: <7EB21126-9643-4712-A6DE-FF4CACAF6648@dcn.davis.ca.us>

If you are referring to [1] which has been archived on CRAN because the maintainer did not, well, maintain it for the last 9 years, then don't be surprised if things to go wrong in either the installation and/or use of that package. As a beginner you should probably rely on some other package to achieve your goals, and if that is not possible then at least temporarily redirect your efforts at getting better at R and at understanding the underlying theory of your task. If it turns out that you need to fix nfda then you will also need to learn at least some C++.

[1] https://github.com/cran/nfda

On October 11, 2020 2:01:24 AM PDT, Faheem Jan via R-help <r-help at r-project.org> wrote:
>
>
>Hello, I am working in the nonparametric functional data analysis, i
>stack in a simple problem is that i am? going to install a package in
>the name of nfda which is not present in the? R Cran, know how i am
>going to install this package in R studio from archives or some thing
>else. please guide? me i am just a beginner in R, Thanks?
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide
>http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From @orenh @end|ng |rom m@th@@@u@dk  Sun Oct 11 20:51:29 2020
From: @orenh @end|ng |rom m@th@@@u@dk (=?iso-8859-1?Q?S=F8ren_H=F8jsgaard?=)
Date: Sun, 11 Oct 2020 18:51:29 +0000
Subject: [R] Installing bioconduction packages in connection with loading an
 R package
Message-ID: <fcbd293616ad448bad5278932135db58@math.aau.dk>

Dear all,

My gRbase package imports functionality from the bioconductor packages graph, Rgraphviz and RBGL.

To make installation of gRbase easy, I would like to have these bioconductor packages installed in connection with installation of gRbase, but to do so the user must use setRepositories() to make sure that R also installs packages from bioconductor.

Having to call setRepositories causes what can perhaps be called an (unnecessary?) obstacle. Therefore I have been experimenting with deferring installation of these bioc-packages until gRbase is loaded the first time using .onAttach; please see my attempt below.

However, if the bioc-packages are not installed I can not install gRbase so that does not seem to be a viable approach. (The bioc-packages appear as Imports: in DESCRIPTION).

Can anyone tell if it is a futile approach and / or perhaps suggest a solution. (I would guess that there are many CRAN packages that use bioc-packages, so other people must have faced this challenge before).

Thanks in advance.

Best regards
S?ren





.onAttach<-function(libname, pkgname) {

    ## package startup check
    toinstall=c(
        "graph",
        "Rgraphviz",
        "RBGL"
    )

    already_installed <- sapply(toinstall, function(pkg)
        requireNamespace(pkg, quietly=TRUE))

    if (any(!already_installed)){
        packageStartupMessage("Need to install the following package(s): ",
                              toString(toinstall[!already_installed]), "\n")
    }

    ## install if needed
    if(!base::all(already_installed)){
        if (!requireNamespace("BiocManager", quietly=TRUE))
            install.packages("BiocManager")
        BiocManager::install(toinstall[!already_installed], dependencies=TRUE)
    }
}



	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Sun Oct 11 21:01:17 2020
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Sun, 11 Oct 2020 12:01:17 -0700
Subject: [R] 
 Installing bioconduction packages in connection with loading an
 R package
In-Reply-To: <fcbd293616ad448bad5278932135db58@math.aau.dk>
References: <fcbd293616ad448bad5278932135db58@math.aau.dk>
Message-ID: <9A455C39-DDFA-4DA9-BB01-9279B82E19F2@dcn.davis.ca.us>

This sounds like your package belongs in the bioconductor repository rather than in CRAN. Referencing bioc packages only in Suggests might make it appropriate for CRAN.

On October 11, 2020 11:51:29 AM PDT, "S?ren H?jsgaard" <sorenh at math.aau.dk> wrote:
>Dear all,
>
>My gRbase package imports functionality from the bioconductor packages
>graph, Rgraphviz and RBGL.
>
>To make installation of gRbase easy, I would like to have these
>bioconductor packages installed in connection with installation of
>gRbase, but to do so the user must use setRepositories() to make sure
>that R also installs packages from bioconductor.
>
>Having to call setRepositories causes what can perhaps be called an
>(unnecessary?) obstacle. Therefore I have been experimenting with
>deferring installation of these bioc-packages until gRbase is loaded
>the first time using .onAttach; please see my attempt below.
>
>However, if the bioc-packages are not installed I can not install
>gRbase so that does not seem to be a viable approach. (The
>bioc-packages appear as Imports: in DESCRIPTION).
>
>Can anyone tell if it is a futile approach and / or perhaps suggest a
>solution. (I would guess that there are many CRAN packages that use
>bioc-packages, so other people must have faced this challenge before).
>
>Thanks in advance.
>
>Best regards
>S?ren
>
>
>
>
>
>.onAttach<-function(libname, pkgname) {
>
>    ## package startup check
>    toinstall=c(
>        "graph",
>        "Rgraphviz",
>        "RBGL"
>    )
>
>    already_installed <- sapply(toinstall, function(pkg)
>        requireNamespace(pkg, quietly=TRUE))
>
>    if (any(!already_installed)){
>    packageStartupMessage("Need to install the following package(s): ",
>                         toString(toinstall[!already_installed]), "\n")
>    }
>
>    ## install if needed
>    if(!base::all(already_installed)){
>        if (!requireNamespace("BiocManager", quietly=TRUE))
>            install.packages("BiocManager")
> BiocManager::install(toinstall[!already_installed], dependencies=TRUE)
>    }
>}
>
>
>
>	[[alternative HTML version deleted]]

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Sun Oct 11 21:48:02 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 11 Oct 2020 12:48:02 -0700
Subject: [R] 
 Installing bioconduction packages in connection with loading an
 R package
In-Reply-To: <fcbd293616ad448bad5278932135db58@math.aau.dk>
References: <fcbd293616ad448bad5278932135db58@math.aau.dk>
Message-ID: <CAGxFJbTjFXWCW3kT=Ss3kU=k5yJYciX5RfGGAj=Lpru6RzLkbA@mail.gmail.com>

You would do better posting this on r-package-devel rather than here, I
believe.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Oct 11, 2020 at 11:51 AM S?ren H?jsgaard <sorenh at math.aau.dk> wrote:

> Dear all,
>
> My gRbase package imports functionality from the bioconductor packages
> graph, Rgraphviz and RBGL.
>
> To make installation of gRbase easy, I would like to have these
> bioconductor packages installed in connection with installation of gRbase,
> but to do so the user must use setRepositories() to make sure that R also
> installs packages from bioconductor.
>
> Having to call setRepositories causes what can perhaps be called an
> (unnecessary?) obstacle. Therefore I have been experimenting with deferring
> installation of these bioc-packages until gRbase is loaded the first time
> using .onAttach; please see my attempt below.
>
> However, if the bioc-packages are not installed I can not install gRbase
> so that does not seem to be a viable approach. (The bioc-packages appear as
> Imports: in DESCRIPTION).
>
> Can anyone tell if it is a futile approach and / or perhaps suggest a
> solution. (I would guess that there are many CRAN packages that use
> bioc-packages, so other people must have faced this challenge before).
>
> Thanks in advance.
>
> Best regards
> S?ren
>
>
>
>
>
> .onAttach<-function(libname, pkgname) {
>
>     ## package startup check
>     toinstall=c(
>         "graph",
>         "Rgraphviz",
>         "RBGL"
>     )
>
>     already_installed <- sapply(toinstall, function(pkg)
>         requireNamespace(pkg, quietly=TRUE))
>
>     if (any(!already_installed)){
>         packageStartupMessage("Need to install the following package(s): ",
>                               toString(toinstall[!already_installed]),
> "\n")
>     }
>
>     ## install if needed
>     if(!base::all(already_installed)){
>         if (!requireNamespace("BiocManager", quietly=TRUE))
>             install.packages("BiocManager")
>         BiocManager::install(toinstall[!already_installed],
> dependencies=TRUE)
>     }
> }
>
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From mtmorg@n@b|oc @end|ng |rom gm@||@com  Mon Oct 12 12:10:26 2020
From: mtmorg@n@b|oc @end|ng |rom gm@||@com (Martin Morgan)
Date: Mon, 12 Oct 2020 10:10:26 +0000
Subject: [R] 
 Installing bioconduction packages in connection with loading an
 R package
In-Reply-To: <fcbd293616ad448bad5278932135db58@math.aau.dk>
References: <fcbd293616ad448bad5278932135db58@math.aau.dk>
Message-ID: <BL0PR04MB660973929C64B743D00708FDF9070@BL0PR04MB6609.namprd04.prod.outlook.com>

An alternative to setRepositories() is use of (the CRAN package) BiocManager::install("gRbase") instead of install.packages(). BiocManager installs CRAN packages as well as Bioconductor packages.

Another, more transparent, solution is to use

  install.packages("gRbase", repos = BiocManager::repositories())

where the key idea is to include Bioconductor repositories explicitly. These approaches are preferred to  setRepositories(), because of the details of the twice-yearly Bioconductor release cycle, compared to the annual R release and patch cycles.

The usual approach to your problem is to move the package to Suggests:. But then the namespace commands like Imports, and the direct use of imported package functions, is not possible; you'll need to litter your code with fully resolved functions (graph::foo() instead of foo()). Also Suggests: is usually home to packages that have a limited role to play, but that does not seem likely for RBGL etc in your package.

Also, in implementing this approach one would normally check that the package were installed, and fail with an error message telling the user how to fix the problem (e.g., by installing the package). This doesn't really sound like progress. If you instead try to automatically install the package (in .onAttach(), I guess was your plan) you'll shortly run into users who need to use arguments to install.packages() that you have not made available to them.

Your CRAN page took me quickly to your package web site and clear installation instructions; I do not think use of Bioc packages is a particular barrier to use.

Martin Morgan

  

?On 10/11/20, 2:52 PM, "R-help on behalf of S?ren H?jsgaard" <r-help-bounces at r-project.org on behalf of sorenh at math.aau.dk> wrote:

    Dear all,

    My gRbase package imports functionality from the bioconductor packages graph, Rgraphviz and RBGL.

    To make installation of gRbase easy, I would like to have these bioconductor packages installed in connection with installation of gRbase, but to do so the user must use setRepositories() to make sure that R also installs packages from bioconductor.

    Having to call setRepositories causes what can perhaps be called an (unnecessary?) obstacle. Therefore I have been experimenting with deferring installation of these bioc-packages until gRbase is loaded the first time using .onAttach; please see my attempt below.

    However, if the bioc-packages are not installed I can not install gRbase so that does not seem to be a viable approach. (The bioc-packages appear as Imports: in DESCRIPTION).

    Can anyone tell if it is a futile approach and / or perhaps suggest a solution. (I would guess that there are many CRAN packages that use bioc-packages, so other people must have faced this challenge before).

    Thanks in advance.

    Best regards
    S?ren





    .onAttach<-function(libname, pkgname) {

        ## package startup check
        toinstall=c(
            "graph",
            "Rgraphviz",
            "RBGL"
        )

        already_installed <- sapply(toinstall, function(pkg)
            requireNamespace(pkg, quietly=TRUE))

        if (any(!already_installed)){
            packageStartupMessage("Need to install the following package(s): ",
                                  toString(toinstall[!already_installed]), "\n")
        }

        ## install if needed
        if(!base::all(already_installed)){
            if (!requireNamespace("BiocManager", quietly=TRUE))
                install.packages("BiocManager")
            BiocManager::install(toinstall[!already_installed], dependencies=TRUE)
        }
    }



    	[[alternative HTML version deleted]]


From 538280 @end|ng |rom gm@||@com  Mon Oct 12 21:01:36 2020
From: 538280 @end|ng |rom gm@||@com (Greg Snow)
Date: Mon, 12 Oct 2020 13:01:36 -0600
Subject: [R] which() vs. just logical selection in df
In-Reply-To: <CAJjKGBQnr_vQHMR3VOmAFH9AfgegBfzck7Pw+smHENAL27THsA@mail.gmail.com>
References: <CAJjKGBQnr_vQHMR3VOmAFH9AfgegBfzck7Pw+smHENAL27THsA@mail.gmail.com>
Message-ID: <CAFEqCdyUuHh5TZ7t5NJ8cs_4xB61mNeUgasncekD485eBNRK6Q@mail.gmail.com>

I would suggest using the microbenchmark package to do the time
comparison.  This will run each a bunch of times for a more meaningful
comparison.

One possible reason for the difference is the number of missing values
in your data (along with the number of columns).  Consider the
difference in the following results:

> x <- c(1,2,NA)
> x[x==1]
[1]  1 NA
> x[which(x==1)]
[1] 1



On Sat, Oct 10, 2020 at 5:25 PM 1/k^c <kchamberln at gmail.com> wrote:
>
> Hi R-helpers,
>
> Does anyone know why adding which() makes the select call more
> efficient than just using logical selection in a dataframe? Doesn't
> which() technically add another conversion/function call on top of the
> logical selection? Here is a reproducible example with a slight
> difference in timing.
>
> # Surrogate data - the timing here isn't interesting
> urltext <- paste("https://drive.google.com/",
>                  "uc?id=1AZ-s1EgZXs4M_XF3YYEaKjjMMvRQ7",
>                  "-h8&export=download", sep="")
> download.file(url=urltext, destfile="tempfile.csv") # download file first
> dat <- read.csv("tempfile.csv", stringsAsFactors = FALSE, header=TRUE,
>                   nrows=2.5e6) # read the file; 'nrows' is a slight
>                                          # overestimate
> dat <- dat[,1:3] # select just the first 3 columns
> head(dat, 10) # print the first 10 rows
>
> # Select using which() as the final step ~ 90ms total time on my macbook air
> system.time(
>   head(
>     dat[which(dat$gender2=="other"),],),
>   gcFirst=TRUE)
>
> # Select skipping which() ~130ms total time
> system.time(
>   head(
>     dat[dat$gender2=="other", ]),
>   gcFirst=TRUE)
>
> Now I would think that the second one without which() would be more
> efficient. However, every time I run these, the first version, with
> which() is more efficient by about 20ms of system time and 20ms of
> user time. Does anyone know why this is?
>
> Cheers!
> Keith
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.



-- 
Gregory (Greg) L. Snow Ph.D.
538280 at gmail.com


From guenther @end|ng |rom |e|bn|z-b|p@@de  Mon Oct 12 08:33:44 2020
From: guenther @end|ng |rom |e|bn|z-b|p@@de (=?UTF-8?Q?Frauke_G=C3=BCnther?=)
Date: Mon, 12 Oct 2020 08:33:44 +0200 (CEST)
Subject: [R] 
 Fwd:  Help using the exclude option in the neuralnet package
In-Reply-To: <CAA99HCyo9BfeMbTw2a7pPFF8kdm8zQY-uoWuJk5ctA0Ho8W6ug@mail.gmail.com>
References: <e2edc63e6ccf45ffa1fd8855fdb66eb1@pg-adr-exch-01.adr.unbc.ca>
 <CAA99HCyo9BfeMbTw2a7pPFF8kdm8zQY-uoWuJk5ctA0Ho8W6ug@mail.gmail.com>
Message-ID: <957726669.124476.1602484424752@srvmail.bips.eu>

Dear all,

the exclude and constant.weights options are used as follows:

exclude: A matrix with n rows and 3 columns will exclude n weights. The the first column refers to the layer, the second column to the input neuron and the third column to the output neuron of the weight.

constant.weights: A vector specifying the values of the weights that are excluded from the training process and treated as fix.

Please refer to the following example:

Not using exclude and constant.weights (all weights are trained):

> nn <- neuralnet(Species == "setosa" ~ Petal.Length + Petal.Width, iris, linear.output = FALSE)
>
> nn$weights
[[1]]
[[1]][[1]]
[,1]
[1,] 6.513239
[2,] -0.815920
[3,] -5.859802
[[1]][[2]]
[,1]
[1,] -4.597934
[2,] 9.179436

Using exclude (2 weights are excluded --> NA):

> nn <- neuralnet(Species == "setosa" ~ Petal.Length + Petal.Width, iris, linear.output = FALSE,
exclude = matrix(c(1,2,1, 2,2,1),byrow=T, nrow=2))
> nn$weights
[[1]]
[[1]][[1]]
[,1]
[1,] -0.2815942
[2,] NA
[3,] 0.2481212
[[1]][[2]]
[,1]
[1,] -0.6934932
[2,] NA

Using exclude and constant.weights (2 weights are excluded and treated as fix --> 100 and 1000, respectively):

> nn <- neuralnet(Species == "setosa" ~ Petal.Length + Petal.Width, iris, linear.output = FALSE,
exclude = matrix(c(1,2,1, 2,2,1),byrow=T, nrow=2),
constant.weights=c(100,1000))
> nn$weights
[[1]]
[[1]][[1]]
[,1]
[1,] 0.554119
[2,] 100.000000
[3,] 1.153611
[[1]][[2]]
[,1]
[1,] -0.3962524
[2,] 1000.0000000

I hope you will find this example helpful.

Sincerely,
Frauke


>     William Michels <wjm1 at caa.columbia.edu mailto:wjm1 at caa.columbia.edu > hat am 10.10.2020 18:16 geschrieben:
>      
>      
>     Forwarding: Question re "neuralnet" package on the R-Help mailing list:
>      
>     https://stat.ethz.ch/pipermail/r-help/2020-October/469020.html
>      
>     If you are so inclined, please reply to:
>      
>     r-help at r-project.org mailto:r-help at r-project.org <r-help at r-project.org mailto:r-help at r-project.org >
>      
>     ---------- Forwarded message ---------
>     From: Dan Ryan <Dan.Ryan at unbc.ca mailto:Dan.Ryan at unbc.ca >
>     Date: Fri, Oct 9, 2020 at 3:52 PM
>     Subject: Re: [R] Help using the exclude option in the neuralnet package
>     To: r-help at r-project.org mailto:r-help at r-project.org <r-help at r-project.org mailto:r-help at r-project.org >
>      
>     Good Morning,
>      
>     I am using the neuralnet package in R, and am able to produce some
>     basic neural nets, and use the output.
>      
>     I would like to exclude some of the weights and biases from the
>     iteration process and fix their values.
>      
>     However I do not seem to be able to correctly define the exclude and
>     constant.weights vectors.
>      
>     Question: Can someone point me to an example where exclude and
>     contant.weights are used. I have search the R help archive, and
>     haven't found any examples which use these on the web.
>      
>     Thank you in advance for any help.
>      
>     Sincerely
>      
>     Dan
>      
>     [[alternative HTML version deleted]]
>      
>     ______________________________________________
>     R-help at r-project.org mailto:R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>     https://stat.ethz.ch/mailman/listinfo/r-help
>     PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>     and provide commented, minimal, self-contained, reproducible code.
> 

	[[alternative HTML version deleted]]


From @b|@yeng@|@b@ @end|ng |rom gm@||@com  Tue Oct 13 08:04:32 2020
From: @b|@yeng@|@b@ @end|ng |rom gm@||@com (Ablaye Ngalaba)
Date: Tue, 13 Oct 2020 08:04:32 +0200
Subject: [R] package for kernel on R
Message-ID: <CAOkWQv2YoQPpsBUJzV3i4EhAYHNRVZP3vuRXeBA28fLKSUdeqA@mail.gmail.com>

Hello,
Please, I want to know which package to install on R when coding the kernel
functions

	[[alternative HTML version deleted]]


From @b|@yeng@|@b@ @end|ng |rom gm@||@com  Tue Oct 13 09:09:00 2020
From: @b|@yeng@|@b@ @end|ng |rom gm@||@com (Ablaye Ngalaba)
Date: Tue, 13 Oct 2020 09:09:00 +0200
Subject: [R] help for R code
Message-ID: <CAOkWQv0LsgxkHdqpai1=9BpLmp6tAdNwZiqTihA8zrirkf2yFQ@mail.gmail.com>

Good morning dear administrators,
Please help me to code this code in R.
I use in this file the redescription function ? which by making a scalar
product gives a . You can also choose instead of the redescription function
? a kernel k(x,x).




                  Sincerely

	[[alternative HTML version deleted]]


From er|cjberger @end|ng |rom gm@||@com  Tue Oct 13 10:21:45 2020
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Tue, 13 Oct 2020 11:21:45 +0300
Subject: [R] help for R code
In-Reply-To: <CAOkWQv0LsgxkHdqpai1=9BpLmp6tAdNwZiqTihA8zrirkf2yFQ@mail.gmail.com>
References: <CAOkWQv0LsgxkHdqpai1=9BpLmp6tAdNwZiqTihA8zrirkf2yFQ@mail.gmail.com>
Message-ID: <CAGgJW74TP-+L6gg0_BLbnayL657Ejw+_fvQ+tScsaDgEj8vQDA@mail.gmail.com>

Hi Ablaye,
The CRAN repository has thousands of available R packages. To help
people find relevant packages amid such a huge collection, there are
some 'task view' pages that group packages according to a particular
task. I am guessing that you are interested in kernels because of
their use in machine learning, so you might want to look at the
Machine Learning task view at:

https://cran.r-project.org/web/views/MachineLearning.html

If you search for 'kernels' on that page you will find

'Support Vector Machines and Kernel Methods' which mentions a few
packages that use kernels.

Good luck,
Eric


On Tue, Oct 13, 2020 at 10:09 AM Ablaye Ngalaba <ablayengalaba at gmail.com> wrote:
>
> Good morning dear administrators,
> Please help me to code this code in R.
> I use in this file the redescription function ? which by making a scalar
> product gives a . You can also choose instead of the redescription function
> ? a kernel k(x,x).
>
>
>
>
>                   Sincerely
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Oct 12 08:28:47 2020
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 12 Oct 2020 06:28:47 +0000
Subject: [R] Please need help to finalize my code
In-Reply-To: <CAOkWQv1UHh8UVHpoo0vs4-9Yu-Lo4nxssQffE6QOGRZ_sjmYmw@mail.gmail.com>
References: <CAOkWQv1UHh8UVHpoo0vs4-9Yu-Lo4nxssQffE6QOGRZ_sjmYmw@mail.gmail.com>
Message-ID: <6ed4f690d57c48ec95722c11ed8f7015@SRVEXCHCM1302.precheza.cz>

Hi.

Maybe you will get better answers, but from your code it seems to me that you are treating R as C or other similar language which is not optimal. Considering your first 9 lines, it could be changed either to

CenteringV <- function(X, Ms, n) X-Ms

or you probably could use functions sweep or scale.
Your other code is beyond my experience, sorry.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Ablaye Ngalaba
> Sent: Saturday, October 10, 2020 9:24 PM
> To: r-help at r-project.org
> Subject: [R] Please need help to finalize my code
> 
> Good evening dear administrators,
> It is with pleasure that I am writing to you to ask for help to finalize my R
> programming algorithm.
> 
> Indeed, I attach this note to my code which deals with a case of independence
> test statistic . My request is to introduce the kernels using the functional data
> for this same code that I am sending you. So I list the lines for which we need
> to introduce the functional data using the kernels below.
> 
> First of all for this code we need to use the functional data. I have numbered
> the lines myself from the original code to give some indication about the lines
> of code to introduce the kernel.
> 1)Centering of redescription function phi(xi) (just use the kernel) 2)this
> function centers the functional data phi(xi) (just use the kernel)
> 3)phi(x1) (or kernel k( ., .) )
> 5)Even here the kernel with the functional data is used.
> 7)return the kernel
> 28) kernel dimension
> 29) kernel dimension
> 30)kernel dimension
> 73) redescription function phi(xi) or the kernel k(. , .) 74)redescription function
> phi(yi) or the kernel k(. , .) 76)redescription function phi(xbar) or the kernel k(.
> , .) 77)redescription function phi(xjhbar) or the kernel k(. , .) 82)redescription
> function phi(xi) or the kernel k(. , .) introduced instead of x 84)redescription
> function phi(xjhbar) or the kernel k(. , .) 89)w= redescription function
> phi(xbar) or the kernel k(. , .)
> 120) we center the redescription function phi(xi) or the kernel k(. , .) 121)Vn is
> a kernel function, so we use ph(xi) or the kernel k(. , , .) 126)centering of the
> redescription function phi(xji) or the kernel k(. , .) 127)Vij is computed using
> redescription function phi(xi) or the kernel k(.
> , .) instead of X.
> 130)centering redescription function phi(Xkl) or the kernel k(. , .) 131)Vijkl
> always using the kernel function as precedent 132)Vkl always using the kernel
> function as precedent
> 
>  I look forward to your help and sincere request.
> 
> 
>                              Yours sincerely
> 
> library(MASS)
> 
> 1 CenteringV<-function(X,Ms,n){
> 2 # this function centers the data of X
> 3 X1=X*0
> 4 for (i in 1:n){
> 5 X1[i,]=X[i,]-Ms
> 6 }
> 7 return(X1)
> 8 }
> 
> 
> 9 # Function N?2
> 10 SqrtMatrix0<-function(M) {
> 11 # This function allows us to compute the square root of a matrix
> 12 # using the decomposition M=PDQ where Q is the inverse of P
> 13 # here negative eigenvalues are replaced by zero
>  14 a=eigen(M,TRUE)
>  15 b=a$values
>  16 b[b<0]=0
>  17 c=a$vectors
> 18 d=diag(sqrt(b))
>  19 b=solve(c)
> 20 a=c%*%d%*%b
> 21 return(a)
> 22 }
> 
> 
> 23 # declaration of parameters
> 24 m1=0.01 # alpha value (1% risk)
> 25 m2=0.05 # alpha value (5% risk)
> 26 m3=0.1 # alpha value (10% risk)
> 27 nbrefoissim=100 # # times the program is running
> 28 p=3 #dimension of variable X
> 29 q=3 #dimension of variable Y
> 30 R=c(5,4,3);# Number of partition of each component of variable Y
> 31 if(length(R) != q) stop("The size of R must be equal to q")
> 32 n=25 # Sample size
> 33 N=c(25,50,100,200,300,400,500,1000) #different sample sizes
> 34 #N=c(25,50) #different sample sizes
> 35 pc1=rep(0.100)
> 36 K=0
> 37 MV=matrix(0,nr=8,nc=4)
> 38 dimnames(MV)[[2]]=c("n","r1%","r5%","r10%")
> 
> 
> 39 #Beginning of the program
> 
>  40 for (n in N){
> 
> 
> 41 l1=0 # initialization of the value to calculate the test level at 1%.
> 42 l2=0 # initialization of the value to calculate the test level at 5%.
> 43 l3=0 # initialization of the value to calculate the test level at 10%.
> 
> 44 # Creation of an n11 list containing the sizes of the different groups
> 45 n11=list()
> 46 for (i in 1:q){
> 47 n11[[i]]=rep(as.integer(n/R[i]),R[i])
> 48 n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
> 49 }
> 
> 
> 50 # Creation of lists P11 and P12 which contain the probabilities and
> 51 # the inverses of the empirical probabilities of the different groups
> respectively
> 
> 52 P11=list()
> 53 P12=list()
> 54 for (i in 1:q){
> 55 P11[[i]]=n11[[i]]/n
> 56 P12[[i]]=n/n11[[i]
> 
> 57 }
> 
> 58 # creation of a list containing the W matrices
> 59 W=list()
> 60 for (i in 1:q){
> 61 w=matrix(0,n,R[i])
> 62 w[1:n11[[i]][1],1]=1
> 63 if (R[i]>1){
> 64 for (j in 2:R[i]){
> 65 s1=sum(n11[[i]][1:(j-1)])
> 66 w[(1+s1):(s1+n11[[i]][j]),j]=1
> 67 }}
> 68 W[[i]]=w
> 69 }
> 
> 70 for (i1 in 1:nbrefoissim){
> 
> 71 # data generation
> 72 VA1=mvrnorm(n,rep(0,(p+q)),diag((p+q)))
> 73 X=VA1[,1:p]
> 74 Y=VA1[,(p+1):(p+q)]
> 
> 75 # Xbar calculation
> 76 Xbar=colMeans(X)
> 
> 77 # Calculation of Xjh bar
> 78 Xjhbar=list()
> 79 for (i in 1:q){
> 80 w=matrix(0,R[i],p)
> 81 for (j in 1:R[i]){
> 82 w[j,]=colSums(W[[i]][,j]*X)/n11[[i]][j]
> 83 }
> 84 Xjhbar[[i]]=w
> 85 }
> 
> 86 #calculation of TO jh
> 
> 87 TO.jh=list()
> 88 for (i in 1:q){
> 89 w=Xjhbar[[i]]
> 90 to=w*0
> 91 for (j in 1:R[i]){
> 92 to[j,]=w[j,]-Xbar
> 93 }
> 94 TO.jh[[i]]=to
> 95 }
> 
> 96 #calculation of Lamda J
> 
> 97 Lamda=matrix(0,p,p)
> 98 for (i in 1:q){
> 99 to=TO.jh[[i]]
> 100 w=matrix(0,p,p)
> 101 for (j in 1:R[i]){
> 102 w=w+(P11[[i]][j]*(to[j,]%*%t(to[j,])))
> 103 }
> 104 Lamda=Lamda+w
> 105 }
> 
> 106 tr1=n*sum(diag(Lamda))
> 
> 107 # Gamma Calculation
> 
> 108 GGamma=matrix(0,p*sum(R),p*sum(R))
> 109 PGamma=kronecker(diag(P12[[1]]),diag(p))
> 110 Ifin=p*R [1]
> 111 GGamma[1:Ifin,1:Ifin]=PGamma
> 112 for (i in 2:q){
> 113 PGamma=kronecker(diag(P12[[i]]),diag(p))
> 114 Idebut=((p*sum(R[1:(i-1)]))+1)
> 115 Ifin=(p*sum(R[1:i]))
> 116 GGamma [Idebut:Ifin,Idebut:Ifin]=PGamma
> 117 }
> 
> 118 #Sigma calculation
> 
> 119 # Calculation of Vn
> 120 X1=CenteringV(X,Xbar,n)
> 121 Vn=t(X1)%*%X1/n
> 
> 122 ## Construction of Sigma
> 123 GSigma=matrix(0,p*sum(R),p*sum(R))
> 124 for (i in 1:q ){
> 125 for (j in 1:R[i] ){
> 126 Xij=CenteringV(X,Xjhbar[[i]][j,],n)
> 127 Vij=t(W[[i]][,j]*Xij)%*%Xij/n11[[i]][j]
> 
> 128 for (k in 1:q ){
> 129 for (l in 1:R[k]){
> 
> 130 Xkl=CenteringV(X,Xjhbar[[k]][l,],n)
> 131 Vijkl=t(W[[i]][,j]*Xij)%*%(W[[k]][,l]*Xkl)/n
> 
> 132 Vkl=t(W[[k]][,l]*Xkl)%*%Xkl/n11[[k]][l]
> 133 if (i==1) Idebut=((j-1)*p)+1 else Idebut=((sum(R[1:(i-1)])+j-1)*p)+1
> 134 if (i==1) Idebut1=(j*p) else Idebut1=((sum(R[1:(i-1)])+j)*p)
> 135 if (k==1) Ifin=((l-1)*p)+1 else Ifin=((sum(R[1:(k-1)])+l-1)*p)+1
> 136 if (k==1) Ifin1=(l*p) else Ifin1=((sum(R[1:(k-1)])+l)*p)
> 
> 137
> GSigma[Idebut:Idebut1,Ifin:Ifin1]=Vijkl+(P11[[i]][j]*P11[[k]][l]*(Vn-Vij-Vkl))
> 138 }
> 139 }
> 140 }
> 141 }
> 
> 
> 141 # Determinations of the eigenvalues of sigma epsilon
> 142 pa=SqrtMatrix0(GSigma)
> 143 mq= pa %*% GGamma %*% pa
> 144 u=Re(eigen(mq)$values)
> 
> 
> 145 # determination of degree of freedom and value c noted va
> 146 dl=(sum(u)^2)/(sum(u^2))
> 147 va=(sum(u^2))/(sum(u))
> 148 pc=1-pchisq(tr1/va, df= dl)
> 149 pc1[i1]=pc
> 
> 150 # Test of the value obtained
> 151 if (pc>m1) d1=0 else d1=1
> 152 if (pc>m2) d2=0 else d2=1
> 153 if (pc>m3) d3=0 else d3=1
> 154 l1=l1+d1
> 155 l2=l2+d2
> 156 l3=l3+d3
> 157 }
> 158 K=K+1
> 159 MV [K,1]=n
> 160 MV [K,2]=l1/number of timessim
> 161 MV [K,3]=l2/number of timessim
> 162 MV[K,4]=l3/number of timessim
> 163 }
> 
> 
> 
> 
> 
> 
> l
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From gr|gh| @end|ng |rom ug@@edu  Tue Oct 13 02:44:23 2020
From: gr|gh| @end|ng |rom ug@@edu (Giovanni Righi)
Date: Tue, 13 Oct 2020 00:44:23 +0000
Subject: [R] exiting mclapply early on error
In-Reply-To: <87h7r32gy8.fsf@gmail.com>
References: <C74A5A25-8609-4F91-9654-FF558140DCE7@uga.edu>
 <87h7r32gy8.fsf@gmail.com>
Message-ID: <1442FB0A-44D2-4229-B8D4-C6389CCA96CD@uga.edu>

Thanks for the response, Jeremie. I wholeheartedly agree about testing.

In my case, this feature would be used purely to reduce computation time. I?m calculating
an expensive (and embarrassingly parallel) likelihood function, and for some parameter combinations 
my objective function diverges to infinity. In those instances, I?d like to throw an error that stops
subsequent computations and that I could catch to return a value of infinity. I agree, though, 
that the default should allow all processes to finish.

What I?ve suggested does not seem possible with mclapply(). Do you know how I could suggest 
this as a feature request to the maintainer of the parallel package?

Thanks,
Giovanni

From petr@p|k@| @end|ng |rom prechez@@cz  Tue Oct 13 07:21:11 2020
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 13 Oct 2020 05:21:11 +0000
Subject: [R] Please need help to finalize my code
In-Reply-To: <CAOkWQv1K-c6y0vLT_bNBSkmkVMHjz6QBbEzgwgz+a9d8=0YrEg@mail.gmail.com>
References: <CAOkWQv1UHh8UVHpoo0vs4-9Yu-Lo4nxssQffE6QOGRZ_sjmYmw@mail.gmail.com>
 <6ed4f690d57c48ec95722c11ed8f7015@SRVEXCHCM1302.precheza.cz>
 <CAOkWQv1K-c6y0vLT_bNBSkmkVMHjz6QBbEzgwgz+a9d8=0YrEg@mail.gmail.com>
Message-ID: <0e24c934a4f449fbbd01f2905be47e7e@SRVEXCHCM1302.precheza.cz>

Hm. Google tells me that kernel function is in stats package which comes with base installation and is invoked when you start R.

 

search()

[1] ".GlobalEnv"        "package:stats"     "package:graphics" 

[4] "package:grDevices" "package:utils"     "package:datasets" 

[7] "package:methods"   "Autoloads"         "package:base"     

 

And BTW, keep your posts on R-help, others could give you more relevant answers.

 

Cheers

Petr

 

From: Ablaye Ngalaba <ablayengalaba at gmail.com> 
Sent: Monday, October 12, 2020 7:58 PM
To: PIKAL Petr <petr.pikal at precheza.cz>
Subject: Re: [R] Please need help to finalize my code

 

Hello.
Thank you for your response.
I would like to ask you the name of the package to install when you want to use the kernels 

 

Le lun. 12 oct. 2020 ? 08:28, PIKAL Petr <petr.pikal at precheza.cz <mailto:petr.pikal at precheza.cz> > a ?crit :

Hi.

Maybe you will get better answers, but from your code it seems to me that you are treating R as C or other similar language which is not optimal. Considering your first 9 lines, it could be changed either to

CenteringV <- function(X, Ms, n) X-Ms

or you probably could use functions sweep or scale.
Your other code is beyond my experience, sorry.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Ablaye Ngalaba
> Sent: Saturday, October 10, 2020 9:24 PM
> To: r-help at r-project.org <mailto:r-help at r-project.org> 
> Subject: [R] Please need help to finalize my code
> 
> Good evening dear administrators,
> It is with pleasure that I am writing to you to ask for help to finalize my R
> programming algorithm.
> 
> Indeed, I attach this note to my code which deals with a case of independence
> test statistic . My request is to introduce the kernels using the functional data
> for this same code that I am sending you. So I list the lines for which we need
> to introduce the functional data using the kernels below.
> 
> First of all for this code we need to use the functional data. I have numbered
> the lines myself from the original code to give some indication about the lines
> of code to introduce the kernel.
> 1)Centering of redescription function phi(xi) (just use the kernel) 2)this
> function centers the functional data phi(xi) (just use the kernel)
> 3)phi(x1) (or kernel k( ., .) )
> 5)Even here the kernel with the functional data is used.
> 7)return the kernel
> 28) kernel dimension
> 29) kernel dimension
> 30)kernel dimension
> 73) redescription function phi(xi) or the kernel k(. , .) 74)redescription function
> phi(yi) or the kernel k(. , .) 76)redescription function phi(xbar) or the kernel k(.
> , .) 77)redescription function phi(xjhbar) or the kernel k(. , .) 82)redescription
> function phi(xi) or the kernel k(. , .) introduced instead of x 84)redescription
> function phi(xjhbar) or the kernel k(. , .) 89)w= redescription function
> phi(xbar) or the kernel k(. , .)
> 120) we center the redescription function phi(xi) or the kernel k(. , .) 121)Vn is
> a kernel function, so we use ph(xi) or the kernel k(. , , .) 126)centering of the
> redescription function phi(xji) or the kernel k(. , .) 127)Vij is computed using
> redescription function phi(xi) or the kernel k(.
> , .) instead of X.
> 130)centering redescription function phi(Xkl) or the kernel k(. , .) 131)Vijkl
> always using the kernel function as precedent 132)Vkl always using the kernel
> function as precedent
> 
>  I look forward to your help and sincere request.
> 
> 
>                              Yours sincerely
> 
> library(MASS)
> 
> 1 CenteringV<-function(X,Ms,n){
> 2 # this function centers the data of X
> 3 X1=X*0
> 4 for (i in 1:n){
> 5 X1[i,]=X[i,]-Ms
> 6 }
> 7 return(X1)
> 8 }
> 
> 
> 9 # Function N?2
> 10 SqrtMatrix0<-function(M) {
> 11 # This function allows us to compute the square root of a matrix
> 12 # using the decomposition M=PDQ where Q is the inverse of P
> 13 # here negative eigenvalues are replaced by zero
>  14 a=eigen(M,TRUE)
>  15 b=a$values
>  16 b[b<0]=0
>  17 c=a$vectors
> 18 d=diag(sqrt(b))
>  19 b=solve(c)
> 20 a=c%*%d%*%b
> 21 return(a)
> 22 }
> 
> 
> 23 # declaration of parameters
> 24 m1=0.01 # alpha value (1% risk)
> 25 m2=0.05 # alpha value (5% risk)
> 26 m3=0.1 # alpha value (10% risk)
> 27 nbrefoissim=100 # # times the program is running
> 28 p=3 #dimension of variable X
> 29 q=3 #dimension of variable Y
> 30 R=c(5,4,3);# Number of partition of each component of variable Y
> 31 if(length(R) != q) stop("The size of R must be equal to q")
> 32 n=25 # Sample size
> 33 N=c(25,50,100,200,300,400,500,1000) #different sample sizes
> 34 #N=c(25,50) #different sample sizes
> 35 pc1=rep(0.100)
> 36 K=0
> 37 MV=matrix(0,nr=8,nc=4)
> 38 dimnames(MV)[[2]]=c("n","r1%","r5%","r10%")
> 
> 
> 39 #Beginning of the program
> 
>  40 for (n in N){
> 
> 
> 41 l1=0 # initialization of the value to calculate the test level at 1%.
> 42 l2=0 # initialization of the value to calculate the test level at 5%.
> 43 l3=0 # initialization of the value to calculate the test level at 10%.
> 
> 44 # Creation of an n11 list containing the sizes of the different groups
> 45 n11=list()
> 46 for (i in 1:q){
> 47 n11[[i]]=rep(as.integer(n/R[i]),R[i])
> 48 n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
> 49 }
> 
> 
> 50 # Creation of lists P11 and P12 which contain the probabilities and
> 51 # the inverses of the empirical probabilities of the different groups
> respectively
> 
> 52 P11=list()
> 53 P12=list()
> 54 for (i in 1:q){
> 55 P11[[i]]=n11[[i]]/n
> 56 P12[[i]]=n/n11[[i]
> 
> 57 }
> 
> 58 # creation of a list containing the W matrices
> 59 W=list()
> 60 for (i in 1:q){
> 61 w=matrix(0,n,R[i])
> 62 w[1:n11[[i]][1],1]=1
> 63 if (R[i]>1){
> 64 for (j in 2:R[i]){
> 65 s1=sum(n11[[i]][1:(j-1)])
> 66 w[(1+s1):(s1+n11[[i]][j]),j]=1
> 67 }}
> 68 W[[i]]=w
> 69 }
> 
> 70 for (i1 in 1:nbrefoissim){
> 
> 71 # data generation
> 72 VA1=mvrnorm(n,rep(0,(p+q)),diag((p+q)))
> 73 X=VA1[,1:p]
> 74 Y=VA1[,(p+1):(p+q)]
> 
> 75 # Xbar calculation
> 76 Xbar=colMeans(X)
> 
> 77 # Calculation of Xjh bar
> 78 Xjhbar=list()
> 79 for (i in 1:q){
> 80 w=matrix(0,R[i],p)
> 81 for (j in 1:R[i]){
> 82 w[j,]=colSums(W[[i]][,j]*X)/n11[[i]][j]
> 83 }
> 84 Xjhbar[[i]]=w
> 85 }
> 
> 86 #calculation of TO jh
> 
> 87 TO.jh=list()
> 88 for (i in 1:q){
> 89 w=Xjhbar[[i]]
> 90 to=w*0
> 91 for (j in 1:R[i]){
> 92 to[j,]=w[j,]-Xbar
> 93 }
> 94 TO.jh[[i]]=to
> 95 }
> 
> 96 #calculation of Lamda J
> 
> 97 Lamda=matrix(0,p,p)
> 98 for (i in 1:q){
> 99 to=TO.jh[[i]]
> 100 w=matrix(0,p,p)
> 101 for (j in 1:R[i]){
> 102 w=w+(P11[[i]][j]*(to[j,]%*%t(to[j,])))
> 103 }
> 104 Lamda=Lamda+w
> 105 }
> 
> 106 tr1=n*sum(diag(Lamda))
> 
> 107 # Gamma Calculation
> 
> 108 GGamma=matrix(0,p*sum(R),p*sum(R))
> 109 PGamma=kronecker(diag(P12[[1]]),diag(p))
> 110 Ifin=p*R [1]
> 111 GGamma[1:Ifin,1:Ifin]=PGamma
> 112 for (i in 2:q){
> 113 PGamma=kronecker(diag(P12[[i]]),diag(p))
> 114 Idebut=((p*sum(R[1:(i-1)]))+1)
> 115 Ifin=(p*sum(R[1:i]))
> 116 GGamma [Idebut:Ifin,Idebut:Ifin]=PGamma
> 117 }
> 
> 118 #Sigma calculation
> 
> 119 # Calculation of Vn
> 120 X1=CenteringV(X,Xbar,n)
> 121 Vn=t(X1)%*%X1/n
> 
> 122 ## Construction of Sigma
> 123 GSigma=matrix(0,p*sum(R),p*sum(R))
> 124 for (i in 1:q ){
> 125 for (j in 1:R[i] ){
> 126 Xij=CenteringV(X,Xjhbar[[i]][j,],n)
> 127 Vij=t(W[[i]][,j]*Xij)%*%Xij/n11[[i]][j]
> 
> 128 for (k in 1:q ){
> 129 for (l in 1:R[k]){
> 
> 130 Xkl=CenteringV(X,Xjhbar[[k]][l,],n)
> 131 Vijkl=t(W[[i]][,j]*Xij)%*%(W[[k]][,l]*Xkl)/n
> 
> 132 Vkl=t(W[[k]][,l]*Xkl)%*%Xkl/n11[[k]][l]
> 133 if (i==1) Idebut=((j-1)*p)+1 else Idebut=((sum(R[1:(i-1)])+j-1)*p)+1
> 134 if (i==1) Idebut1=(j*p) else Idebut1=((sum(R[1:(i-1)])+j)*p)
> 135 if (k==1) Ifin=((l-1)*p)+1 else Ifin=((sum(R[1:(k-1)])+l-1)*p)+1
> 136 if (k==1) Ifin1=(l*p) else Ifin1=((sum(R[1:(k-1)])+l)*p)
> 
> 137
> GSigma[Idebut:Idebut1,Ifin:Ifin1]=Vijkl+(P11[[i]][j]*P11[[k]][l]*(Vn-Vij-Vkl))
> 138 }
> 139 }
> 140 }
> 141 }
> 
> 
> 141 # Determinations of the eigenvalues of sigma epsilon
> 142 pa=SqrtMatrix0(GSigma)
> 143 mq= pa %*% GGamma %*% pa
> 144 u=Re(eigen(mq)$values)
> 
> 
> 145 # determination of degree of freedom and value c noted va
> 146 dl=(sum(u)^2)/(sum(u^2))
> 147 va=(sum(u^2))/(sum(u))
> 148 pc=1-pchisq(tr1/va, df= dl)
> 149 pc1[i1]=pc
> 
> 150 # Test of the value obtained
> 151 if (pc>m1) d1=0 else d1=1
> 152 if (pc>m2) d2=0 else d2=1
> 153 if (pc>m3) d3=0 else d3=1
> 154 l1=l1+d1
> 155 l2=l2+d2
> 156 l3=l3+d3
> 157 }
> 158 K=K+1
> 159 MV [K,1]=n
> 160 MV [K,2]=l1/number of timessim
> 161 MV [K,3]=l2/number of timessim
> 162 MV[K,4]=l3/number of timessim
> 163 }
> 
> 
> 
> 
> 
> 
> l
> 
>       [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.


From bgunter@4567 @end|ng |rom gm@||@com  Tue Oct 13 18:43:11 2020
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 13 Oct 2020 09:43:11 -0700
Subject: [R] exiting mclapply early on error
In-Reply-To: <1442FB0A-44D2-4229-B8D4-C6389CCA96CD@uga.edu>
References: <C74A5A25-8609-4F91-9654-FF558140DCE7@uga.edu>
 <87h7r32gy8.fsf@gmail.com>
 <1442FB0A-44D2-4229-B8D4-C6389CCA96CD@uga.edu>
Message-ID: <CAGxFJbSZak=UfeMf+a7x1ac-_h+Ywok0jSAqFy1XFdoyxw1JCg@mail.gmail.com>

This may be O/T. If so, either reply privately or not at all.

"objective function diverges to infinity."

How do you operationally define that? Detecting Inf -- e.g. 1/0, log(0),
etc -- is straightforward. But how do you know other than via math whether
iterations will continue to diverge or not? Would you not need to
operationalize that by defining  divergence criteria? -- e.g. too many
iterations, objective function grows/shrinks too slowly, etc. In other
words, more or less the usual adapted to your particular context.

Cheers,
Bert


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Oct 13, 2020 at 9:13 AM Giovanni Righi <grighi at uga.edu> wrote:

> Thanks for the response, Jeremie. I wholeheartedly agree about testing.
>
> In my case, this feature would be used purely to reduce computation time.
> I?m calculating
> an expensive (and embarrassingly parallel) likelihood function, and for
> some parameter combinations
> my objective function diverges to infinity. In those instances, I?d like
> to throw an error that stops
> subsequent computations and that I could catch to return a value of
> infinity. I agree, though,
> that the default should allow all processes to finish.
>
> What I?ve suggested does not seem possible with mclapply(). Do you know
> how I could suggest
> this as a feature request to the maintainer of the parallel package?
>
> Thanks,
> Giovanni
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From r@oknz @end|ng |rom gm@||@com  Wed Oct 14 01:43:22 2020
From: r@oknz @end|ng |rom gm@||@com (Richard O'Keefe)
Date: Wed, 14 Oct 2020 12:43:22 +1300
Subject: [R] Please need help to finalize my code
In-Reply-To: <0e24c934a4f449fbbd01f2905be47e7e@SRVEXCHCM1302.precheza.cz>
References: <CAOkWQv1UHh8UVHpoo0vs4-9Yu-Lo4nxssQffE6QOGRZ_sjmYmw@mail.gmail.com>
 <6ed4f690d57c48ec95722c11ed8f7015@SRVEXCHCM1302.precheza.cz>
 <CAOkWQv1K-c6y0vLT_bNBSkmkVMHjz6QBbEzgwgz+a9d8=0YrEg@mail.gmail.com>
 <0e24c934a4f449fbbd01f2905be47e7e@SRVEXCHCM1302.precheza.cz>
Message-ID: <CABcYAdLtmfVfDcX9L2==dTrvQ3kuJ-hw9tpgBM453jv69T3Lcg@mail.gmail.com>

What do you *mean* "when you want to use the kernels".
WHICH kernels?
Use to do WHAT?
In your browser, visit cran.r-project.org
then select "Packages" from the list on the left.
Then pick the alphabetic list.
Now search for 'kernel'.
You will find dozens of matches.

On Wed, 14 Oct 2020 at 05:15, PIKAL Petr <petr.pikal at precheza.cz> wrote:

> Hm. Google tells me that kernel function is in stats package which comes
> with base installation and is invoked when you start R.
>
>
>
> search()
>
> [1] ".GlobalEnv"        "package:stats"     "package:graphics"
>
> [4] "package:grDevices" "package:utils"     "package:datasets"
>
> [7] "package:methods"   "Autoloads"         "package:base"
>
>
>
> And BTW, keep your posts on R-help, others could give you more relevant
> answers.
>
>
>
> Cheers
>
> Petr
>
>
>
> From: Ablaye Ngalaba <ablayengalaba at gmail.com>
> Sent: Monday, October 12, 2020 7:58 PM
> To: PIKAL Petr <petr.pikal at precheza.cz>
> Subject: Re: [R] Please need help to finalize my code
>
>
>
> Hello.
> Thank you for your response.
> I would like to ask you the name of the package to install when you want
> to use the kernels
>
>
>
> Le lun. 12 oct. 2020 ? 08:28, PIKAL Petr <petr.pikal at precheza.cz <mailto:
> petr.pikal at precheza.cz> > a ?crit :
>
> Hi.
>
> Maybe you will get better answers, but from your code it seems to me that
> you are treating R as C or other similar language which is not optimal.
> Considering your first 9 lines, it could be changed either to
>
> CenteringV <- function(X, Ms, n) X-Ms
>
> or you probably could use functions sweep or scale.
> Your other code is beyond my experience, sorry.
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Ablaye Ngalaba
> > Sent: Saturday, October 10, 2020 9:24 PM
> > To: r-help at r-project.org <mailto:r-help at r-project.org>
> > Subject: [R] Please need help to finalize my code
> >
> > Good evening dear administrators,
> > It is with pleasure that I am writing to you to ask for help to finalize
> my R
> > programming algorithm.
> >
> > Indeed, I attach this note to my code which deals with a case of
> independence
> > test statistic . My request is to introduce the kernels using the
> functional data
> > for this same code that I am sending you. So I list the lines for which
> we need
> > to introduce the functional data using the kernels below.
> >
> > First of all for this code we need to use the functional data. I have
> numbered
> > the lines myself from the original code to give some indication about
> the lines
> > of code to introduce the kernel.
> > 1)Centering of redescription function phi(xi) (just use the kernel)
> 2)this
> > function centers the functional data phi(xi) (just use the kernel)
> > 3)phi(x1) (or kernel k( ., .) )
> > 5)Even here the kernel with the functional data is used.
> > 7)return the kernel
> > 28) kernel dimension
> > 29) kernel dimension
> > 30)kernel dimension
> > 73) redescription function phi(xi) or the kernel k(. , .)
> 74)redescription function
> > phi(yi) or the kernel k(. , .) 76)redescription function phi(xbar) or
> the kernel k(.
> > , .) 77)redescription function phi(xjhbar) or the kernel k(. , .)
> 82)redescription
> > function phi(xi) or the kernel k(. , .) introduced instead of x
> 84)redescription
> > function phi(xjhbar) or the kernel k(. , .) 89)w= redescription function
> > phi(xbar) or the kernel k(. , .)
> > 120) we center the redescription function phi(xi) or the kernel k(. , .)
> 121)Vn is
> > a kernel function, so we use ph(xi) or the kernel k(. , , .)
> 126)centering of the
> > redescription function phi(xji) or the kernel k(. , .) 127)Vij is
> computed using
> > redescription function phi(xi) or the kernel k(.
> > , .) instead of X.
> > 130)centering redescription function phi(Xkl) or the kernel k(. , .)
> 131)Vijkl
> > always using the kernel function as precedent 132)Vkl always using the
> kernel
> > function as precedent
> >
> >  I look forward to your help and sincere request.
> >
> >
> >                              Yours sincerely
> >
> > library(MASS)
> >
> > 1 CenteringV<-function(X,Ms,n){
> > 2 # this function centers the data of X
> > 3 X1=X*0
> > 4 for (i in 1:n){
> > 5 X1[i,]=X[i,]-Ms
> > 6 }
> > 7 return(X1)
> > 8 }
> >
> >
> > 9 # Function N?2
> > 10 SqrtMatrix0<-function(M) {
> > 11 # This function allows us to compute the square root of a matrix
> > 12 # using the decomposition M=PDQ where Q is the inverse of P
> > 13 # here negative eigenvalues are replaced by zero
> >  14 a=eigen(M,TRUE)
> >  15 b=a$values
> >  16 b[b<0]=0
> >  17 c=a$vectors
> > 18 d=diag(sqrt(b))
> >  19 b=solve(c)
> > 20 a=c%*%d%*%b
> > 21 return(a)
> > 22 }
> >
> >
> > 23 # declaration of parameters
> > 24 m1=0.01 # alpha value (1% risk)
> > 25 m2=0.05 # alpha value (5% risk)
> > 26 m3=0.1 # alpha value (10% risk)
> > 27 nbrefoissim=100 # # times the program is running
> > 28 p=3 #dimension of variable X
> > 29 q=3 #dimension of variable Y
> > 30 R=c(5,4,3);# Number of partition of each component of variable Y
> > 31 if(length(R) != q) stop("The size of R must be equal to q")
> > 32 n=25 # Sample size
> > 33 N=c(25,50,100,200,300,400,500,1000) #different sample sizes
> > 34 #N=c(25,50) #different sample sizes
> > 35 pc1=rep(0.100)
> > 36 K=0
> > 37 MV=matrix(0,nr=8,nc=4)
> > 38 dimnames(MV)[[2]]=c("n","r1%","r5%","r10%")
> >
> >
> > 39 #Beginning of the program
> >
> >  40 for (n in N){
> >
> >
> > 41 l1=0 # initialization of the value to calculate the test level at 1%.
> > 42 l2=0 # initialization of the value to calculate the test level at 5%.
> > 43 l3=0 # initialization of the value to calculate the test level at 10%.
> >
> > 44 # Creation of an n11 list containing the sizes of the different groups
> > 45 n11=list()
> > 46 for (i in 1:q){
> > 47 n11[[i]]=rep(as.integer(n/R[i]),R[i])
> > 48 n11[[i]][R[i]]=n-((R[i]-1)*n11[[i]][1])
> > 49 }
> >
> >
> > 50 # Creation of lists P11 and P12 which contain the probabilities and
> > 51 # the inverses of the empirical probabilities of the different groups
> > respectively
> >
> > 52 P11=list()
> > 53 P12=list()
> > 54 for (i in 1:q){
> > 55 P11[[i]]=n11[[i]]/n
> > 56 P12[[i]]=n/n11[[i]
> >
> > 57 }
> >
> > 58 # creation of a list containing the W matrices
> > 59 W=list()
> > 60 for (i in 1:q){
> > 61 w=matrix(0,n,R[i])
> > 62 w[1:n11[[i]][1],1]=1
> > 63 if (R[i]>1){
> > 64 for (j in 2:R[i]){
> > 65 s1=sum(n11[[i]][1:(j-1)])
> > 66 w[(1+s1):(s1+n11[[i]][j]),j]=1
> > 67 }}
> > 68 W[[i]]=w
> > 69 }
> >
> > 70 for (i1 in 1:nbrefoissim){
> >
> > 71 # data generation
> > 72 VA1=mvrnorm(n,rep(0,(p+q)),diag((p+q)))
> > 73 X=VA1[,1:p]
> > 74 Y=VA1[,(p+1):(p+q)]
> >
> > 75 # Xbar calculation
> > 76 Xbar=colMeans(X)
> >
> > 77 # Calculation of Xjh bar
> > 78 Xjhbar=list()
> > 79 for (i in 1:q){
> > 80 w=matrix(0,R[i],p)
> > 81 for (j in 1:R[i]){
> > 82 w[j,]=colSums(W[[i]][,j]*X)/n11[[i]][j]
> > 83 }
> > 84 Xjhbar[[i]]=w
> > 85 }
> >
> > 86 #calculation of TO jh
> >
> > 87 TO.jh=list()
> > 88 for (i in 1:q){
> > 89 w=Xjhbar[[i]]
> > 90 to=w*0
> > 91 for (j in 1:R[i]){
> > 92 to[j,]=w[j,]-Xbar
> > 93 }
> > 94 TO.jh[[i]]=to
> > 95 }
> >
> > 96 #calculation of Lamda J
> >
> > 97 Lamda=matrix(0,p,p)
> > 98 for (i in 1:q){
> > 99 to=TO.jh[[i]]
> > 100 w=matrix(0,p,p)
> > 101 for (j in 1:R[i]){
> > 102 w=w+(P11[[i]][j]*(to[j,]%*%t(to[j,])))
> > 103 }
> > 104 Lamda=Lamda+w
> > 105 }
> >
> > 106 tr1=n*sum(diag(Lamda))
> >
> > 107 # Gamma Calculation
> >
> > 108 GGamma=matrix(0,p*sum(R),p*sum(R))
> > 109 PGamma=kronecker(diag(P12[[1]]),diag(p))
> > 110 Ifin=p*R [1]
> > 111 GGamma[1:Ifin,1:Ifin]=PGamma
> > 112 for (i in 2:q){
> > 113 PGamma=kronecker(diag(P12[[i]]),diag(p))
> > 114 Idebut=((p*sum(R[1:(i-1)]))+1)
> > 115 Ifin=(p*sum(R[1:i]))
> > 116 GGamma [Idebut:Ifin,Idebut:Ifin]=PGamma
> > 117 }
> >
> > 118 #Sigma calculation
> >
> > 119 # Calculation of Vn
> > 120 X1=CenteringV(X,Xbar,n)
> > 121 Vn=t(X1)%*%X1/n
> >
> > 122 ## Construction of Sigma
> > 123 GSigma=matrix(0,p*sum(R),p*sum(R))
> > 124 for (i in 1:q ){
> > 125 for (j in 1:R[i] ){
> > 126 Xij=CenteringV(X,Xjhbar[[i]][j,],n)
> > 127 Vij=t(W[[i]][,j]*Xij)%*%Xij/n11[[i]][j]
> >
> > 128 for (k in 1:q ){
> > 129 for (l in 1:R[k]){
> >
> > 130 Xkl=CenteringV(X,Xjhbar[[k]][l,],n)
> > 131 Vijkl=t(W[[i]][,j]*Xij)%*%(W[[k]][,l]*Xkl)/n
> >
> > 132 Vkl=t(W[[k]][,l]*Xkl)%*%Xkl/n11[[k]][l]
> > 133 if (i==1) Idebut=((j-1)*p)+1 else Idebut=((sum(R[1:(i-1)])+j-1)*p)+1
> > 134 if (i==1) Idebut1=(j*p) else Idebut1=((sum(R[1:(i-1)])+j)*p)
> > 135 if (k==1) Ifin=((l-1)*p)+1 else Ifin=((sum(R[1:(k-1)])+l-1)*p)+1
> > 136 if (k==1) Ifin1=(l*p) else Ifin1=((sum(R[1:(k-1)])+l)*p)
> >
> > 137
> >
> GSigma[Idebut:Idebut1,Ifin:Ifin1]=Vijkl+(P11[[i]][j]*P11[[k]][l]*(Vn-Vij-Vkl))
> > 138 }
> > 139 }
> > 140 }
> > 141 }
> >
> >
> > 141 # Determinations of the eigenvalues of sigma epsilon
> > 142 pa=SqrtMatrix0(GSigma)
> > 143 mq= pa %*% GGamma %*% pa
> > 144 u=Re(eigen(mq)$values)
> >
> >
> > 145 # determination of degree of freedom and value c noted va
> > 146 dl=(sum(u)^2)/(sum(u^2))
> > 147 va=(sum(u^2))/(sum(u))
> > 148 pc=1-pchisq(tr1/va, df= dl)
> > 149 pc1[i1]=pc
> >
> > 150 # Test of the value obtained
> > 151 if (pc>m1) d1=0 else d1=1
> > 152 if (pc>m2) d2=0 else d2=1
> > 153 if (pc>m3) d3=0 else d3=1
> > 154 l1=l1+d1
> > 155 l2=l2+d2
> > 156 l3=l3+d3
> > 157 }
> > 158 K=K+1
> > 159 MV [K,1]=n
> > 160 MV [K,2]=l1/number of timessim
> > 161 MV [K,3]=l2/number of timessim
> > 162 MV[K,4]=l3/number of timessim
> > 163 }
> >
> >
> >
> >
> >
> >
> > l
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org <mailto:R-help at r-project.org>  mailing list -- To
> UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


