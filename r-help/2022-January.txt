From george@br|d@ @end|ng |rom gm@||@com  Sun Jan  2 22:36:01 2022
From: george@br|d@ @end|ng |rom gm@||@com (george brida)
Date: Sun, 2 Jan 2022 22:36:01 +0100
Subject: [R] Mapping of groups of countries
In-Reply-To: <CA+8X3fU-Xczjp6X7oRmdCPaZ8YrdQYUGkZ63o874Ji0c6b7HfA@mail.gmail.com>
References: <CAGsroM0GkdR=63reA1h5T1Qtr5rm=ACL3T0xusiu+qkhbbC18A@mail.gmail.com>
 <CA+8X3fU-Xczjp6X7oRmdCPaZ8YrdQYUGkZ63o874Ji0c6b7HfA@mail.gmail.com>
Message-ID: <CAGsroM0=z=WZRNipMOcD8EcoUcjFJ7+SKK7fMqaM4MEy_2mHbQ@mail.gmail.com>

Thanks a lot Jim. I really appreciate your help. Happy new year 2022.
George

On Wed, Dec 29, 2021 at 10:10 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi George,
> This example is obviously a mess, but it shows the basic elements. The
> labels may be placed manually using something like boxed.labels
> (plotrix) with lines connecting the labels to the smaller countries.
> If you want the labels within the countries you will have to use a big
> graphics device.
>
> library(maps)
> map("world")
> countries=c("China","Bangladesh","Egypt","Indonesia","South
> Korea","Nigeria",
>  "Brazil","Pakistan","Philippines","Vietnam","South Africa",
>  "India","Mexico","Turkey")
> countrycol<-c(rep("red",6),rep("blue",4),"green",rep("orange",3))
> for(i in 1:length(countries)) {
>  mapinf<-map(region=countries[i],col=countrycol[i],add=TRUE)
>  xpos<-sum(mapinf$range[1:2])/2
>  ypos<-sum(mapinf$range[3:4])/2
>  text(xpos,ypos,countries[i])
> }
>
>
> Jim
>
> On Thu, Dec 30, 2021 at 7:34 AM george brida <george.brida at gmail.com>
> wrote:
> >
> > Dear R users,
> >
> > I would like to map with R the following countries (with their names on
> the
> > map) as follows: the first group in red composed by China, Bangladesh,
> > Eypt, Indonesia, South Korea, Nigeria. The second group in blue composed
> by
> > Brazil, Pakistan, Philippines, Vietnam.
> >
> > The third group in green solely composed by South Africa.
> >
> > Finally, the fourth group in orange composed by India, Mexico and Turkey.
> >
> > I'd also like a legend that assigns the different colors to the various
> > group.
> > I tried several times with library maps but it seems that I failed to
> find
> > the real setting of xlim and ylim. Can you please help me, I will be very
> > grateful.
> >
> > Best regards
> > George
> >
> >         [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Sun Jan  2 23:00:06 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Mon, 3 Jan 2022 09:00:06 +1100
Subject: [R] Mapping of groups of countries
In-Reply-To: <CAGsroM0=z=WZRNipMOcD8EcoUcjFJ7+SKK7fMqaM4MEy_2mHbQ@mail.gmail.com>
References: <CAGsroM0GkdR=63reA1h5T1Qtr5rm=ACL3T0xusiu+qkhbbC18A@mail.gmail.com>
 <CA+8X3fU-Xczjp6X7oRmdCPaZ8YrdQYUGkZ63o874Ji0c6b7HfA@mail.gmail.com>
 <CAGsroM0=z=WZRNipMOcD8EcoUcjFJ7+SKK7fMqaM4MEy_2mHbQ@mail.gmail.com>
Message-ID: <CA+8X3fXv74goBQDVEF4axRz4s00yVb9W07Z6TbcEmrvCqpv-MQ@mail.gmail.com>

Hi George,
Same to you. I fooled around with the plot a bit after I sent the email.

Jim

On Mon, Jan 3, 2022 at 8:36 AM george brida <george.brida at gmail.com> wrote:
>
> Thanks a lot Jim. I really appreciate your help. Happy new year 2022.
> George
>
> On Wed, Dec 29, 2021 at 10:10 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>> Hi George,
>> This example is obviously a mess, but it shows the basic elements. The
>> labels may be placed manually using something like boxed.labels
>> (plotrix) with lines connecting the labels to the smaller countries.
>> If you want the labels within the countries you will have to use a big
>> graphics device.
>>
>> library(maps)
>> map("world")
>> countries=c("China","Bangladesh","Egypt","Indonesia","South Korea","Nigeria",
>>  "Brazil","Pakistan","Philippines","Vietnam","South Africa",
>>  "India","Mexico","Turkey")
>> countrycol<-c(rep("red",6),rep("blue",4),"green",rep("orange",3))
>> for(i in 1:length(countries)) {
>>  mapinf<-map(region=countries[i],col=countrycol[i],add=TRUE)
>>  xpos<-sum(mapinf$range[1:2])/2
>>  ypos<-sum(mapinf$range[3:4])/2
>>  text(xpos,ypos,countries[i])
>> }
>>
>>
>> Jim
>>
>> On Thu, Dec 30, 2021 at 7:34 AM george brida <george.brida at gmail.com> wrote:
>> >
>> > Dear R users,
>> >
>> > I would like to map with R the following countries (with their names on the
>> > map) as follows: the first group in red composed by China, Bangladesh,
>> > Eypt, Indonesia, South Korea, Nigeria. The second group in blue composed by
>> > Brazil, Pakistan, Philippines, Vietnam.
>> >
>> > The third group in green solely composed by South Africa.
>> >
>> > Finally, the fourth group in orange composed by India, Mexico and Turkey.
>> >
>> > I'd also like a legend that assigns the different colors to the various
>> > group.
>> > I tried several times with library maps but it seems that I failed to find
>> > the real setting of xlim and ylim. Can you please help me, I will be very
>> > grateful.
>> >
>> > Best regards
>> > George
>> >
>> >         [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.

From petr@p|k@| @end|ng |rom prechez@@cz  Mon Jan  3 10:37:36 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 3 Jan 2022 09:37:36 +0000
Subject: [R] mixture univariate distributions fit
In-Reply-To: <CAGxFJbQw074136DhPJFx_Lg_qNTiT_vy01REMrc8qguhHt1MVw@mail.gmail.com>
References: <42e04a96845c4c96a15da9d7e8044028@SRVEXCHCM1301.precheza.cz>
 <CAGxFJbTxasFj4+MpFZfngvHA_d_8BK41mknZzoSDFfq+Cxa6fg@mail.gmail.com>
 <f95d630111d44aa1ad9823501a4eef16@SRVEXCHCM1301.precheza.cz>
 <CAGxFJbSnPeSPZSOudUZapg1V4waoG2A-DpnstE2FLZMMwUyCcw@mail.gmail.com>
 <08b00b524de748d28179321e8cf41145@SRVEXCHCM1301.precheza.cz>
 <20211231112549.7bf51abb@Tarkus>
 <09d639fe79ce44198db4c276dc726956@SRVEXCHCM1301.precheza.cz>
 <CAGxFJbQw074136DhPJFx_Lg_qNTiT_vy01REMrc8qguhHt1MVw@mail.gmail.com>
Message-ID: <666bc577c4984a1ea6d04423fdd0e765@SRVEXCHCM1301.precheza.cz>

Hallo Bert

The discussion starts to be more off topic here, as you already pointed. There 
probably is not any package (function) in R designed for easy overlapping peak 
(distribution) fitting. With original data one could use mixtools, with 
density or cummulative density values Ivan's suggestion seems to work 
reasonably.

To your questions
1. No, peak location is not known. If I decided to code the function (package) 
myself I would start with plot and user should select possible location by 
locator.

2. No, but one should restrict the number of components to some reasonable 
value.

3. In particle size measurement it is usually lognormal or normal 
distribution, for which the way suggested by Ivan is workable solution. 
However in the other case I have on mind, the function could be more variable 
(Fraser-Suzuki, Cauchy, Pseudo-Voigt, ...) and I would need to program the 
curves myself. Possible way is to make a plot with the starting values and let 
user to change them until the fit is relatively close to measured values.

So unless somebody could point me to an R package for such peak shape mixture 
evaluation I do not consider further discussion necessary. I first need to do 
my homework if I decided to code such function myself.

Thank you again and best regards.
Petr

> -----Original Message-----
> From: Bert Gunter <bgunter.4567 at gmail.com>
> Sent: Friday, December 31, 2021 6:57 PM
> To: PIKAL Petr <petr.pikal at precheza.cz>
> Cc: Ivan Krylov <krylov.r00t at gmail.com>; r-help mailing list <r-help at r-
> project.org>
> Subject: Re: [R] mixture univariate distributions fit
>
> Petr:
> Please feel free to ignore and not reply if you think the following 
> questions
> are unhelpful.
>
> 1. Do you want to know the location of peaks (local modes) or the
> parameters of the/a mixture distribution? Peaks do not have to be located at
> the modes of the individual components of the mixture.
>
> 2. Do you know the number of components in the mixture? This would
> simplify the problem (a lot, I believe; though those more knowledgeable
> should comment on that).
>
> 3. Do you know that the points on the fitted density you get are obtained as
> a mixture of normals? Or  at least of symmetric distributions? ... or 
> whether
> they are obtained by some sort of
> (algorithmic) density estimation procedure?
>
> Best and New Year's greeting to all,
> Bert
>
>
>
> On Fri, Dec 31, 2021 at 1:49 AM PIKAL Petr <petr.pikal at precheza.cz> wrote:
> >
> > Hallo Ivan
> >
> > Thanks. Yes, this approach seems to be viable. I did not consider
> > using dnorm in fitting procedure. But as you pointed
> >
> > > (Some nonlinear least squares problems will be much harder to solve
> > > though.)
> >
> > This simple example is quite easy. The more messy are data and the
> > more distributions are mixed in them the more problematic could be the
> > correct starting values selection. Errors could be quite common.
> >
> > x <- (0:200)/100
> > y1 <- dnorm(x, mean=.3, sd=.1)
> > y2 <- dnorm(x, mean=.7, sd=.2)
> > y3 <- dnorm(x, mean=.5, sd=.1)
> >
> > ymix <- ((y1+2*y2+y3)/max(y1+2*y2+y3))+rnorm(201, sd=.001) plot(x,
> > ymix)
> >
> > With just sd1 and sd2 slightly higher, the fit results to error.
> > > fit <- minpack.lm::nlsLM(
> > +  ymix ~ a1 * dnorm(x, mu1, sd1) + a2 * dnorm(x, mu2, sd2)+
> > +  a3 * dnorm(x, mu3, sd3),
> > +  start = c(a1 = 1, mu1 = .3, sd1=.3, a2 = 2, mu2 = .7, sd2 =.3,
> > +  a3 = 1, mu3 = .5, sd3 = .1),
> > +  lower = rep(0, 9) # help minpack avoid NaNs
> > + )
> > Error in nlsModel(formula, mf, start, wts) :
> >   singular gradient matrix at initial parameter estimates
> >
> > If sd1 and sd2 are set to lower value, the function is no longer
> > singular and arrives with result.
> >
> > Well, it seems that the  only way how to procced is to code such
> > function by myself and take care of suitable starting values.
> >
> > Best regards.
> > Petr
> >
> > > -----Original Message-----
> > > From: Ivan Krylov <krylov.r00t at gmail.com>
> > > Sent: Friday, December 31, 2021 9:26 AM
> > > To: PIKAL Petr <petr.pikal at precheza.cz>
> > > Cc: r-help mailing list <r-help at r-project.org>
> > > Subject: Re: [R] mixture univariate distributions fit
> > >
> > > On Fri, 31 Dec 2021 07:59:11 +0000
> > > PIKAL Petr <petr.pikal at precheza.cz> wrote:
> > >
> > > > x <- (0:100)/100
> > > > y1 <- dnorm((x, mean=.3, sd=.1)
> > > > y2 <- dnorm((x, mean=.7, sd=.1)
> > > > ymix <- ((y1+2*y2)/max(y1+2*y2))
> > >
> > > > My question is if there is some package or function which could
> > > > get those values ***directly from x and ymix values***, which is
> > > > basically what is measured in my case.
> > >
> > > Apologies if I'm missing something, but, this being a peak fitting
> > > problem, shouldn't nls() (or something from the minpack.lm or nlsr
> > > packages) work for you here?
> > >
> > > minpack.lm::nlsLM(
> > >  ymix ~ a1 * dnorm(x, mu1, sigma1) + a2 * dnorm(x, mu2, sigma2),
> > > start = c(a1 = 1, mu1 = 0, sigma1 = 1, a2 = 1, mu2 = 1, sigma2 = 1),
> > > lower = rep(0, 6) # help minpack avoid NaNs
> > > )
> > > # Nonlinear regression model
> > > #  model: ymix ~ a1 * dnorm(x, mu1, sigma1) + a2 * dnorm(x, mu2,
> > > sigma2) #  data: parent.frame()
> > > #      a1    mu1 sigma1     a2    mu2 sigma2
> > > #  0.1253 0.3000 0.1000 0.2506 0.7000 0.1000 # residual
> > > sum-of-squares: 1.289e-31 # # Number of iterations to convergence:
> > > 23 # Achieved convergence tolerance: 1.49e-08
> > >
> > > (Some nonlinear least squares problems will be much harder to solve
> > > though.)
> > >
> > > --
> > > Best regards,
> > > Ivan
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.

From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Mon Jan  3 20:49:22 2022
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Mon, 3 Jan 2022 19:49:22 +0000 (UTC)
Subject: [R] Speed up studentized confidence intervals ?
In-Reply-To: <175EC817-7136-4559-BF04-39675578EDA0@mcmaster.ca>
References: <721769419.5879847.1639914338826.ref@mail.yahoo.com>
 <721769419.5879847.1639914338826@mail.yahoo.com>
 <ade3d6fe-011e-7b1d-174e-d5e5dc6fa0cf@sapo.pt>
 <5715_1640804948_1BTJ96KP008110_1382401986.3579113.1640804913673@mail.yahoo.com>
 <175EC817-7136-4559-BF04-39675578EDA0@mcmaster.ca>
Message-ID: <461304800.1787849.1641239362781@mail.yahoo.com>

Dear John, Dear Rui,

I really thank you a lot for your R code.

Best,
SV




Le jeudi 30 d?cembre 2021, 05:25:11 UTC+1, Fox, John <jfox at mcmaster.ca> a ?crit : 





Dear varin sacha,

You didn't correctly adapt the code to the median. The outer call to mean() in the last line shouldn't be replaced with median() -- it computes the proportion of intervals that include the population median.

As well, you can't rely on the asymptotics of the bootstrap for a nonlinear statistic like the median with an n as small as 5, as your example, properly implemented (and with the code slightly cleaned up), illustrates:

> library(boot)
> set.seed(123)
> s <- rgamma(n=100000, shape=2, rate=5)
> (m <- median(s))
[1] 0.3364465
> N <- 1000
> n <- 5
> set.seed(321)
> out <- replicate(N, {
+? dat <- data.frame(sample(s, size=n))
+? med <- function(d, i) {
+? ? median(d[i, ])
+? }
+? boot.out <- boot(data = dat, statistic = med, R = 10000)
+? boot.ci(boot.out, type = "bca")$bca[, 4:5]
+ })
> #coverage probability
> mean(out[1, ] < m & m < out[2, ])
[1] 0.758


You do get the expected coverage, however, for a larger sample, here with n = 100:

> N <- 1000
> n <- 100
> set.seed(321)
> out <- replicate(N, {
+? dat <- data.frame(sample(s, size=n))
+? med <- function(d, i) {
+? ? median(d[i, ])
+? }
+? boot.out <- boot(data = dat, statistic = med, R = 10000)
+? boot.ci(boot.out, type = "bca")$bca[, 4:5]
+ })
> #coverage probability
> mean(out[1, ] < m & m < out[2, ])
[1] 0.952

I hope this helps,
John

-- 
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
Web: http://socserv.mcmaster.ca/jfox/




?On 2021-12-29, 2:09 PM, "R-help on behalf of varin sacha via R-help" <r-help-bounces at r-project.org on behalf of r-help at r-project.org> wrote:

? ? Dear David,
? ? Dear Rui,

? ? Many thanks for your response. It perfectly works for the mean. Now I have a problem with my R code for the median. Because I always get 1 (100%) coverage probability that is more than very strange. Indeed, considering that an interval whose lower limit is the smallest value in the sample and whose upper limit is the largest value has 1/32 + 1/32 = 1/16 probability of non-coverage, implying that the confidence of such an interval is 15/16 rather than 1 (100%), I suspect that the confidence interval I use for the median is not correctly defined for n=5 observations, and likely contains all observations in the sample ? What is wrong with my R code ?

? ? ########################################
? ? library(boot)

? ? s=rgamma(n=100000,shape=2,rate=5)
? ? median(s)

? ? N <- 100
? ? out <- replicate(N, {
? ? a<- sample(s,size=5)
? ? median(a) 

? ? dat<-data.frame(a)
? ? med<-function(d,i) {
? ? temp<-d[i,]
? ? median(temp)
? ? }

? ? ? boot.out <- boot(data = dat, statistic = med, R = 10000)
? ? ? boot.ci(boot.out, type = "bca")$bca[, 4:5]
? ? })

? ? #coverage probability
? ? median(out[1, ] < median(s) & median(s) < out[2, ])
? ? ########################################




? ? Le jeudi 23 d?cembre 2021, 14:10:36 UTC+1, Rui Barradas <ruipbarradas at sapo.pt> a ?crit : 





? ? Hello,

? ? The code is running very slowly because you are recreating the function 
? ? in the replicate() loop and because you are creating a data.frame also 
? ? in the loop.

? ? And because in the bootstrap statistic function med() you are computing 
? ? the variance of yet another loop. This is probably statistically wrong 
? ? but like David says, without a problem description it's hard to say.

? ? Also, why compute variances if they are never used?

? ? Here is complete code executing in much less than 2:00 hours. Note that 
? ? it passes the vector a directly to med(), not a df with just one column.


? ? library(boot)

? ? set.seed(2021)
? ? s <- sample(178:798, 100000, replace = TRUE)
? ? mean(s)

? ? med <- function(d, i) {
? ? ? temp <- d[i]
? ? ? f <- mean(temp)
? ? ? g <- var(temp)
? ? ? c(Mean = f, Var = g)
? ? }

? ? N <- 1000
? ? out <- replicate(N, {
? ? ? a <- sample(s, size = 5)
? ? ? boot.out <- boot(data = a, statistic = med, R = 10000)
? ? ? boot.ci(boot.out, type = "stud")$stud[, 4:5]
? ? })
? ? mean(out[1, ] < mean(s) & mean(s) < out[2, ])
? ? #[1] 0.952



? ? Hope this helps,

? ? Rui Barradas

? ? ?s 11:45 de 19/12/21, varin sacha via R-help escreveu:
? ? > Dear R-experts,
? ? > 
? ? > Here below my R code working but really really slowly ! I need 2 hours with my computer to finally get an answer ! Is there a way to improve my R code to speed it up ? At least to win 1 hour ;=)
? ? > 
? ? > Many thanks
? ? > 
? ? > ########################################################
? ? > library(boot)
? ? > 
? ? > s<- sample(178:798, 100000, replace=TRUE)
? ? > mean(s)
? ? > 
? ? > N <- 1000
? ? > out <- replicate(N, {
? ? > a<- sample(s,size=5)
? ? > mean(a)
? ? > dat<-data.frame(a)
? ? > 
? ? > med<-function(d,i) {
? ? > temp<-d[i,]
? ? > f<-mean(temp)
? ? > g<-var(replicate(50,mean(sample(temp,replace=T))))
? ? > return(c(f,g))
? ? > 
? ? > }
? ? > 
? ? >? ? boot.out <- boot(data = dat, statistic = med, R = 10000)
? ? >? ? boot.ci(boot.out, type = "stud")$stud[, 4:5]
? ? > })
? ? > mean(out[1,] < mean(s) & mean(s) < out[2,])
? ? > ########################################################
? ? > 
? ? > ______________________________________________
? ? > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
? ? > https://stat.ethz.ch/mailman/listinfo/r-help
? ? > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
? ? > and provide commented, minimal, self-contained, reproducible code.
? ? > 

? ? ______________________________________________
? ? R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
? ? https://stat.ethz.ch/mailman/listinfo/r-help
? ? PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
? ? and provide commented, minimal, self-contained, reproducible code.


From @n@@j@m@hed1994 @end|ng |rom gm@||@com  Tue Jan  4 02:06:26 2022
From: @n@@j@m@hed1994 @end|ng |rom gm@||@com (Anas Jamshed)
Date: Tue, 4 Jan 2022 06:06:26 +0500
Subject: [R] Connect R with Ensemble Rest API to fetch variations
Message-ID: <CAG0CrLj_jLMAwk9kXFhKEuSUKXqkp9xL97c1AUc+fSof4Nx3FA@mail.gmail.com>

I have a list of 422 genes in excel file .I want to know if its possible to
get snps details of these gene by using Ensemble Rest API or biomart?

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jan  4 02:22:34 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Mon, 3 Jan 2022 17:22:34 -0800
Subject: [R] Connect R with Ensemble Rest API to fetch variations
In-Reply-To: <CAG0CrLj_jLMAwk9kXFhKEuSUKXqkp9xL97c1AUc+fSof4Nx3FA@mail.gmail.com>
References: <CAG0CrLj_jLMAwk9kXFhKEuSUKXqkp9xL97c1AUc+fSof4Nx3FA@mail.gmail.com>
Message-ID: <CAGxFJbQANR7V6STBTY=1EFbRAUXnO+dD43iR9Fme80k+0ZAveQ@mail.gmail.com>

Your query is completely off topic here. I suggest you try posting at:
https://www.bioconductor.org/help/
instead. I also suggest that you read and follow their posting guide before
doing so.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Mon, Jan 3, 2022 at 5:08 PM Anas Jamshed <anasjamshed1994 at gmail.com>
wrote:

> I have a list of 422 genes in excel file .I want to know if its possible to
> get snps details of these gene by using Ensemble Rest API or biomart?
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From wjm1 @end|ng |rom c@@@co|umb|@@edu  Tue Jan  4 04:16:47 2022
From: wjm1 @end|ng |rom c@@@co|umb|@@edu (William Michels)
Date: Mon, 3 Jan 2022 19:16:47 -0800
Subject: [R] Connect R with Ensemble Rest API to fetch variations
In-Reply-To: <CAG0CrLj_jLMAwk9kXFhKEuSUKXqkp9xL97c1AUc+fSof4Nx3FA@mail.gmail.com>
References: <CAG0CrLj_jLMAwk9kXFhKEuSUKXqkp9xL97c1AUc+fSof4Nx3FA@mail.gmail.com>
Message-ID: <CAA99HCyvh2aqYMNRj9BzfQjd4=PR-8k8O8rONkiEp5BgaGiJRA@mail.gmail.com>

Hello Anas,

You can find courses and/or training materials on the Ensembl/EBI
websites, including R code:

https://www.ebi.ac.uk/training/online/courses/ensembl-rest-api/
http://training.ensembl.org/

You can also click on individual 'Ensembl REST API Endpoints', and
find sample R code there:

http://rest.ensembl.org/

Good luck,

Bill.

W. Michels, Ph.D.





On Mon, Jan 3, 2022 at 5:08 PM Anas Jamshed <anasjamshed1994 at gmail.com> wrote:
>
> I have a list of 422 genes in excel file .I want to know if its possible to
> get snps details of these gene by using Ensemble Rest API or biomart?
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From he|n0106 @end|ng |rom umn@edu  Tue Jan  4 04:19:31 2022
From: he|n0106 @end|ng |rom umn@edu (Bradley Heins)
Date: Mon, 3 Jan 2022 21:19:31 -0600
Subject: [R] Multiple Data Import Excel
Message-ID: <CAHv3Gw0TrKU+=mvm0syBU0z-yB-27tjj9zGxM4AKAjV93=m6rQ@mail.gmail.com>

Hello,
I have 2100 Excel files (.xlsx) that I need to read and combine into 1
file.
I am perplexed because the first 6 lines are header information and the 8th
line are the columns that are needed with the data in columns.

I need to save the first last (IceTag ID) because that number becomes the
ID for all of the data in each specific Excel file.  The ID can be
different for spreadsheets.

Line 2 to 7 are not needed.
Line 8 are the column headers.

The columns are Date, Time, Motion Standing (in time format), Lying (In
time format), Steps and bouts.  See example below.

Any help in reading in multiple files and discarding some lines would
be appreciated.
Regards,
Brad



IceTag ID: 61409782
Site ID: n/a
Animal ID: n/a
First Record: 05/18/2021 14:04:27
Last Record: 05/25/2021 14:00:51
File Time Zone: Central Standard Time

Date             Time    Motion StandingT LyingT Steps Bouts
05/18/2021 14:04:27  65  0:10:29 0:00:04 20 1
05/18/2021 14:15:00 69 0:08:52 0:06:08 15 1


-- 
Bradley J. Heins
Extension Specialist, Dairy Management | Extension | extension.umn.edu
Associate Professor, Dairy Management | West Central ROC |
wcroc.cfans.umn.edu
University of Minnesota | umn.edu
46352 State Hwy 329, Morris, MN 56267
hein0106 at umn.edu | 320-589-1711, Ext. 2118

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Tue Jan  4 09:05:36 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 4 Jan 2022 08:05:36 +0000
Subject: [R] Multiple Data Import Excel
In-Reply-To: <CAHv3Gw0TrKU+=mvm0syBU0z-yB-27tjj9zGxM4AKAjV93=m6rQ@mail.gmail.com>
References: <CAHv3Gw0TrKU+=mvm0syBU0z-yB-27tjj9zGxM4AKAjV93=m6rQ@mail.gmail.com>
Message-ID: <8447e9e398424c4a8ab5c38dbe8a2f8f@SRVEXCHCM1301.precheza.cz>

Hi

Try readxl package which has possibility to limit range of cells for
reading.

https://cran.r-project.org/web/packages/readxl/readxl.pdf

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Bradley Heins via
> R-help
> Sent: Tuesday, January 4, 2022 4:20 AM
> To: r-help at r-project.org
> Subject: [R] Multiple Data Import Excel
> 
> Hello,
> I have 2100 Excel files (.xlsx) that I need to read and combine into 1
file.
> I am perplexed because the first 6 lines are header information and the
8th
> line are the columns that are needed with the data in columns.
> 
> I need to save the first last (IceTag ID) because that number becomes the
ID
> for all of the data in each specific Excel file.  The ID can be different
for
> spreadsheets.
> 
> Line 2 to 7 are not needed.
> Line 8 are the column headers.
> 
> The columns are Date, Time, Motion Standing (in time format), Lying (In
time
> format), Steps and bouts.  See example below.
> 
> Any help in reading in multiple files and discarding some lines would be
> appreciated.
> Regards,
> Brad
> 
> 
> 
> IceTag ID: 61409782
> Site ID: n/a
> Animal ID: n/a
> First Record: 05/18/2021 14:04:27
> Last Record: 05/25/2021 14:00:51
> File Time Zone: Central Standard Time
> 
> Date             Time    Motion StandingT LyingT Steps Bouts
> 05/18/2021 14:04:27  65  0:10:29 0:00:04 20 1
> 05/18/2021 14:15:00 69 0:08:52 0:06:08 15 1
> 
> 
> --
> Bradley J. Heins
> Extension Specialist, Dairy Management | Extension | extension.umn.edu
> Associate Professor, Dairy Management | West Central ROC |
> wcroc.cfans.umn.edu University of Minnesota | umn.edu
> 46352 State Hwy 329, Morris, MN 56267
> hein0106 at umn.edu | 320-589-1711, Ext. 2118
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Tue Jan  4 09:54:29 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 04 Jan 2022 00:54:29 -0800
Subject: [R] Multiple Data Import Excel
In-Reply-To: <CAHv3Gw0TrKU+=mvm0syBU0z-yB-27tjj9zGxM4AKAjV93=m6rQ@mail.gmail.com>
References: <CAHv3Gw0TrKU+=mvm0syBU0z-yB-27tjj9zGxM4AKAjV93=m6rQ@mail.gmail.com>
Message-ID: <D23D54D6-74E2-46CD-8B8C-5760D62758F0@dcn.davis.ca.us>

Reading Excel files isn't a feature of base R (the topic here... read the Posting Guide linked below) but the readxl contributed package can help with that. The read_xlsx function has arguments to skip rows, limit the number of rows read in, or specify regions to import such as B2:B2. Read the help documentation with ?read_xlsx to learn more.

You should always focus first on creating a function that can read one of these files as a data frame. With that done, lapply can be used with list.files to read in 2 or 20000 files. The do.call function can be used with rbind to assemble those data frames into one (or dplyr::bind_rows can do that in one call).

You may find [1] or [2] helpful with the process if not the details. I don't feel energetic enough to actually invent xlsx files for a reproducible example.

[1] https://jdnewmil.github.io/RLoopsAndGroups/DoItAgainR.html
[2] https://jdnewmil.github.io/FunctionsTalk/FunctionsTalk.html


On January 3, 2022 7:19:31 PM PST, Bradley Heins via R-help <r-help at r-project.org> wrote:
>Hello,
>I have 2100 Excel files (.xlsx) that I need to read and combine into 1
>file.
>I am perplexed because the first 6 lines are header information and the 8th
>line are the columns that are needed with the data in columns.
>
>I need to save the first last (IceTag ID) because that number becomes the
>ID for all of the data in each specific Excel file.  The ID can be
>different for spreadsheets.
>
>Line 2 to 7 are not needed.
>Line 8 are the column headers.
>
>The columns are Date, Time, Motion Standing (in time format), Lying (In
>time format), Steps and bouts.  See example below.
>
>Any help in reading in multiple files and discarding some lines would
>be appreciated.
>Regards,
>Brad
>
>
>
>IceTag ID: 61409782
>Site ID: n/a
>Animal ID: n/a
>First Record: 05/18/2021 14:04:27
>Last Record: 05/25/2021 14:00:51
>File Time Zone: Central Standard Time
>
>Date             Time    Motion StandingT LyingT Steps Bouts
>05/18/2021 14:04:27  65  0:10:29 0:00:04 20 1
>05/18/2021 14:15:00 69 0:08:52 0:06:08 15 1
>
>

-- 
Sent from my phone. Please excuse my brevity.


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Jan  4 11:55:43 2022
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 4 Jan 2022 11:55:43 +0100
Subject: [R] how to run r biotools boxM terst on multiple groups?
Message-ID: <CAMk+s2TWiN6deYJFOc-UY5zAFM0hCEeuicSVCCH6yUHyRK0H4A@mail.gmail.com>

I have a data frame containing a half dozen continuous measurements
and over a dozen ordinal variables (such as, death, fever, symptoms
etc).
I would like to run a box matrix test and I am using biotools' boxM,
but it allows to run only one ordinal group at the time. For instance:
```
>data(iris)
>boxM(iris[,1:4], iris[,5])

Box's M-test for Homogeneity of Covariance Matrices

data:  iris[, 1:4]
Chi-Sq (approx.) = 140.94, df = 20, p-value < 2.2e-16

>bins <- c(1,2); iris$bin <- findInterval(iris$Petal.Width, bins)
>iris$bin = factor(iris$bin)
>boxM(iris[,1:4], iris[,6])

Box's M-test for Homogeneity of Covariance Matrices

data:  iris[, 1:4]
Chi-Sq (approx.) = 140.94, df = 20, p-value < 2.2e-16

>boxM(iris[,1:4], iris[,5:6])
Error in boxM(iris[, 1:4], iris[, 5:6]) : incompatible dimensions!
```
Is there a way to check for equality of variance-covariance on
multiple groups simultaneously?
Thanks


From petr@p|k@| @end|ng |rom prechez@@cz  Tue Jan  4 12:34:07 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Tue, 4 Jan 2022 11:34:07 +0000
Subject: [R] how to run r biotools boxM terst on multiple groups?
In-Reply-To: <CAMk+s2TWiN6deYJFOc-UY5zAFM0hCEeuicSVCCH6yUHyRK0H4A@mail.gmail.com>
References: <CAMk+s2TWiN6deYJFOc-UY5zAFM0hCEeuicSVCCH6yUHyRK0H4A@mail.gmail.com>
Message-ID: <06477492d1d24ad0be88d2b10acb3014@SRVEXCHCM1301.precheza.cz>

Hi.

Not sure if statistically correct but what about

iris$int<- interaction(iris$bin, iris$Species)
boxM(iris[,1:4], iris[,7])

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Luigi Marongiu
> Sent: Tuesday, January 4, 2022 11:56 AM
> To: r-help <r-help at r-project.org>
> Subject: [R] how to run r biotools boxM terst on multiple groups?
> 
> I have a data frame containing a half dozen continuous measurements and
> over a dozen ordinal variables (such as, death, fever, symptoms etc).
> I would like to run a box matrix test and I am using biotools' boxM, but
it
> allows to run only one ordinal group at the time. For instance:
> ```
> >data(iris)
> >boxM(iris[,1:4], iris[,5])
> 
> Box's M-test for Homogeneity of Covariance Matrices
> 
> data:  iris[, 1:4]
> Chi-Sq (approx.) = 140.94, df = 20, p-value < 2.2e-16
> 
> >bins <- c(1,2); iris$bin <- findInterval(iris$Petal.Width, bins)
> >iris$bin = factor(iris$bin) boxM(iris[,1:4], iris[,6])
> 
> Box's M-test for Homogeneity of Covariance Matrices
> 
> data:  iris[, 1:4]
> Chi-Sq (approx.) = 140.94, df = 20, p-value < 2.2e-16
> 
> >boxM(iris[,1:4], iris[,5:6])
> Error in boxM(iris[, 1:4], iris[, 5:6]) : incompatible dimensions!
> ```
> Is there a way to check for equality of variance-covariance on multiple
groups
> simultaneously?
> Thanks
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From m@rong|u@|u|g| @end|ng |rom gm@||@com  Tue Jan  4 16:32:01 2022
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Tue, 4 Jan 2022 16:32:01 +0100
Subject: [R] how to run r biotools boxM terst on multiple groups?
In-Reply-To: <06477492d1d24ad0be88d2b10acb3014@SRVEXCHCM1301.precheza.cz>
References: <CAMk+s2TWiN6deYJFOc-UY5zAFM0hCEeuicSVCCH6yUHyRK0H4A@mail.gmail.com>
 <06477492d1d24ad0be88d2b10acb3014@SRVEXCHCM1301.precheza.cz>
Message-ID: <CAMk+s2SLrEV9GCL8zkH3jYj1xbZ-7wO531QoJ-o9SoL6edfMnw@mail.gmail.com>

thanks, this is essentially merging bin and species into a single
variable. I was more interested in knowing if boxM can run on multiple
classes directly...

On Tue, Jan 4, 2022 at 12:34 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
>
> Hi.
>
> Not sure if statistically correct but what about
>
> iris$int<- interaction(iris$bin, iris$Species)
> boxM(iris[,1:4], iris[,7])
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of Luigi Marongiu
> > Sent: Tuesday, January 4, 2022 11:56 AM
> > To: r-help <r-help at r-project.org>
> > Subject: [R] how to run r biotools boxM terst on multiple groups?
> >
> > I have a data frame containing a half dozen continuous measurements and
> > over a dozen ordinal variables (such as, death, fever, symptoms etc).
> > I would like to run a box matrix test and I am using biotools' boxM, but
> it
> > allows to run only one ordinal group at the time. For instance:
> > ```
> > >data(iris)
> > >boxM(iris[,1:4], iris[,5])
> >
> > Box's M-test for Homogeneity of Covariance Matrices
> >
> > data:  iris[, 1:4]
> > Chi-Sq (approx.) = 140.94, df = 20, p-value < 2.2e-16
> >
> > >bins <- c(1,2); iris$bin <- findInterval(iris$Petal.Width, bins)
> > >iris$bin = factor(iris$bin) boxM(iris[,1:4], iris[,6])
> >
> > Box's M-test for Homogeneity of Covariance Matrices
> >
> > data:  iris[, 1:4]
> > Chi-Sq (approx.) = 140.94, df = 20, p-value < 2.2e-16
> >
> > >boxM(iris[,1:4], iris[,5:6])
> > Error in boxM(iris[, 1:4], iris[, 5:6]) : incompatible dimensions!
> > ```
> > Is there a way to check for equality of variance-covariance on multiple
> groups
> > simultaneously?
> > Thanks
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-
> > guide.html
> > and provide commented, minimal, self-contained, reproducible code.



-- 
Best regards,
Luigi


From |@heemj@n93 @end|ng |rom y@hoo@com  Wed Jan  5 04:52:34 2022
From: |@heemj@n93 @end|ng |rom y@hoo@com (Faheem Jan)
Date: Wed, 5 Jan 2022 03:52:34 +0000 (UTC)
Subject: [R] splitting data matrix into submatrices
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
Message-ID: <1606908911.1738332.1641354754130@mail.yahoo.com>

I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?


	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Wed Jan  5 05:29:14 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Wed, 5 Jan 2022 04:29:14 +0000 (UTC)
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <1606908911.1738332.1641354754130@mail.yahoo.com>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
Message-ID: <1534514481.1092676.1641356954030@mail.yahoo.com>


If you explain better, we can help. But first consider what you are asking and how it is relected in the data.
Is the first component a row number whose meaning is day 1 contains a 1 or perhaps 0 and the next row contains one more? Or is there some kind of date in there?
What day of the week is the first day? Is it a Sunday or a Wednesday or what?
Just for arguments sake, say the first row is a Sunday and all later rows are sequential. Then row 1 is a weekend and row 7 is a weekend and so are rows 7 more (8 and 18) and those 7 more and so on.?
What do you call it when you are looking for the remainder after dividing by 7?
Can you make a list of indices that contain every possible weekend, and another index containing just the non-weekends??
If other things like Holidays do not matter, you can index the matrix many ways by asking for all columns but only the rows that your logical index wants.?
If I have misunderstood the problem, ignore.

-----Original Message-----
From: Faheem Jan via R-help <r-help at r-project.org>
To: R-help Mailing List <r-help at r-project.org>
Sent: Tue, Jan 4, 2022 10:52 pm
Subject: [R] splitting data matrix into submatrices

I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?


??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Jan  5 07:10:32 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 04 Jan 2022 22:10:32 -0800
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <1606908911.1738332.1641354754130@mail.yahoo.com>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
Message-ID: <7CFA85D1-801C-4A27-ACC2-89403EDA91C5@dcn.davis.ca.us>

A lot of new R users fail to grasp what makes data frames more useful than matrices, or use data frames without even realizing they are not using matrices.

This is important because there are more tools for manipulating data frames than matrices. One tool is the split function... if you have a vector of values identifying how each row should be identified you can give that to the split function with your data frame and it will return a list of data frames (2 in this case).

v <- rep( 0:6, length=1826 )
wkv <- ifelse( v < 5, "Weekday", "Weekend" )
ans <- split( DF, wkv )
ans$Weekday
ans$Weekend

Note that this is a fragile technique for generating wkv though... usually there will be a column of dates that can be used to generate wkv more consistently if your data changes.

Please read the Posting Guide... using formatted email can cause readers to not see what you sent. Use plain text email format... it is a setting in your email client.

On January 4, 2022 7:52:34 PM PST, Faheem Jan via R-help <r-help at r-project.org> wrote:
>I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Jan  5 08:56:33 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 04 Jan 2022 23:56:33 -0800
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <142684577.1776749.1641365079399@mail.yahoo.com>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
 <7CFA85D1-801C-4A27-ACC2-89403EDA91C5@dcn.davis.ca.us>
 <142684577.1776749.1641365079399@mail.yahoo.com>
Message-ID: <CB9C8114-7C46-4FBC-AB5C-B8FE4C516185@dcn.davis.ca.us>

Please reply all so the mailing list is included in the discussion. I don't do 1:1 tutoring and others can chime in if I make a mistake.

I would say you don't understand what my example did, since it doesn't care how many columns are in your data frame. If you are in fact working with a matrix, then convert it to a data frame.

As for continuing to help you... you need to provide a minimal reproducible example with a small sample data set if what I showed you isn't helping.

[1] http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example

[2] http://adv-r.had.co.nz/Reproducibility.html

On January 4, 2022 10:44:39 PM PST, Faheem Jan <faheemjan93 at yahoo.com> wrote:
>I understand what you have done, it can easily apply in the case of vector information mean each day having a single observation. But in my case I have 24 observations each day, I want to convert the matrix into two submatrices for weekdays and the other for weekends. So please suggest to me anyway that how I do this?
>
>    On Wednesday, January 5, 2022, 11:10:34 AM GMT+5, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:  
> 
> A lot of new R users fail to grasp what makes data frames more useful than matrices, or use data frames without even realizing they are not using matrices.
>
>This is important because there are more tools for manipulating data frames than matrices. One tool is the split function... if you have a vector of values identifying how each row should be identified you can give that to the split function with your data frame and it will return a list of data frames (2 in this case).
>
>v <- rep( 0:6, length=1826 )
>wkv <- ifelse( v < 5, "Weekday", "Weekend" )
>ans <- split( DF, wkv )
>ans$Weekday
>ans$Weekend
>
>Note that this is a fragile technique for generating wkv though... usually there will be a column of dates that can be used to generate wkv more consistently if your data changes.
>
>Please read the Posting Guide... using formatted email can cause readers to not see what you sent. Use plain text email format... it is a setting in your email client.
>
>On January 4, 2022 7:52:34 PM PST, Faheem Jan via R-help <r-help at r-project.org> wrote:
>>I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?
>>
>>
>>??? [[alternative HTML version deleted]]
>>
>>______________________________________________
>>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>and provide commented, minimal, self-contained, reproducible code.
>

-- 
Sent from my phone. Please excuse my brevity.


From petr@p|k@| @end|ng |rom prechez@@cz  Wed Jan  5 09:44:37 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Wed, 5 Jan 2022 08:44:37 +0000
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <CB9C8114-7C46-4FBC-AB5C-B8FE4C516185@dcn.davis.ca.us>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
 <7CFA85D1-801C-4A27-ACC2-89403EDA91C5@dcn.davis.ca.us>
 <142684577.1776749.1641365079399@mail.yahoo.com>
 <CB9C8114-7C46-4FBC-AB5C-B8FE4C516185@dcn.davis.ca.us>
Message-ID: <1280543af3364fe5b43d2d5256fefc89@SRVEXCHCM1301.precheza.cz>

Hi

As Jeff said for data frames you can use split.
If you insist to work with matrices, the principle is similar but you cannot 
use split.

mat <- matrix(1:20, 5,4)
mat
     [,1] [,2] [,3] [,4]
[1,]    1    6   11   16
[2,]    2    7   12   17
[3,]    3    8   13   18
[4,]    4    9   14   19
[5,]    5   10   15   20

# factor for splitting
fac <- factor(c(1,2,1,2,1))
> fac
[1] 1 2 1 2 1
Levels: 1 2

#splitting matrix according to the factor levels
> mat[which(fac==1), ]
     [,1] [,2] [,3] [,4]
[1,]    1    6   11   16
[2,]    3    8   13   18
[3,]    5   10   15   20
> mat[which(fac==2), ]
     [,1] [,2] [,3] [,4]
[1,]    2    7   12   17
[2,]    4    9   14   19

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Jeff Newmiller
> Sent: Wednesday, January 5, 2022 8:57 AM
> To: Faheem Jan <faheemjan93 at yahoo.com>; R-help <r-help at r-project.org>
> Subject: Re: [R] splitting data matrix into submatrices
>
> Please reply all so the mailing list is included in the discussion. I don't 
> do 1:1
> tutoring and others can chime in if I make a mistake.
>
> I would say you don't understand what my example did, since it doesn't care
> how many columns are in your data frame. If you are in fact working with a
> matrix, then convert it to a data frame.
>
> As for continuing to help you... you need to provide a minimal reproducible
> example with a small sample data set if what I showed you isn't helping.
>
> [1] http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-
> reproducible-example
>
> [2] http://adv-r.had.co.nz/Reproducibility.html
>
> On January 4, 2022 10:44:39 PM PST, Faheem Jan
> <faheemjan93 at yahoo.com> wrote:
> >I understand what you have done, it can easily apply in the case of vector
> information mean each day having a single observation. But in my case I have
> 24 observations each day, I want to convert the matrix into two submatrices
> for weekdays and the other for weekends. So please suggest to me anyway
> that how I do this?
> >
> >    On Wednesday, January 5, 2022, 11:10:34 AM GMT+5, Jeff Newmiller
> <jdnewmil at dcn.davis.ca.us> wrote:
> >
> > A lot of new R users fail to grasp what makes data frames more useful than
> matrices, or use data frames without even realizing they are not using
> matrices.
> >
> >This is important because there are more tools for manipulating data frames
> than matrices. One tool is the split function... if you have a vector of 
> values
> identifying how each row should be identified you can give that to the split
> function with your data frame and it will return a list of data frames (2 in 
> this
> case).
> >
> >v <- rep( 0:6, length=1826 )
> >wkv <- ifelse( v < 5, "Weekday", "Weekend" ) ans <- split( DF, wkv )
> >ans$Weekday ans$Weekend
> >
> >Note that this is a fragile technique for generating wkv though... usually
> there will be a column of dates that can be used to generate wkv more
> consistently if your data changes.
> >
> >Please read the Posting Guide... using formatted email can cause readers to
> not see what you sent. Use plain text email format... it is a setting in 
> your
> email client.
> >
> >On January 4, 2022 7:52:34 PM PST, Faheem Jan via R-help <r-help at r-
> project.org> wrote:
> >>I have data in a matrix form of order 1826*24 where 1826 represents the
> days and 24 hourly observations on each data. My objective is to split the
> matrix into working (Monday to Friday) and non-working (Saturday and
> Sunday) submatrices. Can anyone help me that how I will do that splitting
> using R?
> >>
> >>
> >>    [[alternative HTML version deleted]]
> >>
> >>______________________________________________
> >>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >>https://stat.ethz.ch/mailman/listinfo/r-help
> >>PLEASE do read the posting guide
> >>http://www.R-project.org/posting-guide.html
> >>and provide commented, minimal, self-contained, reproducible code.
> >
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-
> guide.html
> and provide commented, minimal, self-contained, reproducible code.

From dj@ndr|j@ @end|ng |rom gm@||@com  Tue Jan  4 14:55:42 2022
From: dj@ndr|j@ @end|ng |rom gm@||@com (Andrija Djurovic)
Date: Tue, 4 Jan 2022 14:55:42 +0100
Subject: [R] [R-pkgs] PDtoolkit: Collection of Tools for PD Rating Model
 Development
Message-ID: <CABcwgRRDj=V=CUp5gg=vHawRzGLXKy_uLFQMWxcyM0TsHZzhPg@mail.gmail.com>

Dear R users,

I am happy to announce that my new package PDtoolkit is now available on
CRAN.

The goal of this package is to cover the most common steps in probability
of default (PD) rating model development and validation. The main
procedures available are those that refer to univariate, bivariate,
multivariate analysis, calibration and validation. Along with accompanied
monobin and monobinShiny packages, PDtoolkit provides functions which are
suitable for different data transformation and modeling tasks such as:
imputations, monotonic binning of numeric risk factors, binning of
categorical risk factors, weights of evidence (WoE) and information value
(IV) calculations, WoE coding (replacement of risk factors modalities with
WoE values), risk factor clustering, area under curve (AUC) calculation and
others. Additionally, package provides set of validation functions for
testing homogeneity, heterogeneity, discriminatory and predictive power of
the model.

For details and examples please check out the github page
https://github.com/andrija-djurovic/PDtoolkit  or README file on CRAN page
https://CRAN.R-project.org/package=PDtoolkit

Best regards,
Andrija Djurovic

	[[alternative HTML version deleted]]

_______________________________________________
R-packages mailing list
R-packages at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-packages


From @erv|ce @end|ng |rom @hd@w@on@com  Wed Jan  5 14:08:01 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Wed, 5 Jan 2022 08:08:01 -0500
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <1606908911.1738332.1641354754130@mail.yahoo.com>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
Message-ID: <f5d8004b-0d23-eaa5-efa5-340ccdd45cf7@shdawson.com>

Hi,


Please post the data structure so it is more clear what data is being 
massaged.


Thanks,
*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com <http://www.shdawson.com>


On 1/4/22 10:52 PM, Faheem Jan via R-help wrote:
> I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?
>
>
> 	[[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From @v|gro@@ @end|ng |rom ver|zon@net  Wed Jan  5 18:52:18 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Wed, 5 Jan 2022 17:52:18 +0000 (UTC)
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <974163148.1748840.1641357842656@mail.yahoo.com>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
 <1534514481.1092676.1641356954030@mail.yahoo.com>
 <974163148.1748840.1641357842656@mail.yahoo.com>
Message-ID: <1941149728.1202836.1641405138132@mail.yahoo.com>

Faheem seems to reply to people in private and I replid to him in private but seeing later messages, am giving a synopsis in public.
I too suggesed that using a data.frame is a better way to keep his data and use it for some purposes.
But my understanding is that his matrix is fairly easy to understand and can be indexed given the way it is set up.
Every row of the matrix has info for a single day, with each hour represented by one column. There is no date anywhere in sight or any visible index. But the collection was done starting on a Sunday and continuing without gaps so every seventh following row is a Sunday. So it is trivial to do what he asks using the %% operator to select all numbers between 1 and the number of rows in the matrix that have a remainder of either 0 (Saturdays) or 1 (Sundays) with something like this if the data is in mymat:
rows <- 1826weekends <- (rows %% 7 <= 1)satsun <- mymat[weekends,]
This basically indexes the matrix using a boolean vector. The result can be saved as a matrix of weekend data.
Getting the second matrix is as trivial as flipping the boolean vector.
workweek <- mymat[!weekends,]

-----Original Message-----
From: Faheem Jan <faheemjan93 at yahoo.com>
To: Avi Gross <avigross at verizon.net>
Sent: Tue, Jan 4, 2022 11:44 pm
Subject: Re: [R] splitting data matrix into submatrices

First I will thank you for your interest and time. As my first day is Sunday, in my data matrix 24 are hourly demand of electricity. As electricity demand is different is working and non-working days, so I want a separate analysis for working and nonworking days that's why I want to split the data matrix into submatrices. Can we use for looping which divides the matrix into submatrices? 

    On Wednesday, January 5, 2022, 09:29:44 AM GMT+5, Avi Gross via R-help <r-help at r-project.org> wrote:  
 
 
If you explain better, we can help. But first consider what you are asking and how it is relected in the data.
Is the first component a row number whose meaning is day 1 contains a 1 or perhaps 0 and the next row contains one more? Or is there some kind of date in there?
What day of the week is the first day? Is it a Sunday or a Wednesday or what?
Just for arguments sake, say the first row is a Sunday and all later rows are sequential. Then row 1 is a weekend and row 7 is a weekend and so are rows 7 more (8 and 18) and those 7 more and so on.?
What do you call it when you are looking for the remainder after dividing by 7?
Can you make a list of indices that contain every possible weekend, and another index containing just the non-weekends??
If other things like Holidays do not matter, you can index the matrix many ways by asking for all columns but only the rows that your logical index wants.?
If I have misunderstood the problem, ignore.

-----Original Message-----
From: Faheem Jan via R-help <r-help at r-project.org>
To: R-help Mailing List <r-help at r-project.org>
Sent: Tue, Jan 4, 2022 10:52 pm
Subject: [R] splitting data matrix into submatrices

I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?


??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
  
	[[alternative HTML version deleted]]


From chuckco|em@n @end|ng |rom y@hoo@com  Wed Jan  5 16:47:07 2022
From: chuckco|em@n @end|ng |rom y@hoo@com (Chuck Coleman)
Date: Wed, 5 Jan 2022 15:47:07 +0000 (UTC)
Subject: [R] Error:  if statement: missing value where TRUE/FALSE needed
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
Message-ID: <1233449163.1172379.1641397627054@mail.yahoo.com>

This is a rather complex error, for which I created?https://sourceforge.net/projects/rhelp/files/Metro/?to hold a minimal workspace with all files needed to make everything work.? I'm afraid I can't make a minimal example because the environment may be involved.? I suspect that it is an error with base R itself.? I've verified it in both MacOS and Ubuntu Linux using Rstudio?2021.09.1?Build 372?and R 4.1.2.? I'm trying to run the command

Metro.imf0 <- extractIMF0(Metro.xts,threshold = 1.7,robust=TRUE)$IMF0

This is the last command in MetroTest.R, which also sets up the workspace.? The output is in MetroTest.log.? The error is:

????Error in if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE else if (xseg[w1] <? :?
? ????missing value where TRUE/FALSE needed
????Called from: detectspikes(x, mindex = mindex, threshold = threshold, robust = robust)

extractIMF0() calls extractoutliers() which iteratively calls detectspikes() using while().? I've put in tracking code to show the beginning and end of each iteration of while() and the call to detectspikes().

The command producing the error is:

? ? ? if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE
? ? ? else if (xseg[w1] < lb & m == 2) olrmark[wi] = TRUE

This code used to work before R 4.1.2.? (I forget the exact version.)? The first time I had this error, I inserted a browser() command right before if/else so I could manually check all of the if/else arguments and they were nonmissing.? Then, executing the if/else caused a crash, I believe the first time it was called.? I then made the browser() statement conditional to stop execution if a missing argument were encountered and detectspikes() happily passed it and crashed.? Then, I individually called print() for each variable.? detectspikes() happily ran several times, then crashed in a later call after running for several seconds.? Again, browser() never stopped the program.? It is this version that I have verified on both a Mac and Ubuntu box.

The first step appears to be to run the code using earlier versions of R.? (I don't want to tamper with my installations.)? Afterwards, I have no idea.? Hence, my post.

Thank you for your help,
Chuck


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Jan  5 19:22:37 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 5 Jan 2022 21:22:37 +0300
Subject: [R] Error:  if statement: missing value where TRUE/FALSE needed
In-Reply-To: <1233449163.1172379.1641397627054@mail.yahoo.com>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
Message-ID: <20220105212237.07489025@Tarkus>

On Wed, 5 Jan 2022 15:47:07 +0000 (UTC)
Chuck Coleman via R-help <r-help at r-project.org> wrote:

> I then made the browser() statement conditional to stop execution if
> a missing argument were encountered and detectspikes() happily passed
> it and crashed.

How exactly do you check for a missing argument?

Could options(error = recover) shed some more light on the situation?
This way a crash happens first, then you get to use browser() to take a
look at the environment at the time of the crash.

-- 
Best regards,
Ivan


From w||||@mwdun|@p @end|ng |rom gm@||@com  Wed Jan  5 19:49:57 2022
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Wed, 5 Jan 2022 10:49:57 -0800
Subject: [R] Error: if statement: missing value where TRUE/FALSE needed
In-Reply-To: <1233449163.1172379.1641397627054@mail.yahoo.com>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
Message-ID: <CAHqSRuS-e2y+4J0uqfHbrwN0mKPRTbW+hTkLT+LMTT4iP7s5qQ@mail.gmail.com>

And how does one [easily] download those files from sourceforge?

-Bill

On Wed, Jan 5, 2022 at 10:15 AM Chuck Coleman via R-help <
r-help at r-project.org> wrote:

> This is a rather complex error, for which I created
> https://sourceforge.net/projects/rhelp/files/Metro/ to hold a minimal
> workspace with all files needed to make everything work.  I'm afraid I
> can't make a minimal example because the environment may be involved.  I
> suspect that it is an error with base R itself.  I've verified it in both
> MacOS and Ubuntu Linux using Rstudio 2021.09.1 Build 372 and R 4.1.2.  I'm
> trying to run the command
>
> Metro.imf0 <- extractIMF0(Metro.xts,threshold = 1.7,robust=TRUE)$IMF0
>
> This is the last command in MetroTest.R, which also sets up the
> workspace.  The output is in MetroTest.log.  The error is:
>
>     Error in if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE else if
> (xseg[w1] <  :
>       missing value where TRUE/FALSE needed
>     Called from: detectspikes(x, mindex = mindex, threshold = threshold,
> robust = robust)
>
> extractIMF0() calls extractoutliers() which iteratively calls
> detectspikes() using while().  I've put in tracking code to show the
> beginning and end of each iteration of while() and the call to
> detectspikes().
>
> The command producing the error is:
>
>       if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE
>       else if (xseg[w1] < lb & m == 2) olrmark[wi] = TRUE
>
> This code used to work before R 4.1.2.  (I forget the exact version.)  The
> first time I had this error, I inserted a browser() command right before
> if/else so I could manually check all of the if/else arguments and they
> were nonmissing.  Then, executing the if/else caused a crash, I believe the
> first time it was called.  I then made the browser() statement conditional
> to stop execution if a missing argument were encountered and detectspikes()
> happily passed it and crashed.  Then, I individually called print() for
> each variable.  detectspikes() happily ran several times, then crashed in a
> later call after running for several seconds.  Again, browser() never
> stopped the program.  It is this version that I have verified on both a Mac
> and Ubuntu box.
>
> The first step appears to be to run the code using earlier versions of R.
> (I don't want to tamper with my installations.)  Afterwards, I have no
> idea.  Hence, my post.
>
> Thank you for your help,
> Chuck
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jan  5 19:57:15 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 5 Jan 2022 13:57:15 -0500
Subject: [R] Error: if statement: missing value where TRUE/FALSE needed
In-Reply-To: <1233449163.1172379.1641397627054@mail.yahoo.com>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
Message-ID: <a1b11637-db7f-40f9-2834-d7c0382c73d7@gmail.com>

On 05/01/2022 10:47 a.m., Chuck Coleman via R-help wrote:
> This is a rather complex error, for which I created?https://sourceforge.net/projects/rhelp/files/Metro/?to hold a minimal workspace with all files needed to make everything work.? I'm afraid I can't make a minimal example because the environment may be involved.? I suspect that it is an error with base R itself.? I've verified it in both MacOS and Ubuntu Linux using Rstudio?2021.09.1?Build 372?and R 4.1.2.? I'm trying to run the command
> 
> Metro.imf0 <- extractIMF0(Metro.xts,threshold = 1.7,robust=TRUE)$IMF0
> 
> This is the last command in MetroTest.R, which also sets up the workspace.? The output is in MetroTest.log.? The error is:
> 
>  ????Error in if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE else if (xseg[w1] <? :
>  ? ????missing value where TRUE/FALSE needed
>  ????Called from: detectspikes(x, mindex = mindex, threshold = threshold, robust = robust)
> 
> extractIMF0() calls extractoutliers() which iteratively calls detectspikes() using while().? I've put in tracking code to show the beginning and end of each iteration of while() and the call to detectspikes().
> 
> The command producing the error is:
> 
>  ? ? ? if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE
>  ? ? ? else if (xseg[w1] < lb & m == 2) olrmark[wi] = TRUE
> 
> This code used to work before R 4.1.2.? (I forget the exact version.)? The first time I had this error, I inserted a browser() command right before if/else so I could manually check all of the if/else arguments and they were nonmissing. 

The error message is misleading:  you don't get this message from 
missing values, it comes from using NA in the condition of the if(). 
Missing values would lead to an error message like 'argument "x" is 
missing, with no default'.


  Then, executing the if/else caused a crash,

Usually the word crash is a serious problem where R shuts down.  From 
your description, I think you just have an error.

Errors are much easier to diagnose.  As Ivan said, you can use 
options(recover) to stop when the error is raised, find the right 
evaluation frame, and print all the values involved in the condition.

You can also just use cat() to print everything just before the bad 
statement, e.g.

  cat("xseg[w1]=", xseg[w1], " ub=", ub,  " m=", m, " lb=", lb, "\n")

and then see if the last message printed contains any NA values.

Duncan Murdoch



I believe the first time it was called.? I then made the browser() 
statement conditional to stop execution if a missing argument were 
encountered and detectspikes() happily passed it and crashed.? Then, I 
individually called print() for each variable.? detectspikes() happily 
ran several times, then crashed in a later call after running for 
several seconds.? Again, browser() never stopped the program.? It is 
this version that I have verified on both a Mac and Ubuntu box.
> 
> The first step appears to be to run the code using earlier versions of R.? (I don't want to tamper with my installations.)? Afterwards, I have no idea.? Hence, my post.
> 
> Thank you for your help,
> Chuck
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From kry|ov@r00t @end|ng |rom gm@||@com  Wed Jan  5 20:09:53 2022
From: kry|ov@r00t @end|ng |rom gm@||@com (Ivan Krylov)
Date: Wed, 5 Jan 2022 22:09:53 +0300
Subject: [R] Error:  if statement: missing value where TRUE/FALSE needed
In-Reply-To: <20220105212237.07489025@Tarkus>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
 <20220105212237.07489025@Tarkus>
Message-ID: <20220105220953.13afa63d@Tarkus>

On Wed, 5 Jan 2022 21:22:37 +0300
Ivan Krylov <krylov.r00t at gmail.com> wrote:

> How exactly do you check for a missing argument?

To answer my own question, the check is

>> browser(expr = {
>>  is.na(w1) | is.na(ub) | is.na(m) | is.na(wi) | is.na(lb)
>> })

I think that there are NAs in xseg, which I don't see a check for. In
particular, a few lines above, there's

>> md = median( xseg, na.rm = TRUE);
>> if (robust) sdd = mad(xseg,na.rm = TRUE)
>> else sdd = sd(xseg,na.rm = TRUE)

...which seems to suggest they are expected to happen there.

Not sure which advice to give regarding the choice of file hosting
service. On the one hand, SourceForge lets you upload a whole directory
of files in arbitrary formats, but isn't very convenient do download
more than one file from. On the other hand, "pastebin" services like
http://paste.debian.net/ or http://paste.org.ru/ let us browse the code
right away, without having to look at the "Your download will start
shortly..." screen, but don't host *.RData or more than one file per
link. I guess that some other code hosting service like
SourceHut/GitHub/GitLab/Gitea/... could fulfil both criteria.

-- 
Best regards,
Ivan


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Wed Jan  5 20:45:47 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Wed, 5 Jan 2022 19:45:47 +0000
Subject: [R] Save a graph file use jpeg(file=file)
Message-ID: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>

I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.


x <- 1:10
y <- 2:11
z <- y+rnorm(10)
ForGraph<-data.frame(x=x,y=y,z=z)
ForGraph

gpathj <- file.path("C:","LAL","test.jpeg")
gpathj
jpeg(file = gpathj)
par(mai = c(0.5, 0.5, 0.5, 0.5))
scatter3d(z=ForGraph$x,
          y=ForGraph$y,
          x=ForGraph$z,
          surface=FALSE,grid=TRUE,sphere.size=4
          ,xlab="Categories",ylab="ScoreRange",
          zlab="VTE Rate (%)",axis.ticks=TRUE)
dev.off()


Thank you,
John


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jan  5 20:51:05 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 5 Jan 2022 14:51:05 -0500
Subject: [R] Error: if statement: missing value where TRUE/FALSE needed
In-Reply-To: <20220105220953.13afa63d@Tarkus>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
 <20220105212237.07489025@Tarkus> <20220105220953.13afa63d@Tarkus>
Message-ID: <d92593f1-fc70-9457-2025-894ada66b077@gmail.com>

On 05/01/2022 2:09 p.m., Ivan Krylov wrote:
> On Wed, 5 Jan 2022 21:22:37 +0300
> Ivan Krylov <krylov.r00t at gmail.com> wrote:
> 
>> How exactly do you check for a missing argument?
> 
> To answer my own question, the check is
> 
>>> browser(expr = {
>>>   is.na(w1) | is.na(ub) | is.na(m) | is.na(wi) | is.na(lb)
>>> })
> 
> I think that there are NAs in xseg, which I don't see a check for. In
> particular, a few lines above, there's
> 
>>> md = median( xseg, na.rm = TRUE);
>>> if (robust) sdd = mad(xseg,na.rm = TRUE)
>>> else sdd = sd(xseg,na.rm = TRUE)
> 
> ...which seems to suggest they are expected to happen there.
> 
> Not sure which advice to give regarding the choice of file hosting
> service. On the one hand, SourceForge lets you upload a whole directory
> of files in arbitrary formats, but isn't very convenient do download
> more than one file from. On the other hand, "pastebin" services like
> http://paste.debian.net/ or http://paste.org.ru/ let us browse the code
> right away, without having to look at the "Your download will start
> shortly..." screen, but don't host *.RData or more than one file per
> link. I guess that some other code hosting service like
> SourceHut/GitHub/GitLab/Gitea/... could fulfil both criteria.

I would take one step back, and suggest that if any project has as many 
scripts as this one, it should be put in an R package.  You can 
distribute that by building it into a tar.gz file and putting that 
single file in a place where people can download it.  Github and R-forge 
work well for packages, and I assume other hosting services do too, 
though I haven't used many.

People seem to be unreasonably reluctant to put their code into packages.

Duncan Murdoch


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jan  5 20:58:40 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 5 Jan 2022 14:58:40 -0500
Subject: [R] Save a graph file use jpeg(file=file)
In-Reply-To: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <00b8bfd6-cbf3-2666-d89c-1bd7a4e71d6d@gmail.com>

On 05/01/2022 2:45 p.m., Sorkin, John wrote:
> I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.
> 
> 
> x <- 1:10
> y <- 2:11
> z <- y+rnorm(10)
> ForGraph<-data.frame(x=x,y=y,z=z)
> ForGraph
> 
> gpathj <- file.path("C:","LAL","test.jpeg")
> gpathj
> jpeg(file = gpathj)
> par(mai = c(0.5, 0.5, 0.5, 0.5))
> scatter3d(z=ForGraph$x,
>            y=ForGraph$y,
>            x=ForGraph$z,
>            surface=FALSE,grid=TRUE,sphere.size=4
>            ,xlab="Categories",ylab="ScoreRange",
>            zlab="VTE Rate (%)",axis.ticks=TRUE)
> dev.off()
> 
> 

You didn't say what package you found scatter3d in, but you did say it 
opens an rgl window.  rgl doesn't use R graphics devices, so jpeg() and 
the like don't work.

To save an rgl image, you use the rgl::snapshot3d() function.  It only 
has support for saving to PNG format.

If you are writing your manuscript in R Markdown or knitr Rnw, there are 
ways to have the file included automatically.  There have been methods 
to use with Sweave as well, but those aren't being maintained:  people 
should use knitr instead.

Duncan Murdoch


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Wed Jan  5 21:42:25 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Wed, 5 Jan 2022 20:42:25 +0000
Subject: [R] Save a graph file use jpeg(file=file)
In-Reply-To: <BN6PR2201MB1553F7991B382B0F5AE308FECF4B9@BN6PR2201MB1553.namprd22.prod.outlook.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BN6PR2201MB1553F7991B382B0F5AE308FECF4B9@BN6PR2201MB1553.namprd22.prod.outlook.com>
Message-ID: <CA1A1A19-88C1-409C-8874-5808AE673FF1@som.umaryland.edu>

Tim
Thank you for your suggestion. The problem with your suggestion is that the copied image is low resolution, 96dpi. Saved files can have higher resolution.
Thank you
John

John David Sorkin M.D., Ph.D.
Professor of Medicine
Chief, Biostatistics and Informatics
University of Maryland School of Medicine Division of Gerontology and Geriatric Medicine
Baltimore VA Medical Center
10 North Greene Street<x-apple-data-detectors://12>
GRECC<x-apple-data-detectors://12> (BT/18/GR)
Baltimore, MD 21201-1524<x-apple-data-detectors://13/0>
(Phone) 410-605-711<tel:410-605-7119>9
(Fax) 410-605-7913<tel:410-605-7913> (Please call phone number above prior to faxing)

On Jan 5, 2022, at 2:59 PM, Ebert,Timothy Aaron <tebert at ufl.edu> wrote:

?The simple solution for Windows is to use (windows icon) + shift + s. You then select a portion of your screen and it gets copied to your clipboard. You can then paste that into your document. Of course this will not work if it is important that the reader is able to rotate the graphic.
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Wednesday, January 5, 2022 2:46 PM
To: r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Subject: [R] Save a graph file use jpeg(file=file)

[External Email]

I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.


x <- 1:10
y <- 2:11
z <- y+rnorm(10)
ForGraph<-data.frame(x=x,y=y,z=z)
ForGraph

gpathj <- file.path("C:","LAL","test.jpeg") gpathj jpeg(file = gpathj) par(mai = c(0.5, 0.5, 0.5, 0.5)) scatter3d(z=ForGraph$x,
         y=ForGraph$y,
         x=ForGraph$z,
         surface=FALSE,grid=TRUE,sphere.size=4
         ,xlab="Categories",ylab="ScoreRange",
         zlab="VTE Rate (%)",axis.ticks=TRUE)
dev.off()


Thank you,
John


       [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Furldefense.proofpoint.com%2Fv2%2Furl%3Fu%3Dhttps-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp%26d%3DDwICAg%26c%3DsJ6xIWYx-zLMB3EPkvcnVg%26r%3D9PEhQh2kVeAsRzsn7AkP-g%26m%3D9AMmnr8IGTA1cG1beZmaYb3IDwiObdbc6OI3PkjbwbniR_W4i9hcMzYbyzYTE-gS%26s%3D2IkUWGiufhME4qqOuIRPGShSOMTsStDDwSkLoTt4zdM%26e%3D&amp;data=04%7C01%7Cjsorkin%40som.umaryland.edu%7C9e6f54c1880f46b971f608d9d085e667%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637770095783063118%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=g0489Q9jetIGpbYyjL%2FY2LTKxKud5r4EnFoDlP6uO5c%3D&amp;reserved=0
PLEASE do read the posting guide https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Furldefense.proofpoint.com%2Fv2%2Furl%3Fu%3Dhttp-3A__www.R-2Dproject.org_posting-2Dguide.html%26d%3DDwICAg%26c%3DsJ6xIWYx-zLMB3EPkvcnVg%26r%3D9PEhQh2kVeAsRzsn7AkP-g%26m%3D9AMmnr8IGTA1cG1beZmaYb3IDwiObdbc6OI3PkjbwbniR_W4i9hcMzYbyzYTE-gS%26s%3DNHEqSQ0hFwKq_5lC0CqVYr53rYXLTpdWVNXZMCEMLLI%26e%3D&amp;data=04%7C01%7Cjsorkin%40som.umaryland.edu%7C9e6f54c1880f46b971f608d9d085e667%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637770095783063118%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=8vRn%2FuQJVjFydNfiXOQKIyYBDM3EXXBdBRCccHQnvWY%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From |r|end|y @end|ng |rom yorku@c@  Wed Jan  5 21:50:28 2022
From: |r|end|y @end|ng |rom yorku@c@ (Michael L Friendly)
Date: Wed, 5 Jan 2022 20:50:28 +0000
Subject: [R] how to run r biotools boxM terst on multiple groups?
Message-ID: <YT1PR01MB3146E26E9962414370BC7D46AB4B9@YT1PR01MB3146.CANPRD01.PROD.OUTLOOK.COM>

Try
heplots::boxM

This also has a nice plot method to visualize the contributions to box's M test.

See my paper:
https://www.datavis.ca/papers/EqCov-TAS.pdf



> -----Original Message-----

> From: R-help <r-help-bounces at r-project.org<mailto:r-help-bounces at r-project.org>> On Behalf Of Luigi

> Marongiu

> Sent: Tuesday, January 4, 2022 11:56 AM

> To: r-help <r-help at r-project.org<mailto:r-help at r-project.org>>

> Subject: [R] how to run r biotools boxM terst on multiple groups?

>

> I have a data frame containing a half dozen continuous measurements

> and over a dozen ordinal variables (such as, death, fever, symptoms etc).

> I would like to run a box matrix test and I am using biotools' boxM,

> but

it


Michael Friendly     Email: friendly AT yorku DOT ca
Professor, Psychology Dept. & Former Chair, ASA Statistical Graphics Section
York University      Voice: 416 736-2100 x66249
4700 Keele Street    Web: http://www.datavis.ca | @datavisFriendly
Toronto, ONT  M3J 1P3 CANADA


	[[alternative HTML version deleted]]


From tebert @end|ng |rom u||@edu  Wed Jan  5 20:57:07 2022
From: tebert @end|ng |rom u||@edu (Ebert,Timothy Aaron)
Date: Wed, 5 Jan 2022 19:57:07 +0000
Subject: [R] Save a graph file use jpeg(file=file)
In-Reply-To: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <BN6PR2201MB1553F7991B382B0F5AE308FECF4B9@BN6PR2201MB1553.namprd22.prod.outlook.com>

The simple solution for Windows is to use (windows icon) + shift + s. You then select a portion of your screen and it gets copied to your clipboard. You can then paste that into your document. Of course this will not work if it is important that the reader is able to rotate the graphic. 
Tim

-----Original Message-----
From: R-help <r-help-bounces at r-project.org> On Behalf Of Sorkin, John
Sent: Wednesday, January 5, 2022 2:46 PM
To: r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Subject: [R] Save a graph file use jpeg(file=file)

[External Email]

I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.


x <- 1:10
y <- 2:11
z <- y+rnorm(10)
ForGraph<-data.frame(x=x,y=y,z=z)
ForGraph

gpathj <- file.path("C:","LAL","test.jpeg") gpathj jpeg(file = gpathj) par(mai = c(0.5, 0.5, 0.5, 0.5)) scatter3d(z=ForGraph$x,
          y=ForGraph$y,
          x=ForGraph$z,
          surface=FALSE,grid=TRUE,sphere.size=4
          ,xlab="Categories",ylab="ScoreRange",
          zlab="VTE Rate (%)",axis.ticks=TRUE)
dev.off()


Thank you,
John


        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dhelp&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=9AMmnr8IGTA1cG1beZmaYb3IDwiObdbc6OI3PkjbwbniR_W4i9hcMzYbyzYTE-gS&s=2IkUWGiufhME4qqOuIRPGShSOMTsStDDwSkLoTt4zdM&e=
PLEASE do read the posting guide https://urldefense.proofpoint.com/v2/url?u=http-3A__www.R-2Dproject.org_posting-2Dguide.html&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=9PEhQh2kVeAsRzsn7AkP-g&m=9AMmnr8IGTA1cG1beZmaYb3IDwiObdbc6OI3PkjbwbniR_W4i9hcMzYbyzYTE-gS&s=NHEqSQ0hFwKq_5lC0CqVYr53rYXLTpdWVNXZMCEMLLI&e=
and provide commented, minimal, self-contained, reproducible code.


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu Jan  6 02:23:34 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 6 Jan 2022 01:23:34 +0000
Subject: [R] Save a graph file use jpeg(file=file)
In-Reply-To: <00b8bfd6-cbf3-2666-d89c-1bd7a4e71d6d@gmail.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <00b8bfd6-cbf3-2666-d89c-1bd7a4e71d6d@gmail.com>
Message-ID: <MN2PR03MB516782F618D42A2BEFD98862E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>

Ducan,

As always, you are very giving of your time to help R users. Thank you!

scatter3d is from the car package.

As I understand snapshot3d, it takes a screen shot and saves the resultant file. This implies that the resultant file will be 72 DPI. I need to get a higher resolution image, at least 300 DPI. Do you have any suggestions?

Thanks as always.

John

________________________________________
From: Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Wednesday, January 5, 2022 2:58 PM
To: Sorkin, John; r-help at r-project.org (r-help at r-project.org)
Subject: Re: [R] Save a graph file use jpeg(file=file)

On 05/01/2022 2:45 p.m., Sorkin, John wrote:
> I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.
>
>
> x <- 1:10
> y <- 2:11
> z <- y+rnorm(10)
> ForGraph<-data.frame(x=x,y=y,z=z)
> ForGraph
>
> gpathj <- file.path("C:","LAL","test.jpeg")
> gpathj
> jpeg(file = gpathj)
> par(mai = c(0.5, 0.5, 0.5, 0.5))
> scatter3d(z=ForGraph$x,
>            y=ForGraph$y,
>            x=ForGraph$z,
>            surface=FALSE,grid=TRUE,sphere.size=4
>            ,xlab="Categories",ylab="ScoreRange",
>            zlab="VTE Rate (%)",axis.ticks=TRUE)
> dev.off()
>
>

You didn't say what package you found scatter3d in, but you did say it
opens an rgl window.  rgl doesn't use R graphics devices, so jpeg() and
the like don't work.

To save an rgl image, you use the rgl::snapshot3d() function.  It only
has support for saving to PNG format.

If you are writing your manuscript in R Markdown or knitr Rnw, there are
ways to have the file included automatically.  There have been methods
to use with Sweave as well, but those aren't being maintained:  people
should use knitr instead.

Duncan Murdoch

	[[alternative HTML version deleted]]


From rmh @end|ng |rom temp|e@edu  Thu Jan  6 02:31:15 2022
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Thu, 6 Jan 2022 01:31:15 +0000
Subject: [R] [External] Re:  Save a graph file use jpeg(file=file)
In-Reply-To: <MN2PR03MB516782F618D42A2BEFD98862E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <00b8bfd6-cbf3-2666-d89c-1bd7a4e71d6d@gmail.com>
 <MN2PR03MB516782F618D42A2BEFD98862E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <BL1PR11MB5239EBFAD1940C9B7FF835EED24C9@BL1PR11MB5239.namprd11.prod.outlook.com>

you can make the rgl window full screen, and then stretch the graph to fill the window, and then use snapshot 3d
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
Sent: Wednesday, January 5, 2022 8:23:34 PM
To: Duncan Murdoch <murdoch.duncan at gmail.com>; r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Subject: [External] Re: [R] Save a graph file use jpeg(file=file)

Ducan,

As always, you are very giving of your time to help R users. Thank you!

scatter3d is from the car package.

As I understand snapshot3d, it takes a screen shot and saves the resultant file. This implies that the resultant file will be 72 DPI. I need to get a higher resolution image, at least 300 DPI. Do you have any suggestions?

Thanks as always.

John

________________________________________
From: Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Wednesday, January 5, 2022 2:58 PM
To: Sorkin, John; r-help at r-project.org (r-help at r-project.org)
Subject: Re: [R] Save a graph file use jpeg(file=file)

On 05/01/2022 2:45 p.m., Sorkin, John wrote:
> I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.
>
>
> x <- 1:10
> y <- 2:11
> z <- y+rnorm(10)
> ForGraph<-data.frame(x=x,y=y,z=z)
> ForGraph
>
> gpathj <- file.path("C:","LAL","test.jpeg")
> gpathj
> jpeg(file = gpathj)
> par(mai = c(0.5, 0.5, 0.5, 0.5))
> scatter3d(z=ForGraph$x,
>            y=ForGraph$y,
>            x=ForGraph$z,
>            surface=FALSE,grid=TRUE,sphere.size=4
>            ,xlab="Categories",ylab="ScoreRange",
>            zlab="VTE Rate (%)",axis.ticks=TRUE)
> dev.off()
>
>

You didn't say what package you found scatter3d in, but you did say it
opens an rgl window.  rgl doesn't use R graphics devices, so jpeg() and
the like don't work.

To save an rgl image, you use the rgl::snapshot3d() function.  It only
has support for saving to PNG format.

If you are writing your manuscript in R Markdown or knitr Rnw, there are
ways to have the file included automatically.  There have been methods
to use with Sweave as well, but those aren't being maintained:  people
should use knitr instead.

Duncan Murdoch

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=04%7C01%7Crmh%40temple.edu%7C7efac70023f74f426dda08d9d0b337b8%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637770290874513198%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=QjooPjMvPZ%2BTnPh%2B9SOISOyeGVRYFMmU2NSfkel7rug%3D&amp;reserved=0
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=04%7C01%7Crmh%40temple.edu%7C7efac70023f74f426dda08d9d0b337b8%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637770290874513198%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=TCjwf2%2FaEiUl6d%2BUx37bRRQOsXjUx80DhvwKbeCnkHg%3D&amp;reserved=0
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From j@ork|n @end|ng |rom @om@um@ry|@nd@edu  Thu Jan  6 02:32:02 2022
From: j@ork|n @end|ng |rom @om@um@ry|@nd@edu (Sorkin, John)
Date: Thu, 6 Jan 2022 01:32:02 +0000
Subject: [R] [External] Re:  Save a graph file use jpeg(file=file)
In-Reply-To: <BL1PR11MB5239EBFAD1940C9B7FF835EED24C9@BL1PR11MB5239.namprd11.prod.outlook.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <00b8bfd6-cbf3-2666-d89c-1bd7a4e71d6d@gmail.com>
 <MN2PR03MB516782F618D42A2BEFD98862E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239EBFAD1940C9B7FF835EED24C9@BL1PR11MB5239.namprd11.prod.outlook.com>
Message-ID: <MN2PR03MB51677F81F62D8CFC635920A1E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>

I'll try that.

Get Outlook for iOS<https://aka.ms/o0ukef>
________________________________
From: Richard M. Heiberger <rmh at temple.edu>
Sent: Wednesday, January 5, 2022 8:31:15 PM
To: Sorkin, John <jsorkin at som.umaryland.edu>; Duncan Murdoch <murdoch.duncan at gmail.com>; r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Subject: Re: [External] Re: [R] Save a graph file use jpeg(file=file)

you can make the rgl window full screen, and then stretch the graph to fill the window, and then use snapshot 3d
________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John <jsorkin at som.umaryland.edu>
Sent: Wednesday, January 5, 2022 8:23:34 PM
To: Duncan Murdoch <murdoch.duncan at gmail.com>; r-help at r-project.org (r-help at r-project.org) <r-help at r-project.org>
Subject: [External] Re: [R] Save a graph file use jpeg(file=file)

Ducan,

As always, you are very giving of your time to help R users. Thank you!

scatter3d is from the car package.

As I understand snapshot3d, it takes a screen shot and saves the resultant file. This implies that the resultant file will be 72 DPI. I need to get a higher resolution image, at least 300 DPI. Do you have any suggestions?

Thanks as always.

John

________________________________________
From: Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Wednesday, January 5, 2022 2:58 PM
To: Sorkin, John; r-help at r-project.org (r-help at r-project.org)
Subject: Re: [R] Save a graph file use jpeg(file=file)

On 05/01/2022 2:45 p.m., Sorkin, John wrote:
> I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after dev.odd() runs. Unfortunately, when I open the saved file, all I see is a white window. Can someone tell me how to have the file so I can subsequently read and place the file in a paper? The problem occurs regardless of the format in which I try to save the file, e.g. png, tiff.
>
>
> x <- 1:10
> y <- 2:11
> z <- y+rnorm(10)
> ForGraph<-data.frame(x=x,y=y,z=z)
> ForGraph
>
> gpathj <- file.path("C:","LAL","test.jpeg")
> gpathj
> jpeg(file = gpathj)
> par(mai = c(0.5, 0.5, 0.5, 0.5))
> scatter3d(z=ForGraph$x,
>            y=ForGraph$y,
>            x=ForGraph$z,
>            surface=FALSE,grid=TRUE,sphere.size=4
>            ,xlab="Categories",ylab="ScoreRange",
>            zlab="VTE Rate (%)",axis.ticks=TRUE)
> dev.off()
>
>

You didn't say what package you found scatter3d in, but you did say it
opens an rgl window.  rgl doesn't use R graphics devices, so jpeg() and
the like don't work.

To save an rgl image, you use the rgl::snapshot3d() function.  It only
has support for saving to PNG format.

If you are writing your manuscript in R Markdown or knitr Rnw, there are
ways to have the file included automatically.  There have been methods
to use with Sweave as well, but those aren't being maintained:  people
should use knitr instead.

Duncan Murdoch

        [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=04%7C01%7Crmh%40temple.edu%7C7efac70023f74f426dda08d9d0b337b8%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637770290874513198%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=QjooPjMvPZ%2BTnPh%2B9SOISOyeGVRYFMmU2NSfkel7rug%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=04%7C01%7Cjsorkin%40som.umaryland.edu%7C1de6e94adaff4ee3df8908d9d0b43bd2%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637770294833471347%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=ZzC0nzJzm5XlBE1eb0oMmwcy31%2FjDQSySkspobqGXto%3D&reserved=0>
PLEASE do read the posting guide https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=04%7C01%7Crmh%40temple.edu%7C7efac70023f74f426dda08d9d0b337b8%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637770290874513198%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=TCjwf2%2FaEiUl6d%2BUx37bRRQOsXjUx80DhvwKbeCnkHg%3D&amp;reserved=0<https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=04%7C01%7Cjsorkin%40som.umaryland.edu%7C1de6e94adaff4ee3df8908d9d0b43bd2%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637770294833471347%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=dqIeUcRjrWKCuRlmR%2FYwmTn2OIgNYLQHnnU%2FBSwK82Q%3D&reserved=0>
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From cec|||@reyn@ @end|ng |rom gm@||@com  Thu Jan  6 11:02:27 2022
From: cec|||@reyn@ @end|ng |rom gm@||@com (Cecilia Reyna)
Date: Thu, 6 Jan 2022 07:02:27 -0300
Subject: [R] Information function in CRM model
Message-ID: <CAHbBvVi+hb4HHkMXekBQEYgUM9XvdRbGgc_QPJfkvaKPZX6AxQ@mail.gmail.com>

Dear,

I am trying to model the information function of items (and full) based on
the continuous response model.

I am using the EstCRM (1.4) package, but it doesn't compute the information
function.

Another person noticed me of Wang & Zeng's paper (Item parameter estimation
for a continuous response model using an EM algorithm, 1998, Applied
Psychological Measurement). But I am not sure how to calculate it in R.

Please, If someone has calculated that function could you share the script?

Thanks in advance,
Cecilia

-- 
Cecilia Reyna
Instituto de Investigaciones Psicol?gicas (IIPsi) - CONICET - UNC
Facultad de Psicolog?a - Universidad Nacional de C?rdoba
(5000) C?rdoba - ARGENTINA
Tel. 54-351-5353890 int. 60201

RACC: http://www.revistas.unc.edu.ar/index.php/racc

	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jan  6 11:10:03 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 6 Jan 2022 05:10:03 -0500
Subject: [R] [External] Re:  Save a graph file use jpeg(file=file)
In-Reply-To: <MN2PR03MB51677F81F62D8CFC635920A1E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>
References: <MN2PR03MB5167F17C6538C90BB30C0646E24B9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <00b8bfd6-cbf3-2666-d89c-1bd7a4e71d6d@gmail.com>
 <MN2PR03MB516782F618D42A2BEFD98862E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>
 <BL1PR11MB5239EBFAD1940C9B7FF835EED24C9@BL1PR11MB5239.namprd11.prod.outlook.com>
 <MN2PR03MB51677F81F62D8CFC635920A1E24C9@MN2PR03MB5167.namprd03.prod.outlook.com>
Message-ID: <d1a2dc52-6657-a1f0-a480-328a7be48d30@gmail.com>

What Rich said will work.  Here are some details to think about:

There are two ways that snapshot3d works.  The original way takes a 
snapshot from your screen.  That will produce an image the same as what 
you see, at the same resolution.  You get this mode if you set "webshot 
= FALSE", or if you don't have the webshot2 package installed.

The newer way uses the webshot2 package.  Unfortunately that package is 
not on CRAN, so you'd need to install it using 
remotes::install_github("rstudio/webshot2") .  It requires that you have 
the Chrome browser installed (or supposedly some other browser providing 
the same libraries; I don't know what else will work).

The webshot2 package doesn't need to display on your screen, so in 
theory you can produce larger snapshots.  It can also do a better 
version of rendering:  the rgl window uses OpenGL 1.x methods, while 
webshot2 uses WebGL, which is based on a newer OpenGL version.  I find 
the font support to be better, and there are some improvements to 
shading of surfaces.  On the negative side, it can be much slower, 
especially on a complex scene, and occasionally has different bugs than 
the other display.

Finally, you don't need to use your mouse to change the window size; you 
can specify width and height in the snapshot3d() call, and the window 
will change as requested.

Duncan Murdoch


On 05/01/2022 8:32 p.m., Sorkin, John wrote:
> I'll try that.
> 
> Get Outlook for iOS <https://aka.ms/o0ukef>
> ------------------------------------------------------------------------
> *From:* Richard M. Heiberger <rmh at temple.edu>
> *Sent:* Wednesday, January 5, 2022 8:31:15 PM
> *To:* Sorkin, John <jsorkin at som.umaryland.edu>; Duncan Murdoch 
> <murdoch.duncan at gmail.com>; r-help at r-project.org (r-help at r-project.org) 
> <r-help at r-project.org>
> *Subject:* Re: [External] Re: [R] Save a graph file use jpeg(file=file)
> you can make the rgl window full screen, and then stretch the graph to 
> fill the window, and then use snapshot 3d
> ------------------------------------------------------------------------
> *From:* R-help <r-help-bounces at r-project.org> on behalf of Sorkin, John 
> <jsorkin at som.umaryland.edu>
> *Sent:* Wednesday, January 5, 2022 8:23:34 PM
> *To:* Duncan Murdoch <murdoch.duncan at gmail.com>; r-help at r-project.org 
> (r-help at r-project.org) <r-help at r-project.org>
> *Subject:* [External] Re: [R] Save a graph file use jpeg(file=file)
> Ducan,
> 
> As always, you are very giving of your time to help R users. Thank you!
> 
> scatter3d is from the car package.
> 
> As I understand snapshot3d, it takes a screen shot and saves the 
> resultant file. This implies that the resultant file will be 72 DPI. I 
> need to get a higher resolution image, at least 300 DPI. Do you have any 
> suggestions?
> 
> Thanks as always.
> 
> John
> 
> ________________________________________
> From: Duncan Murdoch <murdoch.duncan at gmail.com>
> Sent: Wednesday, January 5, 2022 2:58 PM
> To: Sorkin, John; r-help at r-project.org (r-help at r-project.org)
> Subject: Re: [R] Save a graph file use jpeg(file=file)
> 
> On 05/01/2022 2:45 p.m., Sorkin, John wrote:
>> I am trying to create a 3-D graph (using scatter3d) and save the graph to a file so I can insert the graph into a manuscript. I am able to create the graph. When I run the code below an RGL window opens that has the graph. The file is saved to disk after  dev.odd() runs. Unfortunately, when I open the saved file, all I see 
> is a white window. Can someone tell me how to have the file so I can 
> subsequently read and place the file in a paper? The problem occurs 
> regardless of the format in which I try to save the file, e.g. png, tiff.
>>
>>
>> x <- 1:10
>> y <- 2:11
>> z <- y+rnorm(10)
>> ForGraph<-data.frame(x=x,y=y,z=z)
>> ForGraph
>>
>> gpathj <- file.path("C:","LAL","test.jpeg")
>> gpathj
>> jpeg(file = gpathj)
>> par(mai = c(0.5, 0.5, 0.5, 0.5))
>> scatter3d(z=ForGraph$x,
>>??????????? y=ForGraph$y,
>>??????????? x=ForGraph$z,
>>??????????? surface=FALSE,grid=TRUE,sphere.size=4
>>??????????? ,xlab="Categories",ylab="ScoreRange",
>>??????????? zlab="VTE Rate (%)",axis.ticks=TRUE)
>> dev.off()
>>
>>
> 
> You didn't say what package you found scatter3d in, but you did say it
> opens an rgl window.? rgl doesn't use R graphics devices, so jpeg() and
> the like don't work.
> 
> To save an rgl image, you use the rgl::snapshot3d() function.? It only
> has support for saving to PNG format.
> 
> If you are writing your manuscript in R Markdown or knitr Rnw, there are
> ways to have the file included automatically.? There have been methods
> to use with Sweave as well, but those aren't being maintained:? people
> should use knitr instead.
> 
> Duncan Murdoch
> 
>  ??????? [[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://nam10.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=04%7C01%7Crmh%40temple.edu%7C7efac70023f74f426dda08d9d0b337b8%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637770290874513198%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=QjooPjMvPZ%2BTnPh%2B9SOISOyeGVRYFMmU2NSfkel7rug%3D&amp;reserved=0 
> <https://nam11.safelinks.protection.outlook.com/?url=https%3A%2F%2Fstat.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&data=04%7C01%7Cjsorkin%40som.umaryland.edu%7C1de6e94adaff4ee3df8908d9d0b43bd2%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637770294833471347%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=ZzC0nzJzm5XlBE1eb0oMmwcy31%2FjDQSySkspobqGXto%3D&reserved=0>
> PLEASE do read the posting guide 
> https://nam10.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&amp;data=04%7C01%7Crmh%40temple.edu%7C7efac70023f74f426dda08d9d0b337b8%7C716e81efb52244738e3110bd02ccf6e5%7C0%7C0%7C637770290874513198%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=TCjwf2%2FaEiUl6d%2BUx37bRRQOsXjUx80DhvwKbeCnkHg%3D&amp;reserved=0 
> <https://nam11.safelinks.protection.outlook.com/?url=http%3A%2F%2Fwww.r-project.org%2Fposting-guide.html&data=04%7C01%7Cjsorkin%40som.umaryland.edu%7C1de6e94adaff4ee3df8908d9d0b43bd2%7C717009a620de461a88940312a395cac9%7C0%7C0%7C637770294833471347%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&sdata=dqIeUcRjrWKCuRlmR%2FYwmTn2OIgNYLQHnnU%2FBSwK82Q%3D&reserved=0>
> and provide commented, minimal, self-contained, reproducible code.


From cec|||@reyn@ @end|ng |rom gm@||@com  Thu Jan  6 12:10:54 2022
From: cec|||@reyn@ @end|ng |rom gm@||@com (Cecilia Reyna)
Date: Thu, 6 Jan 2022 08:10:54 -0300
Subject: [R] Information function in CRM model
In-Reply-To: <CAHbBvVi+hb4HHkMXekBQEYgUM9XvdRbGgc_QPJfkvaKPZX6AxQ@mail.gmail.com>
References: <CAHbBvVi+hb4HHkMXekBQEYgUM9XvdRbGgc_QPJfkvaKPZX6AxQ@mail.gmail.com>
Message-ID: <CAHbBvVj8DcydGn=SLTdNw1-TLrTdOSUsNRi5MvB9qQayAPPcyA@mail.gmail.com>

Please, forget and delete the previous post!

Thanks!



On Thu, Jan 6, 2022 at 7:02 AM Cecilia Reyna <ceciliareyna at gmail.com> wrote:

> Dear,
>
> I am trying to model the information function of items (and full) based on
> the continuous response model.
>
> I am using the EstCRM (1.4) package, but it doesn't compute the
> information function.
>
> Another person noticed me of Wang & Zeng's paper (Item parameter
> estimation for a continuous response model using an EM algorithm, 1998,
> Applied Psychological Measurement). But I am not sure how to calculate it
> in R.
>
> Please, If someone has calculated that function could you share the script?
>
> Thanks in advance,
> Cecilia
>
> --
> Cecilia Reyna
> Instituto de Investigaciones Psicol?gicas (IIPsi) - CONICET - UNC
> Facultad de Psicolog?a - Universidad Nacional de C?rdoba
> (5000) C?rdoba - ARGENTINA
> Tel. 54-351-5353890 int. 60201
>
> RACC: http://www.revistas.unc.edu.ar/index.php/racc
>


-- 
Cecilia Reyna
Instituto de Investigaciones Psicol?gicas (IIPsi) - CONICET - UNC
Facultad de Psicolog?a - Universidad Nacional de C?rdoba
(5000) C?rdoba - ARGENTINA
Tel. 54-351-5353890 int. 60201

RACC: http://www.revistas.unc.edu.ar/index.php/racc

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Thu Jan  6 16:01:48 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jan 2022 07:01:48 -0800
Subject: [R] Information function in CRM model
In-Reply-To: <CAHbBvVi+hb4HHkMXekBQEYgUM9XvdRbGgc_QPJfkvaKPZX6AxQ@mail.gmail.com>
References: <CAHbBvVi+hb4HHkMXekBQEYgUM9XvdRbGgc_QPJfkvaKPZX6AxQ@mail.gmail.com>
Message-ID: <CAGxFJbSes-0RF1LtSemUOMq0puwcf5zNvdeULAdScbOgdHuiQw@mail.gmail.com>

If you haven't already done so, you should probably look here:
https://cran.r-project.org/web/views/Psychometrics.html

Further detailed discussion of the statistics is generally off topic here.
Per the posting guide (linked below):

"Questions about statistics: The R mailing lists are primarily intended for
questions and discussion about the R software. However, questions about
statistical methodology are sometimes posted. If the question is well-asked
and of interest to someone on the list, it may elicit an informative
up-to-date answer."


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Thu, Jan 6, 2022 at 2:03 AM Cecilia Reyna <ceciliareyna at gmail.com> wrote:

> Dear,
>
> I am trying to model the information function of items (and full) based on
> the continuous response model.
>
> I am using the EstCRM (1.4) package, but it doesn't compute the information
> function.
>
> Another person noticed me of Wang & Zeng's paper (Item parameter estimation
> for a continuous response model using an EM algorithm, 1998, Applied
> Psychological Measurement). But I am not sure how to calculate it in R.
>
> Please, If someone has calculated that function could you share the script?
>
> Thanks in advance,
> Cecilia
>
> --
> Cecilia Reyna
> Instituto de Investigaciones Psicol?gicas (IIPsi) - CONICET - UNC
> Facultad de Psicolog?a - Universidad Nacional de C?rdoba
> (5000) C?rdoba - ARGENTINA
> Tel. 54-351-5353890 int. 60201
>
> RACC: http://www.revistas.unc.edu.ar/index.php/racc
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From chuckco|em@n @end|ng |rom y@hoo@com  Thu Jan  6 16:23:56 2022
From: chuckco|em@n @end|ng |rom y@hoo@com (Chuck Coleman)
Date: Thu, 6 Jan 2022 15:23:56 +0000 (UTC)
Subject: [R] Error: if statement: missing value where TRUE/FALSE needed
In-Reply-To: <d92593f1-fc70-9457-2025-894ada66b077@gmail.com>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
 <20220105212237.07489025@Tarkus> <20220105220953.13afa63d@Tarkus>
 <d92593f1-fc70-9457-2025-894ada66b077@gmail.com>
Message-ID: <1725598260.1394699.1641482636279@mail.yahoo.com>

I've created a git repository at?https://sourceforge.net/p/rhelp/code/ci/master/tree/.? I've used git before, so that's what I chose.? I had forgotten that sourceforge didn't have a download all files command.? I don't post files often.

About the semantics of "crash":? Perhaps I'm showing my age here.? It used to be that programs crashed, bombed, etc. when they hit unanticipated errors.? These programs lived in a OS without an intermediary.? Now, we have programs of programs running within multiple applications on multiple servers with multiple OSs.? Since I'm not a programmer by profession, I've had little need to use these constructs.

Chuck Coleman



On Wednesday, January 5, 2022, 02:51:07 PM EST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote: 





On 05/01/2022 2:09 p.m., Ivan Krylov wrote:

> On Wed, 5 Jan 2022 21:22:37 +0300
> Ivan Krylov <krylov.r00t at gmail.com> wrote:
> 
>> How exactly do you check for a missing argument?
> 
> To answer my own question, the check is
> 
>>> browser(expr = {
>>>? is.na(w1) | is.na(ub) | is.na(m) | is.na(wi) | is.na(lb)
>>> })
> 
> I think that there are NAs in xseg, which I don't see a check for. In
> particular, a few lines above, there's
> 
>>> md = median( xseg, na.rm = TRUE);
>>> if (robust) sdd = mad(xseg,na.rm = TRUE)
>>> else sdd = sd(xseg,na.rm = TRUE)
> 
> ...which seems to suggest they are expected to happen there.
> 
> Not sure which advice to give regarding the choice of file hosting
> service. On the one hand, SourceForge lets you upload a whole directory
> of files in arbitrary formats, but isn't very convenient do download
> more than one file from. On the other hand, "pastebin" services like
> http://paste.debian.net/ or http://paste.org.ru/ let us browse the code
> right away, without having to look at the "Your download will start
> shortly..." screen, but don't host *.RData or more than one file per
> link. I guess that some other code hosting service like
> SourceHut/GitHub/GitLab/Gitea/... could fulfil both criteria.


I would take one step back, and suggest that if any project has as many 
scripts as this one, it should be put in an R package.? You can 
distribute that by building it into a tar.gz file and putting that 
single file in a place where people can download it.? Github and R-forge 
work well for packages, and I assume other hosting services do too, 
though I haven't used many.

People seem to be unreasonably reluctant to put their code into packages.

Duncan Murdoch


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jan  6 18:14:10 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 6 Jan 2022 12:14:10 -0500
Subject: [R] Error: if statement: missing value where TRUE/FALSE needed
In-Reply-To: <1725598260.1394699.1641482636279@mail.yahoo.com>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
 <20220105212237.07489025@Tarkus> <20220105220953.13afa63d@Tarkus>
 <d92593f1-fc70-9457-2025-894ada66b077@gmail.com>
 <1725598260.1394699.1641482636279@mail.yahoo.com>
Message-ID: <0f2a708b-938e-584d-c9c4-670874c1e197@gmail.com>

I've downloaded your code, and I'm seeing some strange results.  When I 
source MetroTest.R, it creates a log file ending

Error in if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE else if 
(xseg[w1] <  :
   missing value where TRUE/FALSE needed

as you saw.  But when I comment out the sink() lines in it, I don't see 
an error.  If I comment out only the first sink line, i.e. run with

   my_log <- file("MetroTest.log")
   #sink(my_log, append = TRUE, type = "output") # Writing console 
output to log file
   sink(my_log, append = TRUE, type = "message")

I get an error on the last line:

 > sink(my_log, append = TRUE, type = "message")
Error in sink(my_log, append = TRUE, type = "message") :
   'file' must be NULL or an already open connection

Once running this code R crashed.

I find all of that quite perplexing.  I suspect one of the packages has 
some buggy code, but I don't know which one.  Currently I'm running the 
script after running gctorture(); that's really slow.  If it turns up 
anything I'll let you know.

Duncan Murdoch



On 06/01/2022 10:23 a.m., Chuck Coleman wrote:
> I've created a git repository at?https://sourceforge.net/p/rhelp/code/ci/master/tree/.? I've used git before, so that's what I chose.? I had forgotten that sourceforge didn't have a download all files command.? I don't post files often.
> 
> About the semantics of "crash":? Perhaps I'm showing my age here.? It used to be that programs crashed, bombed, etc. when they hit unanticipated errors.? These programs lived in a OS without an intermediary.? Now, we have programs of programs running within multiple applications on multiple servers with multiple OSs.? Since I'm not a programmer by profession, I've had little need to use these constructs.
> 
> Chuck Coleman
> 
> 
> 
> On Wednesday, January 5, 2022, 02:51:07 PM EST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> 
> 
> 
> 
> On 05/01/2022 2:09 p.m., Ivan Krylov wrote:
> 
>> On Wed, 5 Jan 2022 21:22:37 +0300
>> Ivan Krylov <krylov.r00t at gmail.com> wrote:
>>
>>> How exactly do you check for a missing argument?
>>
>> To answer my own question, the check is
>>
>>>> browser(expr = {
>>>>  ? is.na(w1) | is.na(ub) | is.na(m) | is.na(wi) | is.na(lb)
>>>> })
>>
>> I think that there are NAs in xseg, which I don't see a check for. In
>> particular, a few lines above, there's
>>
>>>> md = median( xseg, na.rm = TRUE);
>>>> if (robust) sdd = mad(xseg,na.rm = TRUE)
>>>> else sdd = sd(xseg,na.rm = TRUE)
>>
>> ...which seems to suggest they are expected to happen there.
>>
>> Not sure which advice to give regarding the choice of file hosting
>> service. On the one hand, SourceForge lets you upload a whole directory
>> of files in arbitrary formats, but isn't very convenient do download
>> more than one file from. On the other hand, "pastebin" services like
>> http://paste.debian.net/ or http://paste.org.ru/ let us browse the code
>> right away, without having to look at the "Your download will start
>> shortly..." screen, but don't host *.RData or more than one file per
>> link. I guess that some other code hosting service like
>> SourceHut/GitHub/GitLab/Gitea/... could fulfil both criteria.
> 
> 
> I would take one step back, and suggest that if any project has as many
> scripts as this one, it should be put in an R package.? You can
> distribute that by building it into a tar.gz file and putting that
> single file in a place where people can download it.? Github and R-forge
> work well for packages, and I assume other hosting services do too,
> though I haven't used many.
> 
> People seem to be unreasonably reluctant to put their code into packages.
> 
> Duncan Murdoch
>


From @v|gro@@ @end|ng |rom ver|zon@net  Thu Jan  6 18:36:55 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 6 Jan 2022 17:36:55 +0000 (UTC)
Subject: [R] splitting data matrix into submatrices
In-Reply-To: <1941149728.1202836.1641405138132@mail.yahoo.com>
References: <1606908911.1738332.1641354754130.ref@mail.yahoo.com>
 <1606908911.1738332.1641354754130@mail.yahoo.com>
 <1534514481.1092676.1641356954030@mail.yahoo.com>
 <974163148.1748840.1641357842656@mail.yahoo.com>
 <1941149728.1202836.1641405138132@mail.yahoo.com>
Message-ID: <1188322469.1430447.1641490615425@mail.yahoo.com>


My apologies. I temporarily used another mailer and I see it did not send my message as plain text. I have not yet seen a way to change on a per message basis. My code, was naturally displayed badly. Sigh.
rows <- 1826

weekends <- (rows %% 7 <= 1)

satsun <- mymat[weekends,]

workweek <- mymat[!weekends,]

Is this any better?


-----Original Message-----
From: Avi Gross via R-help <r-help at r-project.org>
To: r-help at r-project.org <r-help at r-project.org>
Sent: Wed, Jan 5, 2022 12:52 pm
Subject: Re: [R] splitting data matrix into submatrices

Faheem seems to reply to people in private and I replid to him in private but seeing later messages, am giving a synopsis in public.
I too suggesed that using a data.frame is a better way to keep his data and use it for some purposes.
But my understanding is that his matrix is fairly easy to understand and can be indexed given the way it is set up.
Every row of the matrix has info for a single day, with each hour represented by one column. There is no date anywhere in sight or any visible index. But the collection was done starting on a Sunday and continuing without gaps so every seventh following row is a Sunday. So it is trivial to do what he asks using the %% operator to select all numbers between 1 and the number of rows in the matrix that have a remainder of either 0 (Saturdays) or 1 (Sundays) with something like this if the data is in mymat:
rows <- 1826weekends <- (rows %% 7 <= 1)satsun <- mymat[weekends,]
This basically indexes the matrix using a boolean vector. The result can be saved as a matrix of weekend data.
Getting the second matrix is as trivial as flipping the boolean vector.
workweek <- mymat[!weekends,]

-----Original Message-----
From: Faheem Jan <faheemjan93 at yahoo.com>
To: Avi Gross <avigross at verizon.net>
Sent: Tue, Jan 4, 2022 11:44 pm
Subject: Re: [R] splitting data matrix into submatrices

First I will thank you for your interest and time. As my first day is Sunday, in my data matrix 24 are hourly demand of electricity. As electricity demand is different is working and non-working days, so I want a separate analysis for working and nonworking days that's why I want to split the data matrix into submatrices. Can we use for looping which divides the matrix into submatrices? 

? ? On Wednesday, January 5, 2022, 09:29:44 AM GMT+5, Avi Gross via R-help <r-help at r-project.org> wrote:? 
 
 
If you explain better, we can help. But first consider what you are asking and how it is relected in the data.
Is the first component a row number whose meaning is day 1 contains a 1 or perhaps 0 and the next row contains one more? Or is there some kind of date in there?
What day of the week is the first day? Is it a Sunday or a Wednesday or what?
Just for arguments sake, say the first row is a Sunday and all later rows are sequential. Then row 1 is a weekend and row 7 is a weekend and so are rows 7 more (8 and 18) and those 7 more and so on.?
What do you call it when you are looking for the remainder after dividing by 7?
Can you make a list of indices that contain every possible weekend, and another index containing just the non-weekends??
If other things like Holidays do not matter, you can index the matrix many ways by asking for all columns but only the rows that your logical index wants.?
If I have misunderstood the problem, ignore.

-----Original Message-----
From: Faheem Jan via R-help <r-help at r-project.org>
To: R-help Mailing List <r-help at r-project.org>
Sent: Tue, Jan 4, 2022 10:52 pm
Subject: [R] splitting data matrix into submatrices

I have data in a matrix form of order 1826*24 where 1826 represents the days and 24 hourly observations on each data. My objective is to split the matrix into working (Monday to Friday) and non-working (Saturday and Sunday) submatrices. Can anyone help me that how I will do that splitting using R?


??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.
? 
??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From chuckco|em@n @end|ng |rom y@hoo@com  Thu Jan  6 19:05:59 2022
From: chuckco|em@n @end|ng |rom y@hoo@com (Chuck Coleman)
Date: Thu, 6 Jan 2022 18:05:59 +0000 (UTC)
Subject: [R] Error: if statement: missing value where TRUE/FALSE needed
In-Reply-To: <0f2a708b-938e-584d-c9c4-670874c1e197@gmail.com>
References: <1233449163.1172379.1641397627054.ref@mail.yahoo.com>
 <1233449163.1172379.1641397627054@mail.yahoo.com>
 <20220105212237.07489025@Tarkus> <20220105220953.13afa63d@Tarkus>
 <d92593f1-fc70-9457-2025-894ada66b077@gmail.com>
 <1725598260.1394699.1641482636279@mail.yahoo.com>
 <0f2a708b-938e-584d-c9c4-670874c1e197@gmail.com>
Message-ID: <1465328847.1438812.1641492359330@mail.yahoo.com>

I added the sink() commands to capture the output I was seeing and saw no noticeable difference.? Granted, I didn't look too hard.? Still, the code ran for the usual time before the error.? Remove the print() commands and you'll probably the error in an entirely different iteration.


Thanks for helping,
Chuck



On Thursday, January 6, 2022, 12:14:15 PM EST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote: 





I've downloaded your code, and I'm seeing some strange results.? When I 
source MetroTest.R, it creates a log file ending

Error in if (xseg[w1] > ub & m == 1) olrmark[wi] = TRUE else if 
(xseg[w1] <? :
? missing value where TRUE/FALSE needed

as you saw.? But when I comment out the sink() lines in it, I don't see 
an error.? If I comment out only the first sink line, i.e. run with

? my_log <- file("MetroTest.log")
? #sink(my_log, append = TRUE, type = "output") # Writing console 
output to log file
? sink(my_log, append = TRUE, type = "message")

I get an error on the last line:

> sink(my_log, append = TRUE, type = "message")
Error in sink(my_log, append = TRUE, type = "message") :
? 'file' must be NULL or an already open connection

Once running this code R crashed.

I find all of that quite perplexing.? I suspect one of the packages has 
some buggy code, but I don't know which one.? Currently I'm running the 
script after running gctorture(); that's really slow.? If it turns up 
anything I'll let you know.

Duncan Murdoch



On 06/01/2022 10:23 a.m., Chuck Coleman wrote:
> I've created a git repository at?https://sourceforge.net/p/rhelp/code/ci/master/tree/.? I've used git before, so that's what I chose.? I had forgotten that sourceforge didn't have a download all files command.? I don't post files often.
> 
> About the semantics of "crash":? Perhaps I'm showing my age here.? It used to be that programs crashed, bombed, etc. when they hit unanticipated errors.? These programs lived in a OS without an intermediary.? Now, we have programs of programs running within multiple applications on multiple servers with multiple OSs.? Since I'm not a programmer by profession, I've had little need to use these constructs.
> 
> Chuck Coleman
> 
> 
> 
> On Wednesday, January 5, 2022, 02:51:07 PM EST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> 
> 
> 
> 
> On 05/01/2022 2:09 p.m., Ivan Krylov wrote:
> 
>> On Wed, 5 Jan 2022 21:22:37 +0300
>> Ivan Krylov <krylov.r00t at gmail.com> wrote:
>>
>>> How exactly do you check for a missing argument?
>>
>> To answer my own question, the check is
>>
>>>> browser(expr = {
>>>>? ? is.na(w1) | is.na(ub) | is.na(m) | is.na(wi) | is.na(lb)
>>>> })
>>
>> I think that there are NAs in xseg, which I don't see a check for. In
>> particular, a few lines above, there's
>>
>>>> md = median( xseg, na.rm = TRUE);
>>>> if (robust) sdd = mad(xseg,na.rm = TRUE)
>>>> else sdd = sd(xseg,na.rm = TRUE)
>>
>> ...which seems to suggest they are expected to happen there.
>>
>> Not sure which advice to give regarding the choice of file hosting
>> service. On the one hand, SourceForge lets you upload a whole directory
>> of files in arbitrary formats, but isn't very convenient do download
>> more than one file from. On the other hand, "pastebin" services like
>> http://paste.debian.net/ or http://paste.org.ru/ let us browse the code
>> right away, without having to look at the "Your download will start
>> shortly..." screen, but don't host *.RData or more than one file per
>> link. I guess that some other code hosting service like
>> SourceHut/GitHub/GitLab/Gitea/... could fulfil both criteria.
> 
> 
> I would take one step back, and suggest that if any project has as many
> scripts as this one, it should be put in an R package.? You can
> distribute that by building it into a tar.gz file and putting that
> single file in a place where people can download it.? Github and R-forge
> work well for packages, and I assume other hosting services do too,
> though I haven't used many.
> 
> People seem to be unreasonably reluctant to put their code into packages.
> 
> Duncan Murdoch
> 


From drj|m|emon @end|ng |rom gm@||@com  Fri Jan  7 05:17:43 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 7 Jan 2022 15:17:43 +1100
Subject: [R] Dependencies for building R
Message-ID: <CA+8X3fVKGvny6WnB8tpQMB7BE6pbwrdcoQee-5i622YODp9UXQ@mail.gmail.com>

Hi,
I'm facing the usual challenge of  building the latest release of R on
a new install of Fedora 35 Linux. Is there a list of dependencies that
have to be installed (or even better, a package) to avoid the
necessity of running ./configure many times and installing them
piecemeal? I've just been reading Installation and Administration in
the manual and haven't found anything like this. Any pointers
appreciated.

Jim


From bgunter@4567 @end|ng |rom gm@||@com  Fri Jan  7 05:44:17 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Thu, 6 Jan 2022 20:44:17 -0800
Subject: [R] Dependencies for building R
In-Reply-To: <CA+8X3fVKGvny6WnB8tpQMB7BE6pbwrdcoQee-5i622YODp9UXQ@mail.gmail.com>
References: <CA+8X3fVKGvny6WnB8tpQMB7BE6pbwrdcoQee-5i622YODp9UXQ@mail.gmail.com>
Message-ID: <CAGxFJbRXZiOYRp-M=cbHqKTC8CcF1WcSSPdmBc3tgRTY6CQgwA@mail.gmail.com>

Ask on r-sig-fedora rather than here, no?

On Thu, Jan 6, 2022, 8:18 PM Jim Lemon <drjimlemon at gmail.com> wrote:

> Hi,
> I'm facing the usual challenge of  building the latest release of R on
> a new install of Fedora 35 Linux. Is there a list of dependencies that
> have to be installed (or even better, a package) to avoid the
> necessity of running ./configure many times and installing them
> piecemeal? I've just been reading Installation and Administration in
> the manual and haven't found anything like this. Any pointers
> appreciated.
>
> Jim
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From drj|m|emon @end|ng |rom gm@||@com  Fri Jan  7 05:53:09 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 7 Jan 2022 15:53:09 +1100
Subject: [R] Dependencies for building R
In-Reply-To: <CAGxFJbRXZiOYRp-M=cbHqKTC8CcF1WcSSPdmBc3tgRTY6CQgwA@mail.gmail.com>
References: <CA+8X3fVKGvny6WnB8tpQMB7BE6pbwrdcoQee-5i622YODp9UXQ@mail.gmail.com>
 <CAGxFJbRXZiOYRp-M=cbHqKTC8CcF1WcSSPdmBc3tgRTY6CQgwA@mail.gmail.com>
Message-ID: <CA+8X3fWazW5zExOEjz484zscdF+u2Gdo37eqUhsB1Ab2Ekevdw@mail.gmail.com>

Thanks, Bert. I will.

Jim

On Fri, Jan 7, 2022 at 3:44 PM Bert Gunter <bgunter.4567 at gmail.com> wrote:
>
> Ask on r-sig-fedora rather than here, no?
>
> On Thu, Jan 6, 2022, 8:18 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>>
>> Hi,
>> I'm facing the usual challenge of  building the latest release of R on
>> a new install of Fedora 35 Linux. Is there a list of dependencies that
>> have to be installed (or even better, a package) to avoid the
>> necessity of running ./configure many times and installing them
>> piecemeal? I've just been reading Installation and Administration in
>> the manual and haven't found anything like this. Any pointers
>> appreciated.
>>
>> Jim
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.


From g@@@uu| @end|ng |rom gm@||@com  Fri Jan  7 08:25:18 2022
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Fri, 7 Jan 2022 16:25:18 +0900
Subject: [R] unexpected (?) behavior of box()
Message-ID: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>

Dear R expert,

I try to box a figure using box(). However it box the default margin,
not the specified margin.

#working as expected
barplot(1:20)
box()

#working as expected, the box follow the margin
par(mar=c(2, 6, 5, 4))
barplot(1:20)
box()

#not working
install.packages("maps")
library(maps)
par(mar=c(2, 6, 5, 4))
m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
       lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
box()

#the turnaround
par(mar=c(2, 6, 5, 4))
m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
       lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
par(mar=c(2, 6, 5, 4))
box()

I just curious with this behavior. Is it the problem with the package
"map" or box() function?
Thank you.

> sessionInfo()
R version 4.0.2 (2020-06-22)
Platform: i386-w64-mingw32/i386 (32-bit)
Running under: Windows 10 x64 (build 19043)



Ani


From petr@p|k@| @end|ng |rom prechez@@cz  Fri Jan  7 08:39:34 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 7 Jan 2022 07:39:34 +0000
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
Message-ID: <819fdb0f07e84c628471b6d40f59dd6a@SRVEXCHCM1301.precheza.cz>

Hi.

Why do you consider it unexpected?

see

map(database = "world", regions = ".", exact = FALSE, boundary = TRUE,
  interior = TRUE, projection = "", parameters = NULL, orientation = NULL,
  fill = FALSE, col = 1, plot = TRUE, add = FALSE, namesonly = FALSE,
  xlim = NULL, ylim = NULL, wrap = FALSE, resolution = if (plot) 1 else 0,
  type = "l", bg = par("bg"), mar = c(4.1, 4.1, par("mar")[3], 0.1),
  myborder = 0.01, namefield="name", lforce="n", ...)

map function redefines mar so your first par is probably changed during
plotting map and after you define it again box use new mar values.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of ani jaya
> Sent: Friday, January 7, 2022 8:25 AM
> To: r-help <r-help at r-project.org>
> Subject: [R] unexpected (?) behavior of box()
> 
> Dear R expert,
> 
> I try to box a figure using box(). However it box the default margin,
> not the specified margin.
> 
> #working as expected
> barplot(1:20)
> box()
> 
> #working as expected, the box follow the margin
> par(mar=c(2, 6, 5, 4))
> barplot(1:20)
> box()
> 
> #not working
> install.packages("maps")
> library(maps)
> par(mar=c(2, 6, 5, 4))
> m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
>        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> box()
> 
> #the turnaround
> par(mar=c(2, 6, 5, 4))
> m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
>        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> par(mar=c(2, 6, 5, 4))
> box()
> 
> I just curious with this behavior. Is it the problem with the package
> "map" or box() function?
> Thank you.
> 
> > sessionInfo()
> R version 4.0.2 (2020-06-22)
> Platform: i386-w64-mingw32/i386 (32-bit)
> Running under: Windows 10 x64 (build 19043)
> 
> 
> 
> Ani
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From drj|m|emon @end|ng |rom gm@||@com  Fri Jan  7 08:41:21 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 7 Jan 2022 18:41:21 +1100
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
Message-ID: <CA+8X3fWH9PiQYiWgNCByY_edTkgg6GuXbj5h+giXNZ0xKvv6uA@mail.gmail.com>

Hi Ani,
Blame Mercator. Maps draws an approximately 2x1 plot. Maybe this:

mappar<-par("usr")
rect(mappar[1],mappar[3],mappar[2],mappar[4])

Jim

On Fri, Jan 7, 2022 at 6:25 PM ani jaya <gaaauul at gmail.com> wrote:
>
> Dear R expert,
>
> I try to box a figure using box(). However it box the default margin,
> not the specified margin.
>
> #working as expected
> barplot(1:20)
> box()
>
> #working as expected, the box follow the margin
> par(mar=c(2, 6, 5, 4))
> barplot(1:20)
> box()
>
> #not working
> install.packages("maps")
> library(maps)
> par(mar=c(2, 6, 5, 4))
> m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
>        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> box()
>
> #the turnaround
> par(mar=c(2, 6, 5, 4))
> m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
>        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> par(mar=c(2, 6, 5, 4))
> box()
>
> I just curious with this behavior. Is it the problem with the package
> "map" or box() function?
> Thank you.
>
> > sessionInfo()
> R version 4.0.2 (2020-06-22)
> Platform: i386-w64-mingw32/i386 (32-bit)
> Running under: Windows 10 x64 (build 19043)
>
>
>
> Ani
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From g@@@uu| @end|ng |rom gm@||@com  Fri Jan  7 09:11:56 2022
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Fri, 7 Jan 2022 17:11:56 +0900
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <819fdb0f07e84c628471b6d40f59dd6a@SRVEXCHCM1301.precheza.cz>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
 <819fdb0f07e84c628471b6d40f59dd6a@SRVEXCHCM1301.precheza.cz>
Message-ID: <CAHXS41xpsVNuFhUC14xppjBVJvFCZSH8H0XhjT5BZ3G_juZ6Hg@mail.gmail.com>

Hi Petr,

Thank you for pointing that out! Silly newbie here.
So, just want to make sure my mind,
using my example:

par(mar=c(2, 6, 5, 4))
m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
       lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
box()

first, map use the first mar=c(2,6,5,4),
and then defines the new mar that is mar=c(4.1, 4.1, par("mar")[3],
0.1)=c(4.1, 4.1, 5, 0.1).
And then box using the new mar=c(4.1, 4.1, 5, 0.1). Is that right?

I am sorry if out of topic. Maybe further I will post at r-sig-geo. Thank you.

On Fri, Jan 7, 2022 at 4:39 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
>
> Hi.
>
> Why do you consider it unexpected?
>
> see
>
> map(database = "world", regions = ".", exact = FALSE, boundary = TRUE,
>   interior = TRUE, projection = "", parameters = NULL, orientation = NULL,
>   fill = FALSE, col = 1, plot = TRUE, add = FALSE, namesonly = FALSE,
>   xlim = NULL, ylim = NULL, wrap = FALSE, resolution = if (plot) 1 else 0,
>   type = "l", bg = par("bg"), mar = c(4.1, 4.1, par("mar")[3], 0.1),
>   myborder = 0.01, namefield="name", lforce="n", ...)
>
> map function redefines mar so your first par is probably changed during
> plotting map and after you define it again box use new mar values.
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: R-help <r-help-bounces at r-project.org> On Behalf Of ani jaya
> > Sent: Friday, January 7, 2022 8:25 AM
> > To: r-help <r-help at r-project.org>
> > Subject: [R] unexpected (?) behavior of box()
> >
> > Dear R expert,
> >
> > I try to box a figure using box(). However it box the default margin,
> > not the specified margin.
> >
> > #working as expected
> > barplot(1:20)
> > box()
> >
> > #working as expected, the box follow the margin
> > par(mar=c(2, 6, 5, 4))
> > barplot(1:20)
> > box()
> >
> > #not working
> > install.packages("maps")
> > library(maps)
> > par(mar=c(2, 6, 5, 4))
> > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > box()
> >
> > #the turnaround
> > par(mar=c(2, 6, 5, 4))
> > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > par(mar=c(2, 6, 5, 4))
> > box()
> >
> > I just curious with this behavior. Is it the problem with the package
> > "map" or box() function?
> > Thank you.
> >
> > > sessionInfo()
> > R version 4.0.2 (2020-06-22)
> > Platform: i386-w64-mingw32/i386 (32-bit)
> > Running under: Windows 10 x64 (build 19043)
> >
> >
> >
> > Ani
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From g@@@uu| @end|ng |rom gm@||@com  Fri Jan  7 09:20:22 2022
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Fri, 7 Jan 2022 17:20:22 +0900
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <CA+8X3fWH9PiQYiWgNCByY_edTkgg6GuXbj5h+giXNZ0xKvv6uA@mail.gmail.com>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
 <CA+8X3fWH9PiQYiWgNCByY_edTkgg6GuXbj5h+giXNZ0xKvv6uA@mail.gmail.com>
Message-ID: <CAHXS41ysBOM2GGe-MTvitQsOs_nff5chxRhGTatEX=fPhFzjRw@mail.gmail.com>

Hi Jim,

Thank you for the alternative. Absolutely will try it.
Can you explain a bit about "Maps draws an approximately 2x1 plot"?
Is it the size proportion 2 in x-axis and 1 in y-axis?

On Fri, Jan 7, 2022 at 4:41 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>
> Hi Ani,
> Blame Mercator. Maps draws an approximately 2x1 plot. Maybe this:
>
> mappar<-par("usr")
> rect(mappar[1],mappar[3],mappar[2],mappar[4])
>
> Jim
>
> On Fri, Jan 7, 2022 at 6:25 PM ani jaya <gaaauul at gmail.com> wrote:
> >
> > Dear R expert,
> >
> > I try to box a figure using box(). However it box the default margin,
> > not the specified margin.
> >
> > #working as expected
> > barplot(1:20)
> > box()
> >
> > #working as expected, the box follow the margin
> > par(mar=c(2, 6, 5, 4))
> > barplot(1:20)
> > box()
> >
> > #not working
> > install.packages("maps")
> > library(maps)
> > par(mar=c(2, 6, 5, 4))
> > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > box()
> >
> > #the turnaround
> > par(mar=c(2, 6, 5, 4))
> > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > par(mar=c(2, 6, 5, 4))
> > box()
> >
> > I just curious with this behavior. Is it the problem with the package
> > "map" or box() function?
> > Thank you.
> >
> > > sessionInfo()
> > R version 4.0.2 (2020-06-22)
> > Platform: i386-w64-mingw32/i386 (32-bit)
> > Running under: Windows 10 x64 (build 19043)
> >
> >
> >
> > Ani
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.


From petr@p|k@| @end|ng |rom prechez@@cz  Fri Jan  7 09:36:12 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Fri, 7 Jan 2022 08:36:12 +0000
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <CAHXS41xpsVNuFhUC14xppjBVJvFCZSH8H0XhjT5BZ3G_juZ6Hg@mail.gmail.com>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
 <819fdb0f07e84c628471b6d40f59dd6a@SRVEXCHCM1301.precheza.cz>
 <CAHXS41xpsVNuFhUC14xppjBVJvFCZSH8H0XhjT5BZ3G_juZ6Hg@mail.gmail.com>
Message-ID: <834fac7d4a1f411a9abe45c1c25df9d7@SRVEXCHCM1301.precheza.cz>

Hi Ani

No need to apologise. I may by wrong as I did not dig into the map code and do 
not use the package so I only guess. You could check how mar changes by

> par("mar")
[1] 5.1 4.1 4.1 2.1

So
par("mar")
par(mar=c(2, 6, 5, 4))
par("mar")
m<-map('world', xlim = c(91, 142), ylim = c(25, 40), lwd=1.5, col = 
"grey",border=NA, fill = T,  bg="white")
par("mar")
box()

should give you info how mar looks like before each step and which one is to 
blame.

Jim gave you also some possible workaround.

Cheers
Petr

> -----Original Message-----
> From: ani jaya <gaaauul at gmail.com>
> Sent: Friday, January 7, 2022 9:12 AM
> To: PIKAL Petr <petr.pikal at precheza.cz>; r-help <r-help at r-project.org>
> Subject: Re: [R] unexpected (?) behavior of box()
>
> Hi Petr,
>
> Thank you for pointing that out! Silly newbie here.
> So, just want to make sure my mind,
> using my example:
>
> par(mar=c(2, 6, 5, 4))
> m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
>        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> box()
>
> first, map use the first mar=c(2,6,5,4), and then defines the new mar that 
> is
> mar=c(4.1, 4.1, par("mar")[3], 0.1)=c(4.1, 4.1, 5, 0.1).
> And then box using the new mar=c(4.1, 4.1, 5, 0.1). Is that right?
>
> I am sorry if out of topic. Maybe further I will post at r-sig-geo. Thank 
> you.
>
> On Fri, Jan 7, 2022 at 4:39 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
> >
> > Hi.
> >
> > Why do you consider it unexpected?
> >
> > see
> >
> > map(database = "world", regions = ".", exact = FALSE, boundary = TRUE,
> >   interior = TRUE, projection = "", parameters = NULL, orientation = NULL,
> >   fill = FALSE, col = 1, plot = TRUE, add = FALSE, namesonly = FALSE,
> >   xlim = NULL, ylim = NULL, wrap = FALSE, resolution = if (plot) 1 else 0,
> >   type = "l", bg = par("bg"), mar = c(4.1, 4.1, par("mar")[3], 0.1),
> >   myborder = 0.01, namefield="name", lforce="n", ...)
> >
> > map function redefines mar so your first par is probably changed
> > during plotting map and after you define it again box use new mar values.
> >
> > Cheers
> > Petr
> >
> > > -----Original Message-----
> > > From: R-help <r-help-bounces at r-project.org> On Behalf Of ani jaya
> > > Sent: Friday, January 7, 2022 8:25 AM
> > > To: r-help <r-help at r-project.org>
> > > Subject: [R] unexpected (?) behavior of box()
> > >
> > > Dear R expert,
> > >
> > > I try to box a figure using box(). However it box the default
> > > margin, not the specified margin.
> > >
> > > #working as expected
> > > barplot(1:20)
> > > box()
> > >
> > > #working as expected, the box follow the margin par(mar=c(2, 6, 5,
> > > 4))
> > > barplot(1:20)
> > > box()
> > >
> > > #not working
> > > install.packages("maps")
> > > library(maps)
> > > par(mar=c(2, 6, 5, 4))
> > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > box()
> > >
> > > #the turnaround
> > > par(mar=c(2, 6, 5, 4))
> > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > par(mar=c(2, 6, 5, 4))
> > > box()
> > >
> > > I just curious with this behavior. Is it the problem with the
> > > package "map" or box() function?
> > > Thank you.
> > >
> > > > sessionInfo()
> > > R version 4.0.2 (2020-06-22)
> > > Platform: i386-w64-mingw32/i386 (32-bit) Running under: Windows 10
> > > x64 (build 19043)
> > >
> > >
> > >
> > > Ani
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.

From g@@@uu| @end|ng |rom gm@||@com  Fri Jan  7 10:04:29 2022
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Fri, 7 Jan 2022 18:04:29 +0900
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <834fac7d4a1f411a9abe45c1c25df9d7@SRVEXCHCM1301.precheza.cz>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
 <819fdb0f07e84c628471b6d40f59dd6a@SRVEXCHCM1301.precheza.cz>
 <CAHXS41xpsVNuFhUC14xppjBVJvFCZSH8H0XhjT5BZ3G_juZ6Hg@mail.gmail.com>
 <834fac7d4a1f411a9abe45c1c25df9d7@SRVEXCHCM1301.precheza.cz>
Message-ID: <CAHXS41zMOJiZOjPYB2+e__0iG4ewJYkwuQjLdWu=jk67_xwYFA@mail.gmail.com>

Got it. Thank you very much.

On Fri, Jan 7, 2022 at 5:36 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
>
> Hi Ani
>
> No need to apologise. I may by wrong as I did not dig into the map code and do
> not use the package so I only guess. You could check how mar changes by
>
> > par("mar")
> [1] 5.1 4.1 4.1 2.1
>
> So
> par("mar")
> par(mar=c(2, 6, 5, 4))
> par("mar")
> m<-map('world', xlim = c(91, 142), ylim = c(25, 40), lwd=1.5, col =
> "grey",border=NA, fill = T,  bg="white")
> par("mar")
> box()
>
> should give you info how mar looks like before each step and which one is to
> blame.
>
> Jim gave you also some possible workaround.
>
> Cheers
> Petr
>
> > -----Original Message-----
> > From: ani jaya <gaaauul at gmail.com>
> > Sent: Friday, January 7, 2022 9:12 AM
> > To: PIKAL Petr <petr.pikal at precheza.cz>; r-help <r-help at r-project.org>
> > Subject: Re: [R] unexpected (?) behavior of box()
> >
> > Hi Petr,
> >
> > Thank you for pointing that out! Silly newbie here.
> > So, just want to make sure my mind,
> > using my example:
> >
> > par(mar=c(2, 6, 5, 4))
> > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > box()
> >
> > first, map use the first mar=c(2,6,5,4), and then defines the new mar that
> > is
> > mar=c(4.1, 4.1, par("mar")[3], 0.1)=c(4.1, 4.1, 5, 0.1).
> > And then box using the new mar=c(4.1, 4.1, 5, 0.1). Is that right?
> >
> > I am sorry if out of topic. Maybe further I will post at r-sig-geo. Thank
> > you.
> >
> > On Fri, Jan 7, 2022 at 4:39 PM PIKAL Petr <petr.pikal at precheza.cz> wrote:
> > >
> > > Hi.
> > >
> > > Why do you consider it unexpected?
> > >
> > > see
> > >
> > > map(database = "world", regions = ".", exact = FALSE, boundary = TRUE,
> > >   interior = TRUE, projection = "", parameters = NULL, orientation = NULL,
> > >   fill = FALSE, col = 1, plot = TRUE, add = FALSE, namesonly = FALSE,
> > >   xlim = NULL, ylim = NULL, wrap = FALSE, resolution = if (plot) 1 else 0,
> > >   type = "l", bg = par("bg"), mar = c(4.1, 4.1, par("mar")[3], 0.1),
> > >   myborder = 0.01, namefield="name", lforce="n", ...)
> > >
> > > map function redefines mar so your first par is probably changed
> > > during plotting map and after you define it again box use new mar values.
> > >
> > > Cheers
> > > Petr
> > >
> > > > -----Original Message-----
> > > > From: R-help <r-help-bounces at r-project.org> On Behalf Of ani jaya
> > > > Sent: Friday, January 7, 2022 8:25 AM
> > > > To: r-help <r-help at r-project.org>
> > > > Subject: [R] unexpected (?) behavior of box()
> > > >
> > > > Dear R expert,
> > > >
> > > > I try to box a figure using box(). However it box the default
> > > > margin, not the specified margin.
> > > >
> > > > #working as expected
> > > > barplot(1:20)
> > > > box()
> > > >
> > > > #working as expected, the box follow the margin par(mar=c(2, 6, 5,
> > > > 4))
> > > > barplot(1:20)
> > > > box()
> > > >
> > > > #not working
> > > > install.packages("maps")
> > > > library(maps)
> > > > par(mar=c(2, 6, 5, 4))
> > > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > > box()
> > > >
> > > > #the turnaround
> > > > par(mar=c(2, 6, 5, 4))
> > > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > > par(mar=c(2, 6, 5, 4))
> > > > box()
> > > >
> > > > I just curious with this behavior. Is it the problem with the
> > > > package "map" or box() function?
> > > > Thank you.
> > > >
> > > > > sessionInfo()
> > > > R version 4.0.2 (2020-06-22)
> > > > Platform: i386-w64-mingw32/i386 (32-bit) Running under: Windows 10
> > > > x64 (build 19043)
> > > >
> > > >
> > > >
> > > > Ani
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide
> > > http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible code.


From drj|m|emon @end|ng |rom gm@||@com  Fri Jan  7 10:08:20 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 7 Jan 2022 20:08:20 +1100
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <CAHXS41ysBOM2GGe-MTvitQsOs_nff5chxRhGTatEX=fPhFzjRw@mail.gmail.com>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
 <CA+8X3fWH9PiQYiWgNCByY_edTkgg6GuXbj5h+giXNZ0xKvv6uA@mail.gmail.com>
 <CAHXS41ysBOM2GGe-MTvitQsOs_nff5chxRhGTatEX=fPhFzjRw@mail.gmail.com>
Message-ID: <CA+8X3fW6miq8NsZKwsyCjM6DK8tZurhK-K113gzvk8_ZmMqFWQ@mail.gmail.com>

Yes, the Mercator projection unwraps the globe (360 degrees around)
while the poles are 180 degrees apart. It then stretches the result
into a rectangle. If you enter:

par("usr")

after drawing the world map you will see the proportions.

Jim

On Fri, Jan 7, 2022 at 7:20 PM ani jaya <gaaauul at gmail.com> wrote:
>
> Hi Jim,
>
> Thank you for the alternative. Absolutely will try it.
> Can you explain a bit about "Maps draws an approximately 2x1 plot"?
> Is it the size proportion 2 in x-axis and 1 in y-axis?
>
> On Fri, Jan 7, 2022 at 4:41 PM Jim Lemon <drjimlemon at gmail.com> wrote:
> >
> > Hi Ani,
> > Blame Mercator. Maps draws an approximately 2x1 plot. Maybe this:
> >
> > mappar<-par("usr")
> > rect(mappar[1],mappar[3],mappar[2],mappar[4])
> >
> > Jim
> >
> > On Fri, Jan 7, 2022 at 6:25 PM ani jaya <gaaauul at gmail.com> wrote:
> > >
> > > Dear R expert,
> > >
> > > I try to box a figure using box(). However it box the default margin,
> > > not the specified margin.
> > >
> > > #working as expected
> > > barplot(1:20)
> > > box()
> > >
> > > #working as expected, the box follow the margin
> > > par(mar=c(2, 6, 5, 4))
> > > barplot(1:20)
> > > box()
> > >
> > > #not working
> > > install.packages("maps")
> > > library(maps)
> > > par(mar=c(2, 6, 5, 4))
> > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > box()
> > >
> > > #the turnaround
> > > par(mar=c(2, 6, 5, 4))
> > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > par(mar=c(2, 6, 5, 4))
> > > box()
> > >
> > > I just curious with this behavior. Is it the problem with the package
> > > "map" or box() function?
> > > Thank you.
> > >
> > > > sessionInfo()
> > > R version 4.0.2 (2020-06-22)
> > > Platform: i386-w64-mingw32/i386 (32-bit)
> > > Running under: Windows 10 x64 (build 19043)
> > >
> > >
> > >
> > > Ani
> > >
> > > ______________________________________________
> > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > and provide commented, minimal, self-contained, reproducible code.


From g@@@uu| @end|ng |rom gm@||@com  Fri Jan  7 11:05:26 2022
From: g@@@uu| @end|ng |rom gm@||@com (ani jaya)
Date: Fri, 7 Jan 2022 19:05:26 +0900
Subject: [R] unexpected (?) behavior of box()
In-Reply-To: <CA+8X3fW6miq8NsZKwsyCjM6DK8tZurhK-K113gzvk8_ZmMqFWQ@mail.gmail.com>
References: <CAHXS41y8vutwR9-d=pMv=1RaM9Q9-Ev1zCFFAEaRUM+q4a43xQ@mail.gmail.com>
 <CA+8X3fWH9PiQYiWgNCByY_edTkgg6GuXbj5h+giXNZ0xKvv6uA@mail.gmail.com>
 <CAHXS41ysBOM2GGe-MTvitQsOs_nff5chxRhGTatEX=fPhFzjRw@mail.gmail.com>
 <CA+8X3fW6miq8NsZKwsyCjM6DK8tZurhK-K113gzvk8_ZmMqFWQ@mail.gmail.com>
Message-ID: <CAHXS41yavqXNLtZg4iG30JjJUsMx5MevH+-kTm2mBgg7aS9XWw@mail.gmail.com>

Ah I see.
Thank you very much!

On Fri, Jan 7, 2022 at 6:08 PM Jim Lemon <drjimlemon at gmail.com> wrote:
>
> Yes, the Mercator projection unwraps the globe (360 degrees around)
> while the poles are 180 degrees apart. It then stretches the result
> into a rectangle. If you enter:
>
> par("usr")
>
> after drawing the world map you will see the proportions.
>
> Jim
>
> On Fri, Jan 7, 2022 at 7:20 PM ani jaya <gaaauul at gmail.com> wrote:
> >
> > Hi Jim,
> >
> > Thank you for the alternative. Absolutely will try it.
> > Can you explain a bit about "Maps draws an approximately 2x1 plot"?
> > Is it the size proportion 2 in x-axis and 1 in y-axis?
> >
> > On Fri, Jan 7, 2022 at 4:41 PM Jim Lemon <drjimlemon at gmail.com> wrote:
> > >
> > > Hi Ani,
> > > Blame Mercator. Maps draws an approximately 2x1 plot. Maybe this:
> > >
> > > mappar<-par("usr")
> > > rect(mappar[1],mappar[3],mappar[2],mappar[4])
> > >
> > > Jim
> > >
> > > On Fri, Jan 7, 2022 at 6:25 PM ani jaya <gaaauul at gmail.com> wrote:
> > > >
> > > > Dear R expert,
> > > >
> > > > I try to box a figure using box(). However it box the default margin,
> > > > not the specified margin.
> > > >
> > > > #working as expected
> > > > barplot(1:20)
> > > > box()
> > > >
> > > > #working as expected, the box follow the margin
> > > > par(mar=c(2, 6, 5, 4))
> > > > barplot(1:20)
> > > > box()
> > > >
> > > > #not working
> > > > install.packages("maps")
> > > > library(maps)
> > > > par(mar=c(2, 6, 5, 4))
> > > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > > box()
> > > >
> > > > #the turnaround
> > > > par(mar=c(2, 6, 5, 4))
> > > > m<-map('world', xlim = c(91, 142), ylim = c(25, 40),
> > > >        lwd=1.5, col = "grey",border=NA, fill = T,  bg="white")
> > > > par(mar=c(2, 6, 5, 4))
> > > > box()
> > > >
> > > > I just curious with this behavior. Is it the problem with the package
> > > > "map" or box() function?
> > > > Thank you.
> > > >
> > > > > sessionInfo()
> > > > R version 4.0.2 (2020-06-22)
> > > > Platform: i386-w64-mingw32/i386 (32-bit)
> > > > Running under: Windows 10 x64 (build 19043)
> > > >
> > > >
> > > >
> > > > Ani
> > > >
> > > > ______________________________________________
> > > > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > > > https://stat.ethz.ch/mailman/listinfo/r-help
> > > > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> > > > and provide commented, minimal, self-contained, reproducible code.


From mkey @end|ng |rom |n|o@c|tex@com  Fri Jan  7 17:23:58 2022
From: mkey @end|ng |rom |n|o@c|tex@com (Key, Melissa)
Date: Fri, 7 Jan 2022 16:23:58 +0000
Subject: [R] bug in Windows implementation of nlme::groupedData
Message-ID: <BN2P110MB1461789D12779C7083013726B14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>

I am trying to replicate a semi-parametric analysis described in Harezlak, Jaroslaw, David Ruppert, and Matt P. Wand. Semiparametric regression with R. New York, NY: Springer, 2018. (https://link.springer.com/book/10.1007%2F978-1-4939-8853-2).

I can successfully run the analysis, but now I'm trying to move it into my workflow, which requires that the analysis be conducted within a function (using targets package), and the `groupedData` function now fails with an error that it cannot find the `X` matrix (see reprex below).  I've tried the reprex on both my personal Mac (where it works??) and on windows machines (where it does not) - so the problem is likely specific to Windows computers (yes, this seems weird to me too).
All packages have been updated, and I'm running the latest version of R on all machines.

Reprex:

library(HRW) # contains example data and ZOSull function
library(nlme)

data(growthIndiana)


analyze_this <- function(df) {

  mean.x <- mean(df$age)
  mean.y <- mean(df$height)
  sd.x <- sd(df$age)
  sd.y <- sd(df$height)

  df$x <- (df$age - mean.x) / sd.x
  df$y <- (df$height - mean.y) / sd.y

  X <- model.matrix(~ x * male * black, data = df)
  dummyID <- rep(1, length(nrow(X)))

  grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data = data.frame(y = df$y, X, dummyID))

}


# doesn't work on Windows machine, does work on the Mac
analyze_this(growthIndiana)
#> Error in eval(aux[[2]], object): object 'X' not found

# does work

df <- growthIndiana

mean.x <- mean(df$age)
mean.y <- mean(df$height)
sd.x <- sd(df$age)
sd.y <- sd(df$height)

df$x <- (df$age - mean.x) / sd.x
df$y <- (df$height - mean.y) / sd.y

X <- model.matrix(~ x * male * black, data = df)
dummyID <- rep(1, length(nrow(X)))

grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data = data.frame(y = df$y, X, dummyID))


# attempted work-around.

analyze_this2 <- function(df) {
  num.global.knots = 20
  num.subject.knots = 10

  mean.x <- mean(df$age)
  mean.y <- mean(df$height)
  sd.x <- sd(df$age)
  sd.y <- sd(df$height)

  df$x <- (df$age - mean.x) / sd.x
  df$y <- (df$height - mean.y) / sd.y

  X <- model.matrix(~ x * male * black, data = df)
  dummyID <- rep(1, length(nrow(X)))

  # grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data = data.frame(y = df$y, X, dummyID))

  global.knots = quantile(unique(df$x), seq(0, 1, length = num.global.knots + 2)[-c(1, num.global.knots + 2)])
  subject.knots = quantile(unique(df$x), seq(0, 1, length = num.subject.knots + 2)[-c(1, num.subject.knots + 2)])

  Z.global <- ZOSull(df$x, range.x = range(df$x), global.knots)
  Z.group <- df$black * Z.global
  Z.subject <- ZOSull(df$x, range.x = range(df$x), subject.knots)

  Zblock <- list(
    dummyID = pdIdent(~ 0 + Z.global),
    dummyID = pdIdent(~ 0 + Z.group),
    idnum = pdSymm(~ x),
    idnum = pdIdent(~ 0 + Z.subject)
  )

  df$dummyID <- dummyID
  tmp_data <- c(
    df,
    X = list(X),
    Z.global = list(Z.global),
    Z.group = list(Z.global),
    Z.subject = list(Z.subject)
  )

  fit <- lme(y ~ 0 + X,
    data = tmp_data,
    random = Zblock
  )

}

# this works (warning - lme takes awhile to fit)
analyze_this2(growthIndiana)

sessionInfo()
#> R version 4.1.2 (2021-11-01)
#> Platform: x86_64-w64-mingw32/x64 (64-bit)
#> Running under: Windows 10 x64 (build 22000)
#>
#> Matrix products: default
#>
#> locale:
#> [1] LC_COLLATE=English_United States.1252
#> [2] LC_CTYPE=English_United States.1252
#> [3] LC_MONETARY=English_United States.1252
#> [4] LC_NUMERIC=C
#> [5] LC_TIME=English_United States.1252
#>
#> attached base packages:
#> [1] stats     graphics  grDevices utils     datasets  methods   base
#>
#> other attached packages:
#> [1] nlme_3.1-153 HRW_1.0-5
#>
#> loaded via a namespace (and not attached):
#>  [1] lattice_0.20-45    digest_0.6.29      withr_2.4.3        grid_4.1.2
#>  [5] magrittr_2.0.1     reprex_2.0.1       evaluate_0.14      KernSmooth_2.23-20
#>  [9] highr_0.9          stringi_1.7.6      rlang_0.4.12       cli_3.1.0
#> [13] rstudioapi_0.13    fs_1.5.2           rmarkdown_2.11     splines_4.1.2
#> [17] tools_4.1.2        stringr_1.4.0      glue_1.6.0         xfun_0.29
#> [21] yaml_2.2.1         fastmap_1.1.0      compiler_4.1.2     htmltools_0.5.2
#> [25] knitr_1.37

Created on 2022-01-07 by the [reprex package](https://reprex.tidyverse.org) (v2.0.1)

 Here's the session Info for the Mac:

sessionInfo()
R version 4.1.2 (2021-11-01)
Platform: aarch64-apple-darwin20 (64-bit)
Running under: macOS Monterey 12.1

Matrix products: default
LAPACK: /Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRlapack.dylib

locale:[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] nlme_3.1-153  targets_0.8.1 HRW_1.0-5

loaded via a namespace (and not attached):
 [1] compiler_4.1.2     pillar_1.6.4       tools_4.1.2        digest_0.6.28      lattice_0.20-45    jsonlite_1.7.2     evaluate_0.14
 [8] lifecycle_1.0.1    tibble_3.1.6       pkgconfig_2.0.3    rlang_0.4.12       igraph_1.2.9       cli_3.1.0          yaml_2.2.1
[15] xfun_0.28          fastmap_1.1.0      withr_2.4.2        knitr_1.36         htmlwidgets_1.5.4  vctrs_0.3.8        grid_4.1.2
[22] tidyselect_1.1.1   glue_1.5.0         data.table_1.14.2  R6_2.5.1           processx_3.5.2     fansi_0.5.0        rmarkdown_2.11
[29] callr_3.7.0        purrr_0.3.4        magrittr_2.0.1     scales_1.1.1       codetools_0.2-18   ps_1.6.0           htmltools_0.5.2
[36] ellipsis_0.3.2     splines_4.1.2      colorspace_2.0-2   KernSmooth_2.23-20 utf8_1.2.2         visNetwork_2.1.0   munsell_0.5.0
[43] crayon_1.4.2


Melissa Key, Ph.D.
Statistician
Non-Invasive Brain Stimulation Team
Infoscitex

Cell: 937-550-4981
Email: mkey at infoscitex.com<mailto:mkey at infoscitex.com>
Base email: melissa.key.ctr at us.af.mil<mailto:melissa.key.ctr at us.af.mil>


	[[alternative HTML version deleted]]


From j|ox @end|ng |rom mcm@@ter@c@  Fri Jan  7 22:34:52 2022
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Fri, 7 Jan 2022 16:34:52 -0500
Subject: [R] bug in Windows implementation of nlme::groupedData
In-Reply-To: <13531_1641588163_207Kgg0o023122_BN2P110MB1461789D12779C7083013726B14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>
References: <13531_1641588163_207Kgg0o023122_BN2P110MB1461789D12779C7083013726B14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>
Message-ID: <41dc78c4-734c-0b7b-ec97-e50133266223@mcmaster.ca>

Dear Melissa,

It seems strange to me that your code would work on any platform (it 
doesn't on my Mac) because the data frame you create shouldn't contain a 
matrix named "X" but rather columns including those originating from X. 
To illustrate:

 > X <- matrix(1:12, 4, 3)
 > colnames(X) <- c("a", "b", "c")
 > X
      a b  c
[1,] 1 5  9
[2,] 2 6 10
[3,] 3 7 11
[4,] 4 8 12

 > y <- 1:4

 > (D <- data.frame(y, X))
   y a b  c
1 1 1 5  9
2 2 2 6 10
3 3 3 7 11
4 4 4 8 12

 > str(D)
'data.frame':	4 obs. of  4 variables:
  $ y: int  1 2 3 4
  $ a: int  1 2 3 4
  $ b: int  5 6 7 8
  $ c: int  9 10 11 12

My session info:

 > sessionInfo()
R version 4.1.2 (2021-11-01)
Platform: aarch64-apple-darwin20 (64-bit)
Running under: macOS Monterey 12.1

Matrix products: default
LAPACK: 
/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] nlme_3.1-153 HRW_1.0-5

loaded via a namespace (and not attached):
[1] compiler_4.1.2     tools_4.1.2        KernSmooth_2.23-20 
splines_4.1.2
[5] grid_4.1.2         lattice_0.20-45

I hope this helps,
  John

-- 
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://socialsciences.mcmaster.ca/jfox/

On 2022-01-07 11:23 a.m., Key, Melissa wrote:
> I am trying to replicate a semi-parametric analysis described in Harezlak, Jaroslaw, David Ruppert, and Matt P. Wand. Semiparametric regression with R. New York, NY: Springer, 2018. (https://link.springer.com/book/10.1007%2F978-1-4939-8853-2).
> 
> I can successfully run the analysis, but now I'm trying to move it into my workflow, which requires that the analysis be conducted within a function (using targets package), and the `groupedData` function now fails with an error that it cannot find the `X` matrix (see reprex below).  I've tried the reprex on both my personal Mac (where it works??) and on windows machines (where it does not) - so the problem is likely specific to Windows computers (yes, this seems weird to me too).
> All packages have been updated, and I'm running the latest version of R on all machines.
> 
> Reprex:
> 
> library(HRW) # contains example data and ZOSull function
> library(nlme)
> 
> data(growthIndiana)
> 
> 
> analyze_this <- function(df) {
> 
>    mean.x <- mean(df$age)
>    mean.y <- mean(df$height)
>    sd.x <- sd(df$age)
>    sd.y <- sd(df$height)
> 
>    df$x <- (df$age - mean.x) / sd.x
>    df$y <- (df$height - mean.y) / sd.y
> 
>    X <- model.matrix(~ x * male * black, data = df)
>    dummyID <- rep(1, length(nrow(X)))
> 
>    grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data = data.frame(y = df$y, X, dummyID))
> 
> }
> 
> 
> # doesn't work on Windows machine, does work on the Mac
> analyze_this(growthIndiana)
> #> Error in eval(aux[[2]], object): object 'X' not found
> 
> # does work
> 
> df <- growthIndiana
> 
> mean.x <- mean(df$age)
> mean.y <- mean(df$height)
> sd.x <- sd(df$age)
> sd.y <- sd(df$height)
> 
> df$x <- (df$age - mean.x) / sd.x
> df$y <- (df$height - mean.y) / sd.y
> 
> X <- model.matrix(~ x * male * black, data = df)
> dummyID <- rep(1, length(nrow(X)))
> 
> grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data = data.frame(y = df$y, X, dummyID))
> 
> 
> # attempted work-around.
> 
> analyze_this2 <- function(df) {
>    num.global.knots = 20
>    num.subject.knots = 10
> 
>    mean.x <- mean(df$age)
>    mean.y <- mean(df$height)
>    sd.x <- sd(df$age)
>    sd.y <- sd(df$height)
> 
>    df$x <- (df$age - mean.x) / sd.x
>    df$y <- (df$height - mean.y) / sd.y
> 
>    X <- model.matrix(~ x * male * black, data = df)
>    dummyID <- rep(1, length(nrow(X)))
> 
>    # grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data = data.frame(y = df$y, X, dummyID))
> 
>    global.knots = quantile(unique(df$x), seq(0, 1, length = num.global.knots + 2)[-c(1, num.global.knots + 2)])
>    subject.knots = quantile(unique(df$x), seq(0, 1, length = num.subject.knots + 2)[-c(1, num.subject.knots + 2)])
> 
>    Z.global <- ZOSull(df$x, range.x = range(df$x), global.knots)
>    Z.group <- df$black * Z.global
>    Z.subject <- ZOSull(df$x, range.x = range(df$x), subject.knots)
> 
>    Zblock <- list(
>      dummyID = pdIdent(~ 0 + Z.global),
>      dummyID = pdIdent(~ 0 + Z.group),
>      idnum = pdSymm(~ x),
>      idnum = pdIdent(~ 0 + Z.subject)
>    )
> 
>    df$dummyID <- dummyID
>    tmp_data <- c(
>      df,
>      X = list(X),
>      Z.global = list(Z.global),
>      Z.group = list(Z.global),
>      Z.subject = list(Z.subject)
>    )
> 
>    fit <- lme(y ~ 0 + X,
>      data = tmp_data,
>      random = Zblock
>    )
> 
> }
> 
> # this works (warning - lme takes awhile to fit)
> analyze_this2(growthIndiana)
> 
> sessionInfo()
> #> R version 4.1.2 (2021-11-01)
> #> Platform: x86_64-w64-mingw32/x64 (64-bit)
> #> Running under: Windows 10 x64 (build 22000)
> #>
> #> Matrix products: default
> #>
> #> locale:
> #> [1] LC_COLLATE=English_United States.1252
> #> [2] LC_CTYPE=English_United States.1252
> #> [3] LC_MONETARY=English_United States.1252
> #> [4] LC_NUMERIC=C
> #> [5] LC_TIME=English_United States.1252
> #>
> #> attached base packages:
> #> [1] stats     graphics  grDevices utils     datasets  methods   base
> #>
> #> other attached packages:
> #> [1] nlme_3.1-153 HRW_1.0-5
> #>
> #> loaded via a namespace (and not attached):
> #>  [1] lattice_0.20-45    digest_0.6.29      withr_2.4.3        grid_4.1.2
> #>  [5] magrittr_2.0.1     reprex_2.0.1       evaluate_0.14      KernSmooth_2.23-20
> #>  [9] highr_0.9          stringi_1.7.6      rlang_0.4.12       cli_3.1.0
> #> [13] rstudioapi_0.13    fs_1.5.2           rmarkdown_2.11     splines_4.1.2
> #> [17] tools_4.1.2        stringr_1.4.0      glue_1.6.0         xfun_0.29
> #> [21] yaml_2.2.1         fastmap_1.1.0      compiler_4.1.2     htmltools_0.5.2
> #> [25] knitr_1.37
> 
> Created on 2022-01-07 by the [reprex package](https://reprex.tidyverse.org) (v2.0.1)
> 
>   Here's the session Info for the Mac:
> 
> sessionInfo()
> R version 4.1.2 (2021-11-01)
> Platform: aarch64-apple-darwin20 (64-bit)
> Running under: macOS Monterey 12.1
> 
> Matrix products: default
> LAPACK: /Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRlapack.dylib
> 
> locale:[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] nlme_3.1-153  targets_0.8.1 HRW_1.0-5
> 
> loaded via a namespace (and not attached):
>   [1] compiler_4.1.2     pillar_1.6.4       tools_4.1.2        digest_0.6.28      lattice_0.20-45    jsonlite_1.7.2     evaluate_0.14
>   [8] lifecycle_1.0.1    tibble_3.1.6       pkgconfig_2.0.3    rlang_0.4.12       igraph_1.2.9       cli_3.1.0          yaml_2.2.1
> [15] xfun_0.28          fastmap_1.1.0      withr_2.4.2        knitr_1.36         htmlwidgets_1.5.4  vctrs_0.3.8        grid_4.1.2
> [22] tidyselect_1.1.1   glue_1.5.0         data.table_1.14.2  R6_2.5.1           processx_3.5.2     fansi_0.5.0        rmarkdown_2.11
> [29] callr_3.7.0        purrr_0.3.4        magrittr_2.0.1     scales_1.1.1       codetools_0.2-18   ps_1.6.0           htmltools_0.5.2
> [36] ellipsis_0.3.2     splines_4.1.2      colorspace_2.0-2   KernSmooth_2.23-20 utf8_1.2.2         visNetwork_2.1.0   munsell_0.5.0
> [43] crayon_1.4.2
> 
> 
> Melissa Key, Ph.D.
> Statistician
> Non-Invasive Brain Stimulation Team
> Infoscitex
> 
> Cell: 937-550-4981
> Email: mkey at infoscitex.com<mailto:mkey at infoscitex.com>
> Base email: melissa.key.ctr at us.af.mil<mailto:melissa.key.ctr at us.af.mil>
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From mkey @end|ng |rom |n|o@c|tex@com  Fri Jan  7 23:29:29 2022
From: mkey @end|ng |rom |n|o@c|tex@com (Key, Melissa)
Date: Fri, 7 Jan 2022 22:29:29 +0000
Subject: [R] [EXTERNAL] Re: bug in Windows implementation of
 nlme::groupedData
In-Reply-To: <41dc78c4-734c-0b7b-ec97-e50133266223@mcmaster.ca>
References: <13531_1641588163_207Kgg0o023122_BN2P110MB1461789D12779C7083013726B14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>
 <41dc78c4-734c-0b7b-ec97-e50133266223@mcmaster.ca>
Message-ID: <BN2P110MB146194711F7FC9CA8BCCADCFB14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>

John,

Thanks for your response.  I agree that the definition of the data frame is poor (in my defense it came directly from the demo code, but I should have checked it more thoroughly).  The good news is that your comments caused me to take a closer look at where X was defined, and I found the reason I wasn't getting the same results on my Mac and PC - that error was between keyboard and chair.

There is still something funny going on though (at least relative to my previous experience with how R searches environments:

If X is defined in the global environment, groupedData can find it there and use it.  (this is what I'm used to)
If X is defined within a function, groupedData cannot find it, even if groupedData is called within the same function. (this seems strange to me - usually parent.frame() captures information within the function environment, or so I thought)

My solution at the bottom still works - and unlike groupedData, nlme allows a list as input to the data argument (or at least, doesn't check to make sure it's a data frame), so I have a working (albeit hacky) solution that actually makes more sense to me than using groupedData, but it still seems strange that the function cannot find X in its search path.

Thanks again!
Melissa

-----Original Message-----
From: John Fox <jfox at mcmaster.ca> 
Sent: Friday, January 7, 2022 4:35 PM
To: Key, Melissa <mkey at infoscitex.com>
Cc: r-help at r-project.org
Subject: [EXTERNAL] Re: [R] bug in Windows implementation of nlme::groupedData

Dear Melissa,

It seems strange to me that your code would work on any platform (it doesn't on my Mac) because the data frame you create shouldn't contain a matrix named "X" but rather columns including those originating from X. 
To illustrate:

 > X <- matrix(1:12, 4, 3)
 > colnames(X) <- c("a", "b", "c")
 > X
      a b  c
[1,] 1 5  9
[2,] 2 6 10
[3,] 3 7 11
[4,] 4 8 12

 > y <- 1:4

 > (D <- data.frame(y, X))
   y a b  c
1 1 1 5  9
2 2 2 6 10
3 3 3 7 11
4 4 4 8 12

 > str(D)
'data.frame':	4 obs. of  4 variables:
  $ y: int  1 2 3 4
  $ a: int  1 2 3 4
  $ b: int  5 6 7 8
  $ c: int  9 10 11 12

My session info:

 > sessionInfo()
R version 4.1.2 (2021-11-01)
Platform: aarch64-apple-darwin20 (64-bit) Running under: macOS Monterey 12.1

Matrix products: default
LAPACK: 
/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] nlme_3.1-153 HRW_1.0-5

loaded via a namespace (and not attached):
[1] compiler_4.1.2     tools_4.1.2        KernSmooth_2.23-20 
splines_4.1.2
[5] grid_4.1.2         lattice_0.20-45

I hope this helps,
  John

--
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://usg02.safelinks.protection.office365.us/?url=https%3A%2F%2Fsocialsciences.mcmaster.ca%2Fjfox%2F&amp;data=04%7C01%7Cmkey%40infoscitex.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e985038b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=nTXsf6vbxVIstMup5AUlmABv9CdQa3hw44Fdb2lej7A%3D&amp;reserved=0

On 2022-01-07 11:23 a.m., Key, Melissa wrote:
> I am trying to replicate a semi-parametric analysis described in Harezlak, Jaroslaw, David Ruppert, and Matt P. Wand. Semiparametric regression with R. New York, NY: Springer, 2018. (https://usg02.safelinks.protection.office365.us/?url=https%3A%2F%2Flink.springer.com%2Fbook%2F10.1007%252F978-1-4939-8853-2&amp;data=04%7C01%7Cmkey%40infoscitex.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e985038b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=ESCv%2Bp%2FPo7pyKm055Y4nYAK8Cj1RTkorP9ZvahZTPmE%3D&amp;reserved=0).
> 
> I can successfully run the analysis, but now I'm trying to move it into my workflow, which requires that the analysis be conducted within a function (using targets package), and the `groupedData` function now fails with an error that it cannot find the `X` matrix (see reprex below).  I've tried the reprex on both my personal Mac (where it works??) and on windows machines (where it does not) - so the problem is likely specific to Windows computers (yes, this seems weird to me too).
> All packages have been updated, and I'm running the latest version of R on all machines.
> 
> Reprex:
> 
> library(HRW) # contains example data and ZOSull function
> library(nlme)
> 
> data(growthIndiana)
> 
> 
> analyze_this <- function(df) {
> 
>    mean.x <- mean(df$age)
>    mean.y <- mean(df$height)
>    sd.x <- sd(df$age)
>    sd.y <- sd(df$height)
> 
>    df$x <- (df$age - mean.x) / sd.x
>    df$y <- (df$height - mean.y) / sd.y
> 
>    X <- model.matrix(~ x * male * black, data = df)
>    dummyID <- rep(1, length(nrow(X)))
> 
>    grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), 
> data = data.frame(y = df$y, X, dummyID))
> 
> }
> 
> 
> # doesn't work on Windows machine, does work on the Mac
> analyze_this(growthIndiana)
> #> Error in eval(aux[[2]], object): object 'X' not found
> 
> # does work
> 
> df <- growthIndiana
> 
> mean.x <- mean(df$age)
> mean.y <- mean(df$height)
> sd.x <- sd(df$age)
> sd.y <- sd(df$height)
> 
> df$x <- (df$age - mean.x) / sd.x
> df$y <- (df$height - mean.y) / sd.y
> 
> X <- model.matrix(~ x * male * black, data = df) dummyID <- rep(1, 
> length(nrow(X)))
> 
> grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data 
> = data.frame(y = df$y, X, dummyID))
> 
> 
> # attempted work-around.
> 
> analyze_this2 <- function(df) {
>    num.global.knots = 20
>    num.subject.knots = 10
> 
>    mean.x <- mean(df$age)
>    mean.y <- mean(df$height)
>    sd.x <- sd(df$age)
>    sd.y <- sd(df$height)
> 
>    df$x <- (df$age - mean.x) / sd.x
>    df$y <- (df$height - mean.y) / sd.y
> 
>    X <- model.matrix(~ x * male * black, data = df)
>    dummyID <- rep(1, length(nrow(X)))
> 
>    # grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), 
> data = data.frame(y = df$y, X, dummyID))
> 
>    global.knots = quantile(unique(df$x), seq(0, 1, length = num.global.knots + 2)[-c(1, num.global.knots + 2)])
>    subject.knots = quantile(unique(df$x), seq(0, 1, length = 
> num.subject.knots + 2)[-c(1, num.subject.knots + 2)])
> 
>    Z.global <- ZOSull(df$x, range.x = range(df$x), global.knots)
>    Z.group <- df$black * Z.global
>    Z.subject <- ZOSull(df$x, range.x = range(df$x), subject.knots)
> 
>    Zblock <- list(
>      dummyID = pdIdent(~ 0 + Z.global),
>      dummyID = pdIdent(~ 0 + Z.group),
>      idnum = pdSymm(~ x),
>      idnum = pdIdent(~ 0 + Z.subject)
>    )
> 
>    df$dummyID <- dummyID
>    tmp_data <- c(
>      df,
>      X = list(X),
>      Z.global = list(Z.global),
>      Z.group = list(Z.global),
>      Z.subject = list(Z.subject)
>    )
> 
>    fit <- lme(y ~ 0 + X,
>      data = tmp_data,
>      random = Zblock
>    )
> 
> }
> 
> # this works (warning - lme takes awhile to fit)
> analyze_this2(growthIndiana)
> 
> sessionInfo()
> #> R version 4.1.2 (2021-11-01)
> #> Platform: x86_64-w64-mingw32/x64 (64-bit) #> Running under: Windows 
> 10 x64 (build 22000) #> #> Matrix products: default #> #> locale:
> #> [1] LC_COLLATE=English_United States.1252 #> [2] 
> LC_CTYPE=English_United States.1252 #> [3] LC_MONETARY=English_United 
> States.1252 #> [4] LC_NUMERIC=C #> [5] LC_TIME=English_United 
> States.1252 #> #> attached base packages:
> #> [1] stats     graphics  grDevices utils     datasets  methods   base
> #>
> #> other attached packages:
> #> [1] nlme_3.1-153 HRW_1.0-5
> #>
> #> loaded via a namespace (and not attached):
> #>  [1] lattice_0.20-45    digest_0.6.29      withr_2.4.3        grid_4.1.2
> #>  [5] magrittr_2.0.1     reprex_2.0.1       evaluate_0.14      KernSmooth_2.23-20
> #>  [9] highr_0.9          stringi_1.7.6      rlang_0.4.12       cli_3.1.0
> #> [13] rstudioapi_0.13    fs_1.5.2           rmarkdown_2.11     splines_4.1.2
> #> [17] tools_4.1.2        stringr_1.4.0      glue_1.6.0         xfun_0.29
> #> [21] yaml_2.2.1         fastmap_1.1.0      compiler_4.1.2     htmltools_0.5.2
> #> [25] knitr_1.37
> 
> Created on 2022-01-07 by the [reprex 
> package](https://usg02.safelinks.protection.office365.us/?url=https%3A
> %2F%2Freprex.tidyverse.org%2F&amp;data=04%7C01%7Cmkey%40infoscitex.com
> %7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e985038b58
> %7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=hH
> 5ncnSVZGQ4KZsvLpvjgM%2Fgf9Zu5QnoeSntTrCZWjk%3D&amp;reserved=0) 
> (v2.0.1)
> 
>   Here's the session Info for the Mac:
> 
> sessionInfo()
> R version 4.1.2 (2021-11-01)
> Platform: aarch64-apple-darwin20 (64-bit) Running under: macOS 
> Monterey 12.1
> 
> Matrix products: default
> LAPACK: 
> /Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRl
> apack.dylib
> 
> locale:[1] 
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] nlme_3.1-153  targets_0.8.1 HRW_1.0-5
> 
> loaded via a namespace (and not attached):
>   [1] compiler_4.1.2     pillar_1.6.4       tools_4.1.2        digest_0.6.28      lattice_0.20-45    jsonlite_1.7.2     evaluate_0.14
>   [8] lifecycle_1.0.1    tibble_3.1.6       pkgconfig_2.0.3    rlang_0.4.12       igraph_1.2.9       cli_3.1.0          yaml_2.2.1
> [15] xfun_0.28          fastmap_1.1.0      withr_2.4.2        knitr_1.36         htmlwidgets_1.5.4  vctrs_0.3.8        grid_4.1.2
> [22] tidyselect_1.1.1   glue_1.5.0         data.table_1.14.2  R6_2.5.1           processx_3.5.2     fansi_0.5.0        rmarkdown_2.11
> [29] callr_3.7.0        purrr_0.3.4        magrittr_2.0.1     scales_1.1.1       codetools_0.2-18   ps_1.6.0           htmltools_0.5.2
> [36] ellipsis_0.3.2     splines_4.1.2      colorspace_2.0-2   KernSmooth_2.23-20 utf8_1.2.2         visNetwork_2.1.0   munsell_0.5.0
> [43] crayon_1.4.2
> 
> 
> Melissa Key, Ph.D.
> Statistician
> Non-Invasive Brain Stimulation Team
> Infoscitex
> 
> Cell: 937-550-4981
> Email: mkey at infoscitex.com<mailto:mkey at infoscitex.com>
> Base email: 
> melissa.key.ctr at us.af.mil<mailto:melissa.key.ctr at us.af.mil>
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://usg02.safelinks.protection.office365.us/?url=https%3A%2F%2Fsta
> t.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=04%7C01%7Cmkey%40info
> scitex.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690
> e985038b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIj
> oiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&am
> p;sdata=4c%2Bnu06ZfIKpwowJCTz2mIl7kAEQR5vbZSw8pTuqumk%3D&amp;reserved=
> 0 PLEASE do read the posting guide 
> https://usg02.safelinks.protection.office365.us/?url=http%3A%2F%2Fwww.
> r-project.org%2Fposting-guide.html&amp;data=04%7C01%7Cmkey%40infoscite
> x.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e9850
> 38b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4
> wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sda
> ta=iT8fu9JX5i7gUfo0T2gQMVdHEm%2FSThakp2yaOJ2pOBQ%3D&amp;reserved=0
> and provide commented, minimal, self-contained, reproducible code.


From j|ox @end|ng |rom mcm@@ter@c@  Sat Jan  8 02:17:34 2022
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Fri, 7 Jan 2022 20:17:34 -0500
Subject: [R] [EXTERNAL] Re: bug in Windows implementation of
 nlme::groupedData
In-Reply-To: <BN2P110MB146194711F7FC9CA8BCCADCFB14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>
References: <13531_1641588163_207Kgg0o023122_BN2P110MB1461789D12779C7083013726B14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>
 <41dc78c4-734c-0b7b-ec97-e50133266223@mcmaster.ca>
 <BN2P110MB146194711F7FC9CA8BCCADCFB14D9@BN2P110MB1461.NAMP110.PROD.OUTLOOK.COM>
Message-ID: <e5ea5186-991c-78a6-ae3b-d6b19d21f074@mcmaster.ca>

Dear Melissa,

Normally, in evaluating a formula an R modeling function follows the 
scoping rules in ?formula; that is,

"A formula object has an associated environment, and this environment 
(rather than the parent environment) is used by model.frame to evaluate 
variables that are not found in the supplied data argument.

"Formulas created with the ~ operator use the environment in which they 
were created. Formulas created with as.formula will use the env argument 
for their environment."

So, for example, if the variables in the formula live in the environment 
of the calling function and if the data argument isn't used, then the 
variables should be found. Modifying your example a bit and calling 
lme() works, for example:

------- snip -------

 > analyze_this <- function(df) {
+
+   mean.x <- mean(df$age)
+   mean.y <- mean(df$height)
+   sd.x <- sd(df$age)
+   sd.y <- sd(df$height)
+
+   x <- (df$age - mean.x) / sd.x
+   y <- (df$height - mean.y) / sd.y
+   X <- model.matrix(~ x * male * black, data = df)
+   dummyID <- rep(1:2, times=c(floor(nrow(X)/2), ceiling(nrow(X)/2)))
+
+   lme(y ~ X[, -1], random= ~ 1 | dummyID)
+
+   # groupedData(y ~ X[, -1] | dummyID)
+
+ }

 > analyze_this(growthIndiana)
Linear mixed-effects model fit by REML
   Data: NULL
   Log-restricted-likelihood: -2546.266
   Fixed: y ~ X[, -1]
         (Intercept)            X[, -1]x         X[, -1]male        X[, 
-1]black
         -0.16086555          0.73401464          0.26303561 
-0.04761425
       X[, -1]x:male      X[, -1]x:black   X[, -1]male:black X[, 
-1]x:male:black
          0.27517924         -0.10318100          0.21899350 
0.03048160

Random effects:
  Formula: ~1 | dummyID
          (Intercept)  Residual
StdDev: 3.688461e-05 0.4462984

Number of Observations: 4123
Number of Groups: 2

------- snip -------

Note that model.matrix() finds x and y in the environment of 
analyze_this(), and male and black in df.

But if you unquote the line groupedData(y ~ X[, -1] | dummyID), the 
function fails:

------- snip -------

 > analyze_this(growthIndiana)
  Error in data.frame(y = y, X = X, dummyID = dummyID) :
   object 'X' not found

------- snip -------

This suggests that groupedData() is doing something unusual (which I 
don't have the inclination to figure out).

I'm not sure why one needs to manipulate the model matrix directly like 
this, but I assume that there is some coherent reason or you wouldn't be 
asking. Also isn't the formula for groupedData() supposed to have a 
*single* covariate on the right, like y ~ x | g (where y, x, and g are 
individual variables)?

Best,
  John

On 2022-01-07 5:29 p.m., Key, Melissa wrote:
> John,
> 
> Thanks for your response.  I agree that the definition of the data frame is poor (in my defense it came directly from the demo code, but I should have checked it more thoroughly).  The good news is that your comments caused me to take a closer look at where X was defined, and I found the reason I wasn't getting the same results on my Mac and PC - that error was between keyboard and chair.
> 
> There is still something funny going on though (at least relative to my previous experience with how R searches environments:
> 
> If X is defined in the global environment, groupedData can find it there and use it.  (this is what I'm used to)
> If X is defined within a function, groupedData cannot find it, even if groupedData is called within the same function. (this seems strange to me - usually parent.frame() captures information within the function environment, or so I thought)
> 
> My solution at the bottom still works - and unlike groupedData, nlme allows a list as input to the data argument (or at least, doesn't check to make sure it's a data frame), so I have a working (albeit hacky) solution that actually makes more sense to me than using groupedData, but it still seems strange that the function cannot find X in its search path.
> 
> Thanks again!
> Melissa
> 
> -----Original Message-----
> From: John Fox <jfox at mcmaster.ca>
> Sent: Friday, January 7, 2022 4:35 PM
> To: Key, Melissa <mkey at infoscitex.com>
> Cc: r-help at r-project.org
> Subject: [EXTERNAL] Re: [R] bug in Windows implementation of nlme::groupedData
> 
> Dear Melissa,
> 
> It seems strange to me that your code would work on any platform (it doesn't on my Mac) because the data frame you create shouldn't contain a matrix named "X" but rather columns including those originating from X.
> To illustrate:
> 
>   > X <- matrix(1:12, 4, 3)
>   > colnames(X) <- c("a", "b", "c")
>   > X
>        a b  c
> [1,] 1 5  9
> [2,] 2 6 10
> [3,] 3 7 11
> [4,] 4 8 12
> 
>   > y <- 1:4
> 
>   > (D <- data.frame(y, X))
>     y a b  c
> 1 1 1 5  9
> 2 2 2 6 10
> 3 3 3 7 11
> 4 4 4 8 12
> 
>   > str(D)
> 'data.frame':	4 obs. of  4 variables:
>    $ y: int  1 2 3 4
>    $ a: int  1 2 3 4
>    $ b: int  5 6 7 8
>    $ c: int  9 10 11 12
> 
> My session info:
> 
>   > sessionInfo()
> R version 4.1.2 (2021-11-01)
> Platform: aarch64-apple-darwin20 (64-bit) Running under: macOS Monterey 12.1
> 
> Matrix products: default
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRlapack.dylib
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] nlme_3.1-153 HRW_1.0-5
> 
> loaded via a namespace (and not attached):
> [1] compiler_4.1.2     tools_4.1.2        KernSmooth_2.23-20
> splines_4.1.2
> [5] grid_4.1.2         lattice_0.20-45
> 
> I hope this helps,
>    John
> 
> --
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> web: https://usg02.safelinks.protection.office365.us/?url=https%3A%2F%2Fsocialsciences.mcmaster.ca%2Fjfox%2F&amp;data=04%7C01%7Cmkey%40infoscitex.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e985038b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=nTXsf6vbxVIstMup5AUlmABv9CdQa3hw44Fdb2lej7A%3D&amp;reserved=0
> 
> On 2022-01-07 11:23 a.m., Key, Melissa wrote:
>> I am trying to replicate a semi-parametric analysis described in Harezlak, Jaroslaw, David Ruppert, and Matt P. Wand. Semiparametric regression with R. New York, NY: Springer, 2018. (https://usg02.safelinks.protection.office365.us/?url=https%3A%2F%2Flink.springer.com%2Fbook%2F10.1007%252F978-1-4939-8853-2&amp;data=04%7C01%7Cmkey%40infoscitex.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e985038b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=ESCv%2Bp%2FPo7pyKm055Y4nYAK8Cj1RTkorP9ZvahZTPmE%3D&amp;reserved=0).
>>
>> I can successfully run the analysis, but now I'm trying to move it into my workflow, which requires that the analysis be conducted within a function (using targets package), and the `groupedData` function now fails with an error that it cannot find the `X` matrix (see reprex below).  I've tried the reprex on both my personal Mac (where it works??) and on windows machines (where it does not) - so the problem is likely specific to Windows computers (yes, this seems weird to me too).
>> All packages have been updated, and I'm running the latest version of R on all machines.
>>
>> Reprex:
>>
>> library(HRW) # contains example data and ZOSull function
>> library(nlme)
>>
>> data(growthIndiana)
>>
>>
>> analyze_this <- function(df) {
>>
>>     mean.x <- mean(df$age)
>>     mean.y <- mean(df$height)
>>     sd.x <- sd(df$age)
>>     sd.y <- sd(df$height)
>>
>>     df$x <- (df$age - mean.x) / sd.x
>>     df$y <- (df$height - mean.y) / sd.y
>>
>>     X <- model.matrix(~ x * male * black, data = df)
>>     dummyID <- rep(1, length(nrow(X)))
>>
>>     grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)),
>> data = data.frame(y = df$y, X, dummyID))
>>
>> }
>>
>>
>> # doesn't work on Windows machine, does work on the Mac
>> analyze_this(growthIndiana)
>> #> Error in eval(aux[[2]], object): object 'X' not found
>>
>> # does work
>>
>> df <- growthIndiana
>>
>> mean.x <- mean(df$age)
>> mean.y <- mean(df$height)
>> sd.x <- sd(df$age)
>> sd.y <- sd(df$height)
>>
>> df$x <- (df$age - mean.x) / sd.x
>> df$y <- (df$height - mean.y) / sd.y
>>
>> X <- model.matrix(~ x * male * black, data = df) dummyID <- rep(1,
>> length(nrow(X)))
>>
>> grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)), data
>> = data.frame(y = df$y, X, dummyID))
>>
>>
>> # attempted work-around.
>>
>> analyze_this2 <- function(df) {
>>     num.global.knots = 20
>>     num.subject.knots = 10
>>
>>     mean.x <- mean(df$age)
>>     mean.y <- mean(df$height)
>>     sd.x <- sd(df$age)
>>     sd.y <- sd(df$height)
>>
>>     df$x <- (df$age - mean.x) / sd.x
>>     df$y <- (df$height - mean.y) / sd.y
>>
>>     X <- model.matrix(~ x * male * black, data = df)
>>     dummyID <- rep(1, length(nrow(X)))
>>
>>     # grouped_data <- groupedData(y ~ X[,-1]|rep(1, length = nrow(X)),
>> data = data.frame(y = df$y, X, dummyID))
>>
>>     global.knots = quantile(unique(df$x), seq(0, 1, length = num.global.knots + 2)[-c(1, num.global.knots + 2)])
>>     subject.knots = quantile(unique(df$x), seq(0, 1, length =
>> num.subject.knots + 2)[-c(1, num.subject.knots + 2)])
>>
>>     Z.global <- ZOSull(df$x, range.x = range(df$x), global.knots)
>>     Z.group <- df$black * Z.global
>>     Z.subject <- ZOSull(df$x, range.x = range(df$x), subject.knots)
>>
>>     Zblock <- list(
>>       dummyID = pdIdent(~ 0 + Z.global),
>>       dummyID = pdIdent(~ 0 + Z.group),
>>       idnum = pdSymm(~ x),
>>       idnum = pdIdent(~ 0 + Z.subject)
>>     )
>>
>>     df$dummyID <- dummyID
>>     tmp_data <- c(
>>       df,
>>       X = list(X),
>>       Z.global = list(Z.global),
>>       Z.group = list(Z.global),
>>       Z.subject = list(Z.subject)
>>     )
>>
>>     fit <- lme(y ~ 0 + X,
>>       data = tmp_data,
>>       random = Zblock
>>     )
>>
>> }
>>
>> # this works (warning - lme takes awhile to fit)
>> analyze_this2(growthIndiana)
>>
>> sessionInfo()
>> #> R version 4.1.2 (2021-11-01)
>> #> Platform: x86_64-w64-mingw32/x64 (64-bit) #> Running under: Windows
>> 10 x64 (build 22000) #> #> Matrix products: default #> #> locale:
>> #> [1] LC_COLLATE=English_United States.1252 #> [2]
>> LC_CTYPE=English_United States.1252 #> [3] LC_MONETARY=English_United
>> States.1252 #> [4] LC_NUMERIC=C #> [5] LC_TIME=English_United
>> States.1252 #> #> attached base packages:
>> #> [1] stats     graphics  grDevices utils     datasets  methods   base
>> #>
>> #> other attached packages:
>> #> [1] nlme_3.1-153 HRW_1.0-5
>> #>
>> #> loaded via a namespace (and not attached):
>> #>  [1] lattice_0.20-45    digest_0.6.29      withr_2.4.3        grid_4.1.2
>> #>  [5] magrittr_2.0.1     reprex_2.0.1       evaluate_0.14      KernSmooth_2.23-20
>> #>  [9] highr_0.9          stringi_1.7.6      rlang_0.4.12       cli_3.1.0
>> #> [13] rstudioapi_0.13    fs_1.5.2           rmarkdown_2.11     splines_4.1.2
>> #> [17] tools_4.1.2        stringr_1.4.0      glue_1.6.0         xfun_0.29
>> #> [21] yaml_2.2.1         fastmap_1.1.0      compiler_4.1.2     htmltools_0.5.2
>> #> [25] knitr_1.37
>>
>> Created on 2022-01-07 by the [reprex
>> package](https://usg02.safelinks.protection.office365.us/?url=https%3A
>> %2F%2Freprex.tidyverse.org%2F&amp;data=04%7C01%7Cmkey%40infoscitex.com
>> %7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e985038b58
>> %7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAw
>> MDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sdata=hH
>> 5ncnSVZGQ4KZsvLpvjgM%2Fgf9Zu5QnoeSntTrCZWjk%3D&amp;reserved=0)
>> (v2.0.1)
>>
>>    Here's the session Info for the Mac:
>>
>> sessionInfo()
>> R version 4.1.2 (2021-11-01)
>> Platform: aarch64-apple-darwin20 (64-bit) Running under: macOS
>> Monterey 12.1
>>
>> Matrix products: default
>> LAPACK:
>> /Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRl
>> apack.dylib
>>
>> locale:[1]
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] nlme_3.1-153  targets_0.8.1 HRW_1.0-5
>>
>> loaded via a namespace (and not attached):
>>    [1] compiler_4.1.2     pillar_1.6.4       tools_4.1.2        digest_0.6.28      lattice_0.20-45    jsonlite_1.7.2     evaluate_0.14
>>    [8] lifecycle_1.0.1    tibble_3.1.6       pkgconfig_2.0.3    rlang_0.4.12       igraph_1.2.9       cli_3.1.0          yaml_2.2.1
>> [15] xfun_0.28          fastmap_1.1.0      withr_2.4.2        knitr_1.36         htmlwidgets_1.5.4  vctrs_0.3.8        grid_4.1.2
>> [22] tidyselect_1.1.1   glue_1.5.0         data.table_1.14.2  R6_2.5.1           processx_3.5.2     fansi_0.5.0        rmarkdown_2.11
>> [29] callr_3.7.0        purrr_0.3.4        magrittr_2.0.1     scales_1.1.1       codetools_0.2-18   ps_1.6.0           htmltools_0.5.2
>> [36] ellipsis_0.3.2     splines_4.1.2      colorspace_2.0-2   KernSmooth_2.23-20 utf8_1.2.2         visNetwork_2.1.0   munsell_0.5.0
>> [43] crayon_1.4.2
>>
>>
>> Melissa Key, Ph.D.
>> Statistician
>> Non-Invasive Brain Stimulation Team
>> Infoscitex
>>
>> Cell: 937-550-4981
>> Email: mkey at infoscitex.com<mailto:mkey at infoscitex.com>
>> Base email:
>> melissa.key.ctr at us.af.mil<mailto:melissa.key.ctr at us.af.mil>
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://usg02.safelinks.protection.office365.us/?url=https%3A%2F%2Fsta
>> t.ethz.ch%2Fmailman%2Flistinfo%2Fr-help&amp;data=04%7C01%7Cmkey%40info
>> scitex.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690
>> e985038b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIj
>> oiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&am
>> p;sdata=4c%2Bnu06ZfIKpwowJCTz2mIl7kAEQR5vbZSw8pTuqumk%3D&amp;reserved=
>> 0 PLEASE do read the posting guide
>> https://usg02.safelinks.protection.office365.us/?url=http%3A%2F%2Fwww.
>> r-project.org%2Fposting-guide.html&amp;data=04%7C01%7Cmkey%40infoscite
>> x.com%7C57e0067b32a24526600c08d9d2258bd8%7C3430c5de5e6f4f9d9d9690e9850
>> 38b58%7C0%7C0%7C637771881005380638%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4
>> wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000&amp;sda
>> ta=iT8fu9JX5i7gUfo0T2gQMVdHEm%2FSThakp2yaOJ2pOBQ%3D&amp;reserved=0
>> and provide commented, minimal, self-contained, reproducible code.
>


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sat Jan  8 18:04:21 2022
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sat, 8 Jan 2022 17:04:21 +0000 (UTC)
Subject: [R] Percentile bootstrap for the median : error message
References: <409962399.396260.1641661461383.ref@mail.yahoo.com>
Message-ID: <409962399.396260.1641661461383@mail.yahoo.com>

Dear R-experts,

Here below my R code for the percentile bootstrap confidence intervals with an error message. 
Is there a way to make my R code work ?
Many thanks for your help and time.

############################################
library(boot)

s=rnorm(100000,0,1)
(m<-median(s)) 

N <- 100
n<-5
out <- replicate(N, {

dat<-data.frame(sample(s,size=n))
med<-function(d,i) {
median(d[i, ])
}

? boot.out <- boot(data = dat, statistic = med, R = 10000)

? boot.ci(boot.out, type = "per")$per[, 4:5]

})

mean(out[1, ] < m & m < out[2, ])
############################################


From bgunter@4567 @end|ng |rom gm@||@com  Sat Jan  8 18:08:08 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sat, 8 Jan 2022 09:08:08 -0800
Subject: [R] Percentile bootstrap for the median : error message
In-Reply-To: <409962399.396260.1641661461383@mail.yahoo.com>
References: <409962399.396260.1641661461383.ref@mail.yahoo.com>
 <409962399.396260.1641661461383@mail.yahoo.com>
Message-ID: <CAGxFJbQh=H4UOTE57ihmHQbDgxKg46HO0SX2Ae61Q-UGm0C=pA@mail.gmail.com>

I see no error message.

Bert Gunter



On Sat, Jan 8, 2022 at 9:04 AM varin sacha via R-help <r-help at r-project.org>
wrote:

> Dear R-experts,
>
> Here below my R code for the percentile bootstrap confidence intervals
> with an error message.
> Is there a way to make my R code work ?
> Many thanks for your help and time.
>
> ############################################
> library(boot)
>
> s=rnorm(100000,0,1)
> (m<-median(s))
>
> N <- 100
> n<-5
> out <- replicate(N, {
>
> dat<-data.frame(sample(s,size=n))
> med<-function(d,i) {
> median(d[i, ])
> }
>
>   boot.out <- boot(data = dat, statistic = med, R = 10000)
>
>   boot.ci(boot.out, type = "per")$per[, 4:5]
>
> })
>
> mean(out[1, ] < m & m < out[2, ])
> ############################################
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From j|ox @end|ng |rom mcm@@ter@c@  Sat Jan  8 19:09:35 2022
From: j|ox @end|ng |rom mcm@@ter@c@ (Fox, John)
Date: Sat, 8 Jan 2022 18:09:35 +0000
Subject: [R] Percentile bootstrap for the median : error message
In-Reply-To: <26705_1641661485_208H4i9g015198_409962399.396260.1641661461383@mail.yahoo.com>
References: <409962399.396260.1641661461383.ref@mail.yahoo.com>
 <26705_1641661485_208H4i9g015198_409962399.396260.1641661461383@mail.yahoo.com>
Message-ID: <354513C1-905B-4CF6-BCE3-8B9CECDD568C@mcmaster.ca>

Dear Sacha,

Here's your corrected and cleaned-up code:

> library(boot)
> set.seed(123)
> s <- rnorm(100000,0,1)
> (m <- median(s)) 
[1] 0.000946463

> med <- function(d,i) {
+   median(d[i, ])
+ }

> set.seed(456)
> N <- 100
> n<-5

> out <- replicate(N, {
+   dat <- data.frame(sample(s,size=n))
+   boot.out <- boot(data = dat, statistic = med, R = 10000)
+   boot.ci(boot.out, type = "perc")$perc[, 4:5]  
+ })

> mean(out[1, ] < m & m < out[2, ])
[1] 0.94

A couple of comments:

(1) I moved the definition of med() outside of the call to replicate() so the function doesn't get defined repeatedly -- something that, if I'm not mistaken, you were advised to do the last time you asked a very similar question.

(2) Maybe it's time to polish your debugging skills. I quickly found the error in the call to boot.ci() by calling browser() before the line dat <- data.frame(sample(s,size=n)) and stepping through the commands.

I hope this helps,
 John

  -----------------------------
  John Fox, Professor Emeritus
  McMaster University
  Hamilton, Ontario, Canada
  Web: http::/socserv.mcmaster.ca/jfox

> On Jan 8, 2022, at 12:04 PM, varin sacha via R-help <r-help at r-project.org> wrote:
> 
> Dear R-experts,
> 
> Here below my R code for the percentile bootstrap confidence intervals with an error message. 
> Is there a way to make my R code work ?
> Many thanks for your help and time.
> 
> ############################################
> library(boot)
> 
> s=rnorm(100000,0,1)
> (m<-median(s)) 
> 
> N <- 100
> n<-5
> out <- replicate(N, {
> 
> dat<-data.frame(sample(s,size=n))
> med<-function(d,i) {
> median(d[i, ])
> }
> 
>   boot.out <- boot(data = dat, statistic = med, R = 10000)
> 
>   boot.ci(boot.out, type = "per")$per[, 4:5]
> 
> })
> 
> mean(out[1, ] < m & m < out[2, ])
> ############################################
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From v@r|n@@ch@ @end|ng |rom y@hoo@|r  Sat Jan  8 20:46:18 2022
From: v@r|n@@ch@ @end|ng |rom y@hoo@|r (varin sacha)
Date: Sat, 8 Jan 2022 19:46:18 +0000 (UTC)
Subject: [R] Percentile bootstrap for the median : error message
In-Reply-To: <354513C1-905B-4CF6-BCE3-8B9CECDD568C@mcmaster.ca>
References: <409962399.396260.1641661461383.ref@mail.yahoo.com>
 <26705_1641661485_208H4i9g015198_409962399.396260.1641661461383@mail.yahoo.com>
 <354513C1-905B-4CF6-BCE3-8B9CECDD568C@mcmaster.ca>
Message-ID: <245141304.330883.1641671178352@mail.yahoo.com>


Dear John,

Great, many thanks for your quick help.

Best,
SV



Le samedi 8 janvier 2022, 19:09:39 UTC+1, Fox, John <jfox at mcmaster.ca> a ?crit : 





Dear Sacha,

Here's your corrected and cleaned-up code:

> library(boot)
> set.seed(123)
> s <- rnorm(100000,0,1)
> (m <- median(s)) 
[1] 0.000946463

> med <- function(d,i) {
+? median(d[i, ])
+ }

> set.seed(456)
> N <- 100
> n<-5

> out <- replicate(N, {
+? dat <- data.frame(sample(s,size=n))
+? boot.out <- boot(data = dat, statistic = med, R = 10000)
+? boot.ci(boot.out, type = "perc")$perc[, 4:5]? 
+ })

> mean(out[1, ] < m & m < out[2, ])
[1] 0.94

A couple of comments:

(1) I moved the definition of med() outside of the call to replicate() so the function doesn't get defined repeatedly -- something that, if I'm not mistaken, you were advised to do the last time you asked a very similar question.

(2) Maybe it's time to polish your debugging skills. I quickly found the error in the call to boot.ci() by calling browser() before the line dat <- data.frame(sample(s,size=n)) and stepping through the commands.

I hope this helps,
John

? -----------------------------
? John Fox, Professor Emeritus
? McMaster University
? Hamilton, Ontario, Canada
? Web: http::/socserv.mcmaster.ca/jfox

> On Jan 8, 2022, at 12:04 PM, varin sacha via R-help <r-help at r-project.org> wrote:
> 
> Dear R-experts,
> 
> Here below my R code for the percentile bootstrap confidence intervals with an error message. 
> Is there a way to make my R code work ?
> Many thanks for your help and time.
> 
> ############################################
> library(boot)
> 
> s=rnorm(100000,0,1)
> (m<-median(s)) 
> 
> N <- 100
> n<-5
> out <- replicate(N, {
> 
> dat<-data.frame(sample(s,size=n))
> med<-function(d,i) {
> median(d[i, ])
> }
> 
>? boot.out <- boot(data = dat, statistic = med, R = 10000)
> 
>? boot.ci(boot.out, type = "per")$per[, 4:5]
> 
> })
> 
> mean(out[1, ] < m & m < out[2, ])
> ############################################
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Sun Jan  9 09:15:54 2022
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Sun, 9 Jan 2022 09:15:54 +0100
Subject: [R] Error in using multiple correspondence analysis in R's
 FactoMineR
Message-ID: <CAMk+s2Ti0UL_2S+Fti0dz+iJuTN3Vni79V3KgRfZAiCbrMJMbA@mail.gmail.com>

Hello,
I am trying to apply multiple correspondence analysis to a data frame
using the FactoMineR package following the post
http://sebastien.ledien.free.fr/unofficial_factominer/factosbest/dimensions-description.html

My data frame has this structure:
```
> str(df)
'data.frame': 27 obs. of  33 variables:
$ id              : int  1 6 9 10 11 12 13 36 40 49 ...
$ retinol         : num  2.56 2.93 3.21 1.73 1.32 2.34 2.43 2.54 0.37 1.22 ...
...
$ age             : int  60 63 66 72 64 73 66 68 72 59 ...
$ death           : Factor w/ 2 levels "No","Yes": 1 2 1 1 2 1 1 2 1 1 ...
...
$ age_bin         : Factor w/ 4 levels "<30","30-49",..: 3 3 3 4 3 4 3 3 4 3 ...
```
Thus, following the post, I have set the quantitative supplementary
column to `age` (df[10]) and then tested the factorial variables
(df[11:33) but:
```
> res.mca = MCA(df, quanti.sup=2, quali.sup=c(11:33))
Error in dimnames(res) <- list(attributes(tab)$row.names, listModa) :
length of 'dimnames' [2] not equal to array extent
> nrow(df[10])
[1] 27
> nrow(df[11:33])
[1] 27
```

What would be the problem?
Thank you


-- 
Best regards,
Luigi


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Sun Jan  9 18:20:37 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Sun, 9 Jan 2022 17:20:37 +0000
Subject: [R] Error in using multiple correspondence analysis in R's
 FactoMineR
In-Reply-To: <CAMk+s2Ti0UL_2S+Fti0dz+iJuTN3Vni79V3KgRfZAiCbrMJMbA@mail.gmail.com>
References: <CAMk+s2Ti0UL_2S+Fti0dz+iJuTN3Vni79V3KgRfZAiCbrMJMbA@mail.gmail.com>
Message-ID: <bc8ff31f-9e45-161a-bafa-dfbb1c7e02c1@sapo.pt>

Hello,

You have set quanti.sup to retinol (df[[2]]), not age. In the code it's 
quanti.sup=2.

Without data it's difficult to say but try changing it.

Hope this helps,

Rui Barradas

?s 08:15 de 09/01/22, Luigi Marongiu escreveu:
> Hello,
> I am trying to apply multiple correspondence analysis to a data frame
> using the FactoMineR package following the post
> http://sebastien.ledien.free.fr/unofficial_factominer/factosbest/dimensions-description.html
> 
> My data frame has this structure:
> ```
>> str(df)
> 'data.frame': 27 obs. of  33 variables:
> $ id              : int  1 6 9 10 11 12 13 36 40 49 ...
> $ retinol         : num  2.56 2.93 3.21 1.73 1.32 2.34 2.43 2.54 0.37 1.22 ...
> ...
> $ age             : int  60 63 66 72 64 73 66 68 72 59 ...
> $ death           : Factor w/ 2 levels "No","Yes": 1 2 1 1 2 1 1 2 1 1 ...
> ...
> $ age_bin         : Factor w/ 4 levels "<30","30-49",..: 3 3 3 4 3 4 3 3 4 3 ...
> ```
> Thus, following the post, I have set the quantitative supplementary
> column to `age` (df[10]) and then tested the factorial variables
> (df[11:33) but:
> ```
>> res.mca = MCA(df, quanti.sup=2, quali.sup=c(11:33))
> Error in dimnames(res) <- list(attributes(tab)$row.names, listModa) :
> length of 'dimnames' [2] not equal to array extent
>> nrow(df[10])
> [1] 27
>> nrow(df[11:33])
> [1] 27
> ```
> 
> What would be the problem?
> Thank you
> 
>


From @pr||ett|ngton @end|ng |rom gm@||@com  Mon Jan 10 01:26:55 2022
From: @pr||ett|ngton @end|ng |rom gm@||@com (April Ettington)
Date: Mon, 10 Jan 2022 13:26:55 +1300
Subject: [R] ggtree node labels
Message-ID: <CAE9tUWc96wbW2bMUgcJ_nxKzqTPyaT9TNoeXhUMRZhpXcjMtrA@mail.gmail.com>

Hello,

Is there a way to add nodelabels to a ggtree plot in R?  Thanks in advance
:)

April

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Mon Jan 10 01:32:32 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Sun, 9 Jan 2022 16:32:32 -0800
Subject: [R] ggtree node labels
In-Reply-To: <CAE9tUWc96wbW2bMUgcJ_nxKzqTPyaT9TNoeXhUMRZhpXcjMtrA@mail.gmail.com>
References: <CAE9tUWc96wbW2bMUgcJ_nxKzqTPyaT9TNoeXhUMRZhpXcjMtrA@mail.gmail.com>
Message-ID: <CAGxFJbRcekZG3j+3tghh8jvUCQA+vqy69wz3eMmEeBmX4w=39g@mail.gmail.com>

RStudio is **not** R. In particular, the so-called TidyVerse and
ggplot-related graphics consistsof all *non*-standard contributed packages,
about which the Posting Guide (linked below) says:

"For questions about functions in standard packages distributed with R (see
the FAQ Add-on packages in R), ask questions on R-help.
[The link is:
https://cran.r-project.org/doc/FAQ/R-FAQ.html#Add-on-packages-in-R
This gives the list of current _standard_ packages]

If the question relates to a contributed package , e.g., one downloaded
from CRAN, try contacting the package maintainer first. You can also use
find("functionname") and packageDescription("packagename") to find this
information. Only send such questions to R-help or R-devel if you get no
reply or need further assistance. This applies to both requests for help
and to bug reports."

Note that RStudio maintains its own help resources at:
https://community.rstudio.com/
This is where questions about the TidyVerse, ggplot, etc. should be posted.


Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Sun, Jan 9, 2022 at 4:27 PM April Ettington <aprilettington at gmail.com>
wrote:

> Hello,
>
> Is there a way to add nodelabels to a ggtree plot in R?  Thanks in advance
> :)
>
> April
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From petr@p|k@| @end|ng |rom prechez@@cz  Mon Jan 10 08:16:20 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Mon, 10 Jan 2022 07:16:20 +0000
Subject: [R] ggtree node labels
In-Reply-To: <CAE9tUWc96wbW2bMUgcJ_nxKzqTPyaT9TNoeXhUMRZhpXcjMtrA@mail.gmail.com>
References: <CAE9tUWc96wbW2bMUgcJ_nxKzqTPyaT9TNoeXhUMRZhpXcjMtrA@mail.gmail.com>
Message-ID: <c793a3aea80b4640b9134f01bb71013d@SRVEXCHCM1301.precheza.cz>

Hi

If you asked google ggtree node label you will get many hits which tell you
how to label nodes

E.g.
https://bioc.ism.ac.jp/packages/3.3/bioc/vignettes/ggtree/inst/doc/treeAnnot
ation.html

And you will get it much more quickly than by asking here.

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of April Ettington
> Sent: Monday, January 10, 2022 1:27 AM
> To: r-help at r-project.org
> Subject: [R] ggtree node labels
> 
> Hello,
> 
> Is there a way to add nodelabels to a ggtree plot in R?  Thanks in advance
> :)
> 
> April
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From @dr|@n@@@|@t|g @end|ng |rom |c@hn@m@@m@edu  Mon Jan 10 22:06:27 2022
From: @dr|@n@@@|@t|g @end|ng |rom |c@hn@m@@m@edu (Adriana Sistig)
Date: Mon, 10 Jan 2022 16:06:27 -0500
Subject: [R] Help with developing package DWLS
Message-ID: <FD23122F-6045-4F6A-8194-17292FAEC526@icahn.mssm.edu>

Hello, 

My name is Adriana Sistig and I am struggle to fix an ERROR and a few WARNING and NOTE message that I am getting from my package. I am new to CRAN packaging and am having some trouble finalizing my package. 

I do not have any ERRORS when I check using Mac but when checking via Windows and Debian I do. The current Status: 1 ERROR, 3 WARNINGs, 6 NOTEs ?
Pasted below for more information. 

GitHub link: https://github.com/sistia01/DWLS <https://github.com/sistia01/DWLS>

Further information: 

> sessionInfo()
R version 4.0.5 (2021-03-31)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Big Sur 10.16

Matrix products: default
LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] parallel  stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] DWLS_0.1.0          Giotto_1.0.3        Biobase_2.50.0      BiocGenerics_0.36.1

loaded via a namespace (and not attached):
  [1] Seurat_4.0.5                Rtsne_0.15                  colorspace_2.0-2           
  [4] deldir_1.0-6                class_7.3-19                ellipsis_0.3.2             
  [7] ggridges_0.5.3              XVector_0.30.0              GenomicRanges_1.42.0       
 [10] proxy_0.4-26                spatstat.data_2.1-0         leiden_0.3.9               
 [13] listenv_0.8.0               ggrepel_0.9.1               fansi_0.5.0                
 [16] codetools_0.2-18            splines_4.0.5               polyclip_1.10-0            
 [19] jsonlite_1.7.2              ica_1.0-2                   cluster_2.1.2              
 [22] png_0.1-7                   uwot_0.1.11                 shiny_1.7.1                
 [25] sctransform_0.3.2           spatstat.sparse_2.0-0       compiler_4.0.5             
 [28] httr_1.4.2                  SeuratObject_4.0.4          Matrix_1.3-4               
 [31] fastmap_1.1.0               lazyeval_0.2.2              cli_3.1.0                  
 [34] later_1.3.0                 htmltools_0.5.2             tools_4.0.5                
 [37] igraph_1.2.9                gtable_0.3.0                glue_1.6.0                 
 [40] GenomeInfoDbData_1.2.4      RANN_2.6.1                  reshape2_1.4.4             
 [43] dplyr_1.0.7                 Rcpp_1.0.7                  scattermore_0.7            
 [46] vctrs_0.3.8                 nlme_3.1-153                lmtest_0.9-39              
 [49] stringr_1.4.0               globals_0.14.0              mime_0.12                  
 [52] miniUI_0.1.1.1              lifecycle_1.0.1             irlba_2.3.5                
 [55] goftest_1.2-3               future_1.23.0               zlibbioc_1.36.0            
 [58] MASS_7.3-54                 zoo_1.8-9                   scales_1.1.1               
 [61] MAST_1.16.0                 spatstat.core_2.3-2         promises_1.2.0.1           
 [64] MatrixGenerics_1.2.1        spatstat.utils_2.2-0        SummarizedExperiment_1.20.0
 [67] RColorBrewer_1.1-2          SingleCellExperiment_1.12.0 reticulate_1.22            
 [70] pbapply_1.5-0               gridExtra_2.3               ggplot2_3.3.5              
 [73] rpart_4.1-15                reshape_0.8.8               stringi_1.7.6              
 [76] S4Vectors_0.28.1            e1071_1.7-9                 GenomeInfoDb_1.26.7        
 [79] rlang_0.4.12                pkgconfig_2.0.3             matrixStats_0.61.0         
 [82] bitops_1.0-7                lattice_0.20-45             ROCR_1.0-11                
 [85] purrr_0.3.4                 tensor_1.5                  patchwork_1.1.1            
 [88] htmlwidgets_1.5.4           cowplot_1.1.1               tidyselect_1.1.1           
 [91] parallelly_1.29.0           RcppAnnoy_0.0.19            plyr_1.8.6                 
 [94] magrittr_2.0.1              R6_2.5.1                    IRanges_2.24.1             
 [97] generics_0.1.1              DBI_1.1.1                   DelayedArray_0.16.3        
[100] mgcv_1.8-38                 pillar_1.6.4                fitdistrplus_1.1-6         
[103] survival_3.2-13             abind_1.4-5                 RCurl_1.98-1.5             
[106] tibble_3.1.6                future.apply_1.8.1          crayon_1.4.2               
[109] KernSmooth_2.23-20          utf8_1.2.2                  spatstat.geom_2.3-0        
[112] plotly_4.10.0               grid_4.0.5                  data.table_1.14.2          
[115] digest_0.6.29               xtable_1.8-4                tidyr_1.1.4                
[118] httpuv_1.6.3                stats4_4.0.5                munsell_0.5.0              
[121] viridisLite_0.4.0           quadprog_1.5-8  

> Sys.getlocale()
[1] "en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8?

?????????????????
* using log directory 'd:/RCompile/CRANguest/R-devel/DWLS.Rcheck'
* using R Under development (unstable) (2022-01-09 r81462 ucrt)
* using platform: x86_64-w64-mingw32 (64-bit)
* using session charset: UTF-8
* checking for file 'DWLS/DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'DWLS' version '0.1.0'
* package encoding: UTF-8
* checking CRAN incoming feasibility ... NOTE
Maintainer: 'Adriana Sistig <adriana.sistig at icahn.mssm.edu>'

New submission

Possibly misspelled words in DESCRIPTION:
  DWLS (25:67, 32:42)
  Deconvolution (3:24)
  deconvolution (26:46)
  transcriptomic (10:51)
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking whether package 'DWLS' can be installed ... OK
* checking installed package size ... NOTE
  installed size is 66.4Mb
  sub-directories of 1Mb or more:
    data  66.3Mb
* checking package directory ... OK
* checking for future file timestamps ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... NOTE
Non-standard files/directories found at top level:
  'Reference_Manual_DWLS.md' 'Reference_Manual_Rd2md.md'
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking use of S3 registration ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... [28s] NOTE
DEAnalysisMAST: no visible binding for global variable
  'Number.of.Cells'
Undefined global functions or variables:
  Number.of.Cells
* checking Rd files ... [1s] OK
* checking Rd metadata ... OK
* checking Rd line widths ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... WARNING
Undocumented code objects:
  'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
Undocumented data sets:
  'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
All user-level objects in a package should have documentation entries.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking contents of 'data' directory ... OK
* checking data for non-ASCII characters ... OK
* checking LazyData ... WARNING
  LazyData DB of 66.3 MB without LazyDataCompression set
  See ??1.1.6 of 'Writing R Extensions'
* checking data for ASCII and uncompressed saves ... OK
* checking R/sysdata.rda ... OK
* checking examples ... [80s] NOTE
Examples with CPU (user + system) or elapsed time > 10s
           user system elapsed
stat.log2 50.87  11.58   62.45
* checking for unstated dependencies in 'tests' ... OK
* checking tests ... [9s] OK
  Running 'testthat.R' [9s]
* checking PDF version of manual ... WARNING
LaTeX errors when creating PDF version.
This typically indicates Rd problems.
LaTeX errors found:
! Package inputenc Error: Unicode character ??? (U+2212)
(inputenc)                not set up for use with LaTeX.

See the inputenc package documentation for explanation.
Type  H <return>  for immediate help.
* checking PDF version of manual without hyperrefs or index ... ERROR
* checking for detritus in the temp directory ... NOTE
Found the following files/directories:
  'lastMiKTeXException'
* DONE
Status: 1 ERROR, 3 WARNINGs, 6 NOTEs
?????? 
With regard to the NOTE about function DEAnalysisMAST ?> I?m unsure about why this function in particular is throwing a note while other functions which use very similar code are not. 
I have tried a few different methods to create the pdf document of the manual but have not been able to succeed. I?m unsure of how to decipher the LaTeX Errors and have found from further research online that this may actually be quite an arduous task. I would greatly appreciate any help with this as it is not something that I have been able to solve on my own for the past few months. Please let me know if any further information is required. I thank you in advance for your help. 

Best, 
Adriana Sistig 


	[[alternative HTML version deleted]]


From @kw@|mmo @end|ng |rom gm@||@com  Tue Jan 11 11:04:20 2022
From: @kw@|mmo @end|ng |rom gm@||@com (Andrew Simmons)
Date: Tue, 11 Jan 2022 05:04:20 -0500
Subject: [R] Help with developing package DWLS
In-Reply-To: <FD23122F-6045-4F6A-8194-17292FAEC526@icahn.mssm.edu>
References: <FD23122F-6045-4F6A-8194-17292FAEC526@icahn.mssm.edu>
Message-ID: <CAPcHnpQvEsfD0fak0+4+W+OJLO48G+wbobNhP6dkYJ2pdZcZ+w@mail.gmail.com>

The NOTE saying 'Possibly misspelled words in DESCRIPTION' can probably be
ignored (though I would probably put the name of your package in single
quotes).


The NOTE 'Non-standard files/directories found at top level' means that you
should move the non-standard files to a different location OR add the
files/directories to your .Rbuildignore file
For example, in my own packages, I usually have a script that will
conveniently run R CMD build, R CMD INSTALL, and R CMD check on that
package, but I don't want to include it in the *.tar.gz, so I add the line:
^Check_This\.R$
to the .Rbuildignore file, and then it's not included. For you, adding
something like:
^Reference_Manual_DWLS\.md$
^Reference_Manual_Rd2md\.md$
might work.


The NOTE 'DEAnalysisMAST: no visible binding for global variable
  'Number.of.Cells'', basically on line 46 of the function you have
something like vbeta.1 <- subset(vbeta.fa, Number.of.Cells == 1)
Anyone reading this would know that Number.of.Cells == 1 is evaluated
within the context vbeta.fa, but R CMD check doesn't, so something like:
vbeta.1 <- vbeta.fa[vbeta.fa[["Number.of.Cells"]] == 1, , drop = FALSE]
might get around this issue while still behaving the same code-wise.


The WARNING 'Undocumented code objects:', even though these objects you've
exported are not functions, they still need a documentation file.
It seems like you're using roxygen for documentation, I'm not familiar with
that, but I'd imagine it's nearly identical to documenting a function.
Here's the chapter of the manual they were referring to:
https://cran.r-project.org/doc/manuals/R-exts.html#Writing-R-documentation-files


The NOTE 'installed size is 66.4Mb'
and WARNING 'LazyData DB of 66.3 MB without LazyDataCompression set'
basically, you have too much data. Or not too much necessarily, but it's
not compressed enough.
The default compression is gzip, but you can also try bzip2 and xz.
You can do this by adding the argument --data-compress=bzip2
or --data-compress=xz to R CMD INSTALL,
or you can add LazyDataCompression: bzip2 or LazyDataCompression: xz to
your DESCRIPTION file.
It seems like you already have the line LazyDataCompression: xz in your
DESCRIPTION, but it's commented out, might want to un-comment it.
Also, for comparisons sake, you could add '-1' to the package version
and LazyDataCompression:
gzip, and then do the same thing adding '-2' and LazyDataCompression:
bzip2, and '-3' and LazyDataCompression: xz so that you figure out which
has the best compression.
You can also visit here for more details:
https://cran.r-project.org/doc/manuals/R-exts.html#Data-in-packages


The NOTE 'Examples with CPU (user + system) or elapsed time > 10s'
basically, your examples need to not take as long. If you'd like, you could
move the long computations into a demo, see here:
https://cran.r-project.org/doc/manuals/R-exts.html#Package-subdirectories
Or you could also add a question for the user:
if (utils::askYesNo("Would you like to run the longer, more involved
example?", default = interactive())) {
    # long example
} else {
    # make a shorter example here
}
and this way, when being check by R CMD check, it will run the short
example, while still allowing the user to run the long example.


I don't think I can offer much help with the last ERROR,


Might also be worth noting, my Windows machine brings up some things that
yours doesn't. For example, it says the directory should be named 'data',
not 'Data'.
Here's the rest of the print out:
andre at DESKTOP-VR312SR:~$ R CMD "check" "--as-cran"
"C:\Users\andre\AppData\Local\Temp\RtmpcjdmpU\file4b8c681a309f\DWLS_0.1.0.tar.gz"
* using log directory 'C:/Users/andre/Documents/DWLS.Rcheck'
* using R version 4.1.2 (2021-11-01)
* using platform: x86_64-w64-mingw32 (64-bit)
* using session charset: ISO8859-1
* using option '--as-cran'
* checking for file 'DWLS/DESCRIPTION' ... OK
* checking extension type ... Package
* this is package 'DWLS' version '0.1.0'
* package encoding: UTF-8
* checking CRAN incoming feasibility ... NOTE
Maintainer: 'Adriana Sistig <adriana.sistig at icahn.mssm.edu>'

New submission

Unknown, possibly mis-spelled, fields in DESCRIPTION:
  'RemoteType' 'RemoteHost' 'RemoteRepo' 'RemoteUsername' 'RemoteRef'
'RemoteSha' 'GithubRepo' 'GithubUsername' 'GithubRef' 'GithubSHA1'

Size of tarball: 32169874 bytes
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for executable files ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking whether package 'DWLS' can be installed ... OK
* checking installed package size ... NOTE
  installed size is 66.4Mb
  sub-directories of 1Mb or more:
    data  66.3Mb
* checking package directory ... OK
* checking for future file timestamps ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... NOTE
Non-standard file/directory found at top level:
  'Data'
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ...
OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking use of S3 registration ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... NOTE
DEAnalysisMAST: no visible binding for global variable
  'Number.of.Cells'
Undefined global functions or variables:
  Number.of.Cells
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd line widths ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... WARNING
Undocumented code objects:
  'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
Undocumented data sets:
  'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
All user-level objects in a package should have documentation entries.
See chapter 'Writing R documentation files' in the 'Writing R
Extensions' manual.
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking contents of 'data' directory ... OK
* checking data for non-ASCII characters ... OK
* checking LazyData ... WARNING
  LazyData DB of 66.3 MB without LazyDataCompression set
  See ?1.1.6 of 'Writing R Extensions'
* checking data for ASCII and uncompressed saves ... OK
* checking R/sysdata.rda ... OK
* checking examples ... ERROR
Running examples in 'DWLS-Ex.R' failed
The error most likely occurred in:

> base::assign(".ptime", proc.time(), pos = "CheckExEnv")
> ### Name: stat.log2
> ### Title: stat.log2
> ### Aliases: stat.log2
>
> ### ** Examples
>
> pseudo.count = 0.1
> dataSC <- cbind(dataSC_1, dataSC_2)
> data.used.log2   <- log2(dataSC+pseudo.count)
> colnames(data.used.log2)<-make.unique(colnames(data.used.log2))
> diff.cutoff=0.5
> for (i in unique(labels)){
+   cells.symbol.list2 = colnames(data.used.log2)[which(labels==i)]
+   cells.coord.list2 = match(cells.symbol.list2, colnames(data.used.log2))
+   cells.symbol.list1 = colnames(data.used.log2)[which(labels != i)]
+   cells.coord.list1 = match(cells.symbol.list1, colnames(data.used.log2))
+   data.used.log2.ordered = cbind(data.used.log2[,cells.coord.list1],
+
data.used.log2[,cells.coord.list2])}
Error: cannot allocate vector of size 2.6 Gb
Execution halted
* checking for unstated dependencies in 'tests' ... OK
* checking tests ...
  Running 'testthat.R'
 OK
* checking PDF version of manual ... WARNING
LaTeX errors when creating PDF version.
This typically indicates Rd problems.
LaTeX errors found:
! Package inputenc Error: Unicode character ??? (U+2212)
(inputenc)                not set up for use with LaTeX.

See the inputenc package documentation for explanation.
Type  H <return>  for immediate help.
* checking PDF version of manual without hyperrefs or index ... ERROR
* checking for non-standard things in the check directory ... NOTE
Found the following files/directories:
  'DWLS-manual.tex'
* checking for detritus in the temp directory ... NOTE
Found the following files/directories:
  'lastMiKTeXException'
* DONE

Status: 2 ERRORs, 3 WARNINGs, 6 NOTEs
See
  'C:/Users/andre/Documents/DWLS.Rcheck/00check.log'
for details.

Warning message:
In .system(command = command, ...) :
  'R CMD "check" "--as-cran"
"C:\Users\andre\AppData\Local\Temp\RtmpcjdmpU\file4b8c681a309f\DWLS_0.1.0.tar.gz"'
execution failed with error code 1


On Tue, Jan 11, 2022 at 3:10 AM Adriana Sistig <
adriana.sistig at icahn.mssm.edu> wrote:

> Hello,
>
> My name is Adriana Sistig and I am struggle to fix an ERROR and a few
> WARNING and NOTE message that I am getting from my package. I am new to
> CRAN packaging and am having some trouble finalizing my package.
>
> I do not have any ERRORS when I check using Mac but when checking via
> Windows and Debian I do. The current Status: 1 ERROR, 3 WARNINGs, 6 NOTEs ?
> Pasted below for more information.
>
> GitHub link: https://github.com/sistia01/DWLS <
> https://github.com/sistia01/DWLS>
>
> Further information:
>
> > sessionInfo()
> R version 4.0.5 (2021-03-31)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Big Sur 10.16
>
> Matrix products: default
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets  methods
>  base
>
> other attached packages:
> [1] DWLS_0.1.0          Giotto_1.0.3        Biobase_2.50.0
> BiocGenerics_0.36.1
>
> loaded via a namespace (and not attached):
>   [1] Seurat_4.0.5                Rtsne_0.15
> colorspace_2.0-2
>   [4] deldir_1.0-6                class_7.3-19
> ellipsis_0.3.2
>   [7] ggridges_0.5.3              XVector_0.30.0
> GenomicRanges_1.42.0
>  [10] proxy_0.4-26                spatstat.data_2.1-0
>  leiden_0.3.9
>  [13] listenv_0.8.0               ggrepel_0.9.1               fansi_0.5.0
>
>  [16] codetools_0.2-18            splines_4.0.5
>  polyclip_1.10-0
>  [19] jsonlite_1.7.2              ica_1.0-2
>  cluster_2.1.2
>  [22] png_0.1-7                   uwot_0.1.11                 shiny_1.7.1
>
>  [25] sctransform_0.3.2           spatstat.sparse_2.0-0
>  compiler_4.0.5
>  [28] httr_1.4.2                  SeuratObject_4.0.4
> Matrix_1.3-4
>  [31] fastmap_1.1.0               lazyeval_0.2.2              cli_3.1.0
>
>  [34] later_1.3.0                 htmltools_0.5.2             tools_4.0.5
>
>  [37] igraph_1.2.9                gtable_0.3.0                glue_1.6.0
>
>  [40] GenomeInfoDbData_1.2.4      RANN_2.6.1
> reshape2_1.4.4
>  [43] dplyr_1.0.7                 Rcpp_1.0.7
> scattermore_0.7
>  [46] vctrs_0.3.8                 nlme_3.1-153
> lmtest_0.9-39
>  [49] stringr_1.4.0               globals_0.14.0              mime_0.12
>
>  [52] miniUI_0.1.1.1              lifecycle_1.0.1             irlba_2.3.5
>
>  [55] goftest_1.2-3               future_1.23.0
>  zlibbioc_1.36.0
>  [58] MASS_7.3-54                 zoo_1.8-9
>  scales_1.1.1
>  [61] MAST_1.16.0                 spatstat.core_2.3-2
>  promises_1.2.0.1
>  [64] MatrixGenerics_1.2.1        spatstat.utils_2.2-0
> SummarizedExperiment_1.20.0
>  [67] RColorBrewer_1.1-2          SingleCellExperiment_1.12.0
> reticulate_1.22
>  [70] pbapply_1.5-0               gridExtra_2.3
>  ggplot2_3.3.5
>  [73] rpart_4.1-15                reshape_0.8.8
>  stringi_1.7.6
>  [76] S4Vectors_0.28.1            e1071_1.7-9
>  GenomeInfoDb_1.26.7
>  [79] rlang_0.4.12                pkgconfig_2.0.3
>  matrixStats_0.61.0
>  [82] bitops_1.0-7                lattice_0.20-45             ROCR_1.0-11
>
>  [85] purrr_0.3.4                 tensor_1.5
> patchwork_1.1.1
>  [88] htmlwidgets_1.5.4           cowplot_1.1.1
>  tidyselect_1.1.1
>  [91] parallelly_1.29.0           RcppAnnoy_0.0.19            plyr_1.8.6
>
>  [94] magrittr_2.0.1              R6_2.5.1
> IRanges_2.24.1
>  [97] generics_0.1.1              DBI_1.1.1
>  DelayedArray_0.16.3
> [100] mgcv_1.8-38                 pillar_1.6.4
> fitdistrplus_1.1-6
> [103] survival_3.2-13             abind_1.4-5
>  RCurl_1.98-1.5
> [106] tibble_3.1.6                future.apply_1.8.1
> crayon_1.4.2
> [109] KernSmooth_2.23-20          utf8_1.2.2
> spatstat.geom_2.3-0
> [112] plotly_4.10.0               grid_4.0.5
> data.table_1.14.2
> [115] digest_0.6.29               xtable_1.8-4                tidyr_1.1.4
>
> [118] httpuv_1.6.3                stats4_4.0.5
> munsell_0.5.0
> [121] viridisLite_0.4.0           quadprog_1.5-8
>
> > Sys.getlocale()
> [1] "en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8?
>
> ?????????????????
> * using log directory 'd:/RCompile/CRANguest/R-devel/DWLS.Rcheck'
> * using R Under development (unstable) (2022-01-09 r81462 ucrt)
> * using platform: x86_64-w64-mingw32 (64-bit)
> * using session charset: UTF-8
> * checking for file 'DWLS/DESCRIPTION' ... OK
> * checking extension type ... Package
> * this is package 'DWLS' version '0.1.0'
> * package encoding: UTF-8
> * checking CRAN incoming feasibility ... NOTE
> Maintainer: 'Adriana Sistig <adriana.sistig at icahn.mssm.edu>'
>
> New submission
>
> Possibly misspelled words in DESCRIPTION:
>   DWLS (25:67, 32:42)
>   Deconvolution (3:24)
>   deconvolution (26:46)
>   transcriptomic (10:51)
> * checking package namespace information ... OK
> * checking package dependencies ... OK
> * checking if this is a source package ... OK
> * checking if there is a namespace ... OK
> * checking for hidden files and directories ... OK
> * checking for portable file names ... OK
> * checking whether package 'DWLS' can be installed ... OK
> * checking installed package size ... NOTE
>   installed size is 66.4Mb
>   sub-directories of 1Mb or more:
>     data  66.3Mb
> * checking package directory ... OK
> * checking for future file timestamps ... OK
> * checking DESCRIPTION meta-information ... OK
> * checking top-level files ... NOTE
> Non-standard files/directories found at top level:
>   'Reference_Manual_DWLS.md' 'Reference_Manual_Rd2md.md'
> * checking for left-over files ... OK
> * checking index information ... OK
> * checking package subdirectories ... OK
> * checking R files for non-ASCII characters ... OK
> * checking R files for syntax errors ... OK
> * checking whether the package can be loaded ... OK
> * checking whether the package can be loaded with stated dependencies ...
> OK
> * checking whether the package can be unloaded cleanly ... OK
> * checking whether the namespace can be loaded with stated dependencies
> ... OK
> * checking whether the namespace can be unloaded cleanly ... OK
> * checking loading without being on the library search path ... OK
> * checking use of S3 registration ... OK
> * checking dependencies in R code ... OK
> * checking S3 generic/method consistency ... OK
> * checking replacement functions ... OK
> * checking foreign function calls ... OK
> * checking R code for possible problems ... [28s] NOTE
> DEAnalysisMAST: no visible binding for global variable
>   'Number.of.Cells'
> Undefined global functions or variables:
>   Number.of.Cells
> * checking Rd files ... [1s] OK
> * checking Rd metadata ... OK
> * checking Rd line widths ... OK
> * checking Rd cross-references ... OK
> * checking for missing documentation entries ... WARNING
> Undocumented code objects:
>   'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
> Undocumented data sets:
>   'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
> All user-level objects in a package should have documentation entries.
> See chapter 'Writing R documentation files' in the 'Writing R
> Extensions' manual.
> * checking for code/documentation mismatches ... OK
> * checking Rd \usage sections ... OK
> * checking Rd contents ... OK
> * checking for unstated dependencies in examples ... OK
> * checking contents of 'data' directory ... OK
> * checking data for non-ASCII characters ... OK
> * checking LazyData ... WARNING
>   LazyData DB of 66.3 MB without LazyDataCompression set
>   See ??1.1.6 of 'Writing R Extensions'
> * checking data for ASCII and uncompressed saves ... OK
> * checking R/sysdata.rda ... OK
> * checking examples ... [80s] NOTE
> Examples with CPU (user + system) or elapsed time > 10s
>            user system elapsed
> stat.log2 50.87  11.58   62.45
> * checking for unstated dependencies in 'tests' ... OK
> * checking tests ... [9s] OK
>   Running 'testthat.R' [9s]
> * checking PDF version of manual ... WARNING
> LaTeX errors when creating PDF version.
> This typically indicates Rd problems.
> LaTeX errors found:
> ! Package inputenc Error: Unicode character ??? (U+2212)
> (inputenc)                not set up for use with LaTeX.
>
> See the inputenc package documentation for explanation.
> Type  H <return>  for immediate help.
> * checking PDF version of manual without hyperrefs or index ... ERROR
> * checking for detritus in the temp directory ... NOTE
> Found the following files/directories:
>   'lastMiKTeXException'
> * DONE
> Status: 1 ERROR, 3 WARNINGs, 6 NOTEs
> ??????
> With regard to the NOTE about function DEAnalysisMAST ?> I?m unsure about
> why this function in particular is throwing a note while other functions
> which use very similar code are not.
> I have tried a few different methods to create the pdf document of the
> manual but have not been able to succeed. I?m unsure of how to decipher the
> LaTeX Errors and have found from further research online that this may
> actually be quite an arduous task. I would greatly appreciate any help with
> this as it is not something that I have been able to solve on my own for
> the past few months. Please let me know if any further information is
> required. I thank you in advance for your help.
>
> Best,
> Adriana Sistig
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Tue Jan 11 16:48:07 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 11 Jan 2022 07:48:07 -0800
Subject: [R] Help with developing package DWLS
In-Reply-To: <FD23122F-6045-4F6A-8194-17292FAEC526@icahn.mssm.edu>
References: <FD23122F-6045-4F6A-8194-17292FAEC526@icahn.mssm.edu>
Message-ID: <CAGxFJbThwXvs9E_6LJf7hm+y2BiZvP9nZhsX6gzuTj6Og2-FGQ@mail.gmail.com>

Andrew has already provided you a lot of help, but further posts should go
to r-package-devel, which is a mailing list specifically set up to provide
the sort of help you requested.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Jan 11, 2022 at 12:10 AM Adriana Sistig <
adriana.sistig at icahn.mssm.edu> wrote:

> Hello,
>
> My name is Adriana Sistig and I am struggle to fix an ERROR and a few
> WARNING and NOTE message that I am getting from my package. I am new to
> CRAN packaging and am having some trouble finalizing my package.
>
> I do not have any ERRORS when I check using Mac but when checking via
> Windows and Debian I do. The current Status: 1 ERROR, 3 WARNINGs, 6 NOTEs ?
> Pasted below for more information.
>
> GitHub link: https://github.com/sistia01/DWLS <
> https://github.com/sistia01/DWLS>
>
> Further information:
>
> > sessionInfo()
> R version 4.0.5 (2021-03-31)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Big Sur 10.16
>
> Matrix products: default
> LAPACK:
> /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] parallel  stats     graphics  grDevices utils     datasets  methods
>  base
>
> other attached packages:
> [1] DWLS_0.1.0          Giotto_1.0.3        Biobase_2.50.0
> BiocGenerics_0.36.1
>
> loaded via a namespace (and not attached):
>   [1] Seurat_4.0.5                Rtsne_0.15
> colorspace_2.0-2
>   [4] deldir_1.0-6                class_7.3-19
> ellipsis_0.3.2
>   [7] ggridges_0.5.3              XVector_0.30.0
> GenomicRanges_1.42.0
>  [10] proxy_0.4-26                spatstat.data_2.1-0
>  leiden_0.3.9
>  [13] listenv_0.8.0               ggrepel_0.9.1               fansi_0.5.0
>
>  [16] codetools_0.2-18            splines_4.0.5
>  polyclip_1.10-0
>  [19] jsonlite_1.7.2              ica_1.0-2
>  cluster_2.1.2
>  [22] png_0.1-7                   uwot_0.1.11                 shiny_1.7.1
>
>  [25] sctransform_0.3.2           spatstat.sparse_2.0-0
>  compiler_4.0.5
>  [28] httr_1.4.2                  SeuratObject_4.0.4
> Matrix_1.3-4
>  [31] fastmap_1.1.0               lazyeval_0.2.2              cli_3.1.0
>
>  [34] later_1.3.0                 htmltools_0.5.2             tools_4.0.5
>
>  [37] igraph_1.2.9                gtable_0.3.0                glue_1.6.0
>
>  [40] GenomeInfoDbData_1.2.4      RANN_2.6.1
> reshape2_1.4.4
>  [43] dplyr_1.0.7                 Rcpp_1.0.7
> scattermore_0.7
>  [46] vctrs_0.3.8                 nlme_3.1-153
> lmtest_0.9-39
>  [49] stringr_1.4.0               globals_0.14.0              mime_0.12
>
>  [52] miniUI_0.1.1.1              lifecycle_1.0.1             irlba_2.3.5
>
>  [55] goftest_1.2-3               future_1.23.0
>  zlibbioc_1.36.0
>  [58] MASS_7.3-54                 zoo_1.8-9
>  scales_1.1.1
>  [61] MAST_1.16.0                 spatstat.core_2.3-2
>  promises_1.2.0.1
>  [64] MatrixGenerics_1.2.1        spatstat.utils_2.2-0
> SummarizedExperiment_1.20.0
>  [67] RColorBrewer_1.1-2          SingleCellExperiment_1.12.0
> reticulate_1.22
>  [70] pbapply_1.5-0               gridExtra_2.3
>  ggplot2_3.3.5
>  [73] rpart_4.1-15                reshape_0.8.8
>  stringi_1.7.6
>  [76] S4Vectors_0.28.1            e1071_1.7-9
>  GenomeInfoDb_1.26.7
>  [79] rlang_0.4.12                pkgconfig_2.0.3
>  matrixStats_0.61.0
>  [82] bitops_1.0-7                lattice_0.20-45             ROCR_1.0-11
>
>  [85] purrr_0.3.4                 tensor_1.5
> patchwork_1.1.1
>  [88] htmlwidgets_1.5.4           cowplot_1.1.1
>  tidyselect_1.1.1
>  [91] parallelly_1.29.0           RcppAnnoy_0.0.19            plyr_1.8.6
>
>  [94] magrittr_2.0.1              R6_2.5.1
> IRanges_2.24.1
>  [97] generics_0.1.1              DBI_1.1.1
>  DelayedArray_0.16.3
> [100] mgcv_1.8-38                 pillar_1.6.4
> fitdistrplus_1.1-6
> [103] survival_3.2-13             abind_1.4-5
>  RCurl_1.98-1.5
> [106] tibble_3.1.6                future.apply_1.8.1
> crayon_1.4.2
> [109] KernSmooth_2.23-20          utf8_1.2.2
> spatstat.geom_2.3-0
> [112] plotly_4.10.0               grid_4.0.5
> data.table_1.14.2
> [115] digest_0.6.29               xtable_1.8-4                tidyr_1.1.4
>
> [118] httpuv_1.6.3                stats4_4.0.5
> munsell_0.5.0
> [121] viridisLite_0.4.0           quadprog_1.5-8
>
> > Sys.getlocale()
> [1] "en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8?
>
> ?????????????????
> * using log directory 'd:/RCompile/CRANguest/R-devel/DWLS.Rcheck'
> * using R Under development (unstable) (2022-01-09 r81462 ucrt)
> * using platform: x86_64-w64-mingw32 (64-bit)
> * using session charset: UTF-8
> * checking for file 'DWLS/DESCRIPTION' ... OK
> * checking extension type ... Package
> * this is package 'DWLS' version '0.1.0'
> * package encoding: UTF-8
> * checking CRAN incoming feasibility ... NOTE
> Maintainer: 'Adriana Sistig <adriana.sistig at icahn.mssm.edu>'
>
> New submission
>
> Possibly misspelled words in DESCRIPTION:
>   DWLS (25:67, 32:42)
>   Deconvolution (3:24)
>   deconvolution (26:46)
>   transcriptomic (10:51)
> * checking package namespace information ... OK
> * checking package dependencies ... OK
> * checking if this is a source package ... OK
> * checking if there is a namespace ... OK
> * checking for hidden files and directories ... OK
> * checking for portable file names ... OK
> * checking whether package 'DWLS' can be installed ... OK
> * checking installed package size ... NOTE
>   installed size is 66.4Mb
>   sub-directories of 1Mb or more:
>     data  66.3Mb
> * checking package directory ... OK
> * checking for future file timestamps ... OK
> * checking DESCRIPTION meta-information ... OK
> * checking top-level files ... NOTE
> Non-standard files/directories found at top level:
>   'Reference_Manual_DWLS.md' 'Reference_Manual_Rd2md.md'
> * checking for left-over files ... OK
> * checking index information ... OK
> * checking package subdirectories ... OK
> * checking R files for non-ASCII characters ... OK
> * checking R files for syntax errors ... OK
> * checking whether the package can be loaded ... OK
> * checking whether the package can be loaded with stated dependencies ...
> OK
> * checking whether the package can be unloaded cleanly ... OK
> * checking whether the namespace can be loaded with stated dependencies
> ... OK
> * checking whether the namespace can be unloaded cleanly ... OK
> * checking loading without being on the library search path ... OK
> * checking use of S3 registration ... OK
> * checking dependencies in R code ... OK
> * checking S3 generic/method consistency ... OK
> * checking replacement functions ... OK
> * checking foreign function calls ... OK
> * checking R code for possible problems ... [28s] NOTE
> DEAnalysisMAST: no visible binding for global variable
>   'Number.of.Cells'
> Undefined global functions or variables:
>   Number.of.Cells
> * checking Rd files ... [1s] OK
> * checking Rd metadata ... OK
> * checking Rd line widths ... OK
> * checking Rd cross-references ... OK
> * checking for missing documentation entries ... WARNING
> Undocumented code objects:
>   'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
> Undocumented data sets:
>   'Sig' 'dataBulk' 'dataSC_1' 'dataSC_2' 'labels' 'trueLabels'
> All user-level objects in a package should have documentation entries.
> See chapter 'Writing R documentation files' in the 'Writing R
> Extensions' manual.
> * checking for code/documentation mismatches ... OK
> * checking Rd \usage sections ... OK
> * checking Rd contents ... OK
> * checking for unstated dependencies in examples ... OK
> * checking contents of 'data' directory ... OK
> * checking data for non-ASCII characters ... OK
> * checking LazyData ... WARNING
>   LazyData DB of 66.3 MB without LazyDataCompression set
>   See ??1.1.6 of 'Writing R Extensions'
> * checking data for ASCII and uncompressed saves ... OK
> * checking R/sysdata.rda ... OK
> * checking examples ... [80s] NOTE
> Examples with CPU (user + system) or elapsed time > 10s
>            user system elapsed
> stat.log2 50.87  11.58   62.45
> * checking for unstated dependencies in 'tests' ... OK
> * checking tests ... [9s] OK
>   Running 'testthat.R' [9s]
> * checking PDF version of manual ... WARNING
> LaTeX errors when creating PDF version.
> This typically indicates Rd problems.
> LaTeX errors found:
> ! Package inputenc Error: Unicode character ??? (U+2212)
> (inputenc)                not set up for use with LaTeX.
>
> See the inputenc package documentation for explanation.
> Type  H <return>  for immediate help.
> * checking PDF version of manual without hyperrefs or index ... ERROR
> * checking for detritus in the temp directory ... NOTE
> Found the following files/directories:
>   'lastMiKTeXException'
> * DONE
> Status: 1 ERROR, 3 WARNINGs, 6 NOTEs
> ??????
> With regard to the NOTE about function DEAnalysisMAST ?> I?m unsure about
> why this function in particular is throwing a note while other functions
> which use very similar code are not.
> I have tried a few different methods to create the pdf document of the
> manual but have not been able to succeed. I?m unsure of how to decipher the
> LaTeX Errors and have found from further research online that this may
> actually be quite an arduous task. I would greatly appreciate any help with
> this as it is not something that I have been able to solve on my own for
> the past few months. Please let me know if any further information is
> required. I thank you in advance for your help.
>
> Best,
> Adriana Sistig
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From m@rt|n@@m|th @end|ng |rom durh@m@@c@uk  Tue Jan 11 12:12:13 2022
From: m@rt|n@@m|th @end|ng |rom durh@m@@c@uk (Martin R. Smith)
Date: Tue, 11 Jan 2022 11:12:13 +0000
Subject: [R] [R-pkgs] Fwd: Ternary 2.0: Holdridge life zones and ternary
 plots
In-Reply-To: <CANotEPs8zWn5xJzuanqLV38VdpHFVnO2qS+iUWnpwkFDp8OTuA@mail.gmail.com>
References: <CANotEPs8zWn5xJzuanqLV38VdpHFVnO2qS+iUWnpwkFDp8OTuA@mail.gmail.com>
Message-ID: <CANotEPvg_U-vjwO=+BQU4Fp3gkqf6ekr0zQ+Rdeg8mSMNB=-HQ@mail.gmail.com>

Dear R users,

It is now possible to create and annotate Holdridge life zone plots using
functions modelled on the standard graphics package using the the package
"Ternary", whose v2.0 release is now available from CRAN:
https://CRAN.R-project.org/package=Ternary .
The vignette at https://ms609.github.io/Ternary/articles/Holdridge.html gives
an example and pointers to detailed documentation.

Ternary 2.0 also includes a complete 'shiny' graphical user interface to
allow interactive construction of ternary plots without detailed knowledge
of R.

Regards,

Martin Smith


--

*Dr. Martin R. Smith*
Associate Professor in Palaeontology
Durham University
Department of Earth Sciences
Mountjoy Site, South Road, Durham, DH1 3LE United Kingdom

*M*: +44 (0)774 353 7510
*E*: martin.smith at durham.ac.uk

smithlabdurham.github.io
twitter.com/PalaeoSmith

The information in this e-mail and any attachments is co...{{dropped:7}}


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Wed Jan 12 01:56:20 2022
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Tue, 11 Jan 2022 18:56:20 -0600
Subject: [R] Method Guidance
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
Message-ID: <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>

R-Help Forum

 

Looking for a little guidance. Have an issue were I'm trying to determine
the time between when Event A happened(In days) to when a subsequent Event B
happens. For Example at Time 1 Evat A happens and subsequently Event B
happens at the same day (0) and the next day (1) then Event A happens again
at time 4 and Event B happens the next day and 3 days later so on and so
forth. I gather there is no function that will do that so I suspect I will
need to grate so sour of do while loop?  Any suggestions?

 

 

Time      Event_A               Event_B               Time_B

1              1                              1
0

2              0                              1
1                              

3              0                              0
0

4              1                              0
0

5              0                              1
1

6              0                              0
0

7              0                              1
3

8              1                              1
0

9              0                              0
0

10           0                              1                              2


 

Jeff Reichman    


	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Jan 12 03:33:29 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Tue, 11 Jan 2022 18:33:29 -0800
Subject: [R] Method Guidance
In-Reply-To: <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
 <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
Message-ID: <F052FF01-D36B-4C12-A732-0F96AA1D12A1@dcn.davis.ca.us>

1) Figure out how to post plain text please. What you saw is not what we see.

2) I see a "table" of input information but no specific expectation of what would come out of this hypothetical function.

3) Maybe you will find something relevant in this blog post: https://jdnewmil.github.io/blog/post/cumsum-and-diff-tricks/

ps not sure what "grate so sour" was supposed to be.

pps While loops are not necessarily evil.

On January 11, 2022 4:56:20 PM PST, Jeff Reichman <reichmanj at sbcglobal.net> wrote:
>R-Help Forum
>
> 
>
>Looking for a little guidance. Have an issue were I'm trying to determine
>the time between when Event A happened(In days) to when a subsequent Event B
>happens. For Example at Time 1 Evat A happens and subsequently Event B
>happens at the same day (0) and the next day (1) then Event A happens again
>at time 4 and Event B happens the next day and 3 days later so on and so
>forth. I gather there is no function that will do that so I suspect I will
>need to grate so sour of do while loop?  Any suggestions?
>
> 
>
> 
>
>Time      Event_A               Event_B               Time_B
>
>1              1                              1
>0
>
>2              0                              1
>1                              
>
>3              0                              0
>0
>
>4              1                              0
>0
>
>5              0                              1
>1
>
>6              0                              0
>0
>
>7              0                              1
>3
>
>8              1                              1
>0
>
>9              0                              0
>0
>
>10           0                              1                              2
>
>
> 
>
>Jeff Reichman    
>
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From drj|m|emon @end|ng |rom gm@||@com  Wed Jan 12 07:44:51 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Wed, 12 Jan 2022 17:44:51 +1100
Subject: [R] Method Guidance
In-Reply-To: <F052FF01-D36B-4C12-A732-0F96AA1D12A1@dcn.davis.ca.us>
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
 <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
 <F052FF01-D36B-4C12-A732-0F96AA1D12A1@dcn.davis.ca.us>
Message-ID: <CA+8X3fXoGVqe10yGHcsbHAOgTwGehZt3r8SvZwsFAb=k+PSp5w@mail.gmail.com>

Hi Jeff,
A completely obscure question deserves a completely obscure answer:

jrdf<-read.table(text="Time   Event_A    Event_B   Lag_B
1          1         1        0
2          0         1        1
3          0         0        0
4          1         0        0
5          0         1        1
6          0         0        0
7          0         1        3
8          1         1        0
9          0         0        0
10         0         1        2",
header=TRUE,stringsAsFactors=FALSE)
plot(jrdf$Time-0.2,jrdf$Event_A,type="p",
 xlim=c(1,12),ylim=c(0.9,1.1),
 xlab="Day",ylab="",main="The As and the Bs",
 pch=c(" ","A")[jrdf$Event_A+1],yaxt="n")
points(jrdf$Time+jrdf$Lag_B+0.2,jrdf$Event_B,pch=c(" ","B")[jrdf$Event_B+1])

Jim

On Wed, Jan 12, 2022 at 1:33 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
> 1) Figure out how to post plain text please. What you saw is not what we see.
>
> 2) I see a "table" of input information but no specific expectation of what would come out of this hypothetical function.
>
> 3) Maybe you will find something relevant in this blog post: https://jdnewmil.github.io/blog/post/cumsum-and-diff-tricks/
>
> ps not sure what "grate so sour" was supposed to be.
>
> pps While loops are not necessarily evil.
>
> On January 11, 2022 4:56:20 PM PST, Jeff Reichman <reichmanj at sbcglobal.net> wrote:
> >R-Help Forum
> >
> >
> >
> >Looking for a little guidance. Have an issue were I'm trying to determine
> >the time between when Event A happened(In days) to when a subsequent Event B
> >happens. For Example at Time 1 Evat A happens and subsequently Event B
> >happens at the same day (0) and the next day (1) then Event A happens again
> >at time 4 and Event B happens the next day and 3 days later so on and so
> >forth. I gather there is no function that will do that so I suspect I will
> >need to grate so sour of do while loop?  Any suggestions?
> >
> >
> >
> >
> >
> >Time      Event_A               Event_B               Time_B
> >
> >1              1                              1
> >0
> >
> >2              0                              1
> >1
> >
> >3              0                              0
> >0
> >
> >4              1                              0
> >0
> >
> >5              0                              1
> >1
> >
> >6              0                              0
> >0
> >
> >7              0                              1
> >3
> >
> >8              1                              1
> >0
> >
> >9              0                              0
> >0
> >
> >10           0                              1                              2
> >
> >
> >
> >
> >Jeff Reichman
> >
> >
> >       [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From ru|pb@rr@d@@ @end|ng |rom @@po@pt  Wed Jan 12 12:07:57 2022
From: ru|pb@rr@d@@ @end|ng |rom @@po@pt (Rui Barradas)
Date: Wed, 12 Jan 2022 11:07:57 +0000
Subject: [R] Method Guidance
In-Reply-To: <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
 <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
Message-ID: <2e753baf-0b60-e4eb-21e5-77c515f3ec23@sapo.pt>

Hello,

Here is a base R solution for what I understand of the question.
It involves ave and cumsum. cumsum of the values of Event_A breaks 
Event_B in segments and ave applies a function to each segment. To find 
where are the times B, coerce to logical and have which() take care of 
it. Data in dput format at the end.



ave(as.logical(df1$Event_B), cumsum(df1$Event_A),
     FUN = function(x) {
       y <- integer(length(x))
       y[x] <- which(x) - 1L
       y
     })
#[1] 0 1 0 0 1 0 3 0 0 2


More readable, with an auxiliary function.


aux_fun <- function(x) {
   y <- integer(length(x))
   y[x] <- which(x) - 1L
   y
}

ave(as.logical(df1$Event_B), cumsum(df1$Event_A), FUN = aux_fun)
#[1] 0 1 0 0 1 0 3 0 0 2



Now assign this result to a df1 column. Here I just test for equality.


new <- ave(as.logical(df1$Event_B), cumsum(df1$Event_A), FUN = aux_fun)
identical(new, df1$Time_B)
#[1] TRUE


# Data
df1 <-
structure(list(Time = 1:10, Event_A = c(1L, 0L, 0L, 1L, 0L, 0L,
0L, 1L, 0L, 0L), Event_B = c(1L, 1L, 0L, 0L, 1L, 0L, 1L, 1L,
0L, 1L), Time_B = c(0L, 1L, 0L, 0L, 1L, 0L, 3L, 0L, 0L, 2L)),
class = "data.frame", row.names = c(NA, -10L))



Hope this helps,

Rui Barradas

?s 00:56 de 12/01/22, Jeff Reichman escreveu:
> R-Help Forum
> 
>   
> 
> Looking for a little guidance. Have an issue were I'm trying to determine
> the time between when Event A happened(In days) to when a subsequent Event B
> happens. For Example at Time 1 Evat A happens and subsequently Event B
> happens at the same day (0) and the next day (1) then Event A happens again
> at time 4 and Event B happens the next day and 3 days later so on and so
> forth. I gather there is no function that will do that so I suspect I will
> need to grate so sour of do while loop?  Any suggestions?
> 
>   
> 
>   
> 
> Time      Event_A               Event_B               Time_B
> 
> 1              1                              1
> 0
> 
> 2              0                              1
> 1
> 
> 3              0                              0
> 0
> 
> 4              1                              0
> 0
> 
> 5              0                              1
> 1
> 
> 6              0                              0
> 0
> 
> 7              0                              1
> 3
> 
> 8              1                              1
> 0
> 
> 9              0                              0
> 0
> 
> 10           0                              1                              2
> 
> 
>   
> 
> Jeff Reichman
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From re|chm@nj @end|ng |rom @bcg|ob@|@net  Wed Jan 12 14:40:08 2022
From: re|chm@nj @end|ng |rom @bcg|ob@|@net (Jeff Reichman)
Date: Wed, 12 Jan 2022 07:40:08 -0600
Subject: [R] Method Guidance
In-Reply-To: <2e753baf-0b60-e4eb-21e5-77c515f3ec23@sapo.pt>
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
 <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
 <2e753baf-0b60-e4eb-21e5-77c515f3ec23@sapo.pt>
Message-ID: <002f01d807b9$eaf88790$c0e996b0$@sbcglobal.net>

Rui

Well that certainly is a lot more straight forward than the direction I was trying and you have introduced me to a couple of new functions. Thank you

Jeff

-----Original Message-----
From: Rui Barradas <ruipbarradas at sapo.pt> 
Sent: Wednesday, January 12, 2022 5:08 AM
To: reichmanj at sbcglobal.net; r-help at r-project.org
Subject: Re: [R] Method Guidance

Hello,

Here is a base R solution for what I understand of the question.
It involves ave and cumsum. cumsum of the values of Event_A breaks Event_B in segments and ave applies a function to each segment. To find where are the times B, coerce to logical and have which() take care of it. Data in dput format at the end.



ave(as.logical(df1$Event_B), cumsum(df1$Event_A),
     FUN = function(x) {
       y <- integer(length(x))
       y[x] <- which(x) - 1L
       y
     })
#[1] 0 1 0 0 1 0 3 0 0 2


More readable, with an auxiliary function.


aux_fun <- function(x) {
   y <- integer(length(x))
   y[x] <- which(x) - 1L
   y
}

ave(as.logical(df1$Event_B), cumsum(df1$Event_A), FUN = aux_fun) #[1] 0 1 0 0 1 0 3 0 0 2



Now assign this result to a df1 column. Here I just test for equality.


new <- ave(as.logical(df1$Event_B), cumsum(df1$Event_A), FUN = aux_fun) identical(new, df1$Time_B) #[1] TRUE


# Data
df1 <-
structure(list(Time = 1:10, Event_A = c(1L, 0L, 0L, 1L, 0L, 0L, 0L, 1L, 0L, 0L), Event_B = c(1L, 1L, 0L, 0L, 1L, 0L, 1L, 1L, 0L, 1L), Time_B = c(0L, 1L, 0L, 0L, 1L, 0L, 3L, 0L, 0L, 2L)), class = "data.frame", row.names = c(NA, -10L))



Hope this helps,

Rui Barradas

?s 00:56 de 12/01/22, Jeff Reichman escreveu:
> R-Help Forum
> 
>   
> 
> Looking for a little guidance. Have an issue were I'm trying to 
> determine the time between when Event A happened(In days) to when a 
> subsequent Event B happens. For Example at Time 1 Evat A happens and 
> subsequently Event B happens at the same day (0) and the next day (1) 
> then Event A happens again at time 4 and Event B happens the next day 
> and 3 days later so on and so forth. I gather there is no function 
> that will do that so I suspect I will need to grate so sour of do while loop?  Any suggestions?
> 
>   
> 
>   
> 
> Time      Event_A               Event_B               Time_B
> 
> 1              1                              1
> 0
> 
> 2              0                              1
> 1
> 
> 3              0                              0
> 0
> 
> 4              1                              0
> 0
> 
> 5              0                              1
> 1
> 
> 6              0                              0
> 0
> 
> 7              0                              1
> 3
> 
> 8              1                              1
> 0
> 
> 9              0                              0
> 0
> 
> 10           0                              1                              2
> 
> 
>   
> 
> Jeff Reichman
> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see 
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 


From @v|gro@@ @end|ng |rom ver|zon@net  Wed Jan 12 18:26:28 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Wed, 12 Jan 2022 17:26:28 +0000 (UTC)
Subject: [R] Method Guidance
In-Reply-To: <CA+8X3fXoGVqe10yGHcsbHAOgTwGehZt3r8SvZwsFAb=k+PSp5w@mail.gmail.com>
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
 <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
 <F052FF01-D36B-4C12-A732-0F96AA1D12A1@dcn.davis.ca.us>
 <CA+8X3fXoGVqe10yGHcsbHAOgTwGehZt3r8SvZwsFAb=k+PSp5w@mail.gmail.com>
Message-ID: <1579704448.83269.1642008388822@mail.yahoo.com>

To be fair, Jim, when people stop and think carefully before sending a message to a forum like this, and then explain their situation and request carefully and in enough detail, often a solution comes to them and they can abort sending!
Yes, the question asked is a bit vague. Other than asking for more details, the answers would also tend to be vague, or completely mysterious.
Someone sent a pointer to a web page that may well supply ideas to use, but maybe not as the question remains unclear.
So here is my vague reply. You say you have data in what seems to be a data.frame that includes some events marked with a starting time and other related events with a starting/stopping time or something like that.?
You want in some way to line up two or more such related events so you can calculate something like time elapsed. I am not clear if these come in pairs or can be extended as in go from point A to B then C and so on. For some such things, a data.frame may not ultimately be the right data structure.
So first you need to specify how to match things up. Is there another common field like StudentID that can be used to find all records showing when they began doing A or B? If not, how do you recognize what B goes with what A? The difference matters in terms of how to approach the problem.
Once you show a small representative sample, maybe people can suggest approaches. I did not find your sample even slightly useful. Lots of 1 and 0 and maybe some wrapping lines.
The overall approaches for doing what I hope you are doing, vary. You can of course go through the data row by row and look forward and do a calculation and print results. Or, you might want to reshape your data, perhaps merging subsets of the data with other subsets, to create new data where the start and stop segments are in the same row in multiple columns. The latter might be useful for all kinds of analyses including making graphs.
Your example seems to suggest you have a variable that is focused on days so you have not shown some kind of date field. But do events always happen in subsequent days, like in a game of postal chess, or can it happen within a day, perhaps multiple times, like taking your dog for a walk? Can two events interweave or is there a guarantee that each event completes before the next round starts? Is your data in a specific time order so B always follows A?
Many questions like the above matter in understanding your purpose and goal and then seeing what algorithm will take the data you start with and do something. If organized in certain ways and with no errors, it may be trivial. If not, in some cases it simply is not doable. And in some cases, such as buying and selling shares of stock, you have interesting things like rules of what happens if you buy back shares within a month or so as to whether you adjust the basis and of course the length of time can determine capital gains rates. More complexity is whether you have to do some kind of averaging or FIFO or can designate which shares. Now this may have nothing to do with your application, but is an example of why some problems may better be treated differently than others.

-----Original Message-----
From: Jim Lemon <drjimlemon at gmail.com>
To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Cc: r-help mailing list <r-help at r-project.org>
Sent: Wed, Jan 12, 2022 1:44 am
Subject: Re: [R] Method Guidance

Hi Jeff,
A completely obscure question deserves a completely obscure answer:

jrdf<-read.table(text="Time? Event_A? ? Event_B? Lag_B
1? ? ? ? ? 1? ? ? ? 1? ? ? ? 0
2? ? ? ? ? 0? ? ? ? 1? ? ? ? 1
3? ? ? ? ? 0? ? ? ? 0? ? ? ? 0
4? ? ? ? ? 1? ? ? ? 0? ? ? ? 0
5? ? ? ? ? 0? ? ? ? 1? ? ? ? 1
6? ? ? ? ? 0? ? ? ? 0? ? ? ? 0
7? ? ? ? ? 0? ? ? ? 1? ? ? ? 3
8? ? ? ? ? 1? ? ? ? 1? ? ? ? 0
9? ? ? ? ? 0? ? ? ? 0? ? ? ? 0
10? ? ? ? 0? ? ? ? 1? ? ? ? 2",
header=TRUE,stringsAsFactors=FALSE)
plot(jrdf$Time-0.2,jrdf$Event_A,type="p",
 xlim=c(1,12),ylim=c(0.9,1.1),
 xlab="Day",ylab="",main="The As and the Bs",
 pch=c(" ","A")[jrdf$Event_A+1],yaxt="n")
points(jrdf$Time+jrdf$Lag_B+0.2,jrdf$Event_B,pch=c(" ","B")[jrdf$Event_B+1])

Jim

On Wed, Jan 12, 2022 at 1:33 PM Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>
> 1) Figure out how to post plain text please. What you saw is not what we see.
>
> 2) I see a "table" of input information but no specific expectation of what would come out of this hypothetical function.
>
> 3) Maybe you will find something relevant in this blog post: https://jdnewmil.github.io/blog/post/cumsum-and-diff-tricks/
>
> ps not sure what "grate so sour" was supposed to be.
>
> pps While loops are not necessarily evil.
>
> On January 11, 2022 4:56:20 PM PST, Jeff Reichman <reichmanj at sbcglobal.net> wrote:
> >R-Help Forum
> >
> >
> >
> >Looking for a little guidance. Have an issue were I'm trying to determine
> >the time between when Event A happened(In days) to when a subsequent Event B
> >happens. For Example at Time 1 Evat A happens and subsequently Event B
> >happens at the same day (0) and the next day (1) then Event A happens again
> >at time 4 and Event B happens the next day and 3 days later so on and so
> >forth. I gather there is no function that will do that so I suspect I will
> >need to grate so sour of do while loop?? Any suggestions?
> >
> >
> >
> >
> >
> >Time? ? ? Event_A? ? ? ? ? ? ? Event_B? ? ? ? ? ? ? Time_B
> >
> >1? ? ? ? ? ? ? 1? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1
> >0
> >
> >2? ? ? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1
> >1
> >
> >3? ? ? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0
> >0
> >
> >4? ? ? ? ? ? ? 1? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0
> >0
> >
> >5? ? ? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1
> >1
> >
> >6? ? ? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0
> >0
> >
> >7? ? ? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1
> >3
> >
> >8? ? ? ? ? ? ? 1? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1
> >0
> >
> >9? ? ? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0
> >0
> >
> >10? ? ? ? ? 0? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 2
> >
> >
> >
> >
> >Jeff Reichman
> >
> >
> >? ? ? [[alternative HTML version deleted]]
> >
> >______________________________________________
> >R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >https://stat.ethz.ch/mailman/listinfo/r-help
> >PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> >and provide commented, minimal, self-contained, reproducible code.
>
> --
> Sent from my phone. Please excuse my brevity.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From y@ngk@|9999 @end|ng |rom y@hoo@com  Wed Jan 12 21:07:22 2022
From: y@ngk@|9999 @end|ng |rom y@hoo@com (Kai Yang)
Date: Wed, 12 Jan 2022 20:07:22 +0000 (UTC)
Subject: [R] how to find the table in R studio
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
Message-ID: <1058985502.868240.1642018042467@mail.yahoo.com>

Hi all,
I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.?
Thank you,
Kai
library(tidyverse)

f1 <- function(indata , subgrp1){
? subgrp1 <- enquo(subgrp1)
? indata0 <- indata
? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%?
? ? group_by(!!subgrp1) %>%
? ? mutate(numbering =row_number(), max=max(numbering))
? view(temp)
? f_table <- table(temp$Species)
? view(f_table)
}

f1(iris, Species)


	[[alternative HTML version deleted]]


From murdoch@dunc@n @end|ng |rom gm@||@com  Wed Jan 12 21:22:00 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Wed, 12 Jan 2022 15:22:00 -0500
Subject: [R] how to find the table in R studio
In-Reply-To: <1058985502.868240.1642018042467@mail.yahoo.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
Message-ID: <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>

On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
> Hi all,
> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
> Thank you,
> Kai
> library(tidyverse)
> 
> f1 <- function(indata , subgrp1){
>  ? subgrp1 <- enquo(subgrp1)
>  ? indata0 <- indata
>  ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>  ? ? group_by(!!subgrp1) %>%
>  ? ? mutate(numbering =row_number(), max=max(numbering))
>  ? view(temp)
>  ? f_table <- table(temp$Species)
>  ? view(f_table)
> }
> 
> f1(iris, Species)
> 

Someone is sure to point out that this isn't an RStudio support list, 
but your issue is with R, not with RStudio.  You created the table in 
f1, but you never returned it.  The variable f_table is local to the 
function.  You'd need the following code to do what you want:

f1 <- function(indata , subgrp1){
   subgrp1 <- enquo(subgrp1)
   indata0 <- indata
   temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
     group_by(!!subgrp1) %>%
     mutate(numbering =row_number(), max=max(numbering))
   view(temp)
   f_table <- table(temp$Species)
   view(f_table)
   f_table
}

f_table <- f1(iris, Species)

It's not so easy to also make temp available.  You can do it with 
assign(), but I think you'd be better off splitting f1 into two 
functions, one to create temp, and one to create f_table.

Duncan Murdoch


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Wed Jan 12 21:34:25 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 12 Jan 2022 12:34:25 -0800
Subject: [R] how to find the table in R studio
In-Reply-To: <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
Message-ID: <BA5E1864-63E6-4E9C-BB5F-4303C1FCD8C5@dcn.davis.ca.us>

Definitely avoid the assign solution... remembering side effects on the global environment is hard and difficult to troubleshoot, and that also makes "doing that many times" unreasonably difficult. IMO even mentioning such an alternative is a dangerous distraction.

I also would advocate not mixing the act of obtaining a result with the act of displaying it (e.g. the view function). A three line script (input, analysis, output) is always easier to adapt to answer new questions than a one-line script is, and is arguably even more understandable.

On January 12, 2022 12:22:00 PM PST, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>> Hi all,
>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>> Thank you,
>> Kai
>> library(tidyverse)
>> 
>> f1 <- function(indata , subgrp1){
>>  ? subgrp1 <- enquo(subgrp1)
>>  ? indata0 <- indata
>>  ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>  ? ? group_by(!!subgrp1) %>%
>>  ? ? mutate(numbering =row_number(), max=max(numbering))
>>  ? view(temp)
>>  ? f_table <- table(temp$Species)
>>  ? view(f_table)
>> }
>> 
>> f1(iris, Species)
>> 
>
>Someone is sure to point out that this isn't an RStudio support list, 
>but your issue is with R, not with RStudio.  You created the table in 
>f1, but you never returned it.  The variable f_table is local to the 
>function.  You'd need the following code to do what you want:
>
>f1 <- function(indata , subgrp1){
>   subgrp1 <- enquo(subgrp1)
>   indata0 <- indata
>   temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>     group_by(!!subgrp1) %>%
>     mutate(numbering =row_number(), max=max(numbering))
>   view(temp)
>   f_table <- table(temp$Species)
>   view(f_table)
>   f_table
>}
>
>f_table <- f1(iris, Species)
>
>It's not so easy to also make temp available.  You can do it with 
>assign(), but I think you'd be better off splitting f1 into two 
>functions, one to create temp, and one to create f_table.
>
>Duncan Murdoch
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From bgunter@4567 @end|ng |rom gm@||@com  Wed Jan 12 22:46:37 2022
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Wed, 12 Jan 2022 13:46:37 -0800
Subject: [R] how to find the table in R studio
In-Reply-To: <1058985502.868240.1642018042467@mail.yahoo.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
Message-ID: <CAGxFJbQoy6oX1WOX665LwRbUnQa0yf7npJcRAuDn9Z+HEVWJkA@mail.gmail.com>

If you intend to use R for work beyond simple scripts and plots, you will
have to understand how to use functions in R: the principle that Duncan
mentioned -- that objects such as f-table that are local to a function are
not available outside the function (with caveats -- see below) is
__absolutely fundamental__ to function use in R. You can search for a
suitable R function tutorial on the web of course -- there are tons.

As you learn about how to use functions in R, you will encounter the
concepts of __scoping__ in R and R __environments__. Unfortunately, this
does get a bit technical, but it is very useful to understand at least the
basics for working with functions; and it explains the below example, which
is the 'caveat' I referred to. Feel free to ignore, of course, if you think
this is too much at this point.

*********  R function scoping/environment example ********

## create a function that returns a function as its output
 outer_fun<- function(x){
    inner_fun <- function(y)x*y  ## the function definition, a one-liner
        ## the function returns x*y with input y
   inner_fun ## the last object in a function is automatically returned
      ## so here a function is returned
 }

## let's see
> infun10 <- outer_fun(10)   ## x = 10
## note that the function returned by outer_fun(10) was assigned to infun10

> x  ## but x is not present in the global environment/command line window
Error: object 'x' not found

> infun10(5) ## but infun10 somehow 'knows' about x
[1] 50 ## = 10*5

> rm(outer_fun) ## what if we remove outer_fun completely
> outer_fun
Error: object 'outer_fun' not found  ## yup, it's gone

> infun10(2)
[1] 20  ## But infun10 still knows about x

## this is because x is in the **environment** of infun10
> environment(infun10)$x
[1] 10
## and it can even be changed there:
> environment(infun10)$x <- 3
> infun10(2)
[1] 6 ## now it's 3*2 instead of 10*2

So there's obviously a lot going on under the hood here. If you decide that
you want (or need) to get into at least some of this, please note that this
list cannot serve as a tutorial service. We can help, as you know, but we
expect that you will put in the effort required. As I said, there are a ton
of (good) tutorials out there to choose from.

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Wed, Jan 12, 2022 at 12:07 PM Kai Yang via R-help <r-help at r-project.org>
wrote:

> Hi all,
> I created a function in R. It will be generate a table "temp". I can view
> it in R studio, but I cannot find it on the top right window in R studio.
> Can someone tell me how to find it in there? Same thing for f_table.
> Thank you,
> Kai
> library(tidyverse)
>
> f1 <- function(indata , subgrp1){
>   subgrp1 <- enquo(subgrp1)
>   indata0 <- indata
>   temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>     group_by(!!subgrp1) %>%
>     mutate(numbering =row_number(), max=max(numbering))
>   view(temp)
>   f_table <- table(temp$Species)
>   view(f_table)
> }
>
> f1(iris, Species)
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Thu Jan 13 04:17:55 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 13 Jan 2022 03:17:55 +0000 (UTC)
Subject: [R] how to find the table in R studio
In-Reply-To: <1058985502.868240.1642018042467@mail.yahoo.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
Message-ID: <1067258532.2261467.1642043875044@mail.yahoo.com>

The table you are looking for indeed does not any longer exists. Kai.
Anything created within a function generally disappears as soon as it exits as the only pointer to it goes away and garbage collection can eventuially reuse the space.
The code you wrote should end with:

MyNamedVariable <-?f1(iris, Species)
It will then have a pointer to it and will show up as that name in the RSTUDIO window for Environment when it is the selected function of the upper right.?
By just writing this:

f1(iris, Species)

What you effectively did at the console level is this becue of automatic printing:

print(f1(iris, Species))

As soon as the printing is done, nothing is pointing at the memory location in the current environment or any environment.
There are, of course, ways for your f1() function to create a variable and save it in another environment such as global or parent under a designated name, but the easiest thing to do is to save teh result as shown as the return value of the function. Again, note, that if the place the function is called from is another function, any variables within it will disappear again when it exists, ...
Not suggesting you use it, but there is an assignment operator that assigns outside the immediate function using <<-
But back to your code, tell us more about the function view() you call several times in f1() and I assume you used it in debugging and it is not to be kept. On my machine the normal function is capitalized as View() so I am guessing you are getting the tidyverse version with view() in all lower case. It does return the object viewed and as that is the last line, it will return the object from the function. But probably not the best or most obvious way to return something as using the more standard View() function returns NULL.


-----Original Message-----
From: Kai Yang via R-help <r-help at r-project.org>
To: R-help Mailing List <r-help at r-project.org>
Sent: Wed, Jan 12, 2022 3:07 pm
Subject: [R] how to find the table in R studio

Hi all,
I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.?
Thank you,
Kai
library(tidyverse)

f1 <- function(indata , subgrp1){
? subgrp1 <- enquo(subgrp1)
? indata0 <- indata
? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%?
? ? group_by(!!subgrp1) %>%
? ? mutate(numbering =row_number(), max=max(numbering))
? view(temp)
? f_table <- table(temp$Species)
? view(f_table)
}

f1(iris, Species)


??? [[alternative HTML version deleted]]

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From @v|gro@@ @end|ng |rom ver|zon@net  Thu Jan 13 04:27:20 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 13 Jan 2022 03:27:20 +0000 (UTC)
Subject: [R] Time for a companion mailing list for R packages?
In-Reply-To: <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
Message-ID: <1792243350.2724951.1642044440134@mail.yahoo.com>

Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.


-----Original Message-----
From: Duncan Murdoch <murdoch.duncan at gmail.com>
To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
Sent: Wed, Jan 12, 2022 3:22 pm
Subject: Re: [R] how to find the table in R studio

On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
> Hi all,
> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
> Thank you,
> Kai
> library(tidyverse)
> 
> f1 <- function(indata , subgrp1){
>? ? subgrp1 <- enquo(subgrp1)
>? ? indata0 <- indata
>? ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>? ? ? group_by(!!subgrp1) %>%
>? ? ? mutate(numbering =row_number(), max=max(numbering))
>? ? view(temp)
>? ? f_table <- table(temp$Species)
>? ? view(f_table)
> }
> 
> f1(iris, Species)
> 

Someone is sure to point out that this isn't an RStudio support list, 
but your issue is with R, not with RStudio.? You created the table in 
f1, but you never returned it.? The variable f_table is local to the 
function.? You'd need the following code to do what you want:

f1 <- function(indata , subgrp1){
? subgrp1 <- enquo(subgrp1)
? indata0 <- indata
? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
? ? group_by(!!subgrp1) %>%
? ? mutate(numbering =row_number(), max=max(numbering))
? view(temp)
? f_table <- table(temp$Species)
? view(f_table)
? f_table
}

f_table <- f1(iris, Species)

It's not so easy to also make temp available.? You can do it with 
assign(), but I think you'd be better off splitting f1 into two 
functions, one to create temp, and one to create f_table.

Duncan Murdoch

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@  Thu Jan 13 05:24:01 2022
From: jdnewm|| @end|ng |rom dcn@d@v|@@c@@u@ (Jeff Newmiller)
Date: Wed, 12 Jan 2022 20:24:01 -0800
Subject: [R] Time for a companion mailing list for R packages?
In-Reply-To: <1792243350.2724951.1642044440134@mail.yahoo.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
Message-ID: <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>

TL;DR The people responsible for tidyverse don't think much of mailing lists.

IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.

The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.

Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.

On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>
>
>-----Original Message-----
>From: Duncan Murdoch <murdoch.duncan at gmail.com>
>To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>Sent: Wed, Jan 12, 2022 3:22 pm
>Subject: Re: [R] how to find the table in R studio
>
>On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>> Hi all,
>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>> Thank you,
>> Kai
>> library(tidyverse)
>> 
>> f1 <- function(indata , subgrp1){
>>? ? subgrp1 <- enquo(subgrp1)
>>? ? indata0 <- indata
>>? ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>? ? ? group_by(!!subgrp1) %>%
>>? ? ? mutate(numbering =row_number(), max=max(numbering))
>>? ? view(temp)
>>? ? f_table <- table(temp$Species)
>>? ? view(f_table)
>> }
>> 
>> f1(iris, Species)
>> 
>
>Someone is sure to point out that this isn't an RStudio support list, 
>but your issue is with R, not with RStudio.? You created the table in 
>f1, but you never returned it.? The variable f_table is local to the 
>function.? You'd need the following code to do what you want:
>
>f1 <- function(indata , subgrp1){
>? subgrp1 <- enquo(subgrp1)
>? indata0 <- indata
>? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>? ? group_by(!!subgrp1) %>%
>? ? mutate(numbering =row_number(), max=max(numbering))
>? view(temp)
>? f_table <- table(temp$Species)
>? view(f_table)
>? f_table
>}
>
>f_table <- f1(iris, Species)
>
>It's not so easy to also make temp available.? You can do it with 
>assign(), but I think you'd be better off splitting f1 into two 
>functions, one to create temp, and one to create f_table.
>
>Duncan Murdoch
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.
>
>	[[alternative HTML version deleted]]
>
>______________________________________________
>R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>https://stat.ethz.ch/mailman/listinfo/r-help
>PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>and provide commented, minimal, self-contained, reproducible code.

-- 
Sent from my phone. Please excuse my brevity.


From kev|n@thorpe @end|ng |rom utoronto@c@  Thu Jan 13 13:44:49 2022
From: kev|n@thorpe @end|ng |rom utoronto@c@ (Kevin Thorpe)
Date: Thu, 13 Jan 2022 12:44:49 +0000
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
Message-ID: <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>

This is an interesting issue and something I have been thinking about raising with my fellow volunteer moderators.

I honestly don?t know what the best solution is. Personally, I would loathe having to check multiple web-forums/mailing lists to find an answer. New users often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to post here. The frequent reply to questions outside base R that inform them they are off-topic could come across as unfriendly. That could have the side effect of making the community appear elitist. Folks are also often referred to package maintainers but not all maintainers are equally responsive to queries about their packages. In summary, it can be very hard for novice users to get the help they need.

I appreciate the desire of many to keep the focus of this list narrow, yet despite the narrow mandate there are many readers who can answer non-base R questions, which is probably one of the reasons we see the questions. I wonder if there would be an appetite to create a new list, R-package-help, that has a broad mandate (as suggested by Avi). Naturally there is no guarantee that specific questions about some esoteric package will be answered, but that?s a different problem. On the other hand, why not expand the mandate of R-help rather than going to the trouble of creating a new list? Like I said, I don?t know.

Thanks for raising the issue.

Kevin


> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
> 
> TL;DR The people responsible for tidyverse don't think much of mailing lists.
> 
> IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.
> 
> The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.
> 
> Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.
> 
> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>> 
>> 
>> -----Original Message-----
>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>> Sent: Wed, Jan 12, 2022 3:22 pm
>> Subject: Re: [R] how to find the table in R studio
>> 
>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>> Hi all,
>>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>>> Thank you,
>>> Kai
>>> library(tidyverse)
>>> 
>>> f1 <- function(indata , subgrp1){
>>>     subgrp1 <- enquo(subgrp1)
>>>     indata0 <- indata
>>>     temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>       group_by(!!subgrp1) %>%
>>>       mutate(numbering =row_number(), max=max(numbering))
>>>     view(temp)
>>>     f_table <- table(temp$Species)
>>>     view(f_table)
>>> }
>>> 
>>> f1(iris, Species)
>>> 
>> 
>> Someone is sure to point out that this isn't an RStudio support list, 
>> but your issue is with R, not with RStudio.  You created the table in 
>> f1, but you never returned it.  The variable f_table is local to the 
>> function.  You'd need the following code to do what you want:
>> 
>> f1 <- function(indata , subgrp1){
>>   subgrp1 <- enquo(subgrp1)
>>   indata0 <- indata
>>   temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>     group_by(!!subgrp1) %>%
>>     mutate(numbering =row_number(), max=max(numbering))
>>   view(temp)
>>   f_table <- table(temp$Species)
>>   view(f_table)
>>   f_table
>> }
>> 
>> f_table <- f1(iris, Species)
>> 
>> It's not so easy to also make temp available.  You can do it with 
>> assign(), but I think you'd be better off splitting f1 into two 
>> functions, one to create temp, and one to create f_table.
>> 
>> Duncan Murdoch
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Kevin E. Thorpe
Head of Biostatistics,  Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael?s Hospital
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016


From murdoch@dunc@n @end|ng |rom gm@||@com  Thu Jan 13 14:25:26 2022
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Thu, 13 Jan 2022 08:25:26 -0500
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
Message-ID: <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>

Currently help for contributed packages is available on StackOverflow, 
package-specific web sites and Github.

I rarely read package-specific (e.g. RStudio) web pages, and have only 
posted questions there a few times, with generally unsatisfactory results.

Most package developers (including tidyverse ones) respond very 
helpfully on Github, but to post there you need to already have a very 
good idea of where the problem lies.  It's not an appropriate place for 
beginners to ask for help.

That leaves StackOverflow.  It gets way too much traffic from people who 
don't pose their questions well, but it has the advantage over a mailing 
list that questions can be edited and improved (or deleted) after the 
fact.  We should be sending beginners there.  And if you want to read 
questions and help people, apply N95 filters to the questions:  e.g. I 
mainly read questions that have been unanswered and undeleted for an 
hour or more.

Duncan Murdoch

On 13/01/2022 7:44 a.m., Kevin Thorpe wrote:
> This is an interesting issue and something I have been thinking about raising with my fellow volunteer moderators.
> 
> I honestly don?t know what the best solution is. Personally, I would loathe having to check multiple web-forums/mailing lists to find an answer. New users often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to post here. The frequent reply to questions outside base R that inform them they are off-topic could come across as unfriendly. That could have the side effect of making the community appear elitist. Folks are also often referred to package maintainers but not all maintainers are equally responsive to queries about their packages. In summary, it can be very hard for novice users to get the help they need.
> 
> I appreciate the desire of many to keep the focus of this list narrow, yet despite the narrow mandate there are many readers who can answer non-base R questions, which is probably one of the reasons we see the questions. I wonder if there would be an appetite to create a new list, R-package-help, that has a broad mandate (as suggested by Avi). Naturally there is no guarantee that specific questions about some esoteric package will be answered, but that?s a different problem. On the other hand, why not expand the mandate of R-help rather than going to the trouble of creating a new list? Like I said, I don?t know.
> 
> Thanks for raising the issue.
> 
> Kevin
> 
> 
>> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>>
>> TL;DR The people responsible for tidyverse don't think much of mailing lists.
>>
>> IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.
>>
>> The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.
>>
>> Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.
>>
>> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>>> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>>> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>>> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>>> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>>>
>>>
>>> -----Original Message-----
>>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>>> Sent: Wed, Jan 12, 2022 3:22 pm
>>> Subject: Re: [R] how to find the table in R studio
>>>
>>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>>> Hi all,
>>>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>>>> Thank you,
>>>> Kai
>>>> library(tidyverse)
>>>>
>>>> f1 <- function(indata , subgrp1){
>>>>      subgrp1 <- enquo(subgrp1)
>>>>      indata0 <- indata
>>>>      temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>>        group_by(!!subgrp1) %>%
>>>>        mutate(numbering =row_number(), max=max(numbering))
>>>>      view(temp)
>>>>      f_table <- table(temp$Species)
>>>>      view(f_table)
>>>> }
>>>>
>>>> f1(iris, Species)
>>>>
>>>
>>> Someone is sure to point out that this isn't an RStudio support list,
>>> but your issue is with R, not with RStudio.  You created the table in
>>> f1, but you never returned it.  The variable f_table is local to the
>>> function.  You'd need the following code to do what you want:
>>>
>>> f1 <- function(indata , subgrp1){
>>>    subgrp1 <- enquo(subgrp1)
>>>    indata0 <- indata
>>>    temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>      group_by(!!subgrp1) %>%
>>>      mutate(numbering =row_number(), max=max(numbering))
>>>    view(temp)
>>>    f_table <- table(temp$Species)
>>>    view(f_table)
>>>    f_table
>>> }
>>>
>>> f_table <- f1(iris, Species)
>>>
>>> It's not so easy to also make temp available.  You can do it with
>>> assign(), but I think you'd be better off splitting f1 into two
>>> functions, one to create temp, and one to create f_table.
>>>
>>> Duncan Murdoch
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> 	[[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> -- 
>> Sent from my phone. Please excuse my brevity.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>


From petr@p|k@| @end|ng |rom prechez@@cz  Thu Jan 13 14:28:51 2022
From: petr@p|k@| @end|ng |rom prechez@@cz (PIKAL Petr)
Date: Thu, 13 Jan 2022 13:28:51 +0000
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
Message-ID: <7deeb636d1234975b648c82b4daf3504@SRVEXCHCM1301.precheza.cz>

Hallo all

I do not consider answers here unresponsive or unfriendly. Most answers point to the way how to procced and solve the problems. Although RTFM is sometimes the best what anybody can do (and I did it myself around 1997 when I started with R). Hardly anybody here is flamed when he/she asks simple questions.

To create some other list where questions about broad range of available packages should be answered is, IMHO, wrong way forward. You need to have some critical mass of answering people in list to be worth to attend.

You state
>it can be very hard for novice users to get the help they need.<
but can we prove it? How many unanswered questions are in a year? How many responses are "this is off topic" as the only response in thread? How many responses are "contact maintainer" as the only response in thread? An most importantly are these numbers increasing?

Cheers
Petr

> -----Original Message-----
> From: R-help <r-help-bounces at r-project.org> On Behalf Of Kevin Thorpe
> Sent: Thursday, January 13, 2022 1:45 PM
> To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> Cc: R Help Mailing List <r-help at r-project.org>
> Subject: Re: [R] (Off-Topic) Time for a companion mailing list for R packages?
> 
> This is an interesting issue and something I have been thinking about raising with
> my fellow volunteer moderators.
> 
> I honestly don?t know what the best solution is. Personally, I would loathe
> having to check multiple web-forums/mailing lists to find an answer. New users
> often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to
> post here. The frequent reply to questions outside base R that inform them they
> are off-topic could come across as unfriendly. That could have the side effect of
> making the community appear elitist. Folks are also often referred to package
> maintainers but not all maintainers are equally responsive to queries about their
> packages. In summary, it can be very hard for novice users to get the help they
> need.
> 
> I appreciate the desire of many to keep the focus of this list narrow, yet despite
> the narrow mandate there are many readers who can answer non-base R
> questions, which is probably one of the reasons we see the questions. I wonder
> if there would be an appetite to create a new list, R-package-help, that has a
> broad mandate (as suggested by Avi). Naturally there is no guarantee that
> specific questions about some esoteric package will be answered, but that?s a
> different problem. On the other hand, why not expand the mandate of R-help
> rather than going to the trouble of creating a new list? Like I said, I don?t know.
> 
> Thanks for raising the issue.
> 
> Kevin
> 
> 
> > On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
> wrote:
> >
> > TL;DR The people responsible for tidyverse don't think much of mailing lists.
> >
> > IANAMLA (I am not mailing list admin) and I know some people get kind of
> heated about these things, but my take is that this list _is_ about R so to be on
> topic the question needs to be about R and how to get things done in R. Since
> contributed packages are almost by definition creating capabilities linked with
> specific problem domains or domain-specific-languages (DSLs), and there are
> thousands of these, it isn't practical to support questions framed within those
> DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as
> long as the question does not hinge on that package, and even to offer small
> solutions to posed R problems using such packages. Others may disagree with
> my perspective on this. Unfortunately all of this this subtlety is usually lost upon
> newbies, much to the detriment of this list's reputation.
> >
> > The responsibility to setup and manage support for contributed packages
> belongs to the package maintainer. In the case of tidyverse, the general opinion
> of those people seems to be that web forums avoid the "only unformatted info
> can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not
> been built or tended.
> >
> > Unfortunately, they also try to "allow all topics" as much as possible in those
> forums to minimize the appearance of unfriendliness to beginners, but my
> impression is that this leads to such a wide range of topics that many posts don't
> get answered. I have certainly found it to be just too much quantity to sift
> through, and I really am selective about which portions of the tidyverse I work
> with anyway, so I don't hang out there much at all.
> >
> > On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-
> project.org> wrote:
> >> Respectfully, this forum gets lots of questions that include non-base R
> components and especially packages in the tidyverse. Like it or not, the
> extended R language is far more useful and interesting for many people and
> especially those who do not wish to constantly reinvent the wheel.
> >> And repeatedly, we get people reminding (and sometimes chiding) others for
> daring to post questions or supply answers on what they see as a pure R list.
> They have a point.
> >> Yes, there are other places (many not being mailing lists like this one) where
> we can direct the questions but why can't there be an official mailing list
> alongside this one specifically focused on helping or just discussing R issues
> related partially to the use of packages. I don't mean for people making a
> package to share, just users who may be searching for an appropriate package
> or using a common package, especially the ones in the tidyverse that are NOT
> GOING AWAY just because some purists ...
> >> I prefer a diverse set of ways to do things and base R is NOT enough for me,
> nor frankly is R with all packages included as I find other languages suit my
> needs at times for doing various things. If this group is for purists, fine. Can we
> have another for the rest of us? Live and let live.
> >>
> >>
> >> -----Original Message-----
> >> From: Duncan Murdoch <murdoch.duncan at gmail.com>
> >> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List
> >> <r-help at r-project.org>
> >> Sent: Wed, Jan 12, 2022 3:22 pm
> >> Subject: Re: [R] how to find the table in R studio
> >>
> >> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
> >>> Hi all,
> >>> I created a function in R. It will be generate a table "temp". I can view it in R
> studio, but I cannot find it on the top right window in R studio. Can someone tell
> me how to find it in there? Same thing for f_table.
> >>> Thank you,
> >>> Kai
> >>> library(tidyverse)
> >>>
> >>> f1 <- function(indata , subgrp1){
> >>>     subgrp1 <- enquo(subgrp1)
> >>>     indata0 <- indata
> >>>     temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
> >>>       group_by(!!subgrp1) %>%
> >>>       mutate(numbering =row_number(), max=max(numbering))
> >>>     view(temp)
> >>>     f_table <- table(temp$Species)
> >>>     view(f_table)
> >>> }
> >>>
> >>> f1(iris, Species)
> >>>
> >>
> >> Someone is sure to point out that this isn't an RStudio support list,
> >> but your issue is with R, not with RStudio.  You created the table in
> >> f1, but you never returned it.  The variable f_table is local to the
> >> function.  You'd need the following code to do what you want:
> >>
> >> f1 <- function(indata , subgrp1){
> >>   subgrp1 <- enquo(subgrp1)
> >>   indata0 <- indata
> >>   temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
> >>     group_by(!!subgrp1) %>%
> >>     mutate(numbering =row_number(), max=max(numbering))
> >>   view(temp)
> >>   f_table <- table(temp$Species)
> >>   view(f_table)
> >>   f_table
> >> }
> >>
> >> f_table <- f1(iris, Species)
> >>
> >> It's not so easy to also make temp available.  You can do it with
> >> assign(), but I think you'd be better off splitting f1 into two
> >> functions, one to create temp, and one to create f_table.
> >>
> >> Duncan Murdoch
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >>
> >> 	[[alternative HTML version deleted]]
> >>
> >> ______________________________________________
> >> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> >> https://stat.ethz.ch/mailman/listinfo/r-help
> >> PLEASE do read the posting guide
> >> http://www.R-project.org/posting-guide.html
> >> and provide commented, minimal, self-contained, reproducible code.
> >
> > --
> > Sent from my phone. Please excuse my brevity.
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> > http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> 
> --
> Kevin E. Thorpe
> Head of Biostatistics,  Applied Health Research Centre (AHRC) Li Ka Shing
> Knowledge Institute of St. Michael?s Hospital Assistant Professor, Dalla Lana
> School of Public Health University of Toronto
> email: kevin.thorpe at utoronto.ca  Tel: 416.864.5776  Fax: 416.864.3016
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

From @erv|ce @end|ng |rom @hd@w@on@com  Thu Jan 13 14:31:01 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Thu, 13 Jan 2022 08:31:01 -0500
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
 <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>
Message-ID: <5327ff5d-a47e-e972-2b9f-6037f68f0491@shdawson.com>

Great discussion thread.

The problem is not a mailing list. The problem is the inability to 
segment questions. Segment, by keyword or sub-directory (loose word) or 
any other compartmentalization.

QUESTION
What other technology options are available here beyond a mailing list?


*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com <http://www.shdawson.com>


On 1/13/22 8:25 AM, Duncan Murdoch wrote:
> Currently help for contributed packages is available on StackOverflow, 
> package-specific web sites and Github.
>
> I rarely read package-specific (e.g. RStudio) web pages, and have only 
> posted questions there a few times, with generally unsatisfactory 
> results.
>
> Most package developers (including tidyverse ones) respond very 
> helpfully on Github, but to post there you need to already have a very 
> good idea of where the problem lies.? It's not an appropriate place 
> for beginners to ask for help.
>
> That leaves StackOverflow.? It gets way too much traffic from people 
> who don't pose their questions well, but it has the advantage over a 
> mailing list that questions can be edited and improved (or deleted) 
> after the fact.? We should be sending beginners there.? And if you 
> want to read questions and help people, apply N95 filters to the 
> questions:? e.g. I mainly read questions that have been unanswered and 
> undeleted for an hour or more.
>
> Duncan Murdoch
>
> On 13/01/2022 7:44 a.m., Kevin Thorpe wrote:
>> This is an interesting issue and something I have been thinking about 
>> raising with my fellow volunteer moderators.
>>
>> I honestly don?t know what the best solution is. Personally, I would 
>> loathe having to check multiple web-forums/mailing lists to find an 
>> answer. New users often do not appreciate the subtleties (i.e. 
>> RStudio is not R) and will continue to post here. The frequent reply 
>> to questions outside base R that inform them they are off-topic could 
>> come across as unfriendly. That could have the side effect of making 
>> the community appear elitist. Folks are also often referred to 
>> package maintainers but not all maintainers are equally responsive to 
>> queries about their packages. In summary, it can be very hard for 
>> novice users to get the help they need.
>>
>> I appreciate the desire of many to keep the focus of this list 
>> narrow, yet despite the narrow mandate there are many readers who can 
>> answer non-base R questions, which is probably one of the reasons we 
>> see the questions. I wonder if there would be an appetite to create a 
>> new list, R-package-help, that has a broad mandate (as suggested by 
>> Avi). Naturally there is no guarantee that specific questions about 
>> some esoteric package will be answered, but that?s a different 
>> problem. On the other hand, why not expand the mandate of R-help 
>> rather than going to the trouble of creating a new list? Like I said, 
>> I don?t know.
>>
>> Thanks for raising the issue.
>>
>> Kevin
>>
>>
>>> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller 
>>> <jdnewmil at dcn.davis.ca.us> wrote:
>>>
>>> TL;DR The people responsible for tidyverse don't think much of 
>>> mailing lists.
>>>
>>> IANAMLA (I am not mailing list admin) and I know some people get 
>>> kind of heated about these things, but my take is that this list 
>>> _is_ about R so to be on topic the question needs to be about R and 
>>> how to get things done in R. Since contributed packages are almost 
>>> by definition creating capabilities linked with specific problem 
>>> domains or domain-specific-languages (DSLs), and there are thousands 
>>> of these, it isn't practical to support questions framed within 
>>> those DSLs here. It seems perfectly legitimate IMHO to mention such 
>>> packages here, as long as the question does not hinge on that 
>>> package, and even to offer small solutions to posed R problems using 
>>> such packages. Others may disagree with my perspective on this. 
>>> Unfortunately all of this this subtlety is usually lost upon 
>>> newbies, much to the detriment of this list's reputation.
>>>
>>> The responsibility to setup and manage support for contributed 
>>> packages belongs to the package maintainer. In the case of 
>>> tidyverse, the general opinion of those people seems to be that web 
>>> forums avoid the "only unformatted info can be shared" nature of 
>>> traditional mailing lists, so mailing lists have AFAIK not been 
>>> built or tended.
>>>
>>> Unfortunately, they also try to "allow all topics" as much as 
>>> possible in those forums to minimize the appearance of 
>>> unfriendliness to beginners, but my impression is that this leads to 
>>> such a wide range of topics that many posts don't get answered. I 
>>> have certainly found it to be just too much quantity to sift 
>>> through, and I really am selective about which portions of the 
>>> tidyverse I work with anyway, so I don't hang out there much at all.
>>>
>>> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help 
>>> <r-help at r-project.org> wrote:
>>>> Respectfully, this forum gets lots of questions that include 
>>>> non-base R components and especially packages in the tidyverse. 
>>>> Like it or not, the extended R language is far more useful and 
>>>> interesting for many people and especially those who do not wish to 
>>>> constantly reinvent the wheel.
>>>> And repeatedly, we get people reminding (and sometimes chiding) 
>>>> others for daring to post questions or supply answers on what they 
>>>> see as a pure R list. They have a point.
>>>> Yes, there are other places (many not being mailing lists like this 
>>>> one) where we can direct the questions but why can't there be an 
>>>> official mailing list alongside this one specifically focused on 
>>>> helping or just discussing R issues related partially to the use of 
>>>> packages. I don't mean for people making a package to share, just 
>>>> users who may be searching for an appropriate package or using a 
>>>> common package, especially the ones in the tidyverse that are NOT 
>>>> GOING AWAY just because some purists ...
>>>> I prefer a diverse set of ways to do things and base R is NOT 
>>>> enough for me, nor frankly is R with all packages included as I 
>>>> find other languages suit my needs at times for doing various 
>>>> things. If this group is for purists, fine. Can we have another for 
>>>> the rest of us? Live and let live.
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>>>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List 
>>>> <r-help at r-project.org>
>>>> Sent: Wed, Jan 12, 2022 3:22 pm
>>>> Subject: Re: [R] how to find the table in R studio
>>>>
>>>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>>>> Hi all,
>>>>> I created a function in R. It will be generate a table "temp". I 
>>>>> can view it in R studio, but I cannot find it on the top right 
>>>>> window in R studio. Can someone tell me how to find it in there? 
>>>>> Same thing for f_table.
>>>>> Thank you,
>>>>> Kai
>>>>> library(tidyverse)
>>>>>
>>>>> f1 <- function(indata , subgrp1){
>>>>> ???? subgrp1 <- enquo(subgrp1)
>>>>> ???? indata0 <- indata
>>>>> ???? temp??? <- indata0 %>% select(!!subgrp1) %>% 
>>>>> arrange(!!subgrp1) %>%
>>>>> ?????? group_by(!!subgrp1) %>%
>>>>> ?????? mutate(numbering =row_number(), max=max(numbering))
>>>>> ???? view(temp)
>>>>> ???? f_table <- table(temp$Species)
>>>>> ???? view(f_table)
>>>>> }
>>>>>
>>>>> f1(iris, Species)
>>>>>
>>>>
>>>> Someone is sure to point out that this isn't an RStudio support list,
>>>> but your issue is with R, not with RStudio.? You created the table in
>>>> f1, but you never returned it.? The variable f_table is local to the
>>>> function.? You'd need the following code to do what you want:
>>>>
>>>> f1 <- function(indata , subgrp1){
>>>> ?? subgrp1 <- enquo(subgrp1)
>>>> ?? indata0 <- indata
>>>> ?? temp??? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>> ???? group_by(!!subgrp1) %>%
>>>> ???? mutate(numbering =row_number(), max=max(numbering))
>>>> ?? view(temp)
>>>> ?? f_table <- table(temp$Species)
>>>> ?? view(f_table)
>>>> ?? f_table
>>>> }
>>>>
>>>> f_table <- f1(iris, Species)
>>>>
>>>> It's not so easy to also make temp available.? You can do it with
>>>> assign(), but I think you'd be better off splitting f1 into two
>>>> functions, one to create temp, and one to create f_table.
>>>>
>>>> Duncan Murdoch
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>> ????[[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide 
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> -- 
>>> Sent from my phone. Please excuse my brevity.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide 
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From |v@n@c@|@ndr@ @end|ng |rom rgzm@de  Thu Jan 13 15:01:00 2022
From: |v@n@c@|@ndr@ @end|ng |rom rgzm@de (Ivan Calandra)
Date: Thu, 13 Jan 2022 14:01:00 +0000
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>,
 <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>
Message-ID: <a4c0f8b199584b0fa2dba4fc0c515d72@rgzm.de>

This is indeed a very valid question.


IMHO, I still think that these kind of package-specific questions should have a space on the main R mailing list, as long as these questions are about how to do something (coding), and not bug or feature requests. Regarding tidyverse and ggplot2 (and the likes), many answers actually provide ways using different packages (how many times have I seen the same question answered with base R, data.table and dplyr?). This is a great way to learn.

And honestly, how many only use base R? Of course, everything can be done in base R, but packages also belong to R, that's the way it works and why it works so well. Reinventing the wheel is rarely a good solution.


Regarding other help platforms, GitHub is great for the package maintainers that spend time on solving issues, but I myself feel bad to ask there "how to do that" (help is not always good).

I gave up on StackOverflow. Everytime I tried, I either got treated as an idiot by persons who didn't even read my questions (with answers like "do it" to questions like "I don't know how to do it"), or I couldn't comment on my question to make it clearer because I was new (which is ridiculous, it is when you are new that you need to be able to clarify the most!).

If people think it's tough to ask a question on the R mailing list because beginners are not well-handled, they should try SO, it's much worse!

This is to say we should keep the R mailing list!


My $0.02

Ivan

--
Dr. Ivan Calandra
Imaging lab
RGZM - MONREPOS Archaeological Research Centre
Schloss Monrepos
56567 Neuwied, Germany
+49 (0) 2631 9772-243
https://www.researchgate.net/profile/Ivan_Calandra


________________________________
From: R-help <r-help-bounces at r-project.org> on behalf of Duncan Murdoch <murdoch.duncan at gmail.com>
Sent: Thursday, January 13, 2022 2:25 PM
To: Kevin Thorpe; Jeff Newmiller
Cc: R Help Mailing List
Subject: Re: [R] (Off-Topic) Time for a companion mailing list for R packages?

Currently help for contributed packages is available on StackOverflow,
package-specific web sites and Github.

I rarely read package-specific (e.g. RStudio) web pages, and have only
posted questions there a few times, with generally unsatisfactory results.

Most package developers (including tidyverse ones) respond very
helpfully on Github, but to post there you need to already have a very
good idea of where the problem lies.  It's not an appropriate place for
beginners to ask for help.

That leaves StackOverflow.  It gets way too much traffic from people who
don't pose their questions well, but it has the advantage over a mailing
list that questions can be edited and improved (or deleted) after the
fact.  We should be sending beginners there.  And if you want to read
questions and help people, apply N95 filters to the questions:  e.g. I
mainly read questions that have been unanswered and undeleted for an
hour or more.

Duncan Murdoch

On 13/01/2022 7:44 a.m., Kevin Thorpe wrote:
> This is an interesting issue and something I have been thinking about raising with my fellow volunteer moderators.
>
> I honestly don?t know what the best solution is. Personally, I would loathe having to check multiple web-forums/mailing lists to find an answer. New users often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to post here. The frequent reply to questions outside base R that inform them they are off-topic could come across as unfriendly. That could have the side effect of making the community appear elitist. Folks are also often referred to package maintainers but not all maintainers are equally responsive to queries about their packages. In summary, it can be very hard for novice users to get the help they need.
>
> I appreciate the desire of many to keep the focus of this list narrow, yet despite the narrow mandate there are many readers who can answer non-base R questions, which is probably one of the reasons we see the questions. I wonder if there would be an appetite to create a new list, R-package-help, that has a broad mandate (as suggested by Avi). Naturally there is no guarantee that specific questions about some esoteric package will be answered, but that?s a different problem. On the other hand, why not expand the mandate of R-help rather than going to the trouble of creating a new list? Like I said, I don?t know.
>
> Thanks for raising the issue.
>
> Kevin
>
>
>> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>>
>> TL;DR The people responsible for tidyverse don't think much of mailing lists.
>>
>> IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.
>>
>> The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.
>>
>> Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.
>>
>> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>>> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>>> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>>> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>>> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>>>
>>>
>>> -----Original Message-----
>>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>>> Sent: Wed, Jan 12, 2022 3:22 pm
>>> Subject: Re: [R] how to find the table in R studio
>>>
>>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>>> Hi all,
>>>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>>>> Thank you,
>>>> Kai
>>>> library(tidyverse)
>>>>
>>>> f1 <- function(indata , subgrp1){
>>>>      subgrp1 <- enquo(subgrp1)
>>>>      indata0 <- indata
>>>>      temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>>        group_by(!!subgrp1) %>%
>>>>        mutate(numbering =row_number(), max=max(numbering))
>>>>      view(temp)
>>>>      f_table <- table(temp$Species)
>>>>      view(f_table)
>>>> }
>>>>
>>>> f1(iris, Species)
>>>>
>>>
>>> Someone is sure to point out that this isn't an RStudio support list,
>>> but your issue is with R, not with RStudio.  You created the table in
>>> f1, but you never returned it.  The variable f_table is local to the
>>> function.  You'd need the following code to do what you want:
>>>
>>> f1 <- function(indata , subgrp1){
>>>    subgrp1 <- enquo(subgrp1)
>>>    indata0 <- indata
>>>    temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>      group_by(!!subgrp1) %>%
>>>      mutate(numbering =row_number(), max=max(numbering))
>>>    view(temp)
>>>    f_table <- table(temp$Species)
>>>    view(f_table)
>>>    f_table
>>> }
>>>
>>> f_table <- f1(iris, Species)
>>>
>>> It's not so easy to also make temp available.  You can do it with
>>> assign(), but I think you'd be better off splitting f1 into two
>>> functions, one to create temp, and one to create f_table.
>>>
>>> Duncan Murdoch
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>>      [[alternative HTML version deleted]]
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --
>> Sent from my phone. Please excuse my brevity.
>>
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From pro|jcn@@h @end|ng |rom gm@||@com  Thu Jan 13 15:36:32 2022
From: pro|jcn@@h @end|ng |rom gm@||@com (J C Nash)
Date: Thu, 13 Jan 2022 09:36:32 -0500
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <a4c0f8b199584b0fa2dba4fc0c515d72@rgzm.de>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
 <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>
 <a4c0f8b199584b0fa2dba4fc0c515d72@rgzm.de>
Message-ID: <d796505f-0838-5b83-d15e-0da941fe788e@gmail.com>

In 2017 I ran (with Julia Silge and Spencer Graves) a session at UseR! on navigating the R package universe.
See https://github.com/nashjc/Rnavpkg. It was well attended, and we took a few bites out of the whale, but
probably the whale didn't notice.

A possibility has been hinted at by Duncan -- filters on the R-help list. Could filtering be an R package? If
so, does Google Summer of Code https://github.com/rstats-gsoc/gsoc2022/wiki. I already have proposed a project
in a different area, so won't be prepared to lead such an effort, but I'd be willing to kibbitz.

John Nash

On 2022-01-13 9:01 a.m., Ivan Calandra wrote:
> This is indeed a very valid question.
> 
> 
> IMHO, I still think that these kind of package-specific questions should have a space on the main R mailing list, as long as these questions are about how to do something (coding), and not bug or feature requests. Regarding tidyverse and ggplot2 (and the likes), many answers actually provide ways using different packages (how many times have I seen the same question answered with base R, data.table and dplyr?). This is a great way to learn.
> 
> And honestly, how many only use base R? Of course, everything can be done in base R, but packages also belong to R, that's the way it works and why it works so well. Reinventing the wheel is rarely a good solution.
> 
> 
> Regarding other help platforms, GitHub is great for the package maintainers that spend time on solving issues, but I myself feel bad to ask there "how to do that" (help is not always good).
> 
> I gave up on StackOverflow. Everytime I tried, I either got treated as an idiot by persons who didn't even read my questions (with answers like "do it" to questions like "I don't know how to do it"), or I couldn't comment on my question to make it clearer because I was new (which is ridiculous, it is when you are new that you need to be able to clarify the most!).
> 
> If people think it's tough to ask a question on the R mailing list because beginners are not well-handled, they should try SO, it's much worse!
> 
> This is to say we should keep the R mailing list!
> 
> 
> My $0.02
> 
> Ivan
> 
> --
> Dr. Ivan Calandra
> Imaging lab
> RGZM - MONREPOS Archaeological Research Centre
> Schloss Monrepos
> 56567 Neuwied, Germany
> +49 (0) 2631 9772-243
> https://www.researchgate.net/profile/Ivan_Calandra
> 
> 
> ________________________________
> From: R-help <r-help-bounces at r-project.org> on behalf of Duncan Murdoch <murdoch.duncan at gmail.com>
> Sent: Thursday, January 13, 2022 2:25 PM
> To: Kevin Thorpe; Jeff Newmiller
> Cc: R Help Mailing List
> Subject: Re: [R] (Off-Topic) Time for a companion mailing list for R packages?
> 
> Currently help for contributed packages is available on StackOverflow,
> package-specific web sites and Github.
> 
> I rarely read package-specific (e.g. RStudio) web pages, and have only
> posted questions there a few times, with generally unsatisfactory results.
> 
> Most package developers (including tidyverse ones) respond very
> helpfully on Github, but to post there you need to already have a very
> good idea of where the problem lies.  It's not an appropriate place for
> beginners to ask for help.
> 
> That leaves StackOverflow.  It gets way too much traffic from people who
> don't pose their questions well, but it has the advantage over a mailing
> list that questions can be edited and improved (or deleted) after the
> fact.  We should be sending beginners there.  And if you want to read
> questions and help people, apply N95 filters to the questions:  e.g. I
> mainly read questions that have been unanswered and undeleted for an
> hour or more.
> 
> Duncan Murdoch
> 
> On 13/01/2022 7:44 a.m., Kevin Thorpe wrote:
>> This is an interesting issue and something I have been thinking about raising with my fellow volunteer moderators.
>>
>> I honestly don?t know what the best solution is. Personally, I would loathe having to check multiple web-forums/mailing lists to find an answer. New users often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to post here. The frequent reply to questions outside base R that inform them they are off-topic could come across as unfriendly. That could have the side effect of making the community appear elitist. Folks are also often referred to package maintainers but not all maintainers are equally responsive to queries about their packages. In summary, it can be very hard for novice users to get the help they need.
>>
>> I appreciate the desire of many to keep the focus of this list narrow, yet despite the narrow mandate there are many readers who can answer non-base R questions, which is probably one of the reasons we see the questions. I wonder if there would be an appetite to create a new list, R-package-help, that has a broad mandate (as suggested by Avi). Naturally there is no guarantee that specific questions about some esoteric package will be answered, but that?s a different problem. On the other hand, why not expand the mandate of R-help rather than going to the trouble of creating a new list? Like I said, I don?t know.
>>
>> Thanks for raising the issue.
>>
>> Kevin
>>
>>
>>> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>>>
>>> TL;DR The people responsible for tidyverse don't think much of mailing lists.
>>>
>>> IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.
>>>
>>> The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.
>>>
>>> Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.
>>>
>>> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>>>> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>>>> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>>>> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>>>> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>>>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>>>> Sent: Wed, Jan 12, 2022 3:22 pm
>>>> Subject: Re: [R] how to find the table in R studio
>>>>
>>>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>>>> Hi all,
>>>>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>>>>> Thank you,
>>>>> Kai
>>>>> library(tidyverse)
>>>>>
>>>>> f1 <- function(indata , subgrp1){
>>>>>       subgrp1 <- enquo(subgrp1)
>>>>>       indata0 <- indata
>>>>>       temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>>>         group_by(!!subgrp1) %>%
>>>>>         mutate(numbering =row_number(), max=max(numbering))
>>>>>       view(temp)
>>>>>       f_table <- table(temp$Species)
>>>>>       view(f_table)
>>>>> }
>>>>>
>>>>> f1(iris, Species)
>>>>>
>>>>
>>>> Someone is sure to point out that this isn't an RStudio support list,
>>>> but your issue is with R, not with RStudio.  You created the table in
>>>> f1, but you never returned it.  The variable f_table is local to the
>>>> function.  You'd need the following code to do what you want:
>>>>
>>>> f1 <- function(indata , subgrp1){
>>>>     subgrp1 <- enquo(subgrp1)
>>>>     indata0 <- indata
>>>>     temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>>       group_by(!!subgrp1) %>%
>>>>       mutate(numbering =row_number(), max=max(numbering))
>>>>     view(temp)
>>>>     f_table <- table(temp$Species)
>>>>     view(f_table)
>>>>     f_table
>>>> }
>>>>
>>>> f_table <- f1(iris, Species)
>>>>
>>>> It's not so easy to also make temp available.  You can do it with
>>>> assign(), but I think you'd be better off splitting f1 into two
>>>> functions, one to create temp, and one to create f_table.
>>>>
>>>> Duncan Murdoch
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>>       [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 	[[alternative HTML version deleted]]
> 
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


From @erv|ce @end|ng |rom @hd@w@on@com  Thu Jan 13 15:50:51 2022
From: @erv|ce @end|ng |rom @hd@w@on@com (Stephen H. Dawson, DSL)
Date: Thu, 13 Jan 2022 09:50:51 -0500
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <a4c0f8b199584b0fa2dba4fc0c515d72@rgzm.de>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
 <bba68c9c-99fc-d4bc-4bdb-951205d8b754@gmail.com>
 <a4c0f8b199584b0fa2dba4fc0c515d72@rgzm.de>
Message-ID: <0bedddde-dbfc-4abf-2d38-9d0ac38a7495@shdawson.com>

Good comments, Ivan.

I also have found StackOverflow to not be too helpful in a structured 
conversation. I have had it and miss success with GitHub interactions.


*Stephen Dawson, DSL*
/Executive Strategy Consultant/
Business & Technology
+1 (865) 804-3454
http://www.shdawson.com <http://www.shdawson.com>


On 1/13/22 9:01 AM, Ivan Calandra wrote:
> This is indeed a very valid question.
>
>
> IMHO, I still think that these kind of package-specific questions should have a space on the main R mailing list, as long as these questions are about how to do something (coding), and not bug or feature requests. Regarding tidyverse and ggplot2 (and the likes), many answers actually provide ways using different packages (how many times have I seen the same question answered with base R, data.table and dplyr?). This is a great way to learn.
>
> And honestly, how many only use base R? Of course, everything can be done in base R, but packages also belong to R, that's the way it works and why it works so well. Reinventing the wheel is rarely a good solution.
>
>
> Regarding other help platforms, GitHub is great for the package maintainers that spend time on solving issues, but I myself feel bad to ask there "how to do that" (help is not always good).
>
> I gave up on StackOverflow. Everytime I tried, I either got treated as an idiot by persons who didn't even read my questions (with answers like "do it" to questions like "I don't know how to do it"), or I couldn't comment on my question to make it clearer because I was new (which is ridiculous, it is when you are new that you need to be able to clarify the most!).
>
> If people think it's tough to ask a question on the R mailing list because beginners are not well-handled, they should try SO, it's much worse!
>
> This is to say we should keep the R mailing list!
>
>
> My $0.02
>
> Ivan
>
> --
> Dr. Ivan Calandra
> Imaging lab
> RGZM - MONREPOS Archaeological Research Centre
> Schloss Monrepos
> 56567 Neuwied, Germany
> +49 (0) 2631 9772-243
> https://www.researchgate.net/profile/Ivan_Calandra
>
>
> ________________________________
> From: R-help <r-help-bounces at r-project.org> on behalf of Duncan Murdoch <murdoch.duncan at gmail.com>
> Sent: Thursday, January 13, 2022 2:25 PM
> To: Kevin Thorpe; Jeff Newmiller
> Cc: R Help Mailing List
> Subject: Re: [R] (Off-Topic) Time for a companion mailing list for R packages?
>
> Currently help for contributed packages is available on StackOverflow,
> package-specific web sites and Github.
>
> I rarely read package-specific (e.g. RStudio) web pages, and have only
> posted questions there a few times, with generally unsatisfactory results.
>
> Most package developers (including tidyverse ones) respond very
> helpfully on Github, but to post there you need to already have a very
> good idea of where the problem lies.  It's not an appropriate place for
> beginners to ask for help.
>
> That leaves StackOverflow.  It gets way too much traffic from people who
> don't pose their questions well, but it has the advantage over a mailing
> list that questions can be edited and improved (or deleted) after the
> fact.  We should be sending beginners there.  And if you want to read
> questions and help people, apply N95 filters to the questions:  e.g. I
> mainly read questions that have been unanswered and undeleted for an
> hour or more.
>
> Duncan Murdoch
>
> On 13/01/2022 7:44 a.m., Kevin Thorpe wrote:
>> This is an interesting issue and something I have been thinking about raising with my fellow volunteer moderators.
>>
>> I honestly don?t know what the best solution is. Personally, I would loathe having to check multiple web-forums/mailing lists to find an answer. New users often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to post here. The frequent reply to questions outside base R that inform them they are off-topic could come across as unfriendly. That could have the side effect of making the community appear elitist. Folks are also often referred to package maintainers but not all maintainers are equally responsive to queries about their packages. In summary, it can be very hard for novice users to get the help they need.
>>
>> I appreciate the desire of many to keep the focus of this list narrow, yet despite the narrow mandate there are many readers who can answer non-base R questions, which is probably one of the reasons we see the questions. I wonder if there would be an appetite to create a new list, R-package-help, that has a broad mandate (as suggested by Avi). Naturally there is no guarantee that specific questions about some esoteric package will be answered, but that?s a different problem. On the other hand, why not expand the mandate of R-help rather than going to the trouble of creating a new list? Like I said, I don?t know.
>>
>> Thanks for raising the issue.
>>
>> Kevin
>>
>>
>>> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
>>>
>>> TL;DR The people responsible for tidyverse don't think much of mailing lists.
>>>
>>> IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.
>>>
>>> The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.
>>>
>>> Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.
>>>
>>> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>>>> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>>>> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>>>> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>>>> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>>>>
>>>>
>>>> -----Original Message-----
>>>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>>>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>>>> Sent: Wed, Jan 12, 2022 3:22 pm
>>>> Subject: Re: [R] how to find the table in R studio
>>>>
>>>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>>>> Hi all,
>>>>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>>>>> Thank you,
>>>>> Kai
>>>>> library(tidyverse)
>>>>>
>>>>> f1 <- function(indata , subgrp1){
>>>>>       subgrp1 <- enquo(subgrp1)
>>>>>       indata0 <- indata
>>>>>       temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>>>         group_by(!!subgrp1) %>%
>>>>>         mutate(numbering =row_number(), max=max(numbering))
>>>>>       view(temp)
>>>>>       f_table <- table(temp$Species)
>>>>>       view(f_table)
>>>>> }
>>>>>
>>>>> f1(iris, Species)
>>>>>
>>>> Someone is sure to point out that this isn't an RStudio support list,
>>>> but your issue is with R, not with RStudio.  You created the table in
>>>> f1, but you never returned it.  The variable f_table is local to the
>>>> function.  You'd need the following code to do what you want:
>>>>
>>>> f1 <- function(indata , subgrp1){
>>>>     subgrp1 <- enquo(subgrp1)
>>>>     indata0 <- indata
>>>>     temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>>       group_by(!!subgrp1) %>%
>>>>       mutate(numbering =row_number(), max=max(numbering))
>>>>     view(temp)
>>>>     f_table <- table(temp$Species)
>>>>     view(f_table)
>>>>     f_table
>>>> }
>>>>
>>>> f_table <- f1(iris, Species)
>>>>
>>>> It's not so easy to also make temp available.  You can do it with
>>>> assign(), but I think you'd be better off splitting f1 into two
>>>> functions, one to create temp, and one to create f_table.
>>>>
>>>> Duncan Murdoch
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>>       [[alternative HTML version deleted]]
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>> --
>>> Sent from my phone. Please excuse my brevity.
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>
> 	[[alternative HTML version deleted]]
>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From j|ox @end|ng |rom mcm@@ter@c@  Thu Jan 13 17:07:55 2022
From: j|ox @end|ng |rom mcm@@ter@c@ (John Fox)
Date: Thu, 13 Jan 2022 11:07:55 -0500
Subject: [R] Time for a companion mailing list for R packages?
In-Reply-To: <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
Message-ID: <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>

Dear Avi et al.,

Rather than proliferating R mailing lists, why not just allow questions 
on non-standard packages on the r-help list?

(1) If people don't want to answer these questions, they don't have to.

(2) Users won't necessarily find the new email list and so may post to 
r-help anyway, only to be told that they should have posted to another list.

(3) Many of the questions currently posted to the list concern 
non-standard packages and most of them are answered.

(4) If people prefer other sources of help (as listed on the R website 
"getting help" page) then they are free to use them.

(5) As I read the posting guide, questions about non-standard packages 
aren't actually disallowed; the posting guide suggests, however, that 
the package maintainer be contacted first. But answers can be helpful to 
other users, and so it may be preferable for at least some of these 
questions to be asked on the list.

(6) Finally, the instruction concerning non-standard packages is buried 
near the end of the posting guide, and users, especially new users, may 
not understand what the term "standard packages" means even if they find 
their way to the posting guide.

Best,
  John

-- 
John Fox, Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
web: https://socialsciences.mcmaster.ca/jfox/

On 2022-01-12 10:27 p.m., Avi Gross via R-help wrote:
> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
> 
> 
> -----Original Message-----
> From: Duncan Murdoch <murdoch.duncan at gmail.com>
> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
> Sent: Wed, Jan 12, 2022 3:22 pm
> Subject: Re: [R] how to find the table in R studio
> 
> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>> Hi all,
>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>> Thank you,
>> Kai
>> library(tidyverse)
>>
>> f1 <- function(indata , subgrp1){
>>  ? ? subgrp1 <- enquo(subgrp1)
>>  ? ? indata0 <- indata
>>  ? ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>  ? ? ? group_by(!!subgrp1) %>%
>>  ? ? ? mutate(numbering =row_number(), max=max(numbering))
>>  ? ? view(temp)
>>  ? ? f_table <- table(temp$Species)
>>  ? ? view(f_table)
>> }
>>
>> f1(iris, Species)
>>
> 
> Someone is sure to point out that this isn't an RStudio support list,
> but your issue is with R, not with RStudio.? You created the table in
> f1, but you never returned it.? The variable f_table is local to the
> function.? You'd need the following code to do what you want:
> 
> f1 <- function(indata , subgrp1){
>  ? subgrp1 <- enquo(subgrp1)
>  ? indata0 <- indata
>  ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>  ? ? group_by(!!subgrp1) %>%
>  ? ? mutate(numbering =row_number(), max=max(numbering))
>  ? view(temp)
>  ? f_table <- table(temp$Species)
>  ? view(f_table)
>  ? f_table
> }
> 
> f_table <- f1(iris, Species)
> 
> It's not so easy to also make temp available.? You can do it with
> assign(), but I think you'd be better off splitting f1 into two
> functions, one to create temp, and one to create f_table.
> 
> Duncan Murdoch
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From er|cjberger @end|ng |rom gm@||@com  Thu Jan 13 18:25:00 2022
From: er|cjberger @end|ng |rom gm@||@com (Eric Berger)
Date: Thu, 13 Jan 2022 19:25:00 +0200
Subject: [R] Time for a companion mailing list for R packages?
In-Reply-To: <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
 <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>
Message-ID: <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>

Re: constructive criticism to make this list more useful to more people:

Suggestion 1: accommodate questions related to non-base-R packages
                       This has been addressed by many already. The current
de facto situation is that such questions are asked and often answered.
Perhaps the posting guide should be altered so that such questions fall
within the guidelines.

Suggestion 2: expand beyond plain-text mode
                        I assume there is a reason for this restriction but
it seems to create a lot of delay and often havoc. Also, many questions on
this list relate to graphics which is an important part of R (even base R)
and such questions may often be more easily communicated with images.

Eric




On Thu, Jan 13, 2022 at 6:08 PM John Fox <jfox at mcmaster.ca> wrote:

> Dear Avi et al.,
>
> Rather than proliferating R mailing lists, why not just allow questions
> on non-standard packages on the r-help list?
>
> (1) If people don't want to answer these questions, they don't have to.
>
> (2) Users won't necessarily find the new email list and so may post to
> r-help anyway, only to be told that they should have posted to another
> list.
>
> (3) Many of the questions currently posted to the list concern
> non-standard packages and most of them are answered.
>
> (4) If people prefer other sources of help (as listed on the R website
> "getting help" page) then they are free to use them.
>
> (5) As I read the posting guide, questions about non-standard packages
> aren't actually disallowed; the posting guide suggests, however, that
> the package maintainer be contacted first. But answers can be helpful to
> other users, and so it may be preferable for at least some of these
> questions to be asked on the list.
>
> (6) Finally, the instruction concerning non-standard packages is buried
> near the end of the posting guide, and users, especially new users, may
> not understand what the term "standard packages" means even if they find
> their way to the posting guide.
>
> Best,
>   John
>
> --
> John Fox, Professor Emeritus
> McMaster University
> Hamilton, Ontario, Canada
> web: https://socialsciences.mcmaster.ca/jfox/
>
> On 2022-01-12 10:27 p.m., Avi Gross via R-help wrote:
> > Respectfully, this forum gets lots of questions that include non-base R
> components and especially packages in the tidyverse. Like it or not, the
> extended R language is far more useful and interesting for many people and
> especially those who do not wish to constantly reinvent the wheel.
> > And repeatedly, we get people reminding (and sometimes chiding) others
> for daring to post questions or supply answers on what they see as a pure R
> list. They have a point.
> > Yes, there are other places (many not being mailing lists like this one)
> where we can direct the questions but why can't there be an official
> mailing list alongside this one specifically focused on helping or just
> discussing R issues related partially to the use of packages. I don't mean
> for people making a package to share, just users who may be searching for
> an appropriate package or using a common package, especially the ones in
> the tidyverse that are NOT GOING AWAY just because some purists ...
> > I prefer a diverse set of ways to do things and base R is NOT enough for
> me, nor frankly is R with all packages included as I find other languages
> suit my needs at times for doing various things. If this group is for
> purists, fine. Can we have another for the rest of us? Live and let live.
> >
> >
> > -----Original Message-----
> > From: Duncan Murdoch <murdoch.duncan at gmail.com>
> > To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <
> r-help at r-project.org>
> > Sent: Wed, Jan 12, 2022 3:22 pm
> > Subject: Re: [R] how to find the table in R studio
> >
> > On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
> >> Hi all,
> >> I created a function in R. It will be generate a table "temp". I can
> view it in R studio, but I cannot find it on the top right window in R
> studio. Can someone tell me how to find it in there? Same thing for f_table.
> >> Thank you,
> >> Kai
> >> library(tidyverse)
> >>
> >> f1 <- function(indata , subgrp1){
> >>      subgrp1 <- enquo(subgrp1)
> >>      indata0 <- indata
> >>      temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
> >>        group_by(!!subgrp1) %>%
> >>        mutate(numbering =row_number(), max=max(numbering))
> >>      view(temp)
> >>      f_table <- table(temp$Species)
> >>      view(f_table)
> >> }
> >>
> >> f1(iris, Species)
> >>
> >
> > Someone is sure to point out that this isn't an RStudio support list,
> > but your issue is with R, not with RStudio.  You created the table in
> > f1, but you never returned it.  The variable f_table is local to the
> > function.  You'd need the following code to do what you want:
> >
> > f1 <- function(indata , subgrp1){
> >    subgrp1 <- enquo(subgrp1)
> >    indata0 <- indata
> >    temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
> >      group_by(!!subgrp1) %>%
> >      mutate(numbering =row_number(), max=max(numbering))
> >    view(temp)
> >    f_table <- table(temp$Species)
> >    view(f_table)
> >    f_table
> > }
> >
> > f_table <- f1(iris, Species)
> >
> > It's not so easy to also make temp available.  You can do it with
> > assign(), but I think you'd be better off splitting f1 into two
> > functions, one to create temp, and one to create f_table.
> >
> > Duncan Murdoch
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
> >
> >       [[alternative HTML version deleted]]
> >
> > ______________________________________________
> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> > https://stat.ethz.ch/mailman/listinfo/r-help
> > PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> > and provide commented, minimal, self-contained, reproducible code.
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


From twoo|m@n @end|ng |rom ont@rgettek@com  Thu Jan 13 18:30:34 2022
From: twoo|m@n @end|ng |rom ont@rgettek@com (Tom Woolman)
Date: Thu, 13 Jan 2022 12:30:34 -0500
Subject: [R] Time for a companion mailing list for R packages?
In-Reply-To: <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
 <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>
 <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>
Message-ID: <49558fc2fe3ec5c5db532a4e02408dc2@ontargettek.com>

I concur on both of Eric's suggestions below. I love R but I couldn't 
imagine using it on a daily basis without "key" packages for various 
regression and classification modeling problems, etc.   Likewise on 
being able to embed images (within reason... maybe establish a max KB or 
MB file size for attachments).


Thanks,
Tom


On 2022-01-13 12:25, Eric Berger wrote:
> Re: constructive criticism to make this list more useful to more 
> people:
> 
> Suggestion 1: accommodate questions related to non-base-R packages
>                        This has been addressed by many already. The 
> current
> de facto situation is that such questions are asked and often answered.
> Perhaps the posting guide should be altered so that such questions fall
> within the guidelines.
> 
> Suggestion 2: expand beyond plain-text mode
>                         I assume there is a reason for this restriction 
> but
> it seems to create a lot of delay and often havoc. Also, many questions 
> on
> this list relate to graphics which is an important part of R (even base 
> R)
> and such questions may often be more easily communicated with images.
> 
> Eric
> 
> 
> 
> 
> On Thu, Jan 13, 2022 at 6:08 PM John Fox <jfox at mcmaster.ca> wrote:
> 
>> Dear Avi et al.,
>> 
>> Rather than proliferating R mailing lists, why not just allow 
>> questions
>> on non-standard packages on the r-help list?
>> 
>> (1) If people don't want to answer these questions, they don't have 
>> to.
>> 
>> (2) Users won't necessarily find the new email list and so may post to
>> r-help anyway, only to be told that they should have posted to another
>> list.
>> 
>> (3) Many of the questions currently posted to the list concern
>> non-standard packages and most of them are answered.
>> 
>> (4) If people prefer other sources of help (as listed on the R website
>> "getting help" page) then they are free to use them.
>> 
>> (5) As I read the posting guide, questions about non-standard packages
>> aren't actually disallowed; the posting guide suggests, however, that
>> the package maintainer be contacted first. But answers can be helpful 
>> to
>> other users, and so it may be preferable for at least some of these
>> questions to be asked on the list.
>> 
>> (6) Finally, the instruction concerning non-standard packages is 
>> buried
>> near the end of the posting guide, and users, especially new users, 
>> may
>> not understand what the term "standard packages" means even if they 
>> find
>> their way to the posting guide.
>> 
>> Best,
>>   John
>> 
>> --
>> John Fox, Professor Emeritus
>> McMaster University
>> Hamilton, Ontario, Canada
>> web: https://socialsciences.mcmaster.ca/jfox/
>> 
>> On 2022-01-12 10:27 p.m., Avi Gross via R-help wrote:
>> > Respectfully, this forum gets lots of questions that include non-base R
>> components and especially packages in the tidyverse. Like it or not, 
>> the
>> extended R language is far more useful and interesting for many people 
>> and
>> especially those who do not wish to constantly reinvent the wheel.
>> > And repeatedly, we get people reminding (and sometimes chiding) others
>> for daring to post questions or supply answers on what they see as a 
>> pure R
>> list. They have a point.
>> > Yes, there are other places (many not being mailing lists like this one)
>> where we can direct the questions but why can't there be an official
>> mailing list alongside this one specifically focused on helping or 
>> just
>> discussing R issues related partially to the use of packages. I don't 
>> mean
>> for people making a package to share, just users who may be searching 
>> for
>> an appropriate package or using a common package, especially the ones 
>> in
>> the tidyverse that are NOT GOING AWAY just because some purists ...
>> > I prefer a diverse set of ways to do things and base R is NOT enough for
>> me, nor frankly is R with all packages included as I find other 
>> languages
>> suit my needs at times for doing various things. If this group is for
>> purists, fine. Can we have another for the rest of us? Live and let 
>> live.
>> >
>> >
>> > -----Original Message-----
>> > From: Duncan Murdoch <murdoch.duncan at gmail.com>
>> > To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <
>> r-help at r-project.org>
>> > Sent: Wed, Jan 12, 2022 3:22 pm
>> > Subject: Re: [R] how to find the table in R studio
>> >
>> > On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>> >> Hi all,
>> >> I created a function in R. It will be generate a table "temp". I can
>> view it in R studio, but I cannot find it on the top right window in R
>> studio. Can someone tell me how to find it in there? Same thing for 
>> f_table.
>> >> Thank you,
>> >> Kai
>> >> library(tidyverse)
>> >>
>> >> f1 <- function(indata , subgrp1){
>> >>      subgrp1 <- enquo(subgrp1)
>> >>      indata0 <- indata
>> >>      temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>> >>        group_by(!!subgrp1) %>%
>> >>        mutate(numbering =row_number(), max=max(numbering))
>> >>      view(temp)
>> >>      f_table <- table(temp$Species)
>> >>      view(f_table)
>> >> }
>> >>
>> >> f1(iris, Species)
>> >>
>> >
>> > Someone is sure to point out that this isn't an RStudio support list,
>> > but your issue is with R, not with RStudio.  You created the table in
>> > f1, but you never returned it.  The variable f_table is local to the
>> > function.  You'd need the following code to do what you want:
>> >
>> > f1 <- function(indata , subgrp1){
>> >    subgrp1 <- enquo(subgrp1)
>> >    indata0 <- indata
>> >    temp    <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>> >      group_by(!!subgrp1) %>%
>> >      mutate(numbering =row_number(), max=max(numbering))
>> >    view(temp)
>> >    f_table <- table(temp$Species)
>> >    view(f_table)
>> >    f_table
>> > }
>> >
>> > f_table <- f1(iris, Species)
>> >
>> > It's not so easy to also make temp available.  You can do it with
>> > assign(), but I think you'd be better off splitting f1 into two
>> > functions, one to create temp, and one to create f_table.
>> >
>> > Duncan Murdoch
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> > ______________________________________________
>> > R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> > https://stat.ethz.ch/mailman/listinfo/r-help
>> > PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> > and provide commented, minimal, self-contained, reproducible code.
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide 
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Thu Jan 13 19:05:10 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Thu, 13 Jan 2022 18:05:10 +0000 (UTC)
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <1792243350.2724951.1642044440134@mail.yahoo.com>
 <BD7A8D26-C736-4BBA-80BB-4891CE8758BC@dcn.davis.ca.us>
 <05566482-E9D1-43B6-8A77-4F41F5C422DC@utoronto.ca>
Message-ID: <1854929399.2842746.1642097110703@mail.yahoo.com>

Kevin,
My thought was to have a specific place you can direct people to if their main problem or question was outside the reasonable scope of this group but clearly about R and about fairly well-used packages.
There are thousands of packages and I know if I bothered to put one out there, I would not necessarily be willing to volunteer to support it by answering questions from anyone who asked. So I suspect getting replies from package owners or contacts in general, is not that reliable or quick.
R STUDIO is a factor here in that there is a cluster of packages they are associated with. Given it's popularity, it is not a shock if quite a few questions relate to such packages and I think more packages may be entering their domain over time. There may be other packages used often that are commonly used and many hardly anyone would mention.
Who would monitor such groups is always a question, as well as who would take the time to answer. But if the people on this forum who are not interested simply stay here and direct any questions to there politely, maybe it would overall be a better experience. Of course, the people here might also suggest a more base-R approach to solving a problem that might also be satisfactory.
I am in both camps and especially when students who are learning base R are guided to use what was taught in class, rather than pre-built ...
But I also appreciate when someone has a nice and general set of tools that is well designed and well tested and has advantages that can range from being faster to easier to program to just automating fairly tedious and repetitive things otherwise done.?
I will say this. By adding some features like a version of a pipe to base R, I think it fair to say that the base R we are talking about can well be expanding so that over time, some packages may become less attractive or necessary. There are things that would be nice to be able to use without having to ask for them to be loaded and might be quite useful and very commonly used. But as discussed here, maintaining the bloat ...


-----Original Message-----
From: Kevin Thorpe <kevin.thorpe at utoronto.ca>
To: Jeff Newmiller <jdnewmil at dcn.davis.ca.us>
Cc: Avi Gross <avigross at verizon.net>; R Help Mailing List <r-help at r-project.org>
Sent: Thu, Jan 13, 2022 7:44 am
Subject: Re: [R] (Off-Topic) Time for a companion mailing list for R packages?

This is an interesting issue and something I have been thinking about raising with my fellow volunteer moderators.

I honestly don?t know what the best solution is. Personally, I would loathe having to check multiple web-forums/mailing lists to find an answer. New users often do not appreciate the subtleties (i.e. RStudio is not R) and will continue to post here. The frequent reply to questions outside base R that inform them they are off-topic could come across as unfriendly. That could have the side effect of making the community appear elitist. Folks are also often referred to package maintainers but not all maintainers are equally responsive to queries about their packages. In summary, it can be very hard for novice users to get the help they need.

I appreciate the desire of many to keep the focus of this list narrow, yet despite the narrow mandate there are many readers who can answer non-base R questions, which is probably one of the reasons we see the questions. I wonder if there would be an appetite to create a new list, R-package-help, that has a broad mandate (as suggested by Avi). Naturally there is no guarantee that specific questions about some esoteric package will be answered, but that?s a different problem. On the other hand, why not expand the mandate of R-help rather than going to the trouble of creating a new list? Like I said, I don?t know.

Thanks for raising the issue.

Kevin


> On Jan 12, 2022, at 11:24 PM, Jeff Newmiller <jdnewmil at dcn.davis.ca.us> wrote:
> 
> TL;DR The people responsible for tidyverse don't think much of mailing lists.
> 
> IANAMLA (I am not mailing list admin) and I know some people get kind of heated about these things, but my take is that this list _is_ about R so to be on topic the question needs to be about R and how to get things done in R. Since contributed packages are almost by definition creating capabilities linked with specific problem domains or domain-specific-languages (DSLs), and there are thousands of these, it isn't practical to support questions framed within those DSLs here. It seems perfectly legitimate IMHO to mention such packages here, as long as the question does not hinge on that package, and even to offer small solutions to posed R problems using such packages. Others may disagree with my perspective on this. Unfortunately all of this this subtlety is usually lost upon newbies, much to the detriment of this list's reputation.
> 
> The responsibility to setup and manage support for contributed packages belongs to the package maintainer. In the case of tidyverse, the general opinion of those people seems to be that web forums avoid the "only unformatted info can be shared" nature of traditional mailing lists, so mailing lists have AFAIK not been built or tended.
> 
> Unfortunately, they also try to "allow all topics" as much as possible in those forums to minimize the appearance of unfriendliness to beginners, but my impression is that this leads to such a wide range of topics that many posts don't get answered. I have certainly found it to be just too much quantity to sift through, and I really am selective about which portions of the tidyverse I work with anyway, so I don't hang out there much at all.
> 
> On January 12, 2022 7:27:20 PM PST, Avi Gross via R-help <r-help at r-project.org> wrote:
>> Respectfully, this forum gets lots of questions that include non-base R components and especially packages in the tidyverse. Like it or not, the extended R language is far more useful and interesting for many people and especially those who do not wish to constantly reinvent the wheel.
>> And repeatedly, we get people reminding (and sometimes chiding) others for daring to post questions or supply answers on what they see as a pure R list. They have a point.
>> Yes, there are other places (many not being mailing lists like this one) where we can direct the questions but why can't there be an official mailing list alongside this one specifically focused on helping or just discussing R issues related partially to the use of packages. I don't mean for people making a package to share, just users who may be searching for an appropriate package or using a common package, especially the ones in the tidyverse that are NOT GOING AWAY just because some purists ...
>> I prefer a diverse set of ways to do things and base R is NOT enough for me, nor frankly is R with all packages included as I find other languages suit my needs at times for doing various things. If this group is for purists, fine. Can we have another for the rest of us? Live and let live.
>> 
>> 
>> -----Original Message-----
>> From: Duncan Murdoch <murdoch.duncan at gmail.com>
>> To: Kai Yang <yangkai9999 at yahoo.com>; R-help Mailing List <r-help at r-project.org>
>> Sent: Wed, Jan 12, 2022 3:22 pm
>> Subject: Re: [R] how to find the table in R studio
>> 
>> On 12/01/2022 3:07 p.m., Kai Yang via R-help wrote:
>>> Hi all,
>>> I created a function in R. It will be generate a table "temp". I can view it in R studio, but I cannot find it on the top right window in R studio. Can someone tell me how to find it in there? Same thing for f_table.
>>> Thank you,
>>> Kai
>>> library(tidyverse)
>>> 
>>> f1 <- function(indata , subgrp1){
>>>? ? subgrp1 <- enquo(subgrp1)
>>>? ? indata0 <- indata
>>>? ? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>>? ? ? group_by(!!subgrp1) %>%
>>>? ? ? mutate(numbering =row_number(), max=max(numbering))
>>>? ? view(temp)
>>>? ? f_table <- table(temp$Species)
>>>? ? view(f_table)
>>> }
>>> 
>>> f1(iris, Species)
>>> 
>> 
>> Someone is sure to point out that this isn't an RStudio support list, 
>> but your issue is with R, not with RStudio.? You created the table in 
>> f1, but you never returned it.? The variable f_table is local to the 
>> function.? You'd need the following code to do what you want:
>> 
>> f1 <- function(indata , subgrp1){
>>? subgrp1 <- enquo(subgrp1)
>>? indata0 <- indata
>>? temp? ? <- indata0 %>% select(!!subgrp1) %>% arrange(!!subgrp1) %>%
>>? ? group_by(!!subgrp1) %>%
>>? ? mutate(numbering =row_number(), max=max(numbering))
>>? view(temp)
>>? f_table <- table(temp$Species)
>>? view(f_table)
>>? f_table
>> }
>> 
>> f_table <- f1(iris, Species)
>> 
>> It's not so easy to also make temp available.? You can do it with 
>> assign(), but I think you'd be better off splitting f1 into two 
>> functions, one to create temp, and one to create f_table.
>> 
>> Duncan Murdoch
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> ??? [[alternative HTML version deleted]]
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
> 
> -- 
> Sent from my phone. Please excuse my brevity.
> 
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

-- 
Kevin E. Thorpe
Head of Biostatistics,? Applied Health Research Centre (AHRC)
Li Ka Shing Knowledge Institute of St. Michael?s Hospital
Assistant Professor, Dalla Lana School of Public Health
University of Toronto
email: kevin.thorpe at utoronto.ca? Tel: 416.864.5776? Fax: 416.864.3016


	[[alternative HTML version deleted]]


From m@rong|u@|u|g| @end|ng |rom gm@||@com  Thu Jan 13 20:38:04 2022
From: m@rong|u@|u|g| @end|ng |rom gm@||@com (Luigi Marongiu)
Date: Thu, 13 Jan 2022 20:38:04 +0100
Subject: [R] how to plot numeric variable against several categories with
 lattice bwplot?
Message-ID: <CAMk+s2Rwt7Bj7rmHYU-tJmXNZuxdC_jf06yhYgyYbWE7nFiagg@mail.gmail.com>

Hello,
I have a numerical variable (x) and a series of categories. I would
like to make a box plot of x against each of the categories. How can I
arrange the data so that I can accomplish it with lattice?
At the moment I got this:
```
df = data.frame(x = c(rep(1,5), rep(2,5), rep(3,5)),
y = rnorm(15),
f1 = rep(letters[1:5],3),
f2 = rep(letters[7:9],5),
f3 = c(rep(LETTERS[10:12],4), LETTERS[10:12]))
df$x = factor(df$x)
df$f1 = factor(df$f1)
df$f2 = factor(df$f2)
df$f3 = factor(df$f3)
library(lattice)
bwplot(y ~ x, data = df, auto.key = TRUE )
```
Also, is it possible to have the wishers in solid line?
Thank you


From m@rc_@chw@rtz @end|ng |rom me@com  Thu Jan 13 21:08:58 2022
From: m@rc_@chw@rtz @end|ng |rom me@com (Marc Schwartz)
Date: Thu, 13 Jan 2022 15:08:58 -0500
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
 <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>
 <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>
Message-ID: <fa8d4f25-799b-8d92-0a71-aeaae9282fa3@me.com>

Eric,

With respect to your second point, as one of the moderators for the 
R-Devel list, where the same considerations apply to all "official" R 
lists like R-Help here, the issue of plain text content restrictions is 
multi-factorial, partly with security considerations in mind, but has 
historically been imposed by the university (ETHZ) that hosts and 
archives all of these R related lists. It is also, historically, very 
common with open source communities generally.

If one sends a message to the list that is only HTML, or perhaps a 
multi-part MIME message with both HTML and plain text sub-parts, the 
HTML markup will be stripped, leaving only the plain text part. You will 
usually see a line at the end of the post/reply as follows:

 ? "[[alternative HTML version deleted]]"

when that occurs.

When we see some messages here that appear to be a single, longish, 
unformatted and largely unreadable paragraph, with no obvious line/para 
breaks, where the sender may have actually formatted the message in HTML 
before sending, that is the result of the HTML filtering by the ETHZ 
server, perhaps also influenced by how the sender's e-mail client 
formatted the plain text sub-part of the message.

That is why it is best, and recommended, to format the e-mail message 
natively in plain text only to begin with, and there are numerous e-mail 
clients that support that functional distinction.

Also, there are still folks out there that use plain text only e-mail 
clients, yes in 2022, where we have to recognize and be sensitive to 
that reality as the official R support venues.

With respect to attachments, a limited set of them are allowed here for 
the R lists. Primarily, these are PDF, [E]PS, PNG and JPG, which would 
generally accommodate the graphics related scenarios that you mention.

As has been noted elsewhere in this thread, there are a number of other 
venues that provide R specific, community based, support using online 
forums with varying levels of, perhaps more "modern" functionality. The 
most prolific likely to be StackOverflow which, without any doubt, and 
to some extent via the gamification on that platform, has markedly 
reduced the traffic volume here over the years. That shift initially 
started in circa 2009 when that platform began, and then rapidly grew, 
with traffic volume on R-Help peaking in 2010. I occasionally run 
traffic volume reports comparing the two venues over time, and having 
been a part of the R community for ~20 years now, the drop-off here post 
2010 is quite noticeable. I don't label that phenomenon as good or bad, 
it is simply the reality of the situation and this is not a competition 
for traffic.

As noted in this thread, other locations find R related interactions as 
well, which would include LinkedIn, ResearchGate, RStudio's forums, and 
some package developers provide support via their GitHub repos, using 
the Issues functionality, even if not a bug. In the case of RStudio, 
having their own support forums, and as comes up here, there is 
frequently a lack of distinction between RStudio the third party GUI, 
and R itself, resulting in confusion by users, and subsequent 
"energetic" discussion here.

I am not advocating the general use or non-use of any specific platform, 
but am primarily addressing the limitations here on the official lists 
as currently implemented. For the record, I am not an RStudio user and 
do not participate on StackOverflow, albeit, in the latter case, Google 
searches on technical subject matter do lead me there on occasion.

We have had numerous online and offline discussions over the many years 
of sub-setting the official R lists by common subject matter. The 
challenge is always, how much granularity do you impose on the list 
structure, even if you just create an "R-Newbie" list, which 
specifically has been discussed many times over the years. The more 
granularity you impose, the more difficult it becomes to manage and 
interact with those "stove pipes", when there may not be a clear 
separation in subject matter, and there will be the inevitable overlap 
in content. You also need relevant, volunteer, community members to then 
be willing to moderate, subscribe to and participate on those multiple 
lists, if they are to be of value.

That would be the challenge even with an R-Packages list. Will every, or 
most, or the most popular, third party package developers subscribe to 
that list, so that if someone posts a query, they are likely to get a 
timely reply? Would enough community members with relevant experience do 
so? Or would a useR then re-post the query to R-Help after a period of 
time of no replies anyway, and in time, give up on the other list due to 
the lack of traffic?

For many third party packages, especially those that have a longer 
history and have a reasonable useR base, posting here is fine in my 
mind, and helpful community replies are reasonable to expect. For 
others, communicating with the package maintainer directly may be the 
only recourse, because there is perhaps not broad experience with the 
package in the community. It may be difficult for the useR of such a 
package to make that distinction a priori, unless they (hopefully) take 
the time to search the list archives first, perhaps using rseek.org or 
Google, which is also recommended.

I always begin with the assumption that the question that I have has 
been asked before, and hopefully an answer will also be present. That 
may be in the relevant documentation, including package vignettes where 
available, or otherwise online here or elsewhere. Certainly, if there is 
a bug or a reasonable suspicion of one in a third party package, the 
package maintainer should be the primary point of contact.

Regards,

Marc Schwartz


Eric Berger wrote on 1/13/22 12:25 PM:
> Re: constructive criticism to make this list more useful to more people:
>
> Suggestion 1: accommodate questions related to non-base-R packages
>                         This has been addressed by many already. The current
> de facto situation is that such questions are asked and often answered.
> Perhaps the posting guide should be altered so that such questions fall
> within the guidelines.
>
> Suggestion 2: expand beyond plain-text mode
>                          I assume there is a reason for this restriction but
> it seems to create a lot of delay and often havoc. Also, many questions on
> this list relate to graphics which is an important part of R (even base R)
> and such questions may often be more easily communicated with images.
>
> Eric


<...earlier content snipped...>


From drj|m|emon @end|ng |rom gm@||@com  Thu Jan 13 22:15:42 2022
From: drj|m|emon @end|ng |rom gm@||@com (Jim Lemon)
Date: Fri, 14 Jan 2022 08:15:42 +1100
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <fa8d4f25-799b-8d92-0a71-aeaae9282fa3@me.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
 <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>
 <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>
 <fa8d4f25-799b-8d92-0a71-aeaae9282fa3@me.com>
Message-ID: <CA+8X3fUUAgL9C3Qcq1kheLwA_mOhJ_9nOANxHJgzuWXuRTEOtQ@mail.gmail.com>

Hi,
I wasn't going to contribute to this, but I've got a couple of minutes
and the morning caffeine has hit me.
My 5 Point Plan for taking life as it comes:
1) I don't like to help people, I'd rather trick them into doing it themselves.
2) I'm lazy and intolerant. If somebody wants me to do their work for
them, that's what the delete key is for.
3) I'm not omniscient (and lazy, remember). If I can't provide an
answer, see 2) above.
4) I can read most HTML messages well enough. Be thankful they're not
sending TikTok videos.
5) I've got a good memory and I still blush at some of the stupid
questions I have asked.

Jim


On Fri, Jan 14, 2022 at 7:09 AM Marc Schwartz via R-help
<r-help at r-project.org> wrote:
>
> Eric,
>
> With respect to your second point, as one of the moderators for the
> R-Devel list, where the same considerations apply to all "official" R
> lists like R-Help here, the issue of plain text content restrictions is
> multi-factorial, partly with security considerations in mind, but has
> historically been imposed by the university (ETHZ) that hosts and
> archives all of these R related lists. It is also, historically, very
> common with open source communities generally.
>
> If one sends a message to the list that is only HTML, or perhaps a
> multi-part MIME message with both HTML and plain text sub-parts, the
> HTML markup will be stripped, leaving only the plain text part. You will
> usually see a line at the end of the post/reply as follows:
>
>    "[[alternative HTML version deleted]]"
>
> when that occurs.
>
> When we see some messages here that appear to be a single, longish,
> unformatted and largely unreadable paragraph, with no obvious line/para
> breaks, where the sender may have actually formatted the message in HTML
> before sending, that is the result of the HTML filtering by the ETHZ
> server, perhaps also influenced by how the sender's e-mail client
> formatted the plain text sub-part of the message.
>
> That is why it is best, and recommended, to format the e-mail message
> natively in plain text only to begin with, and there are numerous e-mail
> clients that support that functional distinction.
>
> Also, there are still folks out there that use plain text only e-mail
> clients, yes in 2022, where we have to recognize and be sensitive to
> that reality as the official R support venues.
>
> With respect to attachments, a limited set of them are allowed here for
> the R lists. Primarily, these are PDF, [E]PS, PNG and JPG, which would
> generally accommodate the graphics related scenarios that you mention.
>
> As has been noted elsewhere in this thread, there are a number of other
> venues that provide R specific, community based, support using online
> forums with varying levels of, perhaps more "modern" functionality. The
> most prolific likely to be StackOverflow which, without any doubt, and
> to some extent via the gamification on that platform, has markedly
> reduced the traffic volume here over the years. That shift initially
> started in circa 2009 when that platform began, and then rapidly grew,
> with traffic volume on R-Help peaking in 2010. I occasionally run
> traffic volume reports comparing the two venues over time, and having
> been a part of the R community for ~20 years now, the drop-off here post
> 2010 is quite noticeable. I don't label that phenomenon as good or bad,
> it is simply the reality of the situation and this is not a competition
> for traffic.
>
> As noted in this thread, other locations find R related interactions as
> well, which would include LinkedIn, ResearchGate, RStudio's forums, and
> some package developers provide support via their GitHub repos, using
> the Issues functionality, even if not a bug. In the case of RStudio,
> having their own support forums, and as comes up here, there is
> frequently a lack of distinction between RStudio the third party GUI,
> and R itself, resulting in confusion by users, and subsequent
> "energetic" discussion here.
>
> I am not advocating the general use or non-use of any specific platform,
> but am primarily addressing the limitations here on the official lists
> as currently implemented. For the record, I am not an RStudio user and
> do not participate on StackOverflow, albeit, in the latter case, Google
> searches on technical subject matter do lead me there on occasion.
>
> We have had numerous online and offline discussions over the many years
> of sub-setting the official R lists by common subject matter. The
> challenge is always, how much granularity do you impose on the list
> structure, even if you just create an "R-Newbie" list, which
> specifically has been discussed many times over the years. The more
> granularity you impose, the more difficult it becomes to manage and
> interact with those "stove pipes", when there may not be a clear
> separation in subject matter, and there will be the inevitable overlap
> in content. You also need relevant, volunteer, community members to then
> be willing to moderate, subscribe to and participate on those multiple
> lists, if they are to be of value.
>
> That would be the challenge even with an R-Packages list. Will every, or
> most, or the most popular, third party package developers subscribe to
> that list, so that if someone posts a query, they are likely to get a
> timely reply? Would enough community members with relevant experience do
> so? Or would a useR then re-post the query to R-Help after a period of
> time of no replies anyway, and in time, give up on the other list due to
> the lack of traffic?
>
> For many third party packages, especially those that have a longer
> history and have a reasonable useR base, posting here is fine in my
> mind, and helpful community replies are reasonable to expect. For
> others, communicating with the package maintainer directly may be the
> only recourse, because there is perhaps not broad experience with the
> package in the community. It may be difficult for the useR of such a
> package to make that distinction a priori, unless they (hopefully) take
> the time to search the list archives first, perhaps using rseek.org or
> Google, which is also recommended.
>
> I always begin with the assumption that the question that I have has
> been asked before, and hopefully an answer will also be present. That
> may be in the relevant documentation, including package vignettes where
> available, or otherwise online here or elsewhere. Certainly, if there is
> a bug or a reasonable suspicion of one in a third party package, the
> package maintainer should be the primary point of contact.
>
> Regards,
>
> Marc Schwartz
>
>
> Eric Berger wrote on 1/13/22 12:25 PM:
> > Re: constructive criticism to make this list more useful to more people:
> >
> > Suggestion 1: accommodate questions related to non-base-R packages
> >                         This has been addressed by many already. The current
> > de facto situation is that such questions are asked and often answered.
> > Perhaps the posting guide should be altered so that such questions fall
> > within the guidelines.
> >
> > Suggestion 2: expand beyond plain-text mode
> >                          I assume there is a reason for this restriction but
> > it seems to create a lot of delay and often havoc. Also, many questions on
> > this list relate to graphics which is an important part of R (even base R)
> > and such questions may often be more easily communicated with images.
> >
> > Eric
>
>
> <...earlier content snipped...>
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From @v|gro@@ @end|ng |rom ver|zon@net  Fri Jan 14 01:07:14 2022
From: @v|gro@@ @end|ng |rom ver|zon@net (Avi Gross)
Date: Fri, 14 Jan 2022 00:07:14 +0000 (UTC)
Subject: [R] 
 (Off-Topic) Time for a companion mailing list for R packages?
In-Reply-To: <fa8d4f25-799b-8d92-0a71-aeaae9282fa3@me.com>
References: <1058985502.868240.1642018042467.ref@mail.yahoo.com>
 <1058985502.868240.1642018042467@mail.yahoo.com>
 <d3662f4d-ab69-24b7-cc03-8a18e692f522@gmail.com>
 <18857_1642044505_20D3SOXE001113_1792243350.2724951.1642044440134@mail.yahoo.com>
 <887f4427-5436-13c0-1236-e74391bf5a28@mcmaster.ca>
 <CAGgJW75tTWF4jLu-t5a90S425AEn7C=imYGE-DCbeHLMMZ37Gg@mail.gmail.com>
 <fa8d4f25-799b-8d92-0a71-aeaae9282fa3@me.com>
Message-ID: <88799134.34836.1642118834640@mail.yahoo.com>

I appreciate your thoughts and some history, Marc.
My personal goal here is to both learn and if possible, be helpful.
I am just bothered when one or two people regularly chime in to remind people that this forum should be pretty much only about base R. One way to satisfy them is to move some discussion away but another is to advise them the (un)official? rules are changing a bit and will tolerate just a bit more.
I think the R STUDIO distinction is next to meaningless. Almost every package that is commonly used can be used anywhere in the R universe. You do not need to be in R Studio to use ggplot or dplyr or glue or many other things that happen to be loosely packaged in the tidyverse. If someone asks a reasonable question about why their multi-line ggplot code did not produce quite the output they expected and someone replies that ggplot uses the current ordering of factors so simply change that before calling it or sort of inline by calling a function that makes a re-ordered copy, so what? In a sense it turns out to be a question about base R and how you create and change factors.
I think though that a good attitude for people answering here should be to begin by mentioning if something the user asks for can easily enough be done in base R and perhaps supply a hint as to what can be used. They might (or might not) then point out that some other packages like data.table have some functionality built-in or are reputed to be much faster, or that doing it using dplyr tools and a pipeline is arguably easier to understand and uses more powerful features if needed, ...
Years ago I learned plenty about base graphics and lattice and then ggplot. Do many people ask about lattice and is it used that much? It does not seem to come up and I suspect that is not because base graphics meets all needs, but because ggplot overall provides enough overlapping functionality and more, ...
Note I had to temporarily switch mailers and use the AOL mailer in my browser and I have not found any easy way to switch to text-only mode on a per-message basis.?


-----Original Message-----
From: Marc Schwartz via R-help <r-help at r-project.org>
To: Eric Berger <ericjberger at gmail.com>
Cc: r-help at r-project.org <r-help at r-project.org>
Sent: Thu, Jan 13, 2022 3:08 pm
Subject: Re: [R] (Off-Topic) Time for a companion mailing list for R packages?

Eric,

With respect to your second point, as one of the moderators for the 
R-Devel list, where the same considerations apply to all "official" R 
lists like R-Help here, the issue of plain text content restrictions is 
multi-factorial, partly with security considerations in mind, but has 
historically been imposed by the university (ETHZ) that hosts and 
archives all of these R related lists. It is also, historically, very 
common with open source communities generally.

If one sends a message to the list that is only HTML, or perhaps a 
multi-part MIME message with both HTML and plain text sub-parts, the 
HTML markup will be stripped, leaving only the plain text part. You will 
usually see a line at the end of the post/reply as follows:

 ? "[[alternative HTML version deleted]]"

when that occurs.

When we see some messages here that appear to be a single, longish, 
unformatted and largely unreadable paragraph, with no obvious line/para 
breaks, where the sender may have actually formatted the message in HTML 
before sending, that is the result of the HTML filtering by the ETHZ 
server, perhaps also influenced by how the sender's e-mail client 
formatted the plain text sub-part of the message.

That is why it is best, and recommended, to format the e-mail message 
natively in plain text only to begin with, and there are numerous e-mail 
clients that support that functional distinction.

Also, there are still folks out there that use plain text only e-mail 
clients, yes in 2022, where we have to recognize and be sensitive to 
that reality as the official R support venues.

With respect to attachments, a limited set of them are allowed here for 
the R lists. Primarily, these are PDF, [E]PS, PNG and JPG, which would 
generally accommodate the graphics related scenarios that you mention.

As has been noted elsewhere in this thread, there are a number of other 
venues that provide R specific, community based, support using online 
forums with varying levels of, perhaps more "modern" functionality. The 
most prolific likely to be StackOverflow which, without any doubt, and 
to some extent via the gamification on that platform, has markedly 
reduced the traffic volume here over the years. That shift initially 
started in circa 2009 when that platform began, and then rapidly grew, 
with traffic volume on R-Help peaking in 2010. I occasionally run 
traffic volume reports comparing the two venues over time, and having 
been a part of the R community for ~20 years now, the drop-off here post 
2010 is quite noticeable. I don't label that phenomenon as good or bad, 
it is simply the reality of the situation and this is not a competition 
for traffic.

As noted in this thread, other locations find R related interactions as 
well, which would include LinkedIn, ResearchGate, RStudio's forums, and 
some package developers provide support via their GitHub repos, using 
the Issues functionality, even if not a bug. In the case of RStudio, 
having their own support forums, and as comes up here, there is 
frequently a lack of distinction between RStudio the third party GUI, 
and R itself, resulting in confusion by users, and subsequent 
"energetic" discussion here.

I am not advocating the general use or non-use of any specific platform, 
but am primarily addressing the limitations here on the official lists 
as currently implemented. For the record, I am not an RStudio user and 
do not participate on StackOverflow, albeit, in the latter case, Google 
searches on technical subject matter do lead me there on occasion.

We have had numerous online and offline discussions over the many years 
of sub-setting the official R lists by common subject matter. The 
challenge is always, how much granularity do you impose on the list 
structure, even if you just create an "R-Newbie" list, which 
specifically has been discussed many times over the years. The more 
granularity you impose, the more difficult it becomes to manage and 
interact with those "stove pipes", when there may not be a clear 
separation in subject matter, and there will be the inevitable overlap 
in content. You also need relevant, volunteer, community members to then 
be willing to moderate, subscribe to and participate on those multiple 
lists, if they are to be of value.

That would be the challenge even with an R-Packages list. Will every, or 
most, or the most popular, third party package developers subscribe to 
that list, so that if someone posts a query, they are likely to get a 
timely reply? Would enough community members with relevant experience do 
so? Or would a useR then re-post the query to R-Help after a period of 
time of no replies anyway, and in time, give up on the other list due to 
the lack of traffic?

For many third party packages, especially those that have a longer 
history and have a reasonable useR base, posting here is fine in my 
mind, and helpful community replies are reasonable to expect. For 
others, communicating with the package maintainer directly may be the 
only recourse, because there is perhaps not broad experience with the 
package in the community. It may be difficult for the useR of such a 
package to make that distinction a priori, unless they (hopefully) take 
the time to search the list archives first, perhaps using rseek.org or 
Google, which is also recommended.

I always begin with the assumption that the question that I have has 
been asked before, and hopefully an answer will also be present. That 
may be in the relevant documentation, including package vignettes where 
available, or otherwise online here or elsewhere. Certainly, if there is 
a bug or a reasonable suspicion of one in a third party package, the 
package maintainer should be the primary point of contact.

Regards,

Marc Schwartz


Eric Berger wrote on 1/13/22 12:25 PM:
> Re: constructive criticism to make this list more useful to more people:
>
> Suggestion 1: accommodate questions related to non-base-R packages
>? ? ? ? ? ? ? ? ? ? ? ? This has been addressed by many already. The current
> de facto situation is that such questions are asked and often answered.
> Perhaps the posting guide should be altered so that such questions fall
> within the guidelines.
>
> Suggestion 2: expand beyond plain-text mode
>? ? ? ? ? ? ? ? ? ? ? ? ? I assume there is a reason for this restriction but
> it seems to create a lot of delay and often havoc. Also, many questions on
> this list relate to graphics which is an important part of R (even base R)
> and such questions may often be more easily communicated with images.
>
> Eric


<...earlier content snipped...>

______________________________________________
R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
https://stat.ethz.ch/mailman/listinfo/r-help
PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
and provide commented, minimal, self-contained, reproducible code.

	[[alternative HTML version deleted]]


From |eo@m@d@ @end|ng |rom @yon|c@eu  Fri Jan 14 02:30:51 2022
From: |eo@m@d@ @end|ng |rom @yon|c@eu (Leonard Mada)
Date: Fri, 14 Jan 2022 03:30:51 +0200
Subject: [R] Method Guidance
Message-ID: <366cad50-fcab-ccf3-3622-a30787f69581@syonic.eu>

Dear Jeff,


My answer is a little bit late, but I hope it helps.


jrdf = read.table(text="Time   Event_A    Event_B   Lag_B
1          1         1        0
2          0         1        1
3          0         0        0
4          1         0        0
5          0         1        1
6          0         0        0
7          0         1        3
8          1         1        0
9          0         0        0
10         0         1        2",
header=TRUE, stringsAsFactors=FALSE)

Assuming that:
- Time, Event_A, Event_B are given;
- Lag_B needs to be computed;

Step 1:
- compute time to previous Event A;

tmp = jrdf[, c(1,2)];
# add an extra event so last rows are not lost:
tmp = rbind(tmp, c(nrow(tmp) + 1, 1));

timeBetweenA = diff(tmp$Time[tmp$Event_A > 0]);
timeToA = unlist(sapply(timeBetweenA, function(x) seq(0, x-1)))


### Step 2:
# - extract the times;
timeToA[jrdf$Event_B >= 1];
cbind(jrdf, timeToA);


Sincerely,


Leonard


From w||||@mwdun|@p @end|ng |rom gm@||@com  Fri Jan 14 02:50:35 2022
From: w||||@mwdun|@p @end|ng |rom gm@||@com (Bill Dunlap)
Date: Thu, 13 Jan 2022 17:50:35 -0800
Subject: [R] Method Guidance
In-Reply-To: <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
References: <000c01d8074f$376e83b0$a64b8b10$.ref@sbcglobal.net>
 <000c01d8074f$376e83b0$a64b8b10$@sbcglobal.net>
Message-ID: <CAHqSRuQOnMJ4wFDT4-YJaMu1bgdMHd-Ky-j0i5G4m2rhM8RbnA@mail.gmail.com>

Suppose your data were represented as parallel vectors "time" and "type",
meaning that at time[i] a type[i] event occurred.  You didn't say what you
wanted if there were a run of "A" or "B".  If you are looking for the time
span between the last of a run of one sort of event and the first of a run
of the other sort of event then the following can be used.

f <- function(time, type, fromType, toType) {
    # return times of (fromTime) last of a run of 'fromType' and
    # (toTime) first of subsequent run of 'toType for each such transition.
    stopifnot(length(time)==length(type),
              !anyNA(type),
              !anyNA(time),
              !is.unsorted(time),
              length(fromType)==1,
              length(toType)==1)
    i <- seq_len(length(time)-1)
    iBeforeChange <- which((type[i] == fromType) & (type[i+1] == toType))
    data.frame(fromTime=time[iBeforeChange], toTime=time[iBeforeChange+1L])
}

E.g.,

> d <- data.frame(time=c(101,102,102,105,107,111,115),
type=c("A","A","B","A","B","B","A"))
> d
  time type
1  101    A
2  102    A
3  102    B
4  105    A
5  107    B
6  111    B
7  115    A
> f(time=d$time, type=d$type, fromType="A", toType="B")
  fromTime toTime
1      102    102
2      105    107
> with(.Last.value, toTime - fromTime)
[1] 0 2
> f(time=d$time, type=d$type, fromType="B", toType="A")
  fromTime toTime
1      102    105
2      111    115
> with(.Last.value, toTime - fromTime)
[1] 3 4

With the dplyr package you can avoid the index 'i' by using lag() inside of
mutate().  E.g.,

> d |> mutate(AtoB = (lag(type)=="A" & type=="B"))
  time type  AtoB
1  101    A FALSE
2  102    A FALSE
3  102    B  TRUE
4  105    A FALSE
5  107    B  TRUE
6  111    B FALSE
7  115    A FALSE

-Bill


On Tue, Jan 11, 2022 at 4:56 PM Jeff Reichman <reichmanj at sbcglobal.net>
wrote:

> R-Help Forum
>
>
>
> Looking for a little guidance. Have an issue were I'm trying to determine
> the time between when Event A happened(In days) to when a subsequent Event
> B
> happens. For Example at Time 1 Evat A happens and subsequently Event B
> happens at the same day (0) and the next day (1) then Event A happens again
> at time 4 and Event B happens the next day and 3 days later so on and so
> forth. I gather there is no function that will do that so I suspect I will
> need to grate so sour of do while loop?  Any suggestions?
>
>
>
>
>
> Time      Event_A               Event_B               Time_B
>
> 1              1                              1
> 0
>
> 2              0                              1
> 1
>
> 3              0                              0
> 0
>
> 4              1                              0
> 0
>
> 5              0                              1
> 1
>
> 6              0                              0
> 0
>
> 7              0                              1
> 3
>
> 8              1                              1
> 0
>
> 9              0                              0
> 0
>
> 10           0                              1
> 2
>
>
>
>
> Jeff Reichman
>
>
>         [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at r-project.org mailing list -- To UNSUBSCRIBE and more, see
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>

	[[alternative HTML version deleted]]


