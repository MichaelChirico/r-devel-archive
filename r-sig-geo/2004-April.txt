From Roger.Bivand at nhh.no  Fri Apr  2 19:15:12 2004
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 2 Apr 2004 19:15:12 +0200 (CEST)
Subject: [R-sig-Geo] Re: [R] Winding Number
In-Reply-To: <Pine.LNX.4.44.0404020833350.19413-100000@aeolus.ecy.wa.gov>
Message-ID: <Pine.LNX.4.44.0404021854030.28093-100000@reclus.nhh.no>

On Fri, 2 Apr 2004, Clint Bowman wrote:

> I have shapefiles for the state climatic divisions for the United States
> and read.shape brings them in wonderfully.  Now I wish to run through a
> list of several thousand observation sites to find out in which division
> each is located.  I figure that I can compute the winding number for each
> site and be done.  However a search doesn't find any references and I
> can't find a winding number function among the map/tools/stats.  I have
> the code for an efficient C++ but was expecting that it would already be
> implemented as an R function
> 
> Since I haven't used the map/tools/stats collection before, I suspect I'm 
> overlooking the function and would be thankful for a pointer.
> 

This is work in progress - where all good ideas and contributions will be
welcome. If you look on http://sourceforge.net/projects/r-spatial/, you
will see an "alpha" package called "sp", which already has a
point-in-polygon facility, but which may not scale up to the kinds of data
volumes you have, but which invites a spatial query (match polygon?)
function between a SpatialDataFrame with point coordinates and a
SpatialDataPolygons object (sometime). This is only as source packages so 
far, so Windows binaries are not yet available.

I have used the splancs package inout() function before, trying the points
coordinate matrix on each polygon in turn; splancs is available as a
Windows binary. This ought to be less "rough at the edges", and in time
will be. The immediate solution is to use splancs, but this will not work
if the Shapes have multiple polygons. There is a more specialised list for
these kinds of questions in addition to r-help:

https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo

and since yesterday (thanks to Jonathan Baron), its archives are also 
searchable from:

http://finzi.psych.upenn.edu/search.html

This question hasn't come up there, but maybe we could move further 
discussion there - posting only for subscribers?

> TIA
> 
> Clint
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no



From clint at ecy.wa.gov  Fri Apr  2 20:29:34 2004
From: clint at ecy.wa.gov (Clint Bowman)
Date: Fri, 2 Apr 2004 10:29:34 -0800 (PST)
Subject: [R-sig-Geo] Re: [R] Winding Number
In-Reply-To: <Pine.LNX.4.44.0404021854030.28093-100000@reclus.nhh.no>
Message-ID: <Pine.LNX.4.44.0404021026320.19413-100000@aeolus.ecy.wa.gov>

Roger,

Thanks for your reference.  Since I can get the polygon coordinates (and 
have the coordinates of my sites, I can cobble together a function that 
will do the trick.

Again, thanks,

Clint

On Fri, 2 Apr 2004, Roger Bivand wrote:

> On Fri, 2 Apr 2004, Clint Bowman wrote:
> 
> > I have shapefiles for the state climatic divisions for the United States
> > and read.shape brings them in wonderfully.  Now I wish to run through a
> > list of several thousand observation sites to find out in which division
> > each is located.  I figure that I can compute the winding number for each
> > site and be done.  However a search doesn't find any references and I
> > can't find a winding number function among the map/tools/stats.  I have
> > the code for an efficient C++ but was expecting that it would already be
> > implemented as an R function
> > 
> > Since I haven't used the map/tools/stats collection before, I suspect I'm 
> > overlooking the function and would be thankful for a pointer.
> > 
> 
> This is work in progress - where all good ideas and contributions will be
> welcome. If you look on http://sourceforge.net/projects/r-spatial/, you
> will see an "alpha" package called "sp", which already has a
> point-in-polygon facility, but which may not scale up to the kinds of data
> volumes you have, but which invites a spatial query (match polygon?)
> function between a SpatialDataFrame with point coordinates and a
> SpatialDataPolygons object (sometime). This is only as source packages so 
> far, so Windows binaries are not yet available.
> 
> I have used the splancs package inout() function before, trying the points
> coordinate matrix on each polygon in turn; splancs is available as a
> Windows binary. This ought to be less "rough at the edges", and in time
> will be. The immediate solution is to use splancs, but this will not work
> if the Shapes have multiple polygons. There is a more specialised list for
> these kinds of questions in addition to r-help:
> 
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> 
> and since yesterday (thanks to Jonathan Baron), its archives are also 
> searchable from:
> 
> http://finzi.psych.upenn.edu/search.html
> 
> This question hasn't come up there, but maybe we could move further 
> discussion there - posting only for subscribers?
> 
> > TIA
> > 
> > Clint
> > 
> > 
> 
> 

-- 
Clint Bowman			INTERNET:	clint at ecy.wa.gov
Air Quality Modeler		INTERNET:	clint at math.utah.edu
Department of Ecology		VOICE:		(360) 407-6815
PO Box 47600			FAX:		(360) 407-7534
Olympia, WA 98504-7600



From Roger.Bivand at nhh.no  Fri Apr  2 20:36:38 2004
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 2 Apr 2004 20:36:38 +0200 (CEST)
Subject: [R-sig-Geo] Re: [R] Winding Number
In-Reply-To: <Pine.LNX.4.44.0404021026320.19413-100000@aeolus.ecy.wa.gov>
Message-ID: <Pine.LNX.4.44.0404022035170.28093-100000@reclus.nhh.no>

Clint,

Could you please report back to the r-sig-geo list on how you got this 
done so that others can benefit?

Roger

On Fri, 2 Apr 2004, Clint Bowman wrote:

> Roger,
> 
> Thanks for your reference.  Since I can get the polygon coordinates (and 
> have the coordinates of my sites, I can cobble together a function that 
> will do the trick.
> 
> Again, thanks,
> 
> Clint
> 
> On Fri, 2 Apr 2004, Roger Bivand wrote:
> 
> > On Fri, 2 Apr 2004, Clint Bowman wrote:
> > 
> > > I have shapefiles for the state climatic divisions for the United States
> > > and read.shape brings them in wonderfully.  Now I wish to run through a
> > > list of several thousand observation sites to find out in which division
> > > each is located.  I figure that I can compute the winding number for each
> > > site and be done.  However a search doesn't find any references and I
> > > can't find a winding number function among the map/tools/stats.  I have
> > > the code for an efficient C++ but was expecting that it would already be
> > > implemented as an R function
> > > 
> > > Since I haven't used the map/tools/stats collection before, I suspect I'm 
> > > overlooking the function and would be thankful for a pointer.
> > > 
> > 
> > This is work in progress - where all good ideas and contributions will be
> > welcome. If you look on http://sourceforge.net/projects/r-spatial/, you
> > will see an "alpha" package called "sp", which already has a
> > point-in-polygon facility, but which may not scale up to the kinds of data
> > volumes you have, but which invites a spatial query (match polygon?)
> > function between a SpatialDataFrame with point coordinates and a
> > SpatialDataPolygons object (sometime). This is only as source packages so 
> > far, so Windows binaries are not yet available.
> > 
> > I have used the splancs package inout() function before, trying the points
> > coordinate matrix on each polygon in turn; splancs is available as a
> > Windows binary. This ought to be less "rough at the edges", and in time
> > will be. The immediate solution is to use splancs, but this will not work
> > if the Shapes have multiple polygons. There is a more specialised list for
> > these kinds of questions in addition to r-help:
> > 
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> > 
> > and since yesterday (thanks to Jonathan Baron), its archives are also 
> > searchable from:
> > 
> > http://finzi.psych.upenn.edu/search.html
> > 
> > This question hasn't come up there, but maybe we could move further 
> > discussion there - posting only for subscribers?
> > 
> > > TIA
> > > 
> > > Clint
> > > 
> > > 
> > 
> > 
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no



From tkeitt at mail.utexas.edu  Fri Apr  2 20:36:50 2004
From: tkeitt at mail.utexas.edu (Timothy H. Keitt)
Date: Fri, 02 Apr 2004 12:36:50 -0600
Subject: [R-sig-Geo] Re: [R] Winding Number
In-Reply-To: <Pine.LNX.4.44.0404021026320.19413-100000@aeolus.ecy.wa.gov>
References: <Pine.LNX.4.44.0404021026320.19413-100000@aeolus.ecy.wa.gov>
Message-ID: <1080931009.5547.11.camel@workstation-0-0>

Members of this list may be interested in
http://www.vividsolutions.com/jts/jtshome.htm. There is a C++ port asw
well by the postgis folks.

Tim

On Fri, 2004-04-02 at 12:29, Clint Bowman wrote:
> Roger,
> 
> Thanks for your reference.  Since I can get the polygon coordinates (and 
> have the coordinates of my sites, I can cobble together a function that 
> will do the trick.
> 
> Again, thanks,
> 
> Clint
> 
> On Fri, 2 Apr 2004, Roger Bivand wrote:
> 
> > On Fri, 2 Apr 2004, Clint Bowman wrote:
> > 
> > > I have shapefiles for the state climatic divisions for the United States
> > > and read.shape brings them in wonderfully.  Now I wish to run through a
> > > list of several thousand observation sites to find out in which division
> > > each is located.  I figure that I can compute the winding number for each
> > > site and be done.  However a search doesn't find any references and I
> > > can't find a winding number function among the map/tools/stats.  I have
> > > the code for an efficient C++ but was expecting that it would already be
> > > implemented as an R function
> > > 
> > > Since I haven't used the map/tools/stats collection before, I suspect I'm 
> > > overlooking the function and would be thankful for a pointer.
> > > 
> > 
> > This is work in progress - where all good ideas and contributions will be
> > welcome. If you look on http://sourceforge.net/projects/r-spatial/, you
> > will see an "alpha" package called "sp", which already has a
> > point-in-polygon facility, but which may not scale up to the kinds of data
> > volumes you have, but which invites a spatial query (match polygon?)
> > function between a SpatialDataFrame with point coordinates and a
> > SpatialDataPolygons object (sometime). This is only as source packages so 
> > far, so Windows binaries are not yet available.
> > 
> > I have used the splancs package inout() function before, trying the points
> > coordinate matrix on each polygon in turn; splancs is available as a
> > Windows binary. This ought to be less "rough at the edges", and in time
> > will be. The immediate solution is to use splancs, but this will not work
> > if the Shapes have multiple polygons. There is a more specialised list for
> > these kinds of questions in addition to r-help:
> > 
> > https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> > 
> > and since yesterday (thanks to Jonathan Baron), its archives are also 
> > searchable from:
> > 
> > http://finzi.psych.upenn.edu/search.html
> > 
> > This question hasn't come up there, but maybe we could move further 
> > discussion there - posting only for subscribers?
> > 
> > > TIA
> > > 
> > > Clint
> > > 
> > > 
> > 
> > 
-- 
Timothy H. Keitt
Section of Integrative Biology
University of Texas at Austin
http://www.keittlab.org/



From Roger.Bivand at nhh.no  Fri Apr  2 20:56:50 2004
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 2 Apr 2004 20:56:50 +0200 (CEST)
Subject: [R-sig-Geo] Using SJava?
Message-ID: <Pine.LNX.4.44.0404022042580.28093-100000@reclus.nhh.no>

Is anyone on this list using SJava or any R/Java connection? Not only is
the JTS Topology Suite that Tim just mentioned interesting, but so is the
upcoming GeoTools2 at http://www.geotools.org/. Both are likely to be used 
quite a lot, and thus probably well-maintained.

At the recent Association of American Geographers meeting, Frank Hardisty
asked me about this, and while I was able to install SJava (from
http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we were not able
to see how to get Java within R to see GeoTools in its classpath.  Both of
these Java resources are potentially useful, and R opinions two or three
years ago, that Java is slow, may need revision given increased machine
capacity. I feel we could benefit from mobilizing Java insight (but I feel
personally Java-challenged!).

I believe that Duncan Temple-Lang was playing with/working on object 
discovery - this could be very relevant in terms of matching R-internal 
object representations with those in existing software that we could - if 
SJava worked - link to. I also think that we could ask him for advice if 
we discussed it first here. What do others think?

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no



From tkeitt at mail.utexas.edu  Fri Apr  2 21:00:32 2004
From: tkeitt at mail.utexas.edu (Timothy H. Keitt)
Date: Fri, 02 Apr 2004 13:00:32 -0600
Subject: [R-sig-Geo] Using SJava?
In-Reply-To: <Pine.LNX.4.44.0404022042580.28093-100000@reclus.nhh.no>
References: <Pine.LNX.4.44.0404022042580.28093-100000@reclus.nhh.no>
Message-ID: <1080932432.5547.20.camel@workstation-0-0>

Another way to go is to embed R in other applications. I stumbled on
JUMP (http://www.vividsolutions.com/jump/) the other day. Looks like the
dawn of quality open source GIS is around the corner.

T.

On Fri, 2004-04-02 at 12:56, Roger Bivand wrote:
> Is anyone on this list using SJava or any R/Java connection? Not only is
> the JTS Topology Suite that Tim just mentioned interesting, but so is the
> upcoming GeoTools2 at http://www.geotools.org/. Both are likely to be used 
> quite a lot, and thus probably well-maintained.
> 
> At the recent Association of American Geographers meeting, Frank Hardisty
> asked me about this, and while I was able to install SJava (from
> http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we were not able
> to see how to get Java within R to see GeoTools in its classpath.  Both of
> these Java resources are potentially useful, and R opinions two or three
> years ago, that Java is slow, may need revision given increased machine
> capacity. I feel we could benefit from mobilizing Java insight (but I feel
> personally Java-challenged!).
> 
> I believe that Duncan Temple-Lang was playing with/working on object 
> discovery - this could be very relevant in terms of matching R-internal 
> object representations with those in existing software that we could - if 
> SJava worked - link to. I also think that we could ask him for advice if 
> we discussed it first here. What do others think?
-- 
Timothy H. Keitt
Section of Integrative Biology
University of Texas at Austin
http://www.keittlab.org/



From tkeitt at mail.utexas.edu  Fri Apr  2 21:09:22 2004
From: tkeitt at mail.utexas.edu (Timothy H. Keitt)
Date: Fri, 02 Apr 2004 13:09:22 -0600
Subject: [R-sig-Geo] Using SJava?
In-Reply-To: <Pine.LNX.4.44.0404022042580.28093-100000@reclus.nhh.no>
References: <Pine.LNX.4.44.0404022042580.28093-100000@reclus.nhh.no>
Message-ID: <1080932962.5547.30.camel@workstation-0-0>

I'm just starting to look at java. The big win is people report 100%
productivity (lines per hour) increase over C++. Eclipse is a great tool
for learning java. I was using vector/list classes within minutes (you
can easily find object in the base libraries by browsing or with
autocompletion). I agree, performance is less of an issue these days. In
the long run, if distributed vm's become available that implement
transparent thread migration, then java progs will get really easy to
scale-up to large problems (modulo the normal caveats about the problem
domain). Someone should really port R onto the java vm. (Not optimal for
R-like languages, but the ease of integrating with java, jpython, etc.
might make it worth while.)

Tim

On Fri, 2004-04-02 at 12:56, Roger Bivand wrote:
> Is anyone on this list using SJava or any R/Java connection? Not only is
> the JTS Topology Suite that Tim just mentioned interesting, but so is the
> upcoming GeoTools2 at http://www.geotools.org/. Both are likely to be used 
> quite a lot, and thus probably well-maintained.
> 
> At the recent Association of American Geographers meeting, Frank Hardisty
> asked me about this, and while I was able to install SJava (from
> http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we were not able
> to see how to get Java within R to see GeoTools in its classpath.  Both of
> these Java resources are potentially useful, and R opinions two or three
> years ago, that Java is slow, may need revision given increased machine
> capacity. I feel we could benefit from mobilizing Java insight (but I feel
> personally Java-challenged!).
> 
> I believe that Duncan Temple-Lang was playing with/working on object 
> discovery - this could be very relevant in terms of matching R-internal 
> object representations with those in existing software that we could - if 
> SJava worked - link to. I also think that we could ask him for advice if 
> we discussed it first here. What do others think?
-- 
Timothy H. Keitt
Section of Integrative Biology
University of Texas at Austin
http://www.keittlab.org/



From Benjamin.STABLER at odot.state.or.us  Mon Apr  5 19:42:04 2004
From: Benjamin.STABLER at odot.state.or.us (Benjamin.STABLER at odot.state.or.us)
Date: Mon, 5 Apr 2004 10:42:04 -0700 
Subject: [R-sig-Geo] RE: Using SJava? 
Message-ID: <76A000A82289D411952F001083F9DD06047FE575@exsalem4-bu.odot.state.or.us>

Hopefully, I'm not too late on this one....when you initialize the JVM you
need to set the class path as follows:

.JavaInit(config=javaConfig(classPath="StringDirectoryPathReference"))

or

.JavaInit(config=javaConfig(classPath=c("String1", "String2")))

for example:

.JavaInit(config=javaConfig(classPath="C:\javastuff"))

where javastuff contains my class files.  You need to specify the jar file
name if you are trying to include class files within jars.  I have used it
with some classes that I wrote.  

I too am excited about linking Java and R, as there is so much useful code
in the Java community.

Benjamin Stabler
Transportation Planning Analysis Unit
Oregon Department of Transportation
555 13th Street NE, Suite 2
Salem, OR 97301  Ph: 503-986-4104


>Message: 5
>Date: Fri, 2 Apr 2004 20:56:50 +0200 (CEST)
>From: Roger Bivand <Roger.Bivand at nhh.no>
>Subject: [R-sig-Geo] Using SJava?
>To: r-sig-geo at stat.math.ethz.ch
>Cc: Frank Hardisty <HardistF at gwm.sc.edu>
>Message-ID: <Pine.LNX.4.44.0404022042580.28093-100000 at reclus.nhh.no>
>Content-Type: TEXT/PLAIN;	charset=US-ASCII
>
>Is anyone on this list using SJava or any R/Java connection? 
>Not only is
>the JTS Topology Suite that Tim just mentioned interesting, 
>but so is the
>upcoming GeoTools2 at http://www.geotools.org/. Both are 
>likely to be used 
>quite a lot, and thus probably well-maintained.
>
>At the recent Association of American Geographers meeting, 
>Frank Hardisty
>asked me about this, and while I was able to install SJava (from
>http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we 
>were not able
>to see how to get Java within R to see GeoTools in its 
>classpath.  Both of
>these Java resources are potentially useful, and R opinions 
>two or three
>years ago, that Java is slow, may need revision given increased machine
>capacity. I feel we could benefit from mobilizing Java insight 
>(but I feel
>personally Java-challenged!).
>
>I believe that Duncan Temple-Lang was playing with/working on object 
>discovery - this could be very relevant in terms of matching 
>R-internal 
>object representations with those in existing software that we 
>could - if 
>SJava worked - link to. I also think that we could ask him for 
>advice if 
>we discussed it first here. What do others think?
>
>-- 
>Roger Bivand
>Economic Geography Section, Department of Economics, Norwegian 
>School of
>Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
>Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
>e-mail: Roger.Bivand at nhh.no
>
>
>



From Roger.Bivand at nhh.no  Mon Apr  5 21:36:37 2004
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 5 Apr 2004 21:36:37 +0200 (CEST)
Subject: [R-sig-Geo] RE: Using SJava? 
In-Reply-To: <76A000A82289D411952F001083F9DD06047FE575@exsalem4-bu.odot.state.or.us>
Message-ID: <Pine.LNX.4.44.0404052126380.8114-100000@reclus.nhh.no>

On Mon, 5 Apr 2004 Benjamin.STABLER at odot.state.or.us wrote:

> Hopefully, I'm not too late on this one....when you initialize the JVM you
> need to set the class path as follows:
> 
> .JavaInit(config=javaConfig(classPath="StringDirectoryPathReference"))
> 
> or
> 
> .JavaInit(config=javaConfig(classPath=c("String1", "String2")))
> 
> for example:
> 
> .JavaInit(config=javaConfig(classPath="C:\javastuff"))
> 
> where javastuff contains my class files.  You need to specify the jar file
> name if you are trying to include class files within jars.  I have used it
> with some classes that I wrote.  

Yes, and Sys.putenv("CLASSPATH"="String1") can be used too, but what do 
you put in .Java() to get into your own jars? Are there escaping issues in 
the path to the jars? (backslash twice? forwardslash?) Could we put up 
some jars and some instructions for use on a website? Frank Hardisty sent 
me an example off-list that works from the command line but which I can't 
find from within R/SJava (Windows XP, the SJava examples that I've tried 
work for me). 

The idea would be to see if GeoTools2 can be reached from within R, 
because it could provide (another) way to import/export multiple GIS 
formats.

Roger

> 
> I too am excited about linking Java and R, as there is so much useful code
> in the Java community.
> 
> Benjamin Stabler
> Transportation Planning Analysis Unit
> Oregon Department of Transportation
> 555 13th Street NE, Suite 2
> Salem, OR 97301  Ph: 503-986-4104
> 
> 
> >Message: 5
> >Date: Fri, 2 Apr 2004 20:56:50 +0200 (CEST)
> >From: Roger Bivand <Roger.Bivand at nhh.no>
> >Subject: [R-sig-Geo] Using SJava?
> >To: r-sig-geo at stat.math.ethz.ch
> >Cc: Frank Hardisty <HardistF at gwm.sc.edu>
> >Message-ID: <Pine.LNX.4.44.0404022042580.28093-100000 at reclus.nhh.no>
> >Content-Type: TEXT/PLAIN;	charset=US-ASCII
> >
> >Is anyone on this list using SJava or any R/Java connection? 
> >Not only is
> >the JTS Topology Suite that Tim just mentioned interesting, 
> >but so is the
> >upcoming GeoTools2 at http://www.geotools.org/. Both are 
> >likely to be used 
> >quite a lot, and thus probably well-maintained.
> >
> >At the recent Association of American Geographers meeting, 
> >Frank Hardisty
> >asked me about this, and while I was able to install SJava (from
> >http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we 
> >were not able
> >to see how to get Java within R to see GeoTools in its 
> >classpath.  Both of
> >these Java resources are potentially useful, and R opinions 
> >two or three
> >years ago, that Java is slow, may need revision given increased machine
> >capacity. I feel we could benefit from mobilizing Java insight 
> >(but I feel
> >personally Java-challenged!).
> >
> >I believe that Duncan Temple-Lang was playing with/working on object 
> >discovery - this could be very relevant in terms of matching 
> >R-internal 
> >object representations with those in existing software that we 
> >could - if 
> >SJava worked - link to. I also think that we could ask him for 
> >advice if 
> >we discussed it first here. What do others think?
> >
> >-- 
> >Roger Bivand
> >Economic Geography Section, Department of Economics, Norwegian 
> >School of
> >Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
> >Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
> >e-mail: Roger.Bivand at nhh.no
> >
> >
> >
> 
> _______________________________________________
> R-sig-Geo mailing list
> R-sig-Geo at stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no



From Benjamin.STABLER at odot.state.or.us  Mon Apr  5 23:21:42 2004
From: Benjamin.STABLER at odot.state.or.us (Benjamin.STABLER at odot.state.or.us)
Date: Mon, 5 Apr 2004 14:21:42 -0700 
Subject: [R-sig-Geo] RE: Using SJava?
Message-ID: <76A000A82289D411952F001083F9DD06047FE57B@exsalem4-bu.odot.state.or.us>

Frank and Roger,

Sorry about the path reference - I just added the example on the fly in the
email and forgot about the R escape character.  Attached is the simply class
that I used to test the link.  It just takes a string as an input and
returns my email signature with the string substituted for the name.

The R code to run it:

library(SJava)
.JavaInit(config=javaConfig(classPath="F:/_ben/java"))
.Java("sig","print","Ben Stabler")


In terms of the jar file, it seems to work for me.  Note that I moved the
jar file to a different directory so it did not find the class file by
itself as well.

> library(SJava)
using JAVA_HOME = C:\j2sdk1.4.2\jre 
> .JavaInit(config=javaConfig(classPath="F:/_ben/sig.jar"))
> .Java("sig","print","Ben Stabler")
[1] "Ben Stabler"                         "Oregon Department of
Transportation"
[3] "Mill Creek Office Building"          "555 13th Street NE Suite 2"

[5] "Salem, OR 97301-4178"               
> 

The print method of the sig class is static so I'm not having any difficulty
using static methods and I did not need to create a constructor first.  You
shouldn't need a constructor/object for a static method (that is the point
of static methods).  Unfortunately my IS department blocked the zip file you
sent.  Could you send me the code as text or maybe just copy into email?
Thanks.  

Ben


>-----Original Message-----
>From: Frank Hardisty [mailto:HardistF at gwm.sc.edu]
>Sent: Monday, April 05, 2004 1:07 PM
>To: Roger.Bivand at nhh.no
>Cc: STABLER Benjamin
>Subject: Re: [R-sig-Geo] RE: Using SJava?
>
>
>Roger and Benjamin,
>
>Benjamin, your advice is good and the test class does work. Roger, one
>difficulty is that we were calling a static method of the class, which
>does NOT work for some reason. However, the class can be instantiated
>and used from within R. Here's my session with my mistakes edited out:
>
>[Previously saved workspace restored]
>
>> library(SJava)
>using JAVA_HOME = C:\programs\j2sdk_nb\j2sdk1.4.2 
>> .JavaInit(config=javaConfig(classPath="C:/temp/javatest/test.jar"))
>> testClass <- .JavaConstructor("TestJava")
>> .Java(testClass,"getMessage")
>[1] "Hi Roger!"
>> 
>
>Benjamin, do you also find that static methods don't work in SJava?
>It's hard to understand, because calls to static methods in the Java
>runtime libraries work just fine, for example, 
>
>> .Java("Math","random")
>[1] 0.07714792
>
>regards,
>-Frank
>
>>>> Roger Bivand <Roger.Bivand at nhh.no> 04/05/04 03:36PM >>>
>On Mon, 5 Apr 2004 Benjamin.STABLER at odot.state.or.us wrote:
>
>> Hopefully, I'm not too late on this one....when you initialize the
>JVM you
>> need to set the class path as follows:
>> 
>>
>.JavaInit(config=javaConfig(classPath="StringDirectoryPathReference"))
>> 
>> or
>> 
>> .JavaInit(config=javaConfig(classPath=c("String1", "String2")))
>> 
>> for example:
>> 
>> .JavaInit(config=javaConfig(classPath="C:\javastuff"))
>> 
>> where javastuff contains my class files.  You need to specify the jar
>file
>> name if you are trying to include class files within jars.  I have
>used it
>> with some classes that I wrote.  
>
>Yes, and Sys.putenv("CLASSPATH"="String1") can be used too, but what do
>
>you put in .Java() to get into your own jars? Are there escaping issues
>in 
>the path to the jars? (backslash twice? forwardslash?) Could we put up
>
>some jars and some instructions for use on a website? Frank Hardisty
>sent 
>me an example off-list that works from the command line but which I
>can't 
>find from within R/SJava (Windows XP, the SJava examples that I've
>tried 
>work for me). 
>
>The idea would be to see if GeoTools2 can be reached from within R, 
>because it could provide (another) way to import/export multiple GIS 
>formats.
>
>Roger
>
>> 
>> I too am excited about linking Java and R, as there is so much useful
>code
>> in the Java community.
>> 
>> Benjamin Stabler
>> Transportation Planning Analysis Unit
>> Oregon Department of Transportation
>> 555 13th Street NE, Suite 2
>> Salem, OR 97301  Ph: 503-986-4104
>> 
>> 
>> >Message: 5
>> >Date: Fri, 2 Apr 2004 20:56:50 +0200 (CEST)
>> >From: Roger Bivand <Roger.Bivand at nhh.no>
>> >Subject: [R-sig-Geo] Using SJava?
>> >To: r-sig-geo at stat.math.ethz.ch 
>> >Cc: Frank Hardisty <HardistF at gwm.sc.edu>
>> >Message-ID:
><Pine.LNX.4.44.0404022042580.28093-100000 at reclus.nhh.no>
>> >Content-Type: TEXT/PLAIN;	charset=US-ASCII
>> >
>> >Is anyone on this list using SJava or any R/Java connection? 
>> >Not only is
>> >the JTS Topology Suite that Tim just mentioned interesting, 
>> >but so is the
>> >upcoming GeoTools2 at http://www.geotools.org/. Both are 
>> >likely to be used 
>> >quite a lot, and thus probably well-maintained.
>> >
>> >At the recent Association of American Geographers meeting, 
>> >Frank Hardisty
>> >asked me about this, and while I was able to install SJava (from
>> >http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we 
>> >were not able
>> >to see how to get Java within R to see GeoTools in its 
>> >classpath.  Both of
>> >these Java resources are potentially useful, and R opinions 
>> >two or three
>> >years ago, that Java is slow, may need revision given increased
>machine
>> >capacity. I feel we could benefit from mobilizing Java insight 
>> >(but I feel
>> >personally Java-challenged!).
>> >
>> >I believe that Duncan Temple-Lang was playing with/working on object
>
>> >discovery - this could be very relevant in terms of matching 
>> >R-internal 
>> >object representations with those in existing software that we 
>> >could - if 
>> >SJava worked - link to. I also think that we could ask him for 
>> >advice if 
>> >we discussed it first here. What do others think?
>> >
>> >-- 
>> >Roger Bivand
>> >Economic Geography Section, Department of Economics, Norwegian 
>> >School of
>> >Economics and Business Administration, Breiviksveien 40, N-5045
>Bergen,
>> >Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
>> >e-mail: Roger.Bivand at nhh.no 
>> >
>> >
>> >
>> 
>> _______________________________________________
>> R-sig-Geo mailing list
>> R-sig-Geo at stat.math.ethz.ch 
>> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo 
>> 
>
>-- 
>Roger Bivand
>Economic Geography Section, Department of Economics, Norwegian School
>of
>Economics and Business Administration, Breiviksveien 40, N-5045
>Bergen,
>Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
>e-mail: Roger.Bivand at nhh.no 
>
>
>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: sig.class
Type: application/octet-stream
Size: 476 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-geo/attachments/20040405/3931ed6a/attachment.class>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sig.java
Type: application/octet-stream
Size: 342 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-geo/attachments/20040405/3931ed6a/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sig.jar
Type: application/octet-stream
Size: 809 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-geo/attachments/20040405/3931ed6a/attachment-0001.obj>

From Roger.Bivand at nhh.no  Tue Apr  6 14:01:10 2004
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Tue, 6 Apr 2004 14:01:10 +0200 (CEST)
Subject: [R-sig-Geo] RE: Using SJava?
In-Reply-To: <76A000A82289D411952F001083F9DD06047FE57B@exsalem4-bu.odot.state.or.us>
Message-ID: <Pine.LNX.4.44.0404061341540.8695-100000@reclus.nhh.no>

Again, very promising, the simple jars can be accessed - what is the next 
step?

So far we have SJava (the Windows binary downloaded from 
http://www.stats.ox.ac.uk/pub/RWin) talking to itself, and to two simple 
Java examples. There are two issues, the classpath one, and whether or not 
to call .JavaConstructor() to create a copy on the R side of the class. Is 
there a way of asking a jar to reveal the class names it contains - are 
the class structures "discoverable". Could I ask "sig" for its length, for 
example?

I'm keeping this discussion on the list for now, because accessing 
geotools (and other Java resources) is at least worth trying, and to do 
that more hands and eyes are needed.

Roger


On Mon, 5 Apr 2004 Benjamin.STABLER at odot.state.or.us wrote:

> Frank and Roger,
> 
> Sorry about the path reference - I just added the example on the fly in the
> email and forgot about the R escape character.  Attached is the simply class
> that I used to test the link.  It just takes a string as an input and
> returns my email signature with the string substituted for the name.
> 
> The R code to run it:
> 
> library(SJava)
> .JavaInit(config=javaConfig(classPath="F:/_ben/java"))
> .Java("sig","print","Ben Stabler")
> 
> 
> In terms of the jar file, it seems to work for me.  Note that I moved the
> jar file to a different directory so it did not find the class file by
> itself as well.
> 
> > library(SJava)
> using JAVA_HOME = C:\j2sdk1.4.2\jre 
> > .JavaInit(config=javaConfig(classPath="F:/_ben/sig.jar"))
> > .Java("sig","print","Ben Stabler")
> [1] "Ben Stabler"                         "Oregon Department of
> Transportation"
> [3] "Mill Creek Office Building"          "555 13th Street NE Suite 2"
> 
> [5] "Salem, OR 97301-4178"               
> > 
> 
> The print method of the sig class is static so I'm not having any difficulty
> using static methods and I did not need to create a constructor first.  You
> shouldn't need a constructor/object for a static method (that is the point
> of static methods).  Unfortunately my IS department blocked the zip file you
> sent.  Could you send me the code as text or maybe just copy into email?
> Thanks.  
> 
> Ben
> 
> 
> >-----Original Message-----
> >From: Frank Hardisty [mailto:HardistF at gwm.sc.edu]
> >Sent: Monday, April 05, 2004 1:07 PM
> >To: Roger.Bivand at nhh.no
> >Cc: STABLER Benjamin
> >Subject: Re: [R-sig-Geo] RE: Using SJava?
> >
> >
> >Roger and Benjamin,
> >
> >Benjamin, your advice is good and the test class does work. Roger, one
> >difficulty is that we were calling a static method of the class, which
> >does NOT work for some reason. However, the class can be instantiated
> >and used from within R. Here's my session with my mistakes edited out:
> >
> >[Previously saved workspace restored]
> >
> >> library(SJava)
> >using JAVA_HOME = C:\programs\j2sdk_nb\j2sdk1.4.2 
> >> .JavaInit(config=javaConfig(classPath="C:/temp/javatest/test.jar"))
> >> testClass <- .JavaConstructor("TestJava")
> >> .Java(testClass,"getMessage")
> >[1] "Hi Roger!"
> >> 
> >
> >Benjamin, do you also find that static methods don't work in SJava?
> >It's hard to understand, because calls to static methods in the Java
> >runtime libraries work just fine, for example, 
> >
> >> .Java("Math","random")
> >[1] 0.07714792
> >
> >regards,
> >-Frank
> >
> >>>> Roger Bivand <Roger.Bivand at nhh.no> 04/05/04 03:36PM >>>
> >On Mon, 5 Apr 2004 Benjamin.STABLER at odot.state.or.us wrote:
> >
> >> Hopefully, I'm not too late on this one....when you initialize the
> >JVM you
> >> need to set the class path as follows:
> >> 
> >>
> >.JavaInit(config=javaConfig(classPath="StringDirectoryPathReference"))
> >> 
> >> or
> >> 
> >> .JavaInit(config=javaConfig(classPath=c("String1", "String2")))
> >> 
> >> for example:
> >> 
> >> .JavaInit(config=javaConfig(classPath="C:\javastuff"))
> >> 
> >> where javastuff contains my class files.  You need to specify the jar
> >file
> >> name if you are trying to include class files within jars.  I have
> >used it
> >> with some classes that I wrote.  
> >
> >Yes, and Sys.putenv("CLASSPATH"="String1") can be used too, but what do
> >
> >you put in .Java() to get into your own jars? Are there escaping issues
> >in 
> >the path to the jars? (backslash twice? forwardslash?) Could we put up
> >
> >some jars and some instructions for use on a website? Frank Hardisty
> >sent 
> >me an example off-list that works from the command line but which I
> >can't 
> >find from within R/SJava (Windows XP, the SJava examples that I've
> >tried 
> >work for me). 
> >
> >The idea would be to see if GeoTools2 can be reached from within R, 
> >because it could provide (another) way to import/export multiple GIS 
> >formats.
> >
> >Roger
> >
> >> 
> >> I too am excited about linking Java and R, as there is so much useful
> >code
> >> in the Java community.
> >> 
> >> Benjamin Stabler
> >> Transportation Planning Analysis Unit
> >> Oregon Department of Transportation
> >> 555 13th Street NE, Suite 2
> >> Salem, OR 97301  Ph: 503-986-4104
> >> 
> >> 
> >> >Message: 5
> >> >Date: Fri, 2 Apr 2004 20:56:50 +0200 (CEST)
> >> >From: Roger Bivand <Roger.Bivand at nhh.no>
> >> >Subject: [R-sig-Geo] Using SJava?
> >> >To: r-sig-geo at stat.math.ethz.ch 
> >> >Cc: Frank Hardisty <HardistF at gwm.sc.edu>
> >> >Message-ID:
> ><Pine.LNX.4.44.0404022042580.28093-100000 at reclus.nhh.no>
> >> >Content-Type: TEXT/PLAIN;	charset=US-ASCII
> >> >
> >> >Is anyone on this list using SJava or any R/Java connection? 
> >> >Not only is
> >> >the JTS Topology Suite that Tim just mentioned interesting, 
> >> >but so is the
> >> >upcoming GeoTools2 at http://www.geotools.org/. Both are 
> >> >likely to be used 
> >> >quite a lot, and thus probably well-maintained.
> >> >
> >> >At the recent Association of American Geographers meeting, 
> >> >Frank Hardisty
> >> >asked me about this, and while I was able to install SJava (from
> >> >http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we 
> >> >were not able
> >> >to see how to get Java within R to see GeoTools in its 
> >> >classpath.  Both of
> >> >these Java resources are potentially useful, and R opinions 
> >> >two or three
> >> >years ago, that Java is slow, may need revision given increased
> >machine
> >> >capacity. I feel we could benefit from mobilizing Java insight 
> >> >(but I feel
> >> >personally Java-challenged!).
> >> >
> >> >I believe that Duncan Temple-Lang was playing with/working on object
> >
> >> >discovery - this could be very relevant in terms of matching 
> >> >R-internal 
> >> >object representations with those in existing software that we 
> >> >could - if 
> >> >SJava worked - link to. I also think that we could ask him for 
> >> >advice if 
> >> >we discussed it first here. What do others think?
> >> >
> >> >-- 
> >> >Roger Bivand
> >> >Economic Geography Section, Department of Economics, Norwegian 
> >> >School of
> >> >Economics and Business Administration, Breiviksveien 40, N-5045
> >Bergen,
> >> >Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
> >> >e-mail: Roger.Bivand at nhh.no 
> >> >
> >> >
> >> >
> >> 
> >> _______________________________________________
> >> R-sig-Geo mailing list
> >> R-sig-Geo at stat.math.ethz.ch 
> >> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo 
> >> 
> >
> >-- 
> >Roger Bivand
> >Economic Geography Section, Department of Economics, Norwegian School
> >of
> >Economics and Business Administration, Breiviksveien 40, N-5045
> >Bergen,
> >Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
> >e-mail: Roger.Bivand at nhh.no 
> >
> >
> >
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no



From Benjamin.STABLER at odot.state.or.us  Thu Apr  8 21:00:11 2004
From: Benjamin.STABLER at odot.state.or.us (Benjamin.STABLER at odot.state.or.us)
Date: Thu, 8 Apr 2004 12:00:11 -0700 
Subject: [R-sig-Geo] RE: Using SJava?
Message-ID: <76A000A82289D411952F001083F9DD06047FE58B@exsalem4-bu.odot.state.or.us>

Roger,

To read the contents of a JAR use the java.util.jar package.  In terms of
the first two issues - 1) you shouldn't need to create an object to call a
static method and 2) referencing classes within jars should work.  Let me
first say that I am no Java expert.  I will just share what I (think I) have
figured out over time.  In order for class references to work within jars
and within nested packages you need to reference the class correctly.  I
like to think of packages as just fancy names for folders.  So if I add
"package tools;" to the top of sig.java and then I compile it, I must
reference that folder correctly.  First I have to create a folder in the
folder that I added to the class path and copy sig.class to that folder.  To
call the class in R, I must refer to the class within the tools package.

.JavaInit(config=javaConfig(classPath="F:/_ben/java"))

> .Java("tools.sig","print","Ben Stabler")
[1] "Ben Stabler"                         "Oregon Department of
Transportation"
[3] "Mill Creek Office Building"          "555 13th Street NE Suite 2"

[5] "Salem, OR 97301-4178"             

When you put classes inside jars, the packages (folders) must be included.
So I put the sig.class file in the jar and refer to tools.sig in the method
call.  Note also that I created the jar file with the following command:

jar -cvf sig.jar tools

This added the tools folder to the jar.

> library(SJava)
using JAVA_HOME = C:\j2sdk1.4.2\jre 
> .JavaInit(config=javaConfig(classPath="F:/_ben/sig.jar"))
> .Java("tools.sig","print","Ben Stabler")
[1] "Ben Stabler"                         "Oregon Department of
Transportation"
[3] "Mill Creek Office Building"          "555 13th Street NE Suite 2"

[5] "Salem, OR 97301-4178"               
> 

If I add the tools folder to the jar by referring to the class via the
folder then it gets added:

jar -cvf sig.jar tools/sig.class

> library(SJava)
using JAVA_HOME = C:\j2sdk1.4.2\jre 
> .JavaInit(config=javaConfig(classPath="F:/_ben/sig.jar"))
> .Java("tools.sig","print","Ben Stabler")
[1] "Ben Stabler"                         "Oregon Department of
Transportation"
[3] "Mill Creek Office Building"          "555 13th Street NE Suite 2"

[5] "Salem, OR 97301-4178"               
> 

But if I just add the file (the current working directory is tools)

jar -cvf sig.jar sig.class

then I lost the folder reference and I can't get to the class within the jar

> library(SJava)
using JAVA_HOME = C:\j2sdk1.4.2\jre 
> .JavaInit(config=javaConfig(classPath="F:/_ben/tools/sig.jar"))
> .Java("sig","print","Ben Stabler")
NULL
> .Java("tools.sig","print","Ben Stabler")
NULL
> 

So hopefully that should help clear up some of the classpath and package
reference issues.  There are probably better ways to work with the packages
and classpath - I just don't know them.  These notes work and that is good
enough for my purposes.  

Benjamin Stabler
Transportation Planning Analysis Unit
Oregon Department of Transportation
555 13th Street NE, Suite 2
Salem, OR 97301  Ph: 503-986-4104

>-----Original Message-----
>From: Roger Bivand [mailto:Roger.Bivand at nhh.no]
>Sent: Tuesday, April 06, 2004 5:01 AM
>To: STABLER Benjamin
>Cc: r-sig-geo at stat.math.ethz.ch
>Subject: Re: [R-sig-Geo] RE: Using SJava?
>
>
>Again, very promising, the simple jars can be accessed - what 
>is the next 
>step?
>
>So far we have SJava (the Windows binary downloaded from 
>http://www.stats.ox.ac.uk/pub/RWin) talking to itself, and to 
>two simple 
>Java examples. There are two issues, the classpath one, and 
>whether or not 
>to call .JavaConstructor() to create a copy on the R side of 
>the class. Is 
>there a way of asking a jar to reveal the class names it 
>contains - are 
>the class structures "discoverable". Could I ask "sig" for its 
>length, for 
>example?
>
>I'm keeping this discussion on the list for now, because accessing 
>geotools (and other Java resources) is at least worth trying, 
>and to do 
>that more hands and eyes are needed.
>
>Roger
>
>
>On Mon, 5 Apr 2004 Benjamin.STABLER at odot.state.or.us wrote:
>
>> Frank and Roger,
>> 
>> Sorry about the path reference - I just added the example on 
>the fly in the
>> email and forgot about the R escape character.  Attached is 
>the simply class
>> that I used to test the link.  It just takes a string as an input and
>> returns my email signature with the string substituted for the name.
>> 
>> The R code to run it:
>> 
>> library(SJava)
>> .JavaInit(config=javaConfig(classPath="F:/_ben/java"))
>> .Java("sig","print","Ben Stabler")
>> 
>> 
>> In terms of the jar file, it seems to work for me.  Note 
>that I moved the
>> jar file to a different directory so it did not find the 
>class file by
>> itself as well.
>> 
>> > library(SJava)
>> using JAVA_HOME = C:\j2sdk1.4.2\jre 
>> > .JavaInit(config=javaConfig(classPath="F:/_ben/sig.jar"))
>> > .Java("sig","print","Ben Stabler")
>> [1] "Ben Stabler"                         "Oregon Department of
>> Transportation"
>> [3] "Mill Creek Office Building"          "555 13th Street 
>NE Suite 2"
>> 
>> [5] "Salem, OR 97301-4178"               
>> > 
>> 
>> The print method of the sig class is static so I'm not 
>having any difficulty
>> using static methods and I did not need to create a 
>constructor first.  You
>> shouldn't need a constructor/object for a static method 
>(that is the point
>> of static methods).  Unfortunately my IS department blocked 
>the zip file you
>> sent.  Could you send me the code as text or maybe just copy 
>into email?
>> Thanks.  
>> 
>> Ben
>> 
>> 
>> >-----Original Message-----
>> >From: Frank Hardisty [mailto:HardistF at gwm.sc.edu]
>> >Sent: Monday, April 05, 2004 1:07 PM
>> >To: Roger.Bivand at nhh.no
>> >Cc: STABLER Benjamin
>> >Subject: Re: [R-sig-Geo] RE: Using SJava?
>> >
>> >
>> >Roger and Benjamin,
>> >
>> >Benjamin, your advice is good and the test class does work. 
>Roger, one
>> >difficulty is that we were calling a static method of the 
>class, which
>> >does NOT work for some reason. However, the class can be 
>instantiated
>> >and used from within R. Here's my session with my mistakes 
>edited out:
>> >
>> >[Previously saved workspace restored]
>> >
>> >> library(SJava)
>> >using JAVA_HOME = C:\programs\j2sdk_nb\j2sdk1.4.2 
>> >> 
>.JavaInit(config=javaConfig(classPath="C:/temp/javatest/test.jar"))
>> >> testClass <- .JavaConstructor("TestJava")
>> >> .Java(testClass,"getMessage")
>> >[1] "Hi Roger!"
>> >> 
>> >
>> >Benjamin, do you also find that static methods don't work in SJava?
>> >It's hard to understand, because calls to static methods in the Java
>> >runtime libraries work just fine, for example, 
>> >
>> >> .Java("Math","random")
>> >[1] 0.07714792
>> >
>> >regards,
>> >-Frank
>> >
>> >>>> Roger Bivand <Roger.Bivand at nhh.no> 04/05/04 03:36PM >>>
>> >On Mon, 5 Apr 2004 Benjamin.STABLER at odot.state.or.us wrote:
>> >
>> >> Hopefully, I'm not too late on this one....when you initialize the
>> >JVM you
>> >> need to set the class path as follows:
>> >> 
>> >>
>> 
>>.JavaInit(config=javaConfig(classPath="StringDirectoryPathReference"))
>> >> 
>> >> or
>> >> 
>> >> .JavaInit(config=javaConfig(classPath=c("String1", "String2")))
>> >> 
>> >> for example:
>> >> 
>> >> .JavaInit(config=javaConfig(classPath="C:\javastuff"))
>> >> 
>> >> where javastuff contains my class files.  You need to 
>specify the jar
>> >file
>> >> name if you are trying to include class files within jars.  I have
>> >used it
>> >> with some classes that I wrote.  
>> >
>> >Yes, and Sys.putenv("CLASSPATH"="String1") can be used too, 
>but what do
>> >
>> >you put in .Java() to get into your own jars? Are there 
>escaping issues
>> >in 
>> >the path to the jars? (backslash twice? forwardslash?) 
>Could we put up
>> >
>> >some jars and some instructions for use on a website? Frank Hardisty
>> >sent 
>> >me an example off-list that works from the command line but which I
>> >can't 
>> >find from within R/SJava (Windows XP, the SJava examples that I've
>> >tried 
>> >work for me). 
>> >
>> >The idea would be to see if GeoTools2 can be reached from within R, 
>> >because it could provide (another) way to import/export 
>multiple GIS 
>> >formats.
>> >
>> >Roger
>> >
>> >> 
>> >> I too am excited about linking Java and R, as there is so 
>much useful
>> >code
>> >> in the Java community.
>> >> 
>> >> Benjamin Stabler
>> >> Transportation Planning Analysis Unit
>> >> Oregon Department of Transportation
>> >> 555 13th Street NE, Suite 2
>> >> Salem, OR 97301  Ph: 503-986-4104
>> >> 
>> >> 
>> >> >Message: 5
>> >> >Date: Fri, 2 Apr 2004 20:56:50 +0200 (CEST)
>> >> >From: Roger Bivand <Roger.Bivand at nhh.no>
>> >> >Subject: [R-sig-Geo] Using SJava?
>> >> >To: r-sig-geo at stat.math.ethz.ch 
>> >> >Cc: Frank Hardisty <HardistF at gwm.sc.edu>
>> >> >Message-ID:
>> ><Pine.LNX.4.44.0404022042580.28093-100000 at reclus.nhh.no>
>> >> >Content-Type: TEXT/PLAIN;	charset=US-ASCII
>> >> >
>> >> >Is anyone on this list using SJava or any R/Java connection? 
>> >> >Not only is
>> >> >the JTS Topology Suite that Tim just mentioned interesting, 
>> >> >but so is the
>> >> >upcoming GeoTools2 at http://www.geotools.org/. Both are 
>> >> >likely to be used 
>> >> >quite a lot, and thus probably well-maintained.
>> >> >
>> >> >At the recent Association of American Geographers meeting, 
>> >> >Frank Hardisty
>> >> >asked me about this, and while I was able to install SJava (from
>> >> >http://www.stats.ox.ac.uk/pub/RWin) on a Win XP laptop, we 
>> >> >were not able
>> >> >to see how to get Java within R to see GeoTools in its 
>> >> >classpath.  Both of
>> >> >these Java resources are potentially useful, and R opinions 
>> >> >two or three
>> >> >years ago, that Java is slow, may need revision given increased
>> >machine
>> >> >capacity. I feel we could benefit from mobilizing Java insight 
>> >> >(but I feel
>> >> >personally Java-challenged!).
>> >> >
>> >> >I believe that Duncan Temple-Lang was playing 
>with/working on object
>> >
>> >> >discovery - this could be very relevant in terms of matching 
>> >> >R-internal 
>> >> >object representations with those in existing software that we 
>> >> >could - if 
>> >> >SJava worked - link to. I also think that we could ask him for 
>> >> >advice if 
>> >> >we discussed it first here. What do others think?
>> >> >
>> >> >-- 
>> >> >Roger Bivand
>> >> >Economic Geography Section, Department of Economics, Norwegian 
>> >> >School of
>> >> >Economics and Business Administration, Breiviksveien 40, N-5045
>> >Bergen,
>> >> >Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
>> >> >e-mail: Roger.Bivand at nhh.no 
>> >> >
>> >> >
>> >> >
>> >> 
>> >> _______________________________________________
>> >> R-sig-Geo mailing list
>> >> R-sig-Geo at stat.math.ethz.ch 
>> >> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo 
>> >> 
>> >
>> >-- 
>> >Roger Bivand
>> >Economic Geography Section, Department of Economics, 
>Norwegian School
>> >of
>> >Economics and Business Administration, Breiviksveien 40, N-5045
>> >Bergen,
>> >Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
>> >e-mail: Roger.Bivand at nhh.no 
>> >
>> >
>> >
>> 
>> 
>
>-- 
>Roger Bivand
>Economic Geography Section, Department of Economics, Norwegian 
>School of
>Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
>Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
>e-mail: Roger.Bivand at nhh.no
>
>



From christof.bigler at colorado.edu  Fri Apr 16 19:48:12 2004
From: christof.bigler at colorado.edu (Christof Bigler)
Date: Fri, 16 Apr 2004 11:48:12 -0600
Subject: [R-sig-Geo] Chi-square test with spatial data
Message-ID: <3B57814A-8FCE-11D8-8972-000A27D7D440@colorado.edu>

Hi

I have grid based, spatial data, and for each grid cell I have several 
variables (fire severity, elevation, vegetation etc.). I would like to 
know if there is e.g. lower fire severity above 3000 m a.s.l. as 
compared to below 3000 m.
Since the data are highly correlated, I wondered if it's possible to 
test the independence of two variables using chi-square tests. Is there 
any correction that could be used to correct the p values?

Thanks for your help!
Christof



From hi_ono2001 at ybb.ne.jp  Sun Apr 18 13:51:05 2004
From: hi_ono2001 at ybb.ne.jp (Hisaji ONO)
Date: Sun, 18 Apr 2004 20:51:05 +0900
Subject: [R-sig-Geo] About "as.CRSPts" function of proj4R
Message-ID: <003a01c4253b$6e705410$528001db@webgis>

Hello.

 I've tried to execute "example(as.CRSPts)" of proj4R package.

 But I've got following error message.

a.CRSP> data(state)

a.CRSP> state.xy <- xyPts(state.center$x, state.center$y)

a.CRSP> state.xy.cot <- state.xy[state.xy at x >= -121]

a.CRSP> state.xy.cot.ll27 <- as.CRSPts(state.xy.cot, CRS =
CRS("+proj=latlong +datum=NAD27"))
Error in asMethod(object, Class, value) : couldn't find function
".InhSlotNames"

 Could you give any suggestion?


 Regards.



From Roger.Bivand at nhh.no  Sun Apr 18 21:31:22 2004
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Sun, 18 Apr 2004 21:31:22 +0200 (CEST)
Subject: [R-sig-Geo] About "as.CRSPts" function of proj4R
In-Reply-To: <003a01c4253b$6e705410$528001db@webgis>
Message-ID: <Pine.LNX.4.44.0404182127540.14248-100000@reclus.nhh.no>

On Sun, 18 Apr 2004, Hisaji ONO wrote:

> Hello.
> 
>  I've tried to execute "example(as.CRSPts)" of proj4R package.
> 
>  But I've got following error message.
> 
> a.CRSP> data(state)
> 
> a.CRSP> state.xy <- xyPts(state.center$x, state.center$y)
> 
> a.CRSP> state.xy.cot <- state.xy[state.xy at x >= -121]
> 
> a.CRSP> state.xy.cot.ll27 <- as.CRSPts(state.xy.cot, CRS =
> CRS("+proj=latlong +datum=NAD27"))
> Error in asMethod(object, Class, value) : couldn't find function
> ".InhSlotNames"
> 

The source package check OK for me on R 1.9.0 as released (fresh install). 
Please try R CMD check proj4R in the directory above the untarred tar.gz 
file, and also say which R version you are using. I suspect that you've 
upgraded R, that something in the methods package has changed, and your 
pre-canned proj4R is now asking for a methods function that has gone away 
- is that possible?

Roger



>  Could you give any suggestion?
> 
> 
>  Regards.
> 
> _______________________________________________
> R-sig-Geo mailing list
> R-sig-Geo at stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no



From hi_ono2001 at ybb.ne.jp  Tue Apr 20 04:24:14 2004
From: hi_ono2001 at ybb.ne.jp (Hisaji ONO)
Date: Tue, 20 Apr 2004 11:24:14 +0900
Subject: [R-sig-Geo] How to add legends and scalebars for Rmap or maptools
Message-ID: <005b01c4267e$934bf520$528001db@webgis>

Hello.

 Rmap and maptools can produce nice thematic maps.

 But how to add legends and scalebars for these maps?

 I'll appreciate your help.

 Regards.



From jazevedo at provide.com.br  Wed Apr 28 18:01:06 2004
From: jazevedo at provide.com.br (Joao Pedro W. de Azevedo)
Date: Wed, 28 Apr 2004 17:01:06 +0100
Subject: [R-sig-Geo] panel data with spatial correlation
In-Reply-To: <16527.24351.506292.53271@gargle.gargle.HOWL>
Message-ID: <000801c42d3a$03d41400$21a2f080@Lepc204>

Dear R users,
I would like to estimate a random and fixed effect panel data with spatial
correlation. 
I would honestly appreciate if anyone could point me toward any reference on
how I could estimate such models using R. All the best, Joao Pedro



From danlinyu at csd.uwm.edu  Wed Apr 28 18:41:25 2004
From: danlinyu at csd.uwm.edu (Danlin Yu)
Date: Wed, 28 Apr 2004 11:41:25 -0500 (CDT)
Subject: [R-sig-Geo] panel data with spatial correlation
In-Reply-To: <000801c42d3a$03d41400$21a2f080@Lepc204>
Message-ID: <Pine.OSF.3.96.1040428113319.32417B-100000@alpha1.csd.uwm.edu>

Dear Joao Pedro W. De Azevedo:

    The SPDEP package in R has the functions that would help. The
free-downloadable documentaion (in pdf format) contains very detailed
information on how to use the package and has very useful references for
further reading if you like.
    Hope this helps.

On Wed, 28 Apr 2004, Joao Pedro W. de Azevedo wrote:

> Dear R users,
> I would like to estimate a random and fixed effect panel data with spatial
> correlation. 
> I would honestly appreciate if anyone could point me toward any reference on
> how I could estimate such models using R. All the best, Joao Pedro
> 
> _______________________________________________
> R-sig-Geo mailing list
> R-sig-Geo at stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> 

    Sincerely,
    Danlin Yu

----------------------------------
Ph.D. Candidate
Department of Geography
University of Wisconsin, Milwaukee
Tel: (414)229-5818
Fax: (414)229-3981
Email: danlinyu at uwm.edu



From jazevedo at provide.com.br  Wed Apr 28 19:40:24 2004
From: jazevedo at provide.com.br (Joao Pedro W. de Azevedo)
Date: Wed, 28 Apr 2004 18:40:24 +0100
Subject: [R-sig-Geo] panel data with spatial correlation
In-Reply-To: <Pine.OSF.3.96.1040428113319.32417B-100000@alpha1.csd.uwm.edu>
Message-ID: <000001c42d47$e2d738a0$a200a8c0@Lepc204>

Dear Danlin,
Many thanks for your suggestion, however my understand of spdep is that it
only estimates cross-section models.
Any other help will be much appreciated.
All the best,
Joao Pedro



-----Original Message-----
From: Danlin Yu [mailto:danlinyu at csd.uwm.edu] 
Sent: Wednesday, April 28, 2004 5:41 PM
To: Joao Pedro W. de Azevedo
Cc: r-sig-geo at stat.math.ethz.ch
Subject: Re: [R-sig-Geo] panel data with spatial correlation


Dear Joao Pedro W. De Azevedo:

    The SPDEP package in R has the functions that would help. The
free-downloadable documentaion (in pdf format) contains very detailed
information on how to use the package and has very useful references for
further reading if you like.
    Hope this helps.

On Wed, 28 Apr 2004, Joao Pedro W. de Azevedo wrote:

> Dear R users,
> I would like to estimate a random and fixed effect panel data with 
> spatial correlation. I would honestly appreciate if anyone could point 
> me toward any reference on how I could estimate such models using R. 
> All the best, Joao Pedro
> 
> _______________________________________________
> R-sig-Geo mailing list
> R-sig-Geo at stat.math.ethz.ch 
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-geo
> 

    Sincerely,
    Danlin Yu

----------------------------------
Ph.D. Candidate
Department of Geography
University of Wisconsin, Milwaukee
Tel: (414)229-5818
Fax: (414)229-3981
Email: danlinyu at uwm.edu



